/*!CK:784755943!*//*1437095616,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["okRA\/"]); }

__d("InterestListMenu",["Event","AsyncRequest","CSS","cx","DataStore","DOM","EditSubscriptions","MenuDeprecated","Parent"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){b.__markCompiled&&b.__markCompiled();function p(u,v,w,x,y){var z=n.isItemChecked(w);n.setItemChecked(w,!z);new h().setURI('/ajax/lists/modify.php').setMethod('POST').setData({list_id:v,profile_id:u,add_to_list:!z,location:x}).setHandler(y).setErrorHandler(function(){n.setItemChecked(w,z);}).send();}function q(u,v,w){for(var x=0;x<u.length;x++)if(v==r(u[x]))n.setItemChecked(u[x],w);}function r(u){if(!l.isElementNode(u))return null;var v=l.scry(u,'a.itemAnchor');if(!v)return null;return k.get(v[0],'list-id');}function s(u){if(!l.isElementNode(u))return null;var v=l.scry(u,'a.itemAnchor');if(!v)return null;return k.get(v[0],'action');}var t={init:function(u,v,w,x){g.listen(u,'click',function(event){var y=o.byClass(event.getTarget(),'uiMenuItem');if(y&&i.hasClass(y,'InterestListMenuItem')){var z=r(y),aa=n.isItemChecked(y);p(v,z,y,w,function(){o.byTag(event.getTarget(),'a').blur();});q(l.scry(u,'.InterestListMenuItem'),z,!aa);}});m.init(u,v,x);},initMenu:function(u){n.register(u,false);},addToInterestList:function(u,v){g.listen(u,'click',function(event){i.removeClass(v,'addToInterestListsClosed');i.addClass(v,'addToInterestListsOpen');});},goBack:function(u,v){g.listen(u,'click',function(event){i.removeClass(v,'addToInterestListsOpen');i.addClass(v,'addToInterestListsClosed');});},initFollowSwitcher:function(u,v,w){var x=[v,w];g.listen(u,'click',function(event){var y=o.byClass(event.getTarget(),'uiMenuItem'),z=s(y);if(z==="regular_follow"||z==="see_first"){x.forEach(function(aa){i.removeClass(aa,"_52-0");});i.addClass(y,"_52-0");}else if(z==='unfollow'){i.addClass(u,"_3siw");x.forEach(function(aa){i.removeClass(aa,"_52-0");});}else if(z==='follow'){i.removeClass(u,"_3siw");i.addClass(w,"_52-0");}});}};e.exports=a.InterestListMenu||t;},null);
__d("legacy:InterestListMenu",["InterestListMenu"],function(a,b,c,d){b.__markCompiled&&b.__markCompiled();a.InterestListMenu=b('InterestListMenu');},3);