/*!CK:4218880688!*//*1437526439,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["AJ9d4"]); }

__d("AdsAPIObjectives",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={NONE:"NONE",OFFER_CLAIMS:"OFFER_CLAIMS",PAGE_LIKES:"PAGE_LIKES",CANVAS_APP_INSTALLS:"CANVAS_APP_INSTALLS",EVENT_RESPONSES:"EVENT_RESPONSES",CANVAS_APP_ENGAGEMENT:"CANVAS_APP_ENGAGEMENT",POST_ENGAGEMENT:"POST_ENGAGEMENT",WEBSITE_CONVERSIONS:"WEBSITE_CONVERSIONS",MOBILE_APP_INSTALLS:"MOBILE_APP_INSTALLS",WEBSITE_CLICKS:"WEBSITE_CLICKS",MOBILE_APP_ENGAGEMENT:"MOBILE_APP_ENGAGEMENT",VIDEO_VIEWS:"VIDEO_VIEWS",MEDIA_DOWNLOADS:"MEDIA_DOWNLOADS",LOCAL_AWARENESS:"LOCAL_AWARENESS",INSTAGRAM_BRAND_AWARENESS:"INSTAGRAM_BRAND_AWARENESS",PRODUCT_CATALOG_SALES:"PRODUCT_CATALOG_SALES",XPLATFORM_SALES:"XPLATFORM_SALES",LEAD_GENERATION:"LEAD_GENERATION",IMPRESSIONS:"IMPRESSIONS",MILLE:"MILLE",LOCAL_IMPRESSIONS:"LOCAL_IMPRESSIONS",MULTIPLE:"MULTIPLE",DEPRECATED_CLICKS:"DEPRECATED_CLICKS",INCOMPATIBLE_OFFER_CLAIMS:"INCOMPATIBLE_OFFER_CLAIMS",INCOMPATIBLE_PAGE_LIKES:"INCOMPATIBLE_PAGE_LIKES",INCOMPATIBLE_CANVAS_APP_INSTALLS:"INCOMPATIBLE_CANVAS_APP_INSTALLS",INCOMPATIBLE_EVENT_RESPONSES:"INCOMPATIBLE_EVENT_RESPONSES",INCOMPATIBLE_CANVAS_APP_ENGAGEMENT:"INCOMPATIBLE_CANVAS_APP_ENGAGEMENT",INCOMPATIBLE_POST_ENGAGEMENT:"INCOMPATIBLE_POST_ENGAGEMENT",INCOMPATIBLE_WEBSITE_CONVERSIONS:"INCOMPATIBLE_WEBSITE_CONVERSIONS",INCOMPATIBLE_MOBILE_APP_INSTALLS:"INCOMPATIBLE_MOBILE_APP_INSTALLS",INCOMPATIBLE_WEBSITE_CLICKS:"INCOMPATIBLE_WEBSITE_CLICKS",INCOMPATIBLE_PAGE_ENGAGEMENT:"INCOMPATIBLE_PAGE_ENGAGEMENT"};},null);
__d("AdsReportDatePresetType",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={TODAY:"today",YESTERDAY:"yesterday",LAST_3_DAYS:"last_3_days",THIS_WEEK:"this_week",LAST_WEEK:"last_week",LAST_7_DAYS:"last_7_days",LAST_14_DAYS:"last_14_days",LAST_28_DAYS:"last_28_days",LAST_30_DAYS:"last_30_days",LAST_90_DAYS:"last_90_days",THIS_MONTH:"this_month",LAST_MONTH:"last_month",THIS_QUARTER:"this_quarter",LAST_3_MONTHS:"last_3_months",LIFETIME:"lifetime"};},null);
__d("BusinessObjectConstantNames",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={ASSET_TYPE:{PAGE:"page",AD_ACCOUNT:"ad-account",PRODUCT_CATALOG:"product-catalog",APP:"app",PIXEL:"pixel",SYSTEM_USER:"system-user",BRAND:"brand",USER:"user",PROJECT:"project",INSTAGRAM_ACCOUNT:"instagram-account",ATLAS_ADVERTISER:"atlas-advertiser",FUNDING_SOURCE:"funding-source",LEGACY_LOGIN:"legacy-login",EXAMPLE_CAT:"example-cat"},REQUESTED_ASSET_STATUS:{CONFIRMED:"CONFIRMED",PENDING:"PENDING",ERROR:"ERROR"},ACCESS_TYPE:{OWNER:"OWNER",AGENCY:"AGENCY"}};},null);
__d("BusinessSettingsPanes",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={USER:"user",FUNDING_SOURCE:"payment-method",PROJECT:"project",AGENCY:"agency",INFO:"info",LEGACY_LOGIN:"legacy-login",SYSTEM_USER:"system-user",REQUEST:"request",PREFERENCE:"preference",GRAPH:"graph",PAGE:"page",AD_ACCOUNT:"ad-account",PRODUCT_CATALOG:"product-catalog",APP:"app",PIXEL:"pixel",INSTAGRAM_ACCOUNT:"instagram-account",ATLAS_ADVERTISER:"atlas-advertiser",EXAMPLE_CAT:"example-cat"};},null);
__d("CreditCardTypeEnum",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={VISA:86,MASTERCARD:77,DISCOVER:68,AMERICANEXPRESS:65,DINERSCLUB:64,JCB:74};},null);
__d("DirectDebitFormParam",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={ACCOUNT_ID:"account_id",ACCOUNT_COUNTRY_CODE:"account_country_code",ACCOUNT_HOLDER_NAME:"account_holder_name",APPROVAL:"approval",BANK_ACCOUNT_NUMBER:"bankAccountNumber",BANK_ROUTING_NUMBER:"bank_routing_number",MANDATE_GEO_TYPE:"mandate_geo_type",DIRECT_DEBIT_FBID:"dd_fbid",CITY:"city",CONTEXT_ID:"context_id",STREET:"street",ZIP:"zip",BANK_ACCOUNT_NUMBER_TOKEN:"bankAccountNumber_token",BANK_ACCOUNT_NUMBER_LAST_4:"bankAccountNumber_last4"};},null);
__d("XCommerceErrorParam",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={ERRORS:"errors",GENERAL_ERROR:"general",FIELD_ERRORS:"fields",ERROR_CODE:"code",ERROR_MSG:"message",ERROR_TITLE:"title"};},null);
__d("XPaymentsCreditCardMutatorParam",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={MUTATION_TYPE:"mutation_type",CARD_FBID:"cc_fbid",CACHE_TOKEN:"cache_token",ERRORS:"errors",GENERAL_ERROR:"general",FIELD_ERRORS:"fields",ERROR_CODE:"code",ERROR_MSG:"message",ERROR_TITLE:"title"};},null);
__d("AdsGenericFilterOperator",["keyMirror"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h=g({IN_RANGE:null,CONTAIN:null,EQUAL:null,GREATER_THAN:null,IN:null,NOT_IN_RANGE:null,NOT_CONTAIN:null,NOT_IN:null,NOT_EQUAL:null,LESS_THAN:null});e.exports=h;},null);
__d("BoostedComponentTargetingViewActions",["BoostedComponentClientEvent"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();'use strict';function h(i){this.$BoostedComponentTargetingViewActions0=i;}h.prototype.updateAge=function(i){this.$BoostedComponentTargetingViewActions0.handleUpdateFromViewAction({actionType:g.UPDATE_AGE,data:i});};h.prototype.updateGender=function(i){this.$BoostedComponentTargetingViewActions0.handleUpdateFromViewAction({actionType:g.UPDATE_GENDER,data:i});};h.prototype.updateInterests=function(i){this.$BoostedComponentTargetingViewActions0.handleUpdateFromViewAction({actionType:g.UPDATE_INTERESTS,data:i});};h.prototype.updateGeoLocations=function(i){this.$BoostedComponentTargetingViewActions0.handleUpdateFromViewAction({actionType:g.UPDATE_GEO_LOCATIONS,data:i});};h.prototype.updateCustomLocation=function(i){this.$BoostedComponentTargetingViewActions0.handleUpdateFromViewAction({actionType:g.UPDATE_CUSTOM_LOCATION,data:i});};h.prototype.updateAudience=function(i){this.$BoostedComponentTargetingViewActions0.handleUpdateFromViewAction({actionType:g.UPDATE_AUDIENCE,data:i});};h.prototype.updateAudienceID=function(i){this.$BoostedComponentTargetingViewActions0.handleUpdateFromViewAction({actionType:g.UPDATE_AUDIENCE_ID,data:i});};h.prototype.logUpdateTargetingEvent=function(i){this.$BoostedComponentTargetingViewActions0.handleUpdateFromViewAction({actionType:i});};e.exports=h;},null);
__d("ContextualDialog.react",["ReactAbstractContextualDialog","ReactLayer"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i=h.createClass(g.createSpec({displayName:'ReactContextualDialog'}));e.exports=i;},null);
__d("AdsHelpLink.react",["LayerFadeOnHide","React","Image.react","ContextualDialog.react","ReactLayeredComponentMixin","UserAgent_DEPRECATED","cx","ix","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){b.__markCompiled&&b.__markCompiled();var p=h,q=p.PropTypes,r={imgNormal:n('images/components/HelpLink/info.png'),imgHover:n('images/components/HelpLink/info-hover.png')},s=h.createClass({displayName:"AdsHelpLink",mixins:[k],propTypes:{alignment:q.string,imgNormal:q.object,imgHover:q.object,linger:q.number,position:q.string,width:q.number},getDefaultProps:function(){return {linger:200};},getInitialState:function(){return {showHelp:false,dontShowLayer:false};},componentWillUnmount:function(){clearTimeout(this._lingerTimeout);},_updateShown:function(t){if(t===this.state.showHelp)return;if(!t)this.setState({dontShowLayer:true});this.setState({showHelp:t});if(!t&&l.webkit()){this.setState({showHelp:!t});this.setState({showHelp:t});}},_onMouseEnter:function(){clearTimeout(this._lingerTimeout);this._updateShown(true);this.setState({dontShowLayer:false});},_onMouseEnterLayer:function(){clearTimeout(this._lingerTimeout);if(!this.state.dontShowLayer)this._updateShown(true);},_onMouseLeave:function(){clearTimeout(this._lingerTimeout);if(this.props.linger){this._lingerTimeout=setTimeout(this._updateShown.bind(this,false),this.props.linger);}else this._updateShown(false);},renderLayers:function(){if(!this.state.showHelp)return {};return {tipContextualLayer:h.createElement(j,{alignment:this.props.alignment||"left",contextRef:function(){return this.refs.tipIcon;}.bind(this),shown:this.state.showHelp,position:this.props.position||'right',width:this.props.width,behaviors:{LayerFadeOnHide:g}},h.createElement("div",{className:"_3blz",onMouseEnter:this._onMouseEnterLayer,onMouseLeave:this._onMouseLeave},this.props.children))};},showHelp:function(t){this._updateShown(true);if(t){clearTimeout(this._lingerTimeout);this._lingerTimeout=setTimeout(this._updateShown.bind(this,false),t);}},render:function(){var t=this.state.showHelp?(this.props.imgHover||r.imgHover):(this.props.imgNormal||r.imgNormal);return (h.createElement(i,{ref:"tipIcon",src:t,className:o(this.props.className,"_541d"),onMouseEnter:this._onMouseEnter,onMouseLeave:this._onMouseLeave}));}});e.exports=s;},null);
__d("AdsError",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();'use strict';for(var g in Error)if(Error.hasOwnProperty(g))i[g]=Error[g];var h=Error===null?null:Error.prototype;i.prototype=Object.create(h);i.prototype.constructor=i;i.__superConstructor__=Error;function i(j,k,l){Error.call(this);this.key=j;this.message=k;if(l){if(l.field!=null)this.field=l.field;if(l.path!=null)this.path=l.path;if(l.level!=null)this.level=l.level;}}i.createError=function(j,k,l){return new i(j,k,{field:l,level:i.Level.WARN});};i.createNotice=function(j,k,l){return new i(j,k,{field:l,level:i.Level.NOTIFY});};i.Level={WARN:'warn',NOTIFY:'notify',SUCCESS:'success'};e.exports=i;},null);
__d("AdsDaoGraphDataProvider",["AdsDao","AdsDaoGraphAPIConstants","AdsDaoGraphSpec","GraphAPI","Promise","URI","adsGKCheck"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();'use strict';var n=g.DataProvider,o=m('ads_general_2_3_migration');for(var p in n)if(n.hasOwnProperty(p))r[p]=n[p];var q=n===null?null:n.prototype;r.prototype=Object.create(q);r.prototype.constructor=r;r.__superConstructor__=n;function r(){if(n!==null)n.apply(this,arguments);}r.prototype.provideData=function(s,t){var u;if(o){u='2.3';}else u=h.DEFAULT_VERSION;var v=j(s.version||u).path_DO_NOT_USE(s.endpoint);if(s.__batched)v=v.batched();delete s.__batched;v.get(s).done(t,function(w){t({error:w});});};r.prototype.processData=function(s){return s.data||s;};r.prototype.accumulate=function(s,t,u){var v=[],w=0,x=function(y,z,aa){v=v.concat(y);w++;var ba=(u>0)&&(w>=u)||(aa&&aa.summary&&aa.summary.total_count<=v.length);if(z&&!ba){z(x);}else s(v);};this.paged(x,t);};r.prototype.paged=function(s,t){var u=this;function v(w,x){return function(y,z){var aa=z.paging&&z.paging.next,ba=new l(aa);function ca(da){var ea=Object.assign({},x,ba.getQueryData());u.one(v(da,ea),ea);}w(y,aa?ca:null,z);};}this.one(v(s,t),t);};r.prototype.promiseAccumulate=function(s,t){return new k(function(u,v){var w=function(x,y,z){v({result:x,rawData:y,actualParameters:z});};s=Object.assign({},s,{handleError:w});this.accumulate(u,s,t);}.bind(this));};Object.assign(r.prototype,i);e.exports=r;},null);
__d("BinarySearch",["invariant","keyMirror"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();'use strict';var i=h({LEAST_UPPER_BOUND:null,GREATEST_LOWER_BOUND:null,LEAST_STRICT_UPPER_BOUND:null,GREATEST_STRICT_LOWER_BOUND:null}),j=function(l,m){g(typeof l==='number'&&typeof m==='number');return l-m;},k=Object.assign({},i,{find:function(l,m,n,o,p){p=p||j;var q=k.LEAST_UPPER_BOUND,r=k.findBound(l,m,n,o,p,q);if(n<=r&&r<o){var s=l(r);return p(s,m)===0?s:(void 0);}else return (void 0);},findIndex:function(l,m,n,o,p){p=p||j;var q=k.LEAST_UPPER_BOUND,r=k.findBound(l,m,n,o,p,q);if(n<=r&&r<o){return p(l(r),m)===0?r:-1;}else return -1;},findBound:function(l,m,n,o,p,q){switch(q){case k.LEAST_UPPER_BOUND:return k.leastUpperBound(l,m,n,o,p);case k.GREATEST_LOWER_BOUND:return k.greatestLowerBound(l,m,n,o,p);case k.LEAST_STRICT_UPPER_BOUND:return k.leastStrictUpperBound(l,m,n,o,p);case k.GREATEST_STRICT_LOWER_BOUND:return k.greatestStrictLowerBound(l,m,n,o,p);default:g(false);}},leastUpperBound:function(l,m,n,o,p){while(n+1<o){var q=n+Math.floor((o-n)/2);if(p(m,l(q))<=0){o=q;}else n=q;}return n<o&&p(m,l(n))<=0?n:o;},greatestLowerBound:function(l,m,n,o,p){return k.leastStrictUpperBound(l,m,n,o,p)-1;},leastStrictUpperBound:function(l,m,n,o,p){while(n+1<o){var q=n+Math.floor((o-n)/2);if(p(m,l(q))<0){o=q;}else n=q;}return n<o&&p(m,l(n))<0?n:o;},greatestStrictLowerBound:function(l,m,n,o,p){return k.leastUpperBound(l,m,n,o,p)-1;},findInArray:function(l,m,n){return k.find(function(o){return l[o];},m,0,l.length,n);},findIndexInArray:function(l,m,n){return k.findIndex(function(o){return l[o];},m,0,l.length,n);},findBoundInArray:function(l,m,n,o){return k.findBound(function(p){return l[p];},m,0,l.length,n,o);}});e.exports=k;},null);
__d("Instant",["BinarySearch","DateConsts","Timezone","formatDate","invariant","parseISODate"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();'use strict';var m={MAX_VALUE:Number.MAX_SAFE_INTEGER,MIN_VALUE:0,now:function(){return Math.floor(Date.now()/h.MS_PER_SEC);},getOffset:function(n,o){var p=m.getControllingTransition(n,o);return p.offset;},getControllingTransition:function(n,o){var p=i.getTransitions(o),q=g.greatestLowerBound(function(r){return p[r].start;},n,0,p.length,function(r,s){return r-s;});k(0<=q);k(n<p[p.length-1].start);return p[q];},getParallel:function(n,o){var p=m.getControllingTransitionsOfParallel(n,o),q=p.transition,r=p.gapTransition,s=p.overlapTransitions;if(r){return r.start;}else if(s){return n-s[0].offset;}else return n-q.offset;},getControllingTransitionsOfParallel:function(n,o){var p=i.getTransitions(o),q=g.leastUpperBound(function(t){var u=n-p[t].offset;if(u<p[t].start){return 1;}else if(p[t].start<=u&&u<p[t+1].start){return 0;}else return -1;},0,0,p.length-1,function(t,u){return t-u;});k(q<p.length-1);var r=p[q],s=p[q+1];k(0<=q||r.start<=n-r.offset);if(n-r.offset<r.start){return {gapTransition:r};}else if(s.start<=n-s.offset){return {overlapTransitions:[r,s]};}else return {transition:r};},toISOString:function(n){return m.format(n,'Y-m-dTH:i:sZ',{skipPatternLocalization:true});},fromISOString:function(n){return Math.floor(l(n).getTime()/h.MS_PER_SEC);},format:function(n,o,p){p=Object.assign({},(p||{}),{utc:true});return j(n,o,p);}};e.exports=m;},null);
__d("naturalComparator",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g='0'.charCodeAt(0),h='9'.charCodeAt(0),i=function(m){return m===null||m===(void 0)||m==='';},j=function(m){return m>=g&&m<=h;},k=function(m){var n=[],o='';for(var p=0;p<m.length;p++)if(o.length){if(j(o.charCodeAt(0))===j(m.charCodeAt(p))){o=o+m.charAt(p);}else{n.push(o);o=m.charAt(p);}}else o=o+m.charAt(p);if(o.length)n.push(o);return n;},l=function(m,n){if(i(m)&&i(n)){return 0;}else if(i(m)){return 1;}else if(i(n))return -1;var o=k(m),p=k(n),q=0,r=0;while(q<o.length&&r<p.length){var s=j(o[q].charCodeAt(0)),t=j(p[r].charCodeAt(0)),u;if(s&&t){u=parseInt(o[q],10)-parseInt(p[r],10);}else u=o[q].localeCompare(p[r]);if(u!==0)return u;q++;r++;}if(q===o.length){return -1;}else if(r===p.length){return 1;}else return 0;};e.exports=l;},null);
__d("AdsCurrencyFormatter",["Currency","NumberFormatConfig","intlNumUtils"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();function j(da){return Math.round(Math.log(da)/Math.LN10);}function k(da,ea,fa){var ga=g.getFormat(da)||'{symbol}{amount}',ha=g.getSymbol(da)||'',ia=ga.replace('{symbol}',ha).replace('{amount}',ea);if(fa)return ia+' '+g.getISO(da);return ia;}function l(da,ea,fa){var ga=g.getOffset(da)||100,ha=j(ga);return i.formatNumberRaw(ea/ga,ha,fa?h.numberDelimiter:'',h.decimalSeparator,h.minDigitsForThousandsSeparator);}function m(da,ea,fa,ga){var ha=l(da,ea,ga);return k(da,ha,fa);}function n(da,ea){return m(da,ea);}function o(da,ea){return l(da,ea);}function p(da,ea){return m(da,ea,true);}function q(da,ea){return m(da,ea,false,true);}function r(da,ea){var fa=g.getOffset(da)||100,ga=j(fa);while(ea!==0&&Math.round(ea*Math.pow(10,ga)/fa)<1)ga++;var ha=i.formatNumberRaw(ea/fa,ga,h.numberDelimiter,h.decimalSeparator,h.minDigitsForThousandsSeparator);return k(da,ha,false);}function s(da,ea){var fa=g.getOffset(da)||100,ga=j(fa);if(ga&&(ea%fa===0))ga=0;var ha=i.formatNumberRaw(ea/fa,ga,'',h.decimalSeparator);return k(da,ha,false);}function t(da,ea,fa){return w(n(da,ea),n(da,fa));}function u(da,ea,fa,ga){if(ga-fa<ea){return n(da,ga);}else return t(da,fa,ga);}var v='\u2013';function w(da,ea){return da+v+ea;}function x(da,ea,fa){return y(da,ea,fa)||0;}function y(da,ea,fa){var ga=g.getOffset(da),ha=i.parseNumberRaw(ea,fa,h.numberDelimiter);if(ha==null)return null;return Math.round(ha*ga);}function z(da,ea){var fa=g.getOffset(da),ga=j(fa),ha=i.parseNumber(ea)||0;return +(ha).toFixed(ga);}function aa(da,ea,fa){var ga=fa||h.decimalSeparator;return x(da,ea,ga);}function ba(da,ea,fa){var ga=fa||h.decimalSeparator;return y(da,ea,ga);}function ca(da,ea,fa,ga){return m(da,ea,fa,ga);}e.exports={formatCurrency:n,formatCurrencyAtLeastOneSigFig:r,formatCurrencyFullFormat:ca,formatCurrencyNoSymbol:o,formatCurrencyRange:t,formatCurrencyRangeWithThreshold:u,formatCurrencyWithISO:p,formatCurrencyWithNumberDelimiters:q,formatCurrencyWithOptionalDecimals:s,formatRange:w,parseCurrency:aa,parseOptionalCurrency:ba,parsePECurrency:z};},null);
__d("cssVar",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();function g(h){throw new Error('cssVar'+'("'+h+'"): Unexpected class transformation.');}e.exports=g;},null);
__d("AdsCanvasAppInstallsCoreDelegate",["AdsAPIObjectives","AdsCanvasAppCoreDelegate"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();'use strict';for(var i in h)if(h.hasOwnProperty(i))k[i]=h[i];var j=h===null?null:h.prototype;k.prototype=Object.create(j);k.prototype.constructor=k;k.__superConstructor__=h;function k(){if(h!==null)h.apply(this,arguments);}k.getObjective=function(){return g.CANVAS_APP_INSTALLS;};e.exports=k;},null);
__d("AdsPostEngagementBudgetDelegate",["AdsAPIObjectives","AdsBudgetDelegate"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();'use strict';for(var i in h)if(h.hasOwnProperty(i))k[i]=h[i];var j=h===null?null:h.prototype;k.prototype=Object.create(j);k.prototype.constructor=k;k.__superConstructor__=h;function k(){if(h!==null)h.apply(this,arguments);}k.getObjective=function(){return g.POST_ENGAGEMENT;};e.exports=k;},null);
__d("AdsEventResponsesBudgetDelegate",["AdsAPIObjectives","AdsBudgetDelegate"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();'use strict';for(var i in h)if(h.hasOwnProperty(i))k[i]=h[i];var j=h===null?null:h.prototype;k.prototype=Object.create(j);k.prototype.constructor=k;k.__superConstructor__=h;function k(){if(h!==null)h.apply(this,arguments);}k.getObjective=function(){return g.EVENT_RESPONSES;};e.exports=k;},null);
__d("AdsEventResponsesPlacementDelegate",["AdsAPIObjectives","AdsPlacementDelegate"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();'use strict';for(var i in h)if(h.hasOwnProperty(i))k[i]=h[i];var j=h===null?null:h.prototype;k.prototype=Object.create(j);k.prototype.constructor=k;k.__superConstructor__=h;function k(){if(h!==null)h.apply(this,arguments);}k.getObjective=function(){return g.EVENT_RESPONSES;};e.exports=k;},null);
__d("AdsMobileAppInstallsPlacementDelegate",["AdsAPIObjectives","AdsMobileAppPlacementDelegate"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();'use strict';for(var i in h)if(h.hasOwnProperty(i))k[i]=h[i];var j=h===null?null:h.prototype;k.prototype=Object.create(j);k.prototype.constructor=k;k.__superConstructor__=h;function k(){if(h!==null)h.apply(this,arguments);}k.getObjective=function(){return g.MOBILE_APP_INSTALLS;};e.exports=k;},null);
__d("AdsCanvasAppInstallsPlacementDelegate",["AdsAPIObjectives","AdsCanvasAppPlacementDelegate"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();'use strict';for(var i in h)if(h.hasOwnProperty(i))k[i]=h[i];var j=h===null?null:h.prototype;k.prototype=Object.create(j);k.prototype.constructor=k;k.__superConstructor__=h;function k(){if(h!==null)h.apply(this,arguments);}k.getObjective=function(){return g.CANVAS_APP_INSTALLS;};e.exports=k;},null);
__d("PromotedPostConstants",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();'use strict';var g={SAVE:'boosted_post/save',CANCEL:'boosted_post/cancel',SAVE_BUTTON_DISABLE:'boosted_post/save_button_disable',SET_COMPOSER_BOOST:'boosted_post/set_composer_budget',CLEAR_COMPOSER_BOOST:'boosted_post/clear_composer_budget',CLOSE_DIALOG:'boosted_post/close_dialog',RECREATE:'boosted_post/recreate',CLOSE:'boosted_post/close',SET_BUDGET:'boosted_post/set_budget',RETARGET:'boosted_post/retarget',STOP:'boosted_post/stop',RESUME:'boosted_post/resume',DELETE:'boosted_post/delete',ACCOUNT_CHANGE:'boosted_post/account_change',ACCOUNT_CHANGE_FINISH:'boosted_post/account_change_finish',PAY_FOR_PROMOTION:'boosted_post/pay_for_promotion',ADD_PAYMENT:'boosted_post/add_payment',AUDIENCE_CHANGE:'boosted_post/audience_change',DURATION_CHANGE:'boosted_post/duration_change',BUDGET_MENU_CHANGE:'boosted_post/budget_menu_change',BUDGET_TEXT_CHANGE:'boosted_post/budget_text_change',BUDGET_TEXT_CHANGE_FINISH:'boosted_post/budget_text_change_finish',SAVE_BUTTON_CLICK:'boosted_post/save_button_click',CANCEL_BUTTON_CLICK:'boosted_post/cancel_button_click',ENTER_LOADING_STATE:'boosted_post/enter_loading_state',EXIT_LOADING_STATE:'boosted_post/exit_loading_state'};e.exports=g;},null);
__d("FileInput.react",["FileInput","InlineBlock.react","React","cx","invariant","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();var m=i,n=m.PropTypes,o=i.createClass({displayName:"FileInput",propTypes:{display:n.oneOf(['inline-block','inline'])},getDefaultProps:function(){return {display:'inline-block'};},render:function(){var p="_m",q="container",r=i.createElement("input",i.__spread({},this.props,{type:"file",className:l(this.props.className,"_n"),ref:"fileInput"}),undefined);if(this.props.display==='inline-block')return (i.createElement(h,{className:p,ref:q},this.props.children,r));return (i.createElement("span",{className:p,ref:q},this.props.children,r));},componentDidMount:function(){var p=i.findDOMNode(this.refs.fileInput),q=i.findDOMNode(this.refs.container),r=q.firstChild;k(r.nodeName==='A');r.setAttribute('rel','ignore');this._fileInput=new g(q,r,p);},componentWillUnmount:function(){this._fileInput.destroy();this._fileInput=null;},getFileInput:function(){return this._fileInput;},focus:function(){var p=i.findDOMNode(this.refs.fileInput);if(!p.disabled)p.focus();}});e.exports=o;},null);
__d("CalendarUtils",["DateStrings"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();function h(j,k,l,m){var n=[],o=m.order;for(var p=0;p<3;++p)if(o[p]==='d'){n.push(j);}else if(o[p]==='m'){n.push(k);}else n.push(l);return n.join(m.separator);}var i={placeholderDateString:function(j){return h(g.getDayPlaceholder(),g.getMonthPlaceholder(),g.getYearPlaceholder(),j);},dateToString:function(j,k){return h(j.getDate(),j.getMonth()+1,j.getFullYear(),k);},utcDateToString:function(j,k){return h(j.getUTCDate(),j.getUTCMonth()+1,j.getUTCFullYear(),k);},stringToDate:function(j,k){var l,m,n,o=j.split(/[/.,\s-]+/);if(o.length<3)return false;for(var p=0;p<3;++p){var q=o.shift();if(k[p]==='d'){l=parseInt(q,10);if(isNaN(l)||l<1)return false;}else if(k[p]==='m'){m=parseInt(q,10)-1;if(isNaN(m)||m<0||m>11)return false;}else{n=parseInt(q,10);if(n<100&&n>=0&&q.length==2){var r=(new Date()).getFullYear();if(Math.abs(r/100-n)>=2){var s=n+Math.floor(r/100)*100;n=s>r+4?s-100:s;}}if(isNaN(n)||n<1000)return false;}}if(new Date(n,m+1,0).getDate()<l)return false;return new Date(n,m,l);}};e.exports=i;},null);
__d("DatePickerRestraints",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g={enforceDateIsEarlierThan:function(h){return function(i){return i.getTime()<h.getTime();};},enforceDateIsNoEarlierThan:function(h){return function(i){return i.getTime()>=h.getTime();};},enforceDateIsLaterThan:function(h){return function(i){return i.getTime()>h.getTime();};},enforceDateIsNoLaterThan:function(h){return function(i){return i.getTime()<=h.getTime();};},isValidDate:function(h,i){var j=h instanceof Date&&!isNaN(h.getTime());if(j&&i)return i.every(function(k){return k(h);});return j;}};e.exports=g;},null);
__d("UTCUtils",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g=-1*7*60*60*1000,h=-1*8*60*60*1000,i={dateToUTC:function(j){return Date.UTC(j.getFullYear(),j.getMonth(),j.getDate(),j.getHours(),j.getMinutes(),j.getSeconds(),j.getMilliseconds());},dateToUTCDate:function(j){return new Date(j.getUTCFullYear(),j.getUTCMonth(),j.getUTCDate(),j.getUTCHours(),j.getUTCMinutes(),j.getUTCSeconds(),j.getUTCMilliseconds());},getPacificOffsetAt:function(j){if(j<=1.32057e+12){return g;}else if(j<=1.33146e+12){return h;}else if(j<=1352019600000){return g;}else if(j<=1362909600000){return h;}else if(j<=1383469200000){return g;}else if(j<=1394359200000){return h;}else if(j<=1414918800000){return g;}else if(j<=1425808800000){return h;}else if(j<=1446368400000){return g;}else return h;},offsetFromPacificTime:function(j){j=j||new Date();var k=i.getPacificOffsetAt(+j)/1000/60/60,l=j.getTimezoneOffset()/60;return k+l;}};e.exports=i;},null);
__d("DatePickerInput.react",["CalendarUtils","DateFormatConfig","DatePickerRestraints","InputSelection","Keys","React","ReactComponentWithPureRenderMixin","UTCUtils","cloneWithProps","cx","emptyFunction","getEventCharCode","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){b.__markCompiled&&b.__markCompiled();'use strict';var t=l,u=t.PropTypes,v=/\d/,w={order:h.numericDateOrder,separator:h.numericDateSeparator};function x(aa){var ba=/[1-9]{1}[0-9]*/g,ca,da={},ea=0;while(ca=ba.exec(aa)){da[w.order[ea]]=ca;ea++;}return da;}function y(aa){if(!aa)return '';return g.utcDateToString(new Date(aa),w);}var z=l.createClass({displayName:"DatePickerInput",mixins:[m],propTypes:{dateRestraints:u.arrayOf(u.func),icon:u.element,name:u.string,onBlur:u.func,onChange:u.func,onDateRemoved:u.func,onFocus:u.func,onInvalidDateSelected:u.func,placeholder:u.string,selectTime:u.number},getDefaultProps:function(){return {onBlur:q,onChange:q,onDateRemoved:q,onFocus:q,onInvalidDateSelected:q,placeholder:g.placeholderDateString(w)};},getInitialState:function(){return {inputValue:y(this.props.selectTime)};},componentWillReceiveProps:function(aa){if(this.props.selectTime||aa.selectTime)this.setState({inputValue:y(aa.selectTime)});},componentDidUpdate:function(){if(this.refs.inputBox&&this.state.inputValue&&this._partName){var aa=x(this.state.inputValue),ba=aa[this._partName];j.set(l.findDOMNode(this.refs.inputBox),ba.index,ba.index+ba[0].length);}delete this._partName;},onBlur:function(event){if(!this.props.selectTime&&event.target.value.length)this.setState({inputValue:''});this.props.onBlur();},onChange:function(event){var aa=event.target.value;if(aa){var ba=g.stringToDate(aa,w.order),ca=false;if(ba){ca=i.isValidDate(ba,this.props.dateRestraints);var da=new Date(n.dateToUTC(ba));if(ca){this.props.onChange(da);}else this.props.onInvalidDateSelected(da);}}else this.props.onDateRemoved();if(!ba||!ca)this.setState({inputValue:aa});},onIconClick:function(event){l.findDOMNode(this.refs.inputBox).focus();},onKeyDown:function(event){var aa=event.keyCode;if(aa==k.RETURN){event.preventDefault();this.onBlur(event);return;}if(aa===k.TAB){this.onBlur(event);return;}if(aa==k.UP||aa==k.DOWN){event.preventDefault();var ba=aa==k.UP?1:-1,ca=event.target,da=j.get(ca),ea=x(ca.value),fa=new Date(this.props.selectTime);for(var ga in ea){var ha=ea[ga],ia=ha.index+ha[0].length;if(da.start>=ha.index&&da.start<=ia){switch(ga){case 'm':fa.setMonth(fa.getMonth()+ba);break;case 'd':fa.setDate(fa.getDate()+ba);break;case 'y':fa.setFullYear(fa.getFullYear()+ba);break;}break;}}if(i.isValidDate(fa,this.props.dateRestraints)){this._partName=ga;this.props.onChange(fa);}}},onKeyUp:function(event){var aa=event.keyCode;if(aa==k.UP||aa==k.DOWN)event.preventDefault();if(aa==k.ESC)this.onBlur(event);},onKeyPress:function(event){var aa=String.fromCharCode(r(event.nativeEvent)),ba=h.numericDateSeparator;if(aa===ba||v.test(aa))return;event.preventDefault();},render:function(){var aa=this.props,ba=aa.icon,ca=aa.selectTime,da=ca?n.dateToUTCDate(new Date(ca)).getTime():'';if(ba)ba=o(ba,{className:"_3smn",onClick:this.onIconClick});var ea=s(this.props.className,"_3smo");return (l.createElement("span",{className:ea},ba,l.createElement("input",{ref:"inputBox",className:"_3smp",type:"text",placeholder:this.props.placeholder,value:this.state.inputValue,onChange:this.onChange,onFocus:this.props.onFocus,onKeyDown:this.onKeyDown,onKeyPress:this.onKeyPress,onKeyUp:this.onKeyUp}),l.createElement("input",{type:"hidden",name:this.props.name,value:da})));}});e.exports=z;},null);
__d("InfoTableSeparator.react",["React","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j=g,k=j.PropTypes,l=g.createClass({displayName:"InfoTableSeparator",propTypes:{columns:k.oneOf([2,3])},getDefaultProps:function(){return {columns:2};},render:function(){return (g.createElement("tr",g.__spread({},this.props,{className:i(this.props.className,"_3sto")}),g.createElement("td",{colSpan:this.props.columns},g.createElement("hr",null))));}});e.exports=l;},null);
__d("InfoTableSection.react",["InfoTableSeparator.react","React","ReactChildren"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j=h,k=j.PropTypes,l=h.createClass({displayName:"InfoTableSection",propTypes:{border:k.bool,columns:k.oneOf([2,3])},getDefaultProps:function(){return {columns:2};},render:function(){var m=i.map(this.props.children,function(o){if(o)return h.cloneElement(o,{columns:this.props.columns});return o;},this),n=null;if(this.props.border)n=h.createElement(g,{columns:this.props.columns});return (h.createElement("tbody",h.__spread({},this.props),m,n));}});e.exports=l;},null);
__d("XUIButtonGroup.react",["React","ReactChildren","cx","invariant","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l=g,m=l.PropTypes,n=g.createClass({displayName:"XUIButtonGroup",propTypes:{isOverlay:m.bool},render:function(){this.validateButtonSize();var o=(("_51xa")+(this.props.isOverlay?' '+"_51xb":''));return (g.createElement("div",g.__spread({},this.props,{className:k(this.props.className,o)}),this.props.children));},validateButtonSize:function(){if(!this.props.isOverlay){var o;h.forEach(this.props.children,function(p){if(p){var q=p.type.getButtonSize(p.props);if(!o){o=q;}else j(q===o);}});}}});e.exports=n;},null);
__d("XUICalendar.react",["DateFormatConfig","List.react","React","cx","emptyFunction","joinClasses","keyOf"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();var n=i,o=n.PropTypes,p=7,q=6,r="_5hpv clearfix",s=m({start:null}),t=m({mid:null}),u=m({end:null}),v=m({only:null}),w=i.createClass({displayName:"XUICalendar",propTypes:{interactive:o.bool,dateRestraints:o.arrayOf(o.func),focusTime:o.number.isRequired,selectTime:o.number,rangeSelectTime:o.number,highlightedTimes:o.array,allowVariableRowCount:o.bool,allowDuplicateSelection:o.bool,onSelectDateChange:o.instanceOf(Function).isRequired,dayInnerFormatter:o.func},getDefaultProps:function(){return {interactive:true,rangeSelectTime:null,allowVariableRowCount:true,allowDuplicateSelection:false};},selectDate:function(y){var z=!this.isDateSelected(y)||this.props.allowDuplicateSelection;if(this.isDateValid(y)&&z)this.props.onSelectDateChange(y);},_areSameDate:function(y,z){return (y&&z&&y instanceof Date&&z instanceof Date&&w.normalizeDate(y).getTime()===w.normalizeDate(z).getTime());},isDateSelected:function(y){return this._areSameDate(y,new Date(this.props.selectTime));},isDateHighlighted:function(y){return this.props.highlightedTimes&&this.props.highlightedTimes.some(function(z){return this._areSameDate(y,new Date(z));}.bind(this));},isDateValid:function(y){if(this.props.dateRestraints)return this.props.dateRestraints.every(function(z){return z(y);});return true;},render:function(){var y=new Date(this.props.focusTime),z=w.normalizeDate(y);z.setUTCDate(1);var aa=g.weekStart,ba=this.props.selectTime,ca=null,da=null;if(this.props.rangeSelectTime!==null)ca=w.normalizeDate(new Date(this.props.rangeSelectTime)).getTime();if(ba&&ca){var ea=Math.min(ba,ca),fa=Math.max(ba,ca);da={minTime:ea,maxTime:fa,hasDuration:ea<fa};}var ga=[],ha=[],ia=((z.getUTCDay()+6-aa)%7);for(var ja=0;ja<ia;++ja)ha.push(i.createElement("span",{key:ja,className:"_5c68"}));var ka=this.props.interactive?this.selectDate:k;while(z.getUTCMonth()==y.getUTCMonth()){var la=z.getTime(),ma=new Date(la);z.setUTCDate(z.getUTCDate()+1);var na=z.getUTCMonth()>ma.getUTCMonth(),oa=(ha.length+1)%7,pa=oa==1||ma.getUTCDate()==1,qa=oa===0||na,ra=null,sa=null;if(da){if(la>da.minTime&&la<da.maxTime){ra=t;}else if(la==da.minTime){ra=s;}else if(la==da.maxTime)ra=u;if(!da.hasDuration){sa=v;}else if(qa){sa=pa||ra==s?v:u;}else if(pa){sa=ra==u?v:s;}else sa=t;}ha.push(i.createElement(x,{key:ma,date:ma,onSelect:ka,valid:this.isDateValid(ma),selected:this.isDateSelected(ma),highlighted:this.isDateHighlighted(ma),rangePosition:ra,rowPosition:sa,dayInnerFormatter:this.props.dayInnerFormatter}));if(qa){ga.push(ha);ha=[];}}if(ha.length)ga.push(ha);if(!this.props.allowVariableRowCount)for(var ta=ga.length;ta<q;++ta)ga.push(i.createElement("span",{className:"_5c68"}));ga=ga.map(function(wa,xa){return i.createElement("div",{key:xa,className:r},wa);});var ua=[];for(var va=0;va<p;++va)ua.push(i.createElement("li",{key:va,className:"_5c69"},g.shortDayNames[(aa+va)%7]));return (i.createElement("div",i.__spread({},this.props,{className:l(this.props.className,(("_5c6a")+(this.props.interactive?' '+"_5hpw":'')))}),i.createElement(h,{className:"_5c6g _50f8",direction:"horizontal",border:"none",spacing:"none"},ua),i.createElement("div",{className:"_5c6h clearfix"},ga)));}});w.normalizeDate=function(y){return new Date(Date.UTC(y.getUTCFullYear(),y.getUTCMonth(),y.getUTCDate()));};var x=i.createClass({displayName:"Day",propTypes:{date:o.instanceOf(Date).isRequired,onSelect:o.func.isRequired,valid:o.bool,selected:o.bool,highlighted:o.bool,rowPosition:o.oneOf([s,t,u,v]),rangePosition:o.oneOf([s,t,u]),dayInnerFormatter:o.func},render:function(){var y=this.props,z=y.rowPosition,aa=y.rangePosition,ba=aa==s||(aa==t&&z==s),ca=aa==u||(aa==t&&z==u),da=z==v,ea=aa==s||aa==u,fa=(("_5c66")+(y.valid?' '+"_5hpx":'')+(aa?' '+"_5hpy":'')+(ba?' '+"_5hpz":'')+(ca?' '+"_5hp-":'')+(da?' '+"_5hp_":'')+(ea?' '+"_5hq0":'')),ga=(("_5hq1")+(y.selected?' '+"_5hq2":'')+(y.highlighted?' '+"_5xur":'')),ha={};if(y.dayInnerFormatter)ha=y.dayInnerFormatter(y.date);return (i.createElement("a",i.__spread({},this.props,{className:l(this.props.className,fa),style:ha,href:"#",onClick:this._onSelect}),i.createElement("span",{className:ga},this.props.date.getUTCDate())));},_onSelect:function(){if(!this.props.valid)return;this.props.onSelect(this.props.date);}});e.exports=w;},null);
__d("XUIMonthPagerCalendar.react",["React","Image.react","UTCUtils","XUICalendar.react","cx","fbt","formatDate","ix","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){b.__markCompiled&&b.__markCompiled();var p=g,q=p.PropTypes,r=g.createClass({displayName:"XUIMonthPagerCalendar",propTypes:{dateRestraints:q.array,focusTime:q.number.isRequired,selectTime:q.number,allowVariableRowCount:q.bool,allowDuplicateSelection:q.bool,highlightedTimes:q.array,onFocusDateChange:q.instanceOf(Function).isRequired,onSelectDateChange:q.instanceOf(Function).isRequired,dayInnerFormatter:q.func},pageByMonthDelta:function(s){var t=new Date(this.props.focusTime);t.setUTCDate(1);t.setUTCMonth(t.getUTCMonth()+s);this.props.onFocusDateChange(t);},onPagerPrev:function(){this.pageByMonthDelta(-1);},onPagerNext:function(){this.pageByMonthDelta(1);},render:function(){var s=this.props,t=i.dateToUTCDate(new Date(s.focusTime)),u=l._("{month} {year}",[l.param("month",m(t,'F',{skipPatternLocalization:true})),l.param("year",t.getUTCFullYear())]);return (g.createElement("div",g.__spread({},this.props,{className:o(this.props.className,"_5hpp")}),g.createElement("div",{className:"_5hpq"},g.createElement("h2",{className:"_5hpr _c24"},u),g.createElement("button",{type:"button",className:"_5hps _5hpt",onClick:this.onPagerPrev},g.createElement(h,{src:n('/images/deprecated/glyphs/dark/triangle-left_s.png'),alt:l._("Previous month")})),g.createElement("button",{type:"button",className:"_5hps _5hpu",onClick:this.onPagerNext},g.createElement(h,{src:n('/images/deprecated/glyphs/dark/triangle-right_s.png'),alt:l._("Next month")}))),g.createElement(j,{dateRestraints:s.dateRestraints,focusTime:s.focusTime,selectTime:s.selectTime,highlightedTimes:s.highlightedTimes,allowDuplicateSelection:s.allowDuplicateSelection,allowVariableRowCount:s.allowVariableRowCount,onFocusDateChange:s.onFocusDateChange,onSelectDateChange:s.onSelectDateChange,dayInnerFormatter:s.dayInnerFormatter})));}});e.exports=r;},null);
__d("XUICardHeaderTitle.react",["React","TabBarItem.react","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k=g,l=k.PropTypes,m=g.createClass({displayName:"XUICardHeaderTitle",propTypes:{count:l.number,href:l.string,itemComponent:l.any},getDefaultProps:function(){return {itemComponent:h};},render:function(){var n=this.props.itemComponent,o=null;if(this.props.count>0)o=g.createElement("span",{className:"_c1b"},this.props.count);return (g.createElement(n,g.__spread({},this.props,{className:j(this.props.className,"_38my")}),this.props.children,o,g.createElement("span",{className:"_c1c"})));}});e.exports=m;},null);
__d("XUIDialogHeaderTitle.react",["XUICardHeaderTitle.react"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b('XUICardHeaderTitle.react');},null);
__d("XUICardHeader.react",["React","ReactChildren","TabBar.react","XUICardHeaderTitle.react","XUICardSection.react","XUIDialogHeaderTitle.react","cloneWithProps","cx","invariant","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){b.__markCompiled&&b.__markCompiled();var q=g,r=q.PropTypes,s=g.createClass({displayName:"XUICardHeader",propTypes:{activeTabKey:r.string,defaultActiveTabKey:r.string,onTabClick:r.func,type:r.oneOf(['primary','secondary'])},getDefaultProps:function(){return {onTabClick:function(){return true;},type:'secondary'};},_enforceChildInvariants:function(){var t=0;h.forEach(this.props.children,function(u){o(u.type===j||u.type===l);t++;});return t;},_renderItemCount:function(){if(this.props.type==='primary')o(this.props.itemCount==null);if(this.props.itemCount!=null)return (g.createElement("span",{className:"_5dw7"},this.props.itemCount));},_renderLink:function(){if(this.props.link)return (g.createElement("span",{className:"_5dw8"},this.props.link));},_renderChildren:function(){var t=this._enforceChildInvariants();if(t===1){return h.map(this.props.children,function(u){return m(u,{itemComponent:'span'});});}else return (g.createElement(i,{activeTabKey:this.props.activeTabKey,defaultActiveTabKey:this.props.defaultActiveTabKey,onTabClick:this.props.onTabClick},this.props.children));},render:function(){var t=((this.props.type==='primary'?"_5dw9":'')+(' '+"_5dwa")+(this.props.type==='secondary'?' '+"_5dwb":'')+(this._enforceChildInvariants()!==1?' '+"_3s3z":''));return (g.createElement(k,{className:p(this.props.className,t)},this._renderChildren(),this._renderItemCount(),this._renderLink(),g.createElement("div",{className:"_3s3-"})));}});e.exports=s;},null);
__d("XUIDatePicker.react",["CalendarUtils","ContextualLayer.react","ContextualLayerAutoFlip","ContextualLayerUpdateOnScroll","DateFormatConfig","DatePickerInput.react","DatePickerRestraints","LayerTogglerContext","React","Image.react","ReactLayeredComponentMixin","Toggler","UTCUtils","XUICard.react","XUICalendar.react","XUIMonthPagerCalendar.react","cx","emptyFunction","invariant","ix","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa){b.__markCompiled&&b.__markCompiled();var ba=o,ca=ba.PropTypes,da={ContextualLayerAutoFlip:i,ContextualLayerUpdateOnScroll:j,LayerTogglerContext:n},ea={order:k.numericDateOrder,separator:k.numericDateSeparator};function fa(ma){var na=new Date();if(ma){na.setTime(ma);}else{var oa=s.dateToUTC(na);na.setTime(oa);}return u.normalizeDate(na).getTime();}function ga(ma){var na=/^\d{4}-\d{2}-\d{2}$/.test(ma);y(na);var oa=Date.parse(ma);y(oa);return oa;}function ha(ma){y(!ma.initialDate||!ma.initialTime);return ma.initialDate?ga(ma.initialDate):ma.initialTime;}function ia(ma){y(!ma.earliestDate||!ma.earliestTime);return ma.earliestDate?ga(ma.earliestDate):(ma.earliestTime?ma.earliestTime*1000:null);}function ja(ma){y(!ma.latestDate||!ma.latestTime);return ma.latestDate?ga(ma.latestDate):(ma.latestTime?ma.latestTime*1000:null);}function ka(ma,na){var oa=ha(ma);if(!na&&ma.initialFocusTime)oa=ma.initialFocusTime;return fa(oa);}var la=o.createClass({displayName:"XUIDatePicker",mixins:[q],propTypes:{name:ca.string,initialDate:ca.string,initialTime:ca.number,initialFocusTime:ca.number,allowDuplicateSelection:ca.bool,shouldSetDefaultDate:ca.bool,earliestDate:ca.string,earliestTime:ca.number,latestDate:ca.string,latestTime:ca.number,dateRestraints:ca.array,highlightedTimes:ca.array,onCalendarSelectDateChange:ca.func,onInvalidDateSelected:ca.func,onDateRemoved:ca.func,icon:ca.element,placeholder:ca.string,dayInnerFormatter:ca.func,calendar:ca.func,calendarProps:ca.object,behaviors:ca.object},getDefaultProps:function(){return {shouldSetDefaultDate:true,allowDuplicateSelection:false,onCalendarSelectDateChange:x,onInvalidDateSelected:x,onDateRemoved:x,placeholder:g.placeholderDateString(ea),calendar:v,icon:o.createElement(p,{src:z('/images/calendar/calendar_icon.png')})};},togglerSub:null,getInitialState:function(){return Object.assign({},this._calculateState(this.props),{showLayer:false});},componentWillReceiveProps:function(ma){this.setState(this._calculateState(ma));},_calculateState:function(ma){var na=ha(ma),oa=fa(na),pa={selectTime:this.props.shouldSetDefaultDate||na?oa:null};if(!this.state||!this.state.selectTime||oa!==this.state.selectTime)pa.focusTime=ka(ma,this.state);return pa;},componentWillUnmount:function(){this.removeSubscriptions();},removeSubscriptions:function(){this.togglerSub&&this.togglerSub.unsubscribe();this.togglerSub=null;},renderLayers:function(){if(!this.state.showLayer)return {};var ma=this.props.calendar;return {layer:o.createElement(h,{contextRef:function(){return this.refs.inputBox;}.bind(this),position:"below",offsetY:3,behaviors:this._getBehaviors(),shown:this.state.showLayer},o.createElement(t,{className:"_5c6i"},o.createElement(ma,o.__spread({},this.props.calendarProps,{highlightedTimes:this.props.highlightedTimes,dateRestraints:this._getDateRestraintsFromProps(this.props),focusTime:this.state.focusTime,selectTime:this.state.selectTime,onFocusDateChange:this.onCalendarFocusDateChange,onSelectDateChange:function(na){o.findDOMNode(this.refs.inputBox).focus();this.onCalendarSelectDateChange(na);this._hide();}.bind(this),allowDuplicateSelection:this.props.allowDuplicateSelection,dayInnerFormatter:this.props.dayInnerFormatter}))))};},_getBehaviors:function(){return Object.assign({},da,this.props.behaviors);},_hide:function(){r.hide(o.findDOMNode(this));},onCalendarFocusDateChange:function(ma){this.setState({focusTime:ma.getTime()});},onCalendarSelectDateChange:function(ma){this.setState({focusTime:ma.getTime(),selectTime:ma.getTime()});this.props.onCalendarSelectDateChange(ma);},onDateRemoved:function(){this.setState({selectTime:null});this.props.onDateRemoved();},onInvalidDateSelected:function(ma){this.setState({selectTime:null});this.props.onInvalidDateSelected(ma);},onTogglerShowOrHide:function(ma,na){if(na.active===o.findDOMNode(this))if(ma=='show'){this.setState({showLayer:true});}else{this.removeSubscriptions();this.setState({showLayer:false});}},onInputFocus:function(){this.removeSubscriptions();this.togglerSub=r.subscribe(['show','hide'],this.onTogglerShowOrHide);r.show(o.findDOMNode(this));},_getDateRestraintsFromProps:function(ma){if(ma.dateRestraints)return ma.dateRestraints;var na=[],oa=ia(ma);if(oa)na.push(m.enforceDateIsNoEarlierThan(new Date(oa)));var pa=ja(ma);if(pa)na.push(m.enforceDateIsNoLaterThan(new Date(pa)));return na;},render:function(){return (o.createElement(l,o.__spread({},this.props,{className:aa(this.props.className,"_5c6j"),dateRestraints:this._getDateRestraintsFromProps(this.props),icon:this.props.icon,name:this.props.name,onBlur:this._hide,onChange:this.onCalendarSelectDateChange,onDateRemoved:this.onDateRemoved,onFocus:this.onInputFocus,onInvalidDateSelected:this.onInvalidDateSelected,placeholder:this.props.placeholder,ref:"inputBox",selectTime:this.state.selectTime})));}});e.exports=la;},null);
__d("XUIRadioInput.react",["React","cx","joinClasses","invariant"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k=g.createClass({displayName:"XUIRadioInput",render:function(){j(!this.props.children||this.props.children.length===0);var l=i(this.props.className,"_55sh"),m=g.createElement("input",g.__spread({},this.props,{className:null,type:"radio"}),undefined);return (g.createElement("label",{className:l},m,g.createElement("span",null)));}});e.exports=k;},null);
__d("AccessibleTableParts.react",["React","ReactChildren","cloneWithProps","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l=g,m=l.PropTypes;function n(r,s){return h.map(r,function(t){if(t.type==="th")return i(t,{scope:s});return t;});}var o=g.createClass({displayName:"HeadRow",render:function(){var r=n(this.props.children,'col');return (g.createElement("tr",g.__spread({},this.props),r));}}),p=g.createClass({displayName:"BodyRow",propTypes:{hover:m.bool},getDefaultProps:function(){return {hover:true};},render:function(){var r=n(this.props.children,'row'),s=this.props,t=s.className,u=s.hover,v=(function(w,x){var y={},z=Object.prototype.hasOwnProperty;if(w==null)throw new TypeError();for(var aa in w)if(z.call(w,aa)&&!z.call(x,aa))y[aa]=w[aa];return y;})(s,{className:1,hover:1});t=k(((!u?"_1isx":'')),t);return (g.createElement("tr",g.__spread({className:t},v),r));}}),q={HeadRow:o,BodyRow:p};e.exports=q;},null);
__d("XUITable.react",["React","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j=g,k=j.PropTypes,l=g.createClass({displayName:"XUITable",propTypes:{outerBorder:k.bool},render:function(){var m=(("_4-ss")+(this.props.outerBorder?' '+"_4-sv":''));return (g.createElement("table",g.__spread({},this.props,{className:i(this.props.className,m)}),this.props.children));}});e.exports=l;},null);
__d("XUIDateTimePickerUtils",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g=60,h=3600000,i=3600,j=60,k={offsetDate:function(l,m,n){var o=m!==(void 0)?m:(l.getTimezoneOffset()/g)*-1,p=n?-1:1,q=o>=0?p:p*-1,r=Math.abs(o)*h;return new Date(l.getTime()+r*q);},getOffsetUIDate:function(l,m){return this.offsetDate(l,m);},getOffsetUISecondsSinceMidnightUTC:function(l,m){return this.getSecondsSinceMidnightUTC(this.getOffsetUIDate(l,m));},getActualDateFromOffsetUIDate:function(l,m){return this.offsetDate(l,m,true);},getActualDateFromOffsetUISeconds:function(l,m,n){var o=this.getDateAtTimeUTC(this.getOffsetUIDate(m,n),l);return this.getActualDateFromOffsetUIDate(o,n);},getActualCanonicalDate:function(l,m,n){var o=this.getOffsetUIDate(m,n),p=0;if(o.getUTCDate()!==m.getUTCDate())p=o.getTime()<m.getTime()?1:-1;var q=new Date(l);q.setUTCDate(q.getUTCDate()+p);return q;},getActualDateFromOffsetUICanonicalDate:function(l,m,n){var o=this.getActualCanonicalDate(l,m,n),p=this.getSecondsSinceMidnightUTC(m);return this.getDateAtTimeUTC(o,p);},getSecondsSinceMidnightUTC:function(l){return l.getUTCHours()*i+l.getUTCMinutes()*j+l.getUTCSeconds();},getDateAtTimeUTC:function(l,m){var n=Math.floor(m/i),o=Math.floor((m%i)/j),p=new Date(l);p.setUTCHours(n,o,0,0);return p;}};e.exports=k;},null);
__d("Network",["mixInEventEmitter"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h=true,i=a.navigator.connection,j={0:'unknown',1:'ethernet',2:'wifi',3:'2g',4:'3g'};function k(){return h;}function l(q){if(q==h)return;h=q;p.emit(q?'online':'offline');}function m(){return i?i.bandwidth:(h?Infinity:0);}function n(){return i?i.metered:false;}function o(){var q=i?String(i.type):'0';return j[q]||q;}var p={getBandwidth:m,getType:o,isMetered:n,isOnline:k,setOnline:l};g(p,{online:true,offline:true});if(a.addEventListener){a.addEventListener('online',l.bind(null,true));a.addEventListener('offline',l.bind(null,false));}else if(a.attachEvent){a.attachEvent('online',l.bind(null,true));a.attachEvent('offline',l.bind(null,false));}e.exports=p;},null);
__d("FileHasher",["WebWorker","fileSliceName","emptyFunction","FileHashWorkerResource"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();j.isSupported=function(){"use strict";return g.isSupported();};function j(){"use strict";var k=b('FileHashWorkerResource');g.prepareResource(k);this.$FileHasher0=new g(k).setMessageHandler(function(l){this.$FileHasher1(l);}.bind(this)).execute();}j.prototype.hash=function(k,l){"use strict";this.$FileHasher1=l;this.$FileHasher0.postMessage({file:k,fileSliceName:h});return this;};j.prototype.destroy=function(){"use strict";this.$FileHasher1=i;this.$FileHasher0.terminate();};e.exports=j;},null);
__d("everyObject",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();'use strict';var g=Object.prototype.hasOwnProperty;function h(i,j,k){for(var l in i)if(g.call(i,l))if(!j.call(k,i[l],l,i))return false;return true;}e.exports=h;},null);
__d("LeafletCircleMarker.react",["GeoCoordinates","leaflet","LeafletPath","LeafletUtils","React"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();'use strict';var l=k,m=l.PropTypes,n=k.createClass({displayName:"LeafletCircleMarker",propTypes:{options:m.object,center:m.instanceOf(g).isRequired},statics:{mutate:function(o,p,q){var r=p.options||{},s=r.radius,t=(function(x,y){var z={},aa=Object.prototype.hasOwnProperty;if(x==null)throw new TypeError();for(var ba in x)if(aa.call(x,ba)&&!aa.call(y,ba))z[ba]=x[ba];return z;})(r,{radius:1}),u=q.options||{},v=u.prevRadius,w=(function(x,y){var z={},aa=Object.prototype.hasOwnProperty;if(x==null)throw new TypeError();for(var ba in x)if(aa.call(x,ba)&&!aa.call(y,ba))z[ba]=x[ba];return z;})(u,{prevRadius:1});if(!i.mutateOptions(o,t,w))return false;if(p.center!==q.center)o.setLatLng(j.toLatLng(p.center));if(s!==v)o.setRadius(p.radius);return true;},toLayer:function(o){return h.circleMarker(j.toLatLng(o.center),o.options);}},render:function(){return null;}});e.exports=n;},null);
__d("PaymentMethodUtils",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g=16,h=4,i=[{pattern:/^5[1-5]/,name:'mc',cscDigits:3,digits:16,supported:true,code:77},{pattern:/^4/,name:'visa',cscDigits:3,digits:16,supported:true,code:86},{pattern:/^3[47]/,name:'amex',cscDigits:4,digits:15,supported:true,code:65},{pattern:/^35(2[8-9]|[3-8])/,name:'jcb',cscDigits:3,digits:16,supported:true,code:74},{pattern:/^(6011|65|64[4-9]|622([2-8]|1[3-9]|12[6-9]|9[0-1]|92[0-5]))/,name:'disc',cscDigits:3,digits:16,supported:true,code:68},{pattern:/^30[0-5]/,name:'diners',digits:14,cscDigits:3,supported:false,code:64},{name:'unknown',digits:16,cscDigits:3,supported:false,code:85}],j=function(l){return l.replace(/[iIl]/g,'1').replace(/[Oo]/g,'0').replace(/[^\d]/gi,'');},k={getCardType:function(l){l=j(l);l=l.substr(0,6);for(var m=0;m<i.length;m++)if(l.match(i[m].pattern))return i[m];},getCardTypeFromCode:function(l){for(var m=0;m<i.length;m++)if(l==i[m].code)return i[m];return null;},isValidCCNumber:function(l){l=j(l);var m=k.getCardType(l);if(m.digits!==l.length)return false;if(!m.supported)return false;return k.isValidLuhn(l);},isValidLuhn:function(l){l=j(l);var m=l.split('').reverse(),n='';for(var o=0;o<m.length;o++){var p=parseInt(m[o],10);if(o%2!==0)p=p*2;n=n+p;}var q=0;for(o=0;o<n.length;o++)q=q+parseInt(n.charAt(o),10);return !!(q!==0&&q%10===0);},getMaxCardLength:function(l){return g;},getMaxCSCLength:function(){return h;}};e.exports=k;},null);
__d("SubscriptionList",["invariant"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();function h(i,j){"use strict";this.$SubscriptionList0=[];this.$SubscriptionList1=i;this.$SubscriptionList2=j;}h.prototype.$SubscriptionList3=function(i){"use strict";var j=this.$SubscriptionList0.indexOf(i);g(j!==-1);this.$SubscriptionList0.splice(j,1);if(this.$SubscriptionList0.length===0)this.$SubscriptionList2.call();};h.prototype.add=function(i){"use strict";var j={callback:i};this.$SubscriptionList0.push(j);if(this.$SubscriptionList0.length===1)this.$SubscriptionList1.call();return {remove:this.$SubscriptionList3.bind(this,j)};};h.prototype.getCallbacks=function(){"use strict";return this.$SubscriptionList0.map(function(i){return i.callback;});};h.prototype.fireCallbacks=function(){"use strict";for(var i=[],j=0,k=arguments.length;j<k;j++)i.push(arguments[j]);this.$SubscriptionList0.forEach(function(l){l.callback.apply(null,i);});};e.exports=h;},null);
__d("sumOfArray",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();function g(h){var i=0,j=h.length;for(var k=0;k<j;++k)i+=h[k];return i;}e.exports=g;},null);
__d("areArraysEqual",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();function g(h,i){if(!h||!i||h.length!==i.length)return false;var j={},k=h.length,l=k;while(k--)j[h[k]]=true;while(l--)if(!j[i[l]])return false;return true;}e.exports=g;},null);
__d("VideoUploadLogger",["Banzai"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();function h(i){this._source=i.source;this._waterfallID=i.waterfall_id;this._targetID=i.target_id;this._delay=i.delay;this._times=[];this._isChunkedUpload=i.is_chunked_upload;this._actorID=i.actor_id;}Object.assign(h,{BANZAI_GK:'videos',BANZAI_ROUTE:'video_waterfall',SOURCE_SIMPLE:'simple',SOURCE_COMPOSER:'composer',EVENT_STARTED_GENERATE_THUMBNAILS:'upload.client.started_generate_thumbnails',EVENT_FINISHED_GENERATE_THUMBNAILS:'upload.client.finished_generate_thumbnails',EVENT_SELECTED_CUSTOM_THUMBNAIL:'upload.client.selected_custom_thumbnail',EVENT_VIDEO_DIMENSIONS_UNREADABLE:'upload.client.video_dimensions_unreadable',EVENT_REPLACE_VIDEO:'upload.client.replace_video',EVENT_STARTED_FLOW:'upload.client.started_flow',EVENT_FINISHED_FLOW:'upload.client.finished_flow',EVENT_FAILED_FLOW:'upload.client.failed_flow',EVENT_CANCELED_FLOW:'upload.client.canceled_flow',EVENT_RESIGNED_FLOW:'upload.client.resigned_flow',EVENT_REQUESTED_UPLOADING:'upload.client.requested_uploading',EVENT_INVALIDATED_UPLOADING:'upload.client.invalidated_uploading',EVENT_STARTED_UPLOADING:'upload.client.started_uploading',EVENT_PROGRESS_UPLOADING_START_REQUEST:'upload.client.progress_uploading_start_request',EVENT_FINISHED_UPLOADING:'upload.client.finished_uploading',EVENT_CANCELED_UPLOADING:'upload.client.canceled_uploading',EVENT_ABANDONED_UPLOADING:'upload.client.abandoned_uploading',EVENT_FAILED_UPLOADING:'upload.client.failed_uploading',EVENT_STARTED_SENDING_BYTES:'upload.client.started_sending_bytes',EVENT_FINISHED_SENDING_BYTES:'upload.client.finished_sending_bytes',EVENT_CANCELED_SENDING_BYTES:'upload.client.canceled_sending_bytes',EVENT_FAILED_SENDING_BYTES:'upload.client.failed_sending_bytes',EVENT_STARTED_POST_REQUEST:'upload.client.started_sending_post_request',EVENT_FINISHED_POST_REQUEST:'upload.client.finished_sending_post_request',EVENT_FAILED_POST_REQUEST:'upload.client.failed_sending_post_request',EVENT_STARTED_SENDING_CHUNK_BYTES:'upload.client.started_sending_chunk_bytes',EVENT_FINISHED_SENDING_CHUNK_BYTES:'upload.client.finished_sending_chunk_bytes',EVENT_CANCELED_SENDING_CHUNK_BYTES:'upload.client.canceled_sending_chunk_bytes',EVENT_FAILED_SENDING_CHUNK_BYTES:'upload.client.failed_sending_chunk_bytes',EVENT_TIMEOUT_SENDING_CHUNK_BYTES:'upload.client.timeout_sending_chunk_bytes',EVENT_ENCODING_START_OBSERVED:'encode.client.encoding_start_observed',EVENT_ENCODING_SUCCESS_OBSERVED:'encode.client.encoding_success_observed',EVENT_ENCODING_FAIL_OBSERVED:'encode.client.encoding_fail_observed',EVENT_RECEIVED_RESPONSE:'upload.client.received_response'});Object.assign(h.prototype,{logEvent:function(event,i){var j=Object.assign({},i);if(j.elapsed_time==null)if(event.indexOf('started')!==-1){this._times[event]=Date.now();}else if(event.indexOf('finished')!==-1){j.elapsed_time=this._computeElapsedTime(event,'finished');}else if(event.indexOf('canceled')!==-1){j.elapsed_time=this._computeElapsedTime(event,'canceled');}else if(event.indexOf('failed')!==-1)j.elapsed_time=this._computeElapsedTime(event,'failed');j.event=event;j.source=this._source;j.waterfall_id=this._waterfallID;j.target_id=this._targetID;j.is_chunked_upload=this._isChunkedUpload;j.actor_id=this._actorID;g.post(h.BANZAI_ROUTE,j,{delay:this._delay});},_computeElapsedTime:function(event,i){var j=event.replace(i,'started'),k=this._times[j];return k?Date.now()-k:null;}});e.exports=h;},null);
__d("VideoUploadFileValidator",["ErrorDialog","JSXDOM","fbt"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();function j(k){"use strict";this.$VideoUploadFileValidator0=k;}j.prototype.validate=function(k,l){"use strict";return this.$VideoUploadFileValidator1(k)&&this.$VideoUploadFileValidator2(k)&&this.$VideoUploadFileValidator3(l);};j.prototype.getValidationErrorMessage=function(k,l){"use strict";return this.$VideoUploadFileValidator4(k)||this.$VideoUploadFileValidator5(k)||this.$VideoUploadFileValidator6(l);};j.prototype.$VideoUploadFileValidator1=function(k){"use strict";var l=this.$VideoUploadFileValidator4(k);if(l){g.show(l.summary,l.description);return false;}else return true;};j.prototype.$VideoUploadFileValidator4=function(k){"use strict";if(this.$VideoUploadFileValidator0.extensions[k.getExtension()])return;var l="http://www.facebook.com/help/"+"?faq=218673814818907#What-formats-of-video-files-can-I-upload?",m=h.a({href:l},i._("recommended formats"));return {summary:i._("Unsupported File Format"),description:i._("Sorry, the file you selected is in a format that we don't support. Please use one of our {link} for video files.",[i.param("link",m)])};};j.prototype.$VideoUploadFileValidator2=function(k){"use strict";var l=this.$VideoUploadFileValidator5(k);if(l){g.show(l.summary,l.description);return false;}else return true;};j.prototype.$VideoUploadFileValidator5=function(k){"use strict";var l;if(k.getSize()===null)return;if(k.getSize()<this.$VideoUploadFileValidator0.minSize)l=this.$VideoUploadFileValidator7();if(k.getSize()>this.$VideoUploadFileValidator0.maxSize)l=this.$VideoUploadFileValidator8();return l;};j.prototype.$VideoUploadFileValidator7=function(){"use strict";var k=h.strong(null,i._("{kilobytes} KB",[i.param("kilobytes",Math.round(this.$VideoUploadFileValidator0.minSize/1024))]));return {summary:i._("Video File Too Small"),description:i._("The video file you tried to upload is too small. The minimum size for a video file is {min-size}. Please try again with a larger file.",[i.param("min-size",k)])};};j.prototype.$VideoUploadFileValidator8=function(){"use strict";var k=h.strong(null,i._("{max-size} MB",[i.param("max-size",Math.round(this.$VideoUploadFileValidator0.maxSize/1024/1024))]));return {summary:i._("Video File Too Large"),description:i._("The video file you tried to upload is too large. The maximum size for a video file is {max-size}. Please try again with a smaller file.",[i.param("max-size",k)])};};j.prototype.$VideoUploadFileValidator3=function(k){"use strict";var l=this.$VideoUploadFileValidator6(k);if(l){g.show(l.summary,l.description);return false;}else return true;};j.prototype.$VideoUploadFileValidator6=function(k){"use strict";var l;if(!k)return;var m=k.format.duration;if(m>this.$VideoUploadFileValidator0.maxLength)l=this.$VideoUploadFileValidator9();if(m<this.$VideoUploadFileValidator0.minLength)l=this.$VideoUploadFileValidatora();if(!k.streams.primaryVideo&&k.streams.primaryAudio)l=this.$VideoUploadFileValidatorb();if(k.streams.primaryVideo.width<this.$VideoUploadFileValidator0.minWidth)l=this.$VideoUploadFileValidatorc();if(k.streams.primaryVideo.height<this.$VideoUploadFileValidator0.minHeight)l=this.$VideoUploadFileValidatord();return l;};j.prototype.$VideoUploadFileValidator9=function(){"use strict";return {summary:i._("Video Duration Too Long"),description:i._("The duration of the video you tried to upload is too long. The maximum duration for a video is {max-length} minutes. Please upload a shorter video.",[i.param("max-length",Math.round(this.$VideoUploadFileValidator0.maxLength/60))])};};j.prototype.$VideoUploadFileValidatora=function(){"use strict";return {summary:i._("Video File Too Short"),description:i._("The duration of the video you tried to upload is too short. The minimum length for a video is {min-length} minutes. Please upload a longer video.",[i.param("min-length",Math.round(this.$VideoUploadFileValidator0.minLength/60))])};};j.prototype.$VideoUploadFileValidatorb=function(){"use strict";var k="http://www.facebook.com/help/"+"?faq=218673814818907#What-formats-of-video-files-can-I-upload?",l=h.a({href:k},i._("supported video format"));return {summary:i._("No Video Detected"),description:i._("It looks like you're trying to upload a file that isn't a video. Please try uploading a {supported-video-format link}",[i.param("supported-video-format link",l)])};};j.prototype.$VideoUploadFileValidatorc=function(){"use strict";return {summary:i._("Video Width Too Narrow"),description:i._("The width of the video you tried to upload is too short. The minimum width for a video is {min-width}. Please upload a wider video.",[i.param("min-width",this.$VideoUploadFileValidator0.minWidth)])};};j.prototype.$VideoUploadFileValidatord=function(){"use strict";return {summary:i._("Video Height Too Short"),description:i._("The height of the video you tried to upload is too short. The minimum height for a video is {min-height}. Please upload a taller video.",[i.param("min-height",this.$VideoUploadFileValidator0.minHeight)])};};e.exports=j;},null);
__d("VideoUploadProgressBar",["CSS","VideoUploadFeatureDetector","cx"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();function j(k){"use strict";this.$VideoUploadProgressBar0=k.progress_bar;this.$VideoUploadProgressBar1=k.throbber;this.$VideoUploadProgressBar2=k.uploader;this.$VideoUploadProgressBar3=k.start_margin;this.$VideoUploadProgressBar4=k.start_delay;this.$VideoUploadProgressBar5=k.end_margin;this.$VideoUploadProgressBar6=k.end_delay;this.$VideoUploadProgressBar7=k.progress_bar_label;this.$VideoUploadProgressBar8();}j.prototype.reset=function(){"use strict";this.$VideoUploadProgressBar0.setPosition(0);};j.computeProgress=function(k,l,m,n,o){"use strict";var p=Math.min(k+l,m);return (p)/m*(100-n-o)+n;};j.prototype.$VideoUploadProgressBar8=function(){"use strict";if(h.supportsFileAPI()){this.$VideoUploadProgressBar2.subscribe('upload-requested',this.$VideoUploadProgressBar9.bind(this));this.$VideoUploadProgressBar2.subscribe('upload-progressed',this.$VideoUploadProgressBara.bind(this));this.$VideoUploadProgressBar2.subscribe('online',this.$VideoUploadProgressBarb.bind(this));this.$VideoUploadProgressBar2.subscribe('offline',this.$VideoUploadProgressBarc.bind(this));}else this.$VideoUploadProgressBar2.subscribe('upload-requested',this.$VideoUploadProgressBard.bind(this));};j.prototype.$VideoUploadProgressBar9=function(event){"use strict";g.show(this.$VideoUploadProgressBar0.getRoot());g.removeClass(this.$VideoUploadProgressBar0.getRoot(),"_5r5a");this.$VideoUploadProgressBar0.setTarget(this.$VideoUploadProgressBar3,this.$VideoUploadProgressBar4);this.$VideoUploadProgressBare(0);};j.prototype.$VideoUploadProgressBare=function(k){"use strict";if(this.$VideoUploadProgressBar7)this.$VideoUploadProgressBar0.changeLabel(''+k.toFixed(1)+'%');};j.prototype.$VideoUploadProgressBara=function(event,k){"use strict";g.removeClass(this.$VideoUploadProgressBar0.getRoot(),"_5r5a");var l=j.computeProgress(k.start_offset,k.sent_bytes,k.file_size,this.$VideoUploadProgressBar3,this.$VideoUploadProgressBar5);this.$VideoUploadProgressBar0.setPosition(l);this.$VideoUploadProgressBare(l);if(l>=100-this.$VideoUploadProgressBar5){this.$VideoUploadProgressBar0.setTarget(100,this.$VideoUploadProgressBar6);this.$VideoUploadProgressBare(100);}};j.prototype.$VideoUploadProgressBarb=function(event){"use strict";g.removeClass(this.$VideoUploadProgressBar0.getRoot(),"_5r5a");};j.prototype.$VideoUploadProgressBarc=function(event){"use strict";g.addClass(this.$VideoUploadProgressBar0.getRoot(),"_5r5a");};j.prototype.$VideoUploadProgressBard=function(event){"use strict";g.show(this.$VideoUploadProgressBar1);};e.exports=j;},null);
__d("VideoUploadRequest",["AsyncRequest","DOM","DTSG","FileForm","Form","VideoUploadFeatureDetector","emptyFunction","submitForm"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){b.__markCompiled&&b.__markCompiled();var o='video';function p(q){"use strict";this.$VideoUploadRequest0=q;this.$VideoUploadRequest1=null;this.$VideoUploadRequest2=false;this.$VideoUploadRequest3=null;this.$VideoUploadRequest4=null;this.$VideoUploadRequest5=null;this.$VideoUploadRequest6=m;this.$VideoUploadRequest7=m;this.$VideoUploadRequest8=m;this.$VideoUploadRequest9=m;this.$VideoUploadRequesta=null;}p.prototype.setAllowCrossOrigin=function(q){"use strict";this.$VideoUploadRequest2=q;return this;};p.prototype.setData=function(q){"use strict";this.$VideoUploadRequest3=q;return this;};p.prototype.setWaterfallID=function(q){"use strict";this.$VideoUploadRequest4=q;return this;};p.prototype.setSuccessHandler=function(q){"use strict";this.$VideoUploadRequest6=q;return this;};p.prototype.setErrorHandler=function(q){"use strict";this.$VideoUploadRequest7=q;return this;};p.prototype.setTransportErrorHandler=function(q){"use strict";this.$VideoUploadRequest8=q;return this;};p.prototype.setUploadProgressHandler=function(q){"use strict";this.$VideoUploadRequest9=q;return this;};p.prototype.setTimeoutHandler=function(q,r){"use strict";this.$VideoUploadRequest5=q;this.$VideoUploadRequesta=r;return this;};p.prototype.setThumbnail=function(q){"use strict";this.$VideoUploadRequestb=q;return this;};p.prototype.send=function(){"use strict";if(this.$VideoUploadRequest1)throw new Error('An upload request is already in progress.');if(l.supportsXHR()){this.$VideoUploadRequest1=this.$VideoUploadRequestc();if(this.$VideoUploadRequestb){var q=new FormData();q.append('thumb',this.$VideoUploadRequestb);this.$VideoUploadRequest1.setRawData(q);}this.$VideoUploadRequest1.send();}else{this.$VideoUploadRequest1=this.$VideoUploadRequestd();this.$VideoUploadRequeste(this.$VideoUploadRequest1);}};p.prototype.sendChunk=function(q){"use strict";if(this.$VideoUploadRequest1)throw new Error('An upload request is already in progress.');var r=new FormData();r.append('video_file_chunk',q);this.$VideoUploadRequest1=this.$VideoUploadRequestc();this.$VideoUploadRequest1.setRawData(r);this.$VideoUploadRequest1.send();};p.prototype.sendFile=function(q){"use strict";if(this.$VideoUploadRequest1)throw new Error('An upload request is already in progress.');this.$VideoUploadRequest1=this.$VideoUploadRequestd();var r=q.cloneNode(false);q.name=o;h.replace(q,r);h.appendContent(this.$VideoUploadRequest1.getRoot(),q);this.$VideoUploadRequeste(this.$VideoUploadRequest1);q.name=r.name;h.replace(r,q);};p.prototype.abort=function(){"use strict";if(!this.$VideoUploadRequest1)throw new Error('There is no upload request in progress.');this.$VideoUploadRequest1.abort();this.$VideoUploadRequest1=null;};p.prototype.$VideoUploadRequestc=function(){"use strict";var q=this.__getAsyncRequest().setAllowCrossOrigin(this.$VideoUploadRequest2).setURI(this.$VideoUploadRequest0).setData(this.$VideoUploadRequest3).setRequestHeader('X_FB_VIDEO_WATERFALL_ID',this.$VideoUploadRequest4).setHandler(this.$VideoUploadRequest6).setErrorHandler(this.$VideoUploadRequest7).setTransportErrorHandler(this.$VideoUploadRequest8).setUploadProgressHandler(this.$VideoUploadRequest9);if(this.$VideoUploadRequesta)q.setTimeoutHandler(this.$VideoUploadRequest5,this.$VideoUploadRequesta);return q;};p.prototype.__getAsyncRequest=function(){"use strict";return new g();};p.prototype.$VideoUploadRequestd=function(){"use strict";var q=h.create('form',{action:this.$VideoUploadRequest0,method:'POST'});k.createHiddenInputs(Object.assign({fb_dtsg:i.getToken()},this.$VideoUploadRequest3),q);var r=new j(q,null,{allowCrossOrigin:this.$VideoUploadRequest2});r.subscribe('success',this.$VideoUploadRequestf.bind(this));r.subscribe('failure',this.$VideoUploadRequestg.bind(this));r.subscribe('progress',this.$VideoUploadRequesth.bind(this));return r;};p.prototype.$VideoUploadRequeste=function(q){"use strict";h.appendContent(document.body,q.getRoot());n(q.getRoot());};p.prototype.$VideoUploadRequestf=function(event,q){"use strict";this.$VideoUploadRequest6(q.response);};p.prototype.$VideoUploadRequestg=function(event,q){"use strict";this.$VideoUploadRequest7(q.response);};p.prototype.$VideoUploadRequesth=function(event,q){"use strict";this.$VideoUploadRequest9(q.event);};e.exports=p;},null);
__d("VideoUploadRequestContext",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();function g(){"use strict";this.reset();}g.prototype.setFile=function(h){"use strict";this.$VideoUploadRequestContext0=h;return this;};g.prototype.getFile=function(){"use strict";return this.$VideoUploadRequestContext0;};g.prototype.setMetadata=function(h){"use strict";this.$VideoUploadRequestContext1=h;return this;};g.prototype.getMetadata=function(){"use strict";return this.$VideoUploadRequestContext1;};g.prototype.setVideoID=function(h){"use strict";this.$VideoUploadRequestContext2=h;return this;};g.prototype.getVideoID=function(){"use strict";return this.$VideoUploadRequestContext2;};g.prototype.setStartOffset=function(h){"use strict";this.$VideoUploadRequestContext3=h;return this;};g.prototype.getStartOffset=function(){"use strict";return this.$VideoUploadRequestContext3;};g.prototype.setEndOffset=function(h){"use strict";this.$VideoUploadRequestContext4=h;return this;};g.prototype.getEndOffset=function(){"use strict";return this.$VideoUploadRequestContext4;};g.prototype.setPartitionStartOffset=function(h){"use strict";this.$VideoUploadRequestContext5=h;return this;};g.prototype.getPartitionStartOffset=function(){"use strict";return this.$VideoUploadRequestContext5;};g.prototype.setPartitionEndOffset=function(h){"use strict";this.$VideoUploadRequestContext6=h;return this;};g.prototype.getPartitionEndOffset=function(){"use strict";return this.$VideoUploadRequestContext6;};g.prototype.setTargetID=function(h){"use strict";this.$VideoUploadRequestContext7=h;return this;};g.prototype.getTargetID=function(){"use strict";return this.$VideoUploadRequestContext7;};g.prototype.setSource=function(h){"use strict";this.$VideoUploadRequestContext8=h;return this;};g.prototype.getSource=function(){"use strict";return this.$VideoUploadRequestContext8;};g.prototype.setWaterfallID=function(h){"use strict";this.$VideoUploadRequestContext9=h;return this;};g.prototype.getWaterfallID=function(){"use strict";return this.$VideoUploadRequestContext9;};g.prototype.setSupportsChunking=function(h){"use strict";this.$VideoUploadRequestContexta=h;return this;};g.prototype.getSupportsChunking=function(){"use strict";return this.$VideoUploadRequestContexta;};g.prototype.setSupportsFileAPI=function(h){"use strict";this.$VideoUploadRequestContextb=h;return this;};g.prototype.getSupportsFileAPI=function(){"use strict";return this.$VideoUploadRequestContextb;};g.prototype.reset=function(){"use strict";this.$VideoUploadRequestContext0=null;this.$VideoUploadRequestContext2=null;this.$VideoUploadRequestContext3=null;this.$VideoUploadRequestContext4=null;this.$VideoUploadRequestContext7=null;this.$VideoUploadRequestContext8=null;this.$VideoUploadRequestContext9=null;this.$VideoUploadRequestContexta=null;this.$VideoUploadRequestContextb=null;this.$VideoUploadRequestContext5=null;this.$VideoUploadRequestContext6=null;};e.exports=g;},null);
__d("VideoUploadPostRequestManager",["ArbiterMixin","VideoUploadRequest","mixin"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j=i(g);for(var k in j)if(j.hasOwnProperty(k))m[k]=j[k];var l=j===null?null:j.prototype;m.prototype=Object.create(l);m.prototype.constructor=m;m.__superConstructor__=j;function m(n){"use strict";j.call(this);this.$VideoUploadPostRequestManager0=n;}m.prototype.getRequest=function(){"use strict";return this.$VideoUploadPostRequestManager1;};m.prototype.sendRequest=function(n){"use strict";if(this.$VideoUploadPostRequestManager1)return;var o=Object.assign({},n.getMetadata(),this.__createRequestData(n)),p=o.thumb;delete o.thumb;this.$VideoUploadPostRequestManager1=this.__getVideoUploadRequest(this.$VideoUploadPostRequestManager0).setAllowCrossOrigin(true).setData(o).setThumbnail(p).setWaterfallID(n.getWaterfallID()).setSuccessHandler(this.$VideoUploadPostRequestManager2.bind(this)).setErrorHandler(this.$VideoUploadPostRequestManager3.bind(this)).setTransportErrorHandler(this.$VideoUploadPostRequestManager3.bind(this));this.$VideoUploadPostRequestManager1.send();this.inform('request-started');};m.prototype.__createRequestData=function(n){"use strict";return {video_id:n.getVideoID(),target_id:n.getTargetID(),source:n.getSource(),waterfall_id:n.getWaterfallID(),supports_chunking:n.getSupportsChunking()};};m.prototype.__getVideoUploadRequest=function(n){"use strict";return new h(n);};m.prototype.clearRequest=function(){"use strict";this.$VideoUploadPostRequestManager1=null;};m.prototype.isInProgress=function(){"use strict";return !!this.$VideoUploadPostRequestManager1;};m.prototype.$VideoUploadPostRequestManager2=function(n){"use strict";this.inform('request-finished',{video_id:n.getPayload().video_id});this.clearRequest();};m.prototype.$VideoUploadPostRequestManager3=function(n){"use strict";this.inform('request-failed',{error_code:n.getError(),error_description:n.getErrorDescription(),error_summary:n.getErrorSummary()});this.clearRequest();};e.exports=m;},null);
__d("VideoUploadConnectionMonitor",["ArbiterMixin","Network","VideoUploadFeatureDetector","debounce","mixin"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l=k(g);for(var m in l)if(l.hasOwnProperty(m))o[m]=l[m];var n=l===null?null:l.prototype;o.prototype=Object.create(n);o.prototype.constructor=o;o.__superConstructor__=l;function o(){"use strict";l.call(this);this.$VideoUploadConnectionMonitor0=false;this.$VideoUploadConnectionMonitor1=[];this.$VideoUploadConnectionMonitor2=false;this.$VideoUploadConnectionMonitor3=true;this.$VideoUploadConnectionMonitor4=j(function(){this.$VideoUploadConnectionMonitor5(false);}.bind(this),2000);}o.prototype.notifyStart=function(){"use strict";if(this.$VideoUploadConnectionMonitor2)return;if(this.$VideoUploadConnectionMonitor1.length===0){this.$VideoUploadConnectionMonitor1.push(h.addListener('online',function(){this.$VideoUploadConnectionMonitor5(true);}.bind(this)));this.$VideoUploadConnectionMonitor1.push(h.addListener('offline',function(){if(this.$VideoUploadConnectionMonitor0){this.$VideoUploadConnectionMonitor4();}else{this.$VideoUploadConnectionMonitor4.reset();setTimeout(this.$VideoUploadConnectionMonitor4,2000);}}.bind(this)));}this.$VideoUploadConnectionMonitor2=true;};o.prototype.notifyProgress=function(event){"use strict";if(!this.$VideoUploadConnectionMonitor2)return;if(!event)return;if(i.supportsFullProgress()){this.$VideoUploadConnectionMonitor0=true;if(event.total&&event.loaded===event.total){this.$VideoUploadConnectionMonitor4.reset();}else this.$VideoUploadConnectionMonitor4();}};o.prototype.notifySuccess=function(){"use strict";if(!this.$VideoUploadConnectionMonitor2)return;this.reset();this.$VideoUploadConnectionMonitor5(true);};o.prototype.notifyTransportError=function(){"use strict";if(!this.$VideoUploadConnectionMonitor2)return;this.$VideoUploadConnectionMonitor2=false;this.$VideoUploadConnectionMonitor5(false);};o.prototype.notifyError=function(){"use strict";if(!this.$VideoUploadConnectionMonitor2)return;this.reset();this.$VideoUploadConnectionMonitor5(true);};o.prototype.isOnline=function(){"use strict";return this.$VideoUploadConnectionMonitor3;};o.prototype.reset=function(){"use strict";while(this.$VideoUploadConnectionMonitor1.length)this.$VideoUploadConnectionMonitor1.pop().remove();this.$VideoUploadConnectionMonitor4.reset();this.$VideoUploadConnectionMonitor2=false;};o.prototype.$VideoUploadConnectionMonitor5=function(p){"use strict";this.$VideoUploadConnectionMonitor4.reset();if(this.$VideoUploadConnectionMonitor3!==p){this.$VideoUploadConnectionMonitor3=p;if(this.$VideoUploadConnectionMonitor3){this.inform('online');}else this.inform('offline');}};e.exports=o;},null);
__d("VideoUploadReceiveRequestManager",["ArbiterMixin","VideoUploadConnectionMonitor","VideoUploadRequest","mixin","fbt"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l=1363037,m=j(g);for(var n in m)if(m.hasOwnProperty(n))p[n]=m[n];var o=m===null?null:m.prototype;p.prototype=Object.create(o);p.prototype.constructor=p;p.__superConstructor__=m;function p(q,r,s,t,u,v,w,x,y){"use strict";m.call(this);this.$VideoUploadReceiveRequestManager0=q;this.$VideoUploadReceiveRequestManager1=r;this.$VideoUploadReceiveRequestManager2=s;this.$VideoUploadReceiveRequestManager3=t;this.$VideoUploadReceiveRequestManager4=u;this.$VideoUploadReceiveRequestManager5=v;this.$VideoUploadReceiveRequestManager6=w;this.$VideoUploadReceiveRequestManager7=x;this.$VideoUploadReceiveRequestManager8=y;this.$VideoUploadReceiveRequestManager9=0;this.$VideoUploadReceiveRequestManagera=0;this.$VideoUploadReceiveRequestManagerb=0;this.$VideoUploadReceiveRequestManagerc=null;this.$VideoUploadReceiveRequestManagerd=null;this.$VideoUploadReceiveRequestManagere=0;this.$VideoUploadReceiveRequestManagerf=new h();this.$VideoUploadReceiveRequestManagerf.subscribe('online',this.$VideoUploadReceiveRequestManagerg.bind(this));this.$VideoUploadReceiveRequestManagerf.subscribe('offline',this.$VideoUploadReceiveRequestManagerh.bind(this));}p.prototype.sendRequest=function(q){"use strict";if(this.$VideoUploadReceiveRequestManageri)return;this.$VideoUploadReceiveRequestManagere=q.getEndOffset()-q.getStartOffset();this.$VideoUploadReceiveRequestManagerj=q;this.$VideoUploadReceiveRequestManagerk();};p.prototype.cancelRequest=function(){"use strict";if(!this.$VideoUploadReceiveRequestManageri)return;this.$VideoUploadReceiveRequestManageri.abort();this.$VideoUploadReceiveRequestManagerl();};p.prototype.$VideoUploadReceiveRequestManagerl=function(){"use strict";this.$VideoUploadReceiveRequestManageri=null;this.$VideoUploadReceiveRequestManagerm=null;this.$VideoUploadReceiveRequestManager9=0;this.$VideoUploadReceiveRequestManagera=0;this.$VideoUploadReceiveRequestManagerb=0;this.$VideoUploadReceiveRequestManagerc=null;this.$VideoUploadReceiveRequestManagerd=null;this.$VideoUploadReceiveRequestManagere=0;this.$VideoUploadReceiveRequestManagerj.reset();this.$VideoUploadReceiveRequestManagerf.reset();clearTimeout(this.$VideoUploadReceiveRequestManagern);this.$VideoUploadReceiveRequestManagern=null;};p.prototype.$VideoUploadReceiveRequestManagerk=function(q){"use strict";clearTimeout(this.$VideoUploadReceiveRequestManagern);this.$VideoUploadReceiveRequestManagern=null;if(this.$VideoUploadReceiveRequestManagerj.getSupportsChunking()&&(this.$VideoUploadReceiveRequestManagerj.getStartOffset()>=this.$VideoUploadReceiveRequestManagerj.getPartitionEndOffset())){if(!q)this.inform('request-finished',{start_offset:this.$VideoUploadReceiveRequestManagerj.getEndOffset()-1,end_offset:this.$VideoUploadReceiveRequestManagerj.getEndOffset(),transport_retries:this.$VideoUploadReceiveRequestManager9,server_retries:this.$VideoUploadReceiveRequestManagera,upload_speed:this.$VideoUploadReceiveRequestManagerd});return;}this.$VideoUploadReceiveRequestManageri=this.__getVideoUploadRequest(this.$VideoUploadReceiveRequestManager0).setAllowCrossOrigin(true).setData(this.__createRequestData(this.$VideoUploadReceiveRequestManagerj)).setWaterfallID(this.$VideoUploadReceiveRequestManagerj.getWaterfallID()).setSuccessHandler(this.__handleSuccessResponse.bind(this)).setErrorHandler(this.__handleServerFailureResponse.bind(this)).setTransportErrorHandler(this.$VideoUploadReceiveRequestManagero.bind(this)).setUploadProgressHandler(this.$VideoUploadReceiveRequestManagerp.bind(this));this.$VideoUploadReceiveRequestManagerc=Date.now();if(this.$VideoUploadReceiveRequestManagerj.getSupportsChunking()){if(this.$VideoUploadReceiveRequestManager3){var r=this.$VideoUploadReceiveRequestManagerq(this.$VideoUploadReceiveRequestManagerj.getEndOffset()-this.$VideoUploadReceiveRequestManagerj.getStartOffset(),this.$VideoUploadReceiveRequestManagerd);this.$VideoUploadReceiveRequestManageri.setTimeoutHandler(r,this.__handleResponseTimeout.bind(this));}this.$VideoUploadReceiveRequestManageri.sendChunk(this.$VideoUploadReceiveRequestManagerr());}else this.$VideoUploadReceiveRequestManageri.sendFile(this.$VideoUploadReceiveRequestManagerj.getFile().getFileInput());this.$VideoUploadReceiveRequestManagerf.notifyStart();this.inform('request-started',{start_offset:this.$VideoUploadReceiveRequestManagerj.getStartOffset(),end_offset:this.$VideoUploadReceiveRequestManagerj.getEndOffset(),transport_retries:this.$VideoUploadReceiveRequestManager9,server_retries:this.$VideoUploadReceiveRequestManagera,upload_speed:this.$VideoUploadReceiveRequestManagerd});};p.prototype.__getVideoUploadRequest=function(q){"use strict";return new i(q);};p.prototype.$VideoUploadReceiveRequestManagers=function(q){"use strict";clearTimeout(this.$VideoUploadReceiveRequestManagern);this.$VideoUploadReceiveRequestManagern=setTimeout(this.$VideoUploadReceiveRequestManagerk.bind(this),q);};p.prototype.$VideoUploadReceiveRequestManagerr=function(){"use strict";if(this.$VideoUploadReceiveRequestManagerm)return this.$VideoUploadReceiveRequestManagerm;this.$VideoUploadReceiveRequestManagerm=this.$VideoUploadReceiveRequestManagerj.getFile().getChunk(this.$VideoUploadReceiveRequestManagerj.getStartOffset(),this.$VideoUploadReceiveRequestManagerj.getEndOffset());return this.$VideoUploadReceiveRequestManagerm;};p.prototype.__createRequestData=function(q){"use strict";return {video_id:q.getVideoID(),start_offset:q.getStartOffset(),source:q.getSource(),target_id:q.getTargetID(),waterfall_id:q.getWaterfallID(),supports_chunking:q.getSupportsChunking(),upload_speed:this.$VideoUploadReceiveRequestManagerd,partition_start_offset:q.getPartitionStartOffset(),partition_end_offset:q.getPartitionEndOffset()};};p.prototype.__handleSuccessResponse=function(q){"use strict";var r=Date.now()-this.$VideoUploadReceiveRequestManagerc;r=(r===0)?1:r;var s=q.getPayload();if(s.start_offset===this.$VideoUploadReceiveRequestManagerj.getEndOffset()){var t=this.$VideoUploadReceiveRequestManagerj.getEndOffset()-this.$VideoUploadReceiveRequestManagerj.getStartOffset();this.$VideoUploadReceiveRequestManagerd=Math.floor(t/r);}else this.$VideoUploadReceiveRequestManagerd=null;this.$VideoUploadReceiveRequestManagerf.notifySuccess();this.inform('request-finished',{start_offset:this.$VideoUploadReceiveRequestManagerj.getStartOffset(),end_offset:this.$VideoUploadReceiveRequestManagerj.getEndOffset(),transport_retries:this.$VideoUploadReceiveRequestManager9,server_retries:this.$VideoUploadReceiveRequestManagera,upload_speed:this.$VideoUploadReceiveRequestManagerd});this.$VideoUploadReceiveRequestManagerj.setStartOffset(s.start_offset);this.$VideoUploadReceiveRequestManagerj.setEndOffset(s.end_offset);this.$VideoUploadReceiveRequestManageri=null;this.$VideoUploadReceiveRequestManagerm=null;this.$VideoUploadReceiveRequestManager9=0;this.$VideoUploadReceiveRequestManagera=0;this.$VideoUploadReceiveRequestManagerb=0;if(this.$VideoUploadReceiveRequestManagerj.getSupportsChunking())this.$VideoUploadReceiveRequestManagerk(true);};p.prototype.__handleServerFailureResponse=function(q){"use strict";this.$VideoUploadReceiveRequestManageri=null;this.$VideoUploadReceiveRequestManager9=0;this.$VideoUploadReceiveRequestManagerd=null;this.$VideoUploadReceiveRequestManagerb=0;this.$VideoUploadReceiveRequestManagerf.notifyError();if(this.__hasInvalidStartOffsetAndHasRetries(q.getError())){var r=q.getPayload();if(this.$VideoUploadReceiveRequestManagerj.getStartOffset()!=r.start_offset||this.$VideoUploadReceiveRequestManagerj.getEndOffset()!=r.end_offset){this.$VideoUploadReceiveRequestManagerj.setStartOffset(r.start_offset);this.$VideoUploadReceiveRequestManagerj.setEndOffset(r.end_offset);this.$VideoUploadReceiveRequestManagerm=null;}this.$VideoUploadReceiveRequestManagerk();}else if((q.isTransient()||this.$VideoUploadReceiveRequestManager8)&&++this.$VideoUploadReceiveRequestManagera<=this.$VideoUploadReceiveRequestManager2){this.$VideoUploadReceiveRequestManagers(this.$VideoUploadReceiveRequestManagert(this.$VideoUploadReceiveRequestManager7,this.$VideoUploadReceiveRequestManagera));}else this.$VideoUploadReceiveRequestManageru(q);};p.prototype.__handleResponseTimeout=function(q){"use strict";this.inform('request-timeout',{start_offset:this.$VideoUploadReceiveRequestManagerj.getStartOffset(),end_offset:this.$VideoUploadReceiveRequestManagerj.getEndOffset(),transport_retries:this.$VideoUploadReceiveRequestManager9,server_retries:this.$VideoUploadReceiveRequestManagera,timeout_retries:this.$VideoUploadReceiveRequestManagerb,upload_speed:this.$VideoUploadReceiveRequestManagerd});this.$VideoUploadReceiveRequestManageri.abort();this.$VideoUploadReceiveRequestManageri=null;this.$VideoUploadReceiveRequestManagerd=null;this.$VideoUploadReceiveRequestManagerf.notifyTransportError();if(++this.$VideoUploadReceiveRequestManagerb<=this.$VideoUploadReceiveRequestManager4){var r=this.$VideoUploadReceiveRequestManagerj.getEndOffset()-this.$VideoUploadReceiveRequestManagerj.getStartOffset();r=Math.floor(r/2);r=Math.max(r,this.$VideoUploadReceiveRequestManagere);var s=this.$VideoUploadReceiveRequestManagerj.getEndOffset();s=Math.min(s,this.$VideoUploadReceiveRequestManagerj.getStartOffset()+r);this.$VideoUploadReceiveRequestManagerj.setEndOffset(s);this.$VideoUploadReceiveRequestManagerm=null;this.$VideoUploadReceiveRequestManagerk();}else this.$VideoUploadReceiveRequestManagerv({error_code:1006,error_description:k._("Your browser appears to be offline. Please check your internet connection and try again."),error_summary:k._("No Network Connection")});};p.prototype.__hasInvalidStartOffsetAndHasRetries=function(q){"use strict";return q===l&&++this.$VideoUploadReceiveRequestManagera<=this.$VideoUploadReceiveRequestManager2;};p.prototype.$VideoUploadReceiveRequestManagero=function(q){"use strict";this.$VideoUploadReceiveRequestManagerf.notifyTransportError();this.$VideoUploadReceiveRequestManagerd=null;this.$VideoUploadReceiveRequestManagerb=0;if(++this.$VideoUploadReceiveRequestManager9<=this.$VideoUploadReceiveRequestManager1){this.$VideoUploadReceiveRequestManageri=null;this.$VideoUploadReceiveRequestManagers(this.$VideoUploadReceiveRequestManagert(this.$VideoUploadReceiveRequestManager6,this.$VideoUploadReceiveRequestManager9));}else this.$VideoUploadReceiveRequestManageru(q);};p.prototype.$VideoUploadReceiveRequestManageru=function(q){"use strict";this.$VideoUploadReceiveRequestManagerv({error_code:q.getError(),error_description:q.getErrorDescription(),error_summary:q.getErrorSummary()});};p.prototype.$VideoUploadReceiveRequestManagerv=function(q){"use strict";this.inform('request-failed',q);this.$VideoUploadReceiveRequestManagerl();};p.prototype.$VideoUploadReceiveRequestManagerp=function(event){"use strict";this.$VideoUploadReceiveRequestManagerf.notifyProgress(event);this.inform('request-progressed',{file_size:this.$VideoUploadReceiveRequestManagerj.getFile().getSize(),start_offset:this.$VideoUploadReceiveRequestManagerj.getStartOffset(),sent_bytes:event.loaded});};p.prototype.$VideoUploadReceiveRequestManagerg=function(event){"use strict";this.inform('online');this.$VideoUploadReceiveRequestManager9=0;this.$VideoUploadReceiveRequestManagerb=0;if(this.$VideoUploadReceiveRequestManagern)this.$VideoUploadReceiveRequestManagerk();};p.prototype.$VideoUploadReceiveRequestManagerh=function(event){"use strict";this.inform('offline');};p.prototype.$VideoUploadReceiveRequestManagert=function(q,r){"use strict";return Math.pow(q,r)*1000;};p.prototype.$VideoUploadReceiveRequestManagerq=function(q,r){"use strict";var s;if(r>0){s=r;}else s=10;var t=Math.floor((q/s)*this.$VideoUploadReceiveRequestManager5/100);return Math.max(t,30000);};e.exports=p;},null);
__d("VideoUploadStartRequestManager",["ArbiterMixin","VideoUploadRequest","FileHasher","performanceNow","mixin","Assert"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();var m=k(g);for(var n in m)if(m.hasOwnProperty(n))p[n]=m[n];var o=m===null?null:m.prototype;p.prototype=Object.create(o);p.prototype.constructor=p;p.__superConstructor__=m;function p(q,r,s,t,u){"use strict";m.call(this);this.$VideoUploadStartRequestManager0=q;this.$VideoUploadStartRequestManager1=r;this.$VideoUploadStartRequestManager2=s;this.$VideoUploadStartRequestManager3=0;this.$VideoUploadStartRequestManager4=t;this.$VideoUploadStartRequestManager5=u;}p.prototype.getRequest=function(){"use strict";return this.$VideoUploadStartRequestManager6;};p.prototype.sendRequest=function(q){"use strict";if(this.$VideoUploadStartRequestManager7||this.$VideoUploadStartRequestManager6)return;this.$VideoUploadStartRequestManager8=q;if(this.$VideoUploadStartRequestManager4&&this.$VideoUploadStartRequestManager8.getFile().getFile()&&(this.$VideoUploadStartRequestManager8.getFile().getFile().size<this.$VideoUploadStartRequestManager5)&&i.isSupported()){this.$VideoUploadStartRequestManager9=j();this.$VideoUploadStartRequestManager7=new i();this.$VideoUploadStartRequestManager7.hash(this.$VideoUploadStartRequestManager8.getFile().getFile(),function(r){this.$VideoUploadStartRequestManager9=j()-this.$VideoUploadStartRequestManager9;this.$VideoUploadStartRequestManagera=r.hash;this.$VideoUploadStartRequestManager7.destroy();this.$VideoUploadStartRequestManager7=null;if(!r.hash)this.$VideoUploadStartRequestManagerb=r.exception;this.$VideoUploadStartRequestManagerc();}.bind(this));}else this.$VideoUploadStartRequestManagerc();};p.prototype.$VideoUploadStartRequestManagerc=function(){"use strict";this.$VideoUploadStartRequestManagerd();this.inform('request-started',{hash_time:this.$VideoUploadStartRequestManager9,hash_exception:this.$VideoUploadStartRequestManagerb});};p.prototype.$VideoUploadStartRequestManagerd=function(){"use strict";clearTimeout(this.$VideoUploadStartRequestManagere);this.$VideoUploadStartRequestManagere=null;this.$VideoUploadStartRequestManager6=this.__getVideoUploadRequest(this.$VideoUploadStartRequestManager0).setAllowCrossOrigin(true).setData(this.__getDataToSend(this.$VideoUploadStartRequestManager8,this.$VideoUploadStartRequestManagera)).setWaterfallID(this.$VideoUploadStartRequestManager8.getWaterfallID()).setSuccessHandler(this.$VideoUploadStartRequestManagerf.bind(this)).setErrorHandler(this.$VideoUploadStartRequestManagerg.bind(this)).setTransportErrorHandler(this.$VideoUploadStartRequestManagerh.bind(this));this.$VideoUploadStartRequestManager6.send();};p.prototype.__getVideoUploadRequest=function(q){"use strict";return new h(q);};p.prototype.__getDataToSend=function(q,r){"use strict";return {file_size:q.getFile().getSize(),file_extension:q.getFile().getExtension(),target_id:q.getTargetID(),source:q.getSource(),waterfall_id:q.getWaterfallID(),supports_chunking:q.getSupportsChunking(),supports_file_api:q.getSupportsFileAPI(),partition_start_offset:q.getPartitionStartOffset(),partition_end_offset:q.getPartitionEndOffset(),original_file_hash:r};};p.prototype.cancelRequest=function(){"use strict";this.$VideoUploadStartRequestManageri();};p.prototype.$VideoUploadStartRequestManagerj=function(q){"use strict";clearTimeout(this.$VideoUploadStartRequestManagere);this.$VideoUploadStartRequestManagere=setTimeout(this.$VideoUploadStartRequestManagerd.bind(this),q);};p.prototype.$VideoUploadStartRequestManageri=function(){"use strict";if(this.$VideoUploadStartRequestManager7){this.$VideoUploadStartRequestManager7.destroy();this.$VideoUploadStartRequestManager7=null;}if(this.$VideoUploadStartRequestManager6){this.$VideoUploadStartRequestManager6.abort();this.$VideoUploadStartRequestManager6=null;}this.$VideoUploadStartRequestManager3=0;this.$VideoUploadStartRequestManager8=null;clearTimeout(this.$VideoUploadStartRequestManagere);this.$VideoUploadStartRequestManagere=null;};p.prototype.$VideoUploadStartRequestManagerk=function(q,r){"use strict";return Math.pow(q,r)*1000;};p.prototype.$VideoUploadStartRequestManagerf=function(q){"use strict";var r=q.getPayload();this.inform('request-finished',this.__getSuccessInformData(r));this.$VideoUploadStartRequestManager6=null;l.isTrue(this.$VideoUploadStartRequestManager7==null,'Unexpected: if file hasher is not null, clean up is required.');};p.prototype.__getSuccessInformData=function(q){"use strict";return {video_id:q.video_id,start_offset:q.start_offset,end_offset:q.end_offset,transport_retries:this.$VideoUploadStartRequestManager3,skip_upload:q.skip_upload,hash_time:this.$VideoUploadStartRequestManager9};};p.prototype.$VideoUploadStartRequestManagerg=function(q){"use strict";this.inform('request-failed',this.$VideoUploadStartRequestManagerl(q));this.$VideoUploadStartRequestManager6=null;l.isTrue(this.$VideoUploadStartRequestManager7==null,'Unexpected: if file hasher is not null, clean up is required.');};p.prototype.$VideoUploadStartRequestManagerh=function(q){"use strict";if((this.$VideoUploadStartRequestManager1===0)||(++this.$VideoUploadStartRequestManager3>this.$VideoUploadStartRequestManager1)){this.$VideoUploadStartRequestManagerg(q);}else{this.$VideoUploadStartRequestManager6=null;this.$VideoUploadStartRequestManagerj(this.$VideoUploadStartRequestManagerk(this.$VideoUploadStartRequestManager2,this.$VideoUploadStartRequestManager3));}};p.prototype.$VideoUploadStartRequestManagerl=function(q){"use strict";return {error_code:q.getError(),error_description:q.getErrorDescription(),error_summary:q.getErrorSummary(),transport_retries:this.$VideoUploadStartRequestManager3};};e.exports=p;},null);
__d("VideoUploadMetadataParser",["VideoUploadFeatureDetector","fileSlice"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i=4,j=4,k=5242880,l=24,m=88,n=20,o=16,p=4,q=84;function r(s,t){"use strict";this.$VideoUploadMetadataParser0=s;this.$VideoUploadMetadataParser1=t;}r.prototype.getHandler=function(){"use strict";return this.$VideoUploadMetadataParser1;};r.prototype.parse=function(){"use strict";if(!g.supportsFileReading()){this.$VideoUploadMetadataParser1(null);return;}switch(this.$VideoUploadMetadataParser0.getExtension()){case 'mp4':case 'mov':case 'm4v':case '3gp':case '3g2':break;default:this.$VideoUploadMetadataParser1(null);return;}this.$VideoUploadMetadataParser2(0,Math.min(k,this.$VideoUploadMetadataParser0.getSize()),null);};r.prototype.$VideoUploadMetadataParser2=function(s,t,u){"use strict";var v=new FileReader();v.onload=(function(event){try{var y=this.$VideoUploadMetadataParser3(new DataView(v.result),0,t-s,s,u);if(y.completed){y=this.$VideoUploadMetadataParser4(y);this.$VideoUploadMetadataParser1(y);}else this.$VideoUploadMetadataParser2(s+y.nextOffset,Math.min(this.$VideoUploadMetadataParser0.getSize(),s+y.nextOffset+k),y);}catch(x){this.$VideoUploadMetadataParser1(null);}}.bind(this));var w=this.$VideoUploadMetadataParser0.getFile();v.readAsArrayBuffer(h.call(w,s,t));};r.prototype.$VideoUploadMetadataParser5=function(s,t,u){"use strict";var v=[];for(var w=0;w<u;w++)v.push(String.fromCharCode(s.getUint8(t+w)));return v.join('');};r.prototype.$VideoUploadMetadataParser3=function(s,t,u,v,w){"use strict";if(!w)w={widths:[],heights:[],streamTypes:[],streamDurations:[]};while(t<u){var x=s.getUint32(t),y=this.$VideoUploadMetadataParser5(s,t+i,j);if(t+x>u){w.completed=false;w.nextOffset=t;if(x>u)w.nextOffset+=x;return w;}if(t+v===0&&y!=='ftyp')throw new Error('No ftyp atom');if(x===0)throw new Error('len is 0');var z=function(){var da=s.getUint32(t+n),ea=s.getUint32(t+l);return ea/da;};switch(y){case 'moov':case 'trak':case 'mdia':t+=i+j;break;case 'mvhd':w.duration=z();t+=x;break;case 'tkhd':var aa=s.getUint16(t+q),ba=s.getUint16(t+m);w.widths.push(aa);w.heights.push(ba);t+=x;break;case 'hdlr':var ca=this.$VideoUploadMetadataParser5(s,t+o,p);switch(ca){case 'vide':ca='video';break;case 'soun':ca='audio';break;case 'subt':ca='subtitle';break;default:ca='data';}w.streamTypes.push(ca);t+=x;break;case 'mdhd':w.streamDurations.push(z());t+=x;break;default:t+=x;}}w.completed=true;return w;};r.prototype.$VideoUploadMetadataParser4=function(s){"use strict";var t={streams:{},format:{}},u=s.widths.length,v=s.heights.length,w=s.streamTypes.length,x=s.streamDurations.length;if(u!==v||u!==w||u!==x)return null;for(var y=0;y<u;y++){var z={width:s.widths[y],height:s.heights[y],duration:s.streamDurations[y],type:s.streamTypes[y]};if(z.type==='video'){var aa=z.width*z.height,ba=t.streams.primaryVideo;if(!ba||(ba.width*ba.height)>aa)t.streams.primaryVideo=z;}else if(z.type==='audio'){var ca=t.streams.primaryAudio;if(!ca||ca.duration<z.duration)t.streams.primaryAudio=z;}}t.format.duration=s.duration;return t;};e.exports=r;},null);
__d("VideoUploadSession",["ArbiterMixin","AsyncRequest","VideoUploadFeatureDetector","VideoUploadFileValidator","VideoUploadLogger","VideoUploadMetadataParser","VideoUploadPostRequestManager","VideoUploadReceiveRequestManager","VideoUploadRequestContext","VideoUploadStartRequestManager","WaterfallIDGenerator","mixin"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){b.__markCompiled&&b.__markCompiled();var s=r(g);for(var t in s)if(s.hasOwnProperty(t))v[t]=s[t];var u=s===null?null:s.prototype;v.prototype=Object.create(u);v.prototype.constructor=v;v.__superConstructor__=s;function v(w){"use strict";s.call(this);this.$VideoUploadSession0=w.source;this.$VideoUploadSession1=w.target_id;this.$VideoUploadSession2=w.logging_delay;this.$VideoUploadSession3=w.silent_file_validation;this.$VideoUploadSession4=w.background_upload;this.$VideoUploadSession5=w.actor_id;this.$VideoUploadSession6=new j({minSize:w.min_size,maxSize:w.max_size,minLength:w.min_length,maxLength:w.max_length,minWidth:w.min_width,minHeight:w.min_height,extensions:w.extensions});this.$VideoUploadSession7=i.supportsChunking();this.$VideoUploadSession8=i.supportsFileAPI();if(this.$VideoUploadSession7){this.$VideoUploadSession9=w.parallel_chunk_uploads;if(this.$VideoUploadSession9){this.$VideoUploadSessiona=w.parallel_chunk_upload_filesize;this.$VideoUploadSessionb=w.default_chunk_size;}}else this.$VideoUploadSession9=false;this.$VideoUploadSessionc=this.$VideoUploadSessiond(w);this.$VideoUploadSessione=this.$VideoUploadSessionf(w);if(this.$VideoUploadSession9)this.$VideoUploadSessiong=this.$VideoUploadSessionf(w);this.$VideoUploadSessionh=this.$VideoUploadSessioni(w);}v.prototype.$VideoUploadSessionj=function(){"use strict";this.$VideoUploadSessionk=q.generate();this.$VideoUploadSessionl=new k({actor_id:this.$VideoUploadSession5,source:this.$VideoUploadSession0,waterfall_id:this.$VideoUploadSessionk,target_id:this.$VideoUploadSession1,delay:this.$VideoUploadSession2,is_chunked_upload:this.$VideoUploadSession7});};v.prototype.getLogger=function(){"use strict";if(!this.$VideoUploadSessionl)return;return this.$VideoUploadSessionl;};v.prototype.start=function(w){"use strict";this.$VideoUploadSessionm=null;this.$VideoUploadSessionn=false;this.$VideoUploadSessiono=false;this.$VideoUploadSessionp=w;this.$VideoUploadSessionq=0;this.$VideoUploadSessionj();this.__logEvent(k.EVENT_REQUESTED_UPLOADING);this.inform('upload-requested');var x=new l(this.$VideoUploadSessionp,this.$VideoUploadSessionr.bind(this));x.parse();};v.prototype.post=function(w){"use strict";this.__logEvent(k.EVENT_STARTED_POST_REQUEST);this.inform('post-started',w);var x=this.__createPostRequestContext(w);this.$VideoUploadSessionh.sendRequest(x);};v.prototype.__createPostRequestContext=function(w){"use strict";var x=new o();this.__setupPostRequestContext(x,w);return x;};v.prototype.__setupPostRequestContext=function(w,x){"use strict";w.setMetadata(x).setVideoID(this.$VideoUploadSessionm).setTargetID(this.$VideoUploadSession1).setSource(this.$VideoUploadSession0).setWaterfallID(this.$VideoUploadSessionk).setSupportsChunking(this.$VideoUploadSession7).setFile(this.$VideoUploadSessionp);};v.prototype.cancel=function(){"use strict";if(!this.$VideoUploadSessionn)return;this.$VideoUploadSessions();if(this.$VideoUploadSession4){if(!this.$VideoUploadSessiono)this.__logEvent(k.EVENT_CANCELED_UPLOADING);if(this.$VideoUploadSessiont){this.__logEvent(k.EVENT_CANCELED_FLOW);this.$VideoUploadSessiont=false;}}else{this.__logEvent(k.EVENT_CANCELED_UPLOADING);this.__logEvent(k.EVENT_CANCELED_FLOW);}};v.prototype.abandon=function(){"use strict";if(!this.$VideoUploadSessionn)return;this.$VideoUploadSessions();if(this.$VideoUploadSession4){if(!this.$VideoUploadSessiono)this.__logEvent(k.EVENT_ABANDONED_UPLOADING);if(this.$VideoUploadSessiont){this.__logEvent(k.EVENT_CANCELED_FLOW);this.$VideoUploadSessiont=false;}}else{this.__logEvent(k.EVENT_ABANDONED_UPLOADING);this.__logEvent(k.EVENT_FAILED_FLOW);}};v.prototype.isPostInProgress=function(){"use strict";return this.$VideoUploadSessionh.isInProgress();};v.prototype.isInProgress=function(){"use strict";return this.$VideoUploadSessionn;};v.prototype.getVideoID=function(){"use strict";return this.$VideoUploadSessionm;};v.prototype.getUploadTime=function(){"use strict";return this.$VideoUploadSessionu;};v.prototype.startFlow=function(){"use strict";if(!this.$VideoUploadSession4||this.$VideoUploadSessiont)return;this.__logEvent(k.EVENT_STARTED_FLOW);this.$VideoUploadSessiont=true;};v.prototype.$VideoUploadSessionr=function(w){"use strict";var x,y;if(this.$VideoUploadSession3){var z=this.$VideoUploadSession6.getValidationErrorMessage(this.$VideoUploadSessionp,w);if(z){y={error_summary:z.summary,error_description:z.description};x=false;}else x=true;}else x=this.$VideoUploadSession6.validate(this.$VideoUploadSessionp,w);if(!x){this.__logEvent(k.EVENT_INVALIDATED_UPLOADING);this.inform('upload-failed',y);return;}if(!this.$VideoUploadSession4)this.__logEvent(k.EVENT_STARTED_FLOW);this.$VideoUploadSessionv=this.$VideoUploadSession9&&(this.$VideoUploadSessionp.getSize()>=this.$VideoUploadSessiona);this.$VideoUploadSessionw=false;this.$VideoUploadSessionx=false;this.$VideoUploadSessiony=0;this.$VideoUploadSessionz=this.$VideoUploadSessiony;this.$VideoUploadSessionA=0;if(this.$VideoUploadSessionv){this.$VideoUploadSessionB=Math.floor(this.$VideoUploadSessionp.getSize()/2);this.$VideoUploadSessionC=this.$VideoUploadSessionB;this.$VideoUploadSessionD=this.$VideoUploadSessionC;this.$VideoUploadSessionE=0;this.$VideoUploadSessionF=this.$VideoUploadSessionp.getSize();}else this.$VideoUploadSessionB=this.$VideoUploadSessionp.getSize();var aa=new o().setFile(this.$VideoUploadSessionp).setTargetID(this.$VideoUploadSession1).setSource(this.$VideoUploadSession0).setWaterfallID(this.$VideoUploadSessionk).setSupportsChunking(this.$VideoUploadSession7).setSupportsFileAPI(this.$VideoUploadSession8).setPartitionStartOffset(this.$VideoUploadSessiony).setPartitionEndOffset(this.$VideoUploadSessionB);this.$VideoUploadSessionn=true;this.$VideoUploadSessionc.sendRequest(aa);};v.prototype.$VideoUploadSessiond=function(w){"use strict";var x=this.$VideoUploadSession7?w.chunk_start_uri:w.start_uri,y=this.__getVideoUploadStartRequestManager(x,w.start_max_transport_retries,w.start_transport_retry_interval_base,w.skip_upload_enabled,w.skip_upload_file_size_limit);y.subscribe('request-started',this.$VideoUploadSessionG.bind(this));y.subscribe('request-finished',this.$VideoUploadSessionH.bind(this));y.subscribe('request-failed',this.$VideoUploadSessionI.bind(this));return y;};v.prototype.$VideoUploadSessionf=function(w){"use strict";var x=this.$VideoUploadSession7?w.chunk_receive_uri:w.receive_uri,y=this.__getVideoUploadReceiveRequestManager(x,w);y.subscribe('request-started',this.$VideoUploadSessionJ.bind(this));y.subscribe('request-progressed',this.$VideoUploadSessionK.bind(this));y.subscribe('request-finished',this.$VideoUploadSessionL.bind(this));y.subscribe('request-failed',this.$VideoUploadSessionM.bind(this));y.subscribe('request-timeout',this.$VideoUploadSessionN.bind(this));y.subscribe('online',this.$VideoUploadSessionO.bind(this));y.subscribe('offline',this.$VideoUploadSessionP.bind(this));return y;};v.prototype.$VideoUploadSessioni=function(w){"use strict";var x=this.$VideoUploadSession7?w.chunk_post_uri:w.post_uri,y=this.__getVideoUploadPostRequestManager(x);y.subscribe('request-finished',this.__handlePostRequestFinished.bind(this));y.subscribe('request-failed',this.$VideoUploadSessionQ.bind(this));return y;};v.prototype.$VideoUploadSessionG=function(event,w){"use strict";this.__logEvent(k.EVENT_STARTED_UPLOADING,{hash_time:w.hash_time,hash_exception:w.hash_exception});this.$VideoUploadSessionR=Date.now();this.inform('upload-started');};v.prototype.$VideoUploadSessionH=function(event,w){"use strict";this.__logEvent(k.EVENT_PROGRESS_UPLOADING_START_REQUEST,{transport_retries:w.transport_retries,hash_time:w.hash_time,skip_upload:(w.skip_upload)?1:null});this.$VideoUploadSessionm=w.video_id;this.$VideoUploadSessionS=w.skip_upload;if(!w.skip_upload){var x;x=this.__createReceiveRequestContext(w,false);this.$VideoUploadSessione.sendRequest(x);if(this.$VideoUploadSessionv){x=this.__createReceiveRequestContext(w,true);this.$VideoUploadSessiong.sendRequest(x);}}else{this.inform('upload-progressed',{start_offset:0,end_offset:this.$VideoUploadSessionp.getSize()});if(this.$VideoUploadSession4)this.__logFinishedUploading();this.inform('upload-finished',{start_offset:0,end_offset:this.$VideoUploadSessionp.getSize()});}};v.prototype.__createReceiveRequestContext=function(w,x){"use strict";if(!x)x=false;var y=new o();this.__setupReceiveRequestContext(y,w,x);return y;};v.prototype.__setupReceiveRequestContext=function(w,x,y){"use strict";var z,aa,ba,ca;if(!y){z=this.$VideoUploadSessiony;aa=this.$VideoUploadSessionB;ba=x.start_offset;ca=x.end_offset;}else{z=this.$VideoUploadSessionC;aa=this.$VideoUploadSessionF;ba=this.$VideoUploadSessionC;ca=((this.$VideoUploadSessionC+this.$VideoUploadSessionb)>=this.$VideoUploadSessionF)?this.$VideoUploadSessionF:(this.$VideoUploadSessionC+this.$VideoUploadSessionb);}w.setFile(this.$VideoUploadSessionp).setVideoID(x.video_id).setStartOffset(ba).setEndOffset(ca).setPartitionStartOffset(z).setPartitionEndOffset(aa).setTargetID(this.$VideoUploadSession1).setSource(this.$VideoUploadSession0).setWaterfallID(this.$VideoUploadSessionk).setSupportsChunking(this.$VideoUploadSession7);};v.prototype.$VideoUploadSessionI=function(event,w){"use strict";this.__logEvent(k.EVENT_FAILED_UPLOADING,{error_code:w.error_code,error_description:w.error_description,transport_retries:w.transport_retries});if(this.$VideoUploadSession4){if(this.$VideoUploadSessiont){this.__logEvent(k.EVENT_RESIGNED_FLOW);this.$VideoUploadSessiont=false;}}else this.__logEvent(k.EVENT_RESIGNED_FLOW);this.$VideoUploadSessionn=false;this.inform('upload-failed',w);};v.prototype.$VideoUploadSessionJ=function(event,w){"use strict";if(!w.start_offset&&!w.transport_retries&&!w.server_retries)this.__logEvent(k.EVENT_STARTED_SENDING_BYTES,{total_bytes:this.$VideoUploadSessionp.getSize()});if(this.$VideoUploadSession7)this.__logEvent(k.EVENT_STARTED_SENDING_CHUNK_BYTES,{start_offset:w.start_offset,total_bytes:w.end_offset-w.start_offset,transport_retries:w.transport_retries,server_retries:w.server_retries,upload_speed:w.upload_speed});};v.prototype.$VideoUploadSessionK=function(event,w){"use strict";if(w.start_offset<this.$VideoUploadSessionB){this.$VideoUploadSessionz=w.start_offset;this.$VideoUploadSessionA=w.sent_bytes;}else{this.$VideoUploadSessionD=w.start_offset;this.$VideoUploadSessionE=w.sent_bytes;}w.start_offset=this.$VideoUploadSessionz;w.sent_bytes=this.$VideoUploadSessionA;if(this.$VideoUploadSessionv){w.start_offset+=(this.$VideoUploadSessionD-this.$VideoUploadSessionC);w.sent_bytes+=this.$VideoUploadSessionE;}this.$VideoUploadSessionq=Math.min(w.start_offset+w.sent_bytes,w.file_size);this.inform('upload-progressed',w);};v.prototype.$VideoUploadSessionL=function(event,w){"use strict";if(this.$VideoUploadSession7)this.__logEvent(k.EVENT_FINISHED_SENDING_CHUNK_BYTES,{start_offset:w.start_offset,sent_bytes:w.end_offset-w.start_offset,transport_retries:w.transport_retries,server_retries:w.server_retries,upload_speed:w.upload_speed});if(w.start_offset<this.$VideoUploadSessionB){this.$VideoUploadSessionw=(w.end_offset>=this.$VideoUploadSessionB);}else this.$VideoUploadSessionx=(w.end_offset>=this.$VideoUploadSessionF);if(!this.$VideoUploadSession8||(this.$VideoUploadSessionw&&(!this.$VideoUploadSessionv||this.$VideoUploadSessionx))){this.__logEvent(k.EVENT_FINISHED_SENDING_BYTES,{sent_bytes:this.$VideoUploadSessionp.getSize()});this.$VideoUploadSessionu=Date.now()-this.$VideoUploadSessionR;if(this.$VideoUploadSession4)this.__logFinishedUploading();this.inform('upload-finished',w);}};v.prototype.$VideoUploadSessionM=function(event,w){"use strict";this.__logEvent(k.EVENT_FAILED_UPLOADING,{error_code:w.error_code,error_description:w.error_description});if(this.$VideoUploadSession4){if(this.$VideoUploadSessiont){this.__logEvent(k.EVENT_RESIGNED_FLOW);this.$VideoUploadSessiont=false;}}else this.__logEvent(k.EVENT_RESIGNED_FLOW);this.$VideoUploadSessionn=false;this.inform('upload-failed',w);};v.prototype.$VideoUploadSessionN=function(event,w){"use strict";this.__logEvent(k.EVENT_TIMEOUT_SENDING_CHUNK_BYTES,{start_offset:w.start_offset,sent_bytes:w.end_offset-w.start_offset,transport_retries:w.transport_retries,server_retries:w.server_retries,timeout_retries:w.timeout_retries,upload_speed:w.upload_speed});};v.prototype.$VideoUploadSessionO=function(event,w){"use strict";this.inform('online',w);};v.prototype.$VideoUploadSessionP=function(event,w){"use strict";this.inform('offline',w);};v.prototype.__handlePostRequestFinished=function(event,w){"use strict";this.__logEvent(k.EVENT_FINISHED_POST_REQUEST);if(!w.video_id)w.video_id=this.$VideoUploadSessionm;if(!this.$VideoUploadSession4)this.__logFinishedUploading();this.__logEvent(k.EVENT_FINISHED_FLOW);this.$VideoUploadSessiont=false;this.$VideoUploadSessionn=false;this.inform('post-finished',w);};v.prototype.__logFinishedUploading=function(){"use strict";this.__logEvent(k.EVENT_FINISHED_UPLOADING,{elapsed_time:this.$VideoUploadSessionu,skip_upload:(this.$VideoUploadSessionS)?1:null});this.$VideoUploadSessiono=true;};v.prototype.$VideoUploadSessionQ=function(event,w){"use strict";this.__logEvent(k.EVENT_FAILED_POST_REQUEST);if(this.$VideoUploadSessionn){this.__logEvent(k.EVENT_FAILED_UPLOADING,{error_code:w.error_code,error_description:w.error_description});this.__logEvent(k.EVENT_RESIGNED_FLOW);}this.$VideoUploadSessionn=false;this.inform('post-failed',w);};v.prototype.$VideoUploadSessions=function(){"use strict";this.$VideoUploadSessionc.cancelRequest();this.$VideoUploadSessione.cancelRequest();if(this.$VideoUploadSessionv)this.$VideoUploadSessiong.cancelRequest();if(this.$VideoUploadSessionm){new h('/ajax/video/actions/delete').setData({fbid:this.$VideoUploadSessionm,redirect:false}).send();this.$VideoUploadSessionm=null;}};v.prototype.__logEvent=function(event,w){"use strict";var x=this.getLogger();w=w||{};if(this.$VideoUploadSessionp){w.file_size=this.$VideoUploadSessionp.getSize();w.file_extension=this.$VideoUploadSessionp.getExtension();w.sent_bytes=this.$VideoUploadSessionq;}x.logEvent(event,w);};v.prototype.__getVideoUploadStartRequestManager=function(w,x,y,z,aa){"use strict";return new p(w,x,y,z,aa);};v.prototype.__getVideoUploadReceiveRequestManager=function(w,x){"use strict";return new n(w,x.max_transport_retries,x.max_server_retries,x.response_timeout_enabled,x.max_response_timeout_retries,x.response_timeout_speed_variation_factor_ppt,x.transport_retry_interval_base,x.server_retry_interval_base,x.receive_errors_force_retry);};v.prototype.__getVideoUploadPostRequestManager=function(w){"use strict";return new m(w);};e.exports=v;},null);
__d("VideoUploader",["ArbiterMixin","VideoUploadSession","arrayContains","mixin"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k=j(g);for(var l in k)if(k.hasOwnProperty(l))n[l]=k[l];var m=k===null?null:k.prototype;n.prototype=Object.create(m);n.prototype.constructor=n;n.__superConstructor__=k;function n(o){"use strict";k.call(this);this.$VideoUploader0=o;this.$VideoUploader1=null;}n.prototype.getLogger=function(){"use strict";if(!this.$VideoUploader1)return;if(this.$VideoUploader1.getLogger)return this.$VideoUploader1.getLogger();};n.prototype.upload=function(o){"use strict";if(this.$VideoUploader1)return;this.$VideoUploader1=this.__getVideoUploadSession(this.$VideoUploader0);this.$VideoUploader1.subscribe(this.__getEventsWhichShouldListenFromSession(),function(event,p){return this.$VideoUploader2(event,p);}.bind(this));this.$VideoUploader1.start(o);};n.prototype.__getVideoUploadSession=function(o){"use strict";return new h(o);};n.prototype.__getEventsWhichShouldListenFromSession=function(){"use strict";return ['upload-requested','upload-started','upload-progressed','upload-finished','upload-failed','post-started','post-finished','post-failed','online','offline'];};n.prototype.postUserRequest=function(){"use strict";if(!this.$VideoUploader1)return;if(this.$VideoUploader1.startFlow)this.$VideoUploader1.startFlow();};n.prototype.post=function(o){"use strict";if(!this.$VideoUploader1)return;this.$VideoUploader1.post(o);};n.prototype.cancel=function(){"use strict";if(!this.$VideoUploader1)return;this.$VideoUploader1.cancel();this.$VideoUploader1=null;};n.prototype.abandon=function(){"use strict";if(!this.$VideoUploader1)return;this.$VideoUploader1.abandon();this.$VideoUploader1=null;};n.prototype.reset=function(){"use strict";this.$VideoUploader1=null;};n.prototype.getUploadSession=function(){"use strict";return this.$VideoUploader1;};n.prototype.isPostInProgress=function(){"use strict";return !!this.$VideoUploader1&&this.$VideoUploader1.isPostInProgress();};n.prototype.isSessionInProgress=function(){"use strict";return !!this.$VideoUploader1&&this.$VideoUploader1.isInProgress();};n.prototype.__getSession=function(){"use strict";return this.$VideoUploader1;};n.prototype.__getEventsForWhichSessionShouldBeSetToNull=function(){"use strict";return ['upload-failed','post-finished'];};n.prototype.$VideoUploader2=function(event,o){"use strict";if(i(this.__getEventsForWhichSessionShouldBeSetToNull(),event))this.$VideoUploader1=null;this.__delegateEvent(event,o);};n.prototype.__delegateEvent=function(event,o){"use strict";this.inform(event,o);};e.exports=n;},null);
__d("XPaymentsCreditCardMutatorController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/payments\/credit_card\/mutator\/{mutation_type}\/",{mutation_type:{type:"Enum",required:true,enumType:1}});},null);