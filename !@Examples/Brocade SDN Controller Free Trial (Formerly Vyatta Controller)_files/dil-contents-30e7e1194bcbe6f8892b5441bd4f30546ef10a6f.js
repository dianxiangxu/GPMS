"function"!==typeof window.DIL&&(window.DIL=function(c,e){var h=[],g,m;c!==Object(c)&&(c={});var k,n,t,C,L,y,w,G,z,M,N,H,D;k=c.partner;n=c.containerNSID;t=c.iframeAttachmentDelay;C=!!c.disableDestinationPublishingIframe;L=c.iframeAkamaiHTTPS;y=c.mappings;w=c.uuidCookie;G=!0===c.enableErrorReporting;z=c.visitorService;M=c.declaredId;N=!0===c.removeFinishedScriptsAndCallbacks;H=!0===c.delayAllUntilWindowLoad;D=!0===c.disableIDSyncs;var O,P,Q,I,E,R,S;O=!0===c.disableScriptAttachment;P=!0===c.disableCORSFiring;
Q=!0===c.disableDefaultRequest;I=c.afterResultForDefaultRequest;E=c.dpIframeSrc;R=!0===c.testCORS;S=!0===c.useJSONPOnly;G&&DIL.errorModule.activate();var T=!0===window._dil_unit_tests;(g=e)&&h.push(g+"");if(!k||"string"!==typeof k)return g="DIL partner is invalid or not specified in initConfig",DIL.errorModule.handleError({name:"error",message:g,filename:"dil.js"}),Error(g);g="DIL containerNSID is invalid or not specified in initConfig, setting to default of 0";if(n||"number"===typeof n)n=parseInt(n,
10),!isNaN(n)&&0<=n&&(g="");g&&(n=0,h.push(g),g="");m=DIL.getDil(k,n);if(m instanceof DIL&&m.api.getPartner()===k&&m.api.getContainerNSID()===n)return m;if(this instanceof DIL)DIL.registerDil(this,k,n);else return new DIL(c,"DIL was not instantiated with the 'new' operator, returning a valid instance with partner \x3d "+k+" and containerNSID \x3d "+n);var x={IS_HTTPS:"https:"===document.location.protocol,POST_MESSAGE_ENABLED:!!window.postMessage,COOKIE_MAX_EXPIRATION_DATE:"Tue, 19 Jan 2038 03:14:07 UTC"},
J={stuffed:{}},l={},q={firingQueue:[],fired:[],firing:!1,sent:[],errored:[],reservedKeys:{sids:!0,pdata:!0,logdata:!0,callback:!0,postCallbackFn:!0,useImageRequest:!0},callbackPrefix:"demdexRequestCallback",firstRequestHasFired:!1,useJSONP:!0,abortRequests:!1,num_of_jsonp_responses:0,num_of_jsonp_errors:0,num_of_cors_responses:0,num_of_cors_errors:0,corsErrorSources:[],num_of_img_responses:0,num_of_img_errors:0,toRemove:[],removed:[],readyToRemove:!1,platformParams:{d_nsid:n+"",d_rtbd:"json",d_jsonv:DIL.jsonVersion+
"",d_dst:"1"},nonModStatsParams:{d_rtbd:!0,d_dst:!0,d_cts:!0,d_rs:!0},modStatsParams:null,adms:{TIME_TO_CATCH_ALL_REQUESTS_RELEASE:2E3,calledBack:!1,mid:null,noVisitorAPI:!1,instance:null,releaseType:"no VisitorAPI",admsProcessingStarted:!1,process:function(a){try{if(!this.admsProcessingStarted){var b=this,d,f,s,c,g;if("function"===typeof a&&"function"===typeof a.getInstance){if(z===Object(z)&&(d=z.namespace)&&"string"===typeof d)f=a.getInstance(d);else{this.releaseType="no namespace";this.releaseRequests();
return}if(f===Object(f)&&"function"===typeof f.isAllowed&&"function"===typeof f.getMarketingCloudVisitorID){if(!f.isAllowed()){this.releaseType="VisitorAPI not allowed";this.releaseRequests();return}this.instance=f;this.admsProcessingStarted=!0;s=function(a){"VisitorAPI"!==b.releaseType&&(b.mid=a,b.releaseType="VisitorAPI",b.releaseRequests())};if(T&&(c=z.server)&&"string"===typeof c)f.server=c;g=f.getMarketingCloudVisitorID(s);if("string"===typeof g&&g.length){s(g);return}setTimeout(function(){"VisitorAPI"!==
b.releaseType&&(b.releaseType="timeout",b.releaseRequests())},this.TIME_TO_CATCH_ALL_REQUESTS_RELEASE);return}this.releaseType="invalid instance"}else this.noVisitorAPI=!0;this.releaseRequests()}}catch(e){this.releaseRequests()}},releaseRequests:function(){this.calledBack=!0;q.registerRequest()},getMarketingCloudVisitorID:function(){return this.instance?this.instance.getMarketingCloudVisitorID():null},getMIDQueryString:function(){var a=r.isPopulatedString,b=this.getMarketingCloudVisitorID();if(!a(this.mid)||
this.mid!==b)this.mid=b;return a(this.mid)?"d_mid\x3d"+this.mid+"\x26":""}},declaredId:{declaredId:{init:null,request:null},declaredIdCombos:{},setDeclaredId:function(a,b){var d=r.isPopulatedString,f=encodeURIComponent;if(a===Object(a)&&d(b)){var s=a.dpid,c=a.dpuuid,g=null;if(d(s)&&d(c)){g=f(s)+"$"+f(c);if(!0===this.declaredIdCombos[g])return"setDeclaredId: combo exists for type '"+b+"'";this.declaredIdCombos[g]=!0;this.declaredId[b]={dpid:s,dpuuid:c};return"setDeclaredId: succeeded for type '"+b+
"'"}}return"setDeclaredId: failed for type '"+b+"'"},getDeclaredIdQueryString:function(){var a=this.declaredId.request,b=this.declaredId.init,d="";null!==a?d="\x26d_dpid\x3d"+a.dpid+"\x26d_dpuuid\x3d"+a.dpuuid:null!==b&&(d="\x26d_dpid\x3d"+b.dpid+"\x26d_dpuuid\x3d"+b.dpuuid);return d}},registerRequest:function(a){var b=this.firingQueue;a===Object(a)&&b.push(a);if(!this.firing&&b.length&&(!H||DIL.windowLoaded))if(this.adms.calledBack){if(a=b.shift(),a.src=a.src.replace(/demdex.net\/event\?d_nsid=/,
"demdex.net/event?"+this.adms.getMIDQueryString()+"d_nsid\x3d"),r.isPopulatedString(a.corsPostData)&&(a.corsPostData=a.corsPostData.replace(/^d_nsid=/,this.adms.getMIDQueryString()+"d_nsid\x3d")),A.fireRequest(a),!this.firstRequestHasFired&&("script"===a.tag||"cors"===a.tag))this.firstRequestHasFired=!0}else this.processVisitorAPI()},processVisitorAPI:function(){this.adms.process(window.Visitor)},requestRemoval:function(a){if(!N)return"removeFinishedScriptsAndCallbacks is not boolean true";var b=
this.toRemove,d,f;a===Object(a)&&(d=a.script,f=a.callbackName,(d===Object(d)&&"SCRIPT"===d.nodeName||"no script created"===d)&&("string"===typeof f&&f.length)&&b.push(a));if(this.readyToRemove&&b.length){f=b.shift();d=f.script;f=f.callbackName;"no script created"!==d?(a=d.src,d.parentNode.removeChild(d)):a=d;window[f]=null;try{delete window[f]}catch(c){}this.removed.push({scriptSrc:a,callbackName:f});DIL.variables.scriptsRemoved.push(a);DIL.variables.callbacksRemoved.push(f);return this.requestRemoval()}return"requestRemoval() processed"}};
m=function(){var a="http://fast.",b="?d_nsid\x3d"+n+"#"+encodeURIComponent(document.location.href);if("string"===typeof E&&E.length)return E+b;x.IS_HTTPS&&(a=!0===L?"https://fast.":"https://");return a+k+".demdex.net/dest4.html"+b};var v={THROTTLE_START:3E4,throttleTimerSet:!1,id:"destination_publishing_iframe_"+k+"_"+n,url:m(),iframe:null,iframeHasLoaded:!1,sendingMessages:!1,messages:[],messagesPosted:[],messageSendingInterval:x.POST_MESSAGE_ENABLED?15:100,ibsDeleted:[],jsonProcessed:[],newIframeCreated:null,
iframeIdChanged:!1,originalIframeHasLoadedAlready:null,attachIframe:function(){function a(){f=document.createElement("iframe");f.id=d.id;f.style.cssText="display: none; width: 0; height: 0;";f.src=d.url;d.newIframeCreated=!0;b();document.body.appendChild(f)}function b(){p.addListener(f,"load",function(){d.iframeHasLoaded=!0;d.requestToProcess()})}var d=this,f=document.getElementById(this.id);f?"IFRAME"!==f.nodeName?(this.id+="_2",this.iframeIdChanged=!0,a()):(this.newIframeCreated=!1,"loaded"!==f.className?
(this.originalIframeHasLoadedAlready=!1,b()):(this.iframeHasLoaded=this.originalIframeHasLoadedAlready=!0,this.requestToProcess())):a();this.iframe=f},requestToProcess:function(a,b){var d=this;a&&!r.isEmptyObject(a)&&this.process(a,b);this.iframeHasLoaded&&(this.messages.length&&!this.sendingMessages)&&(this.throttleTimerSet||(this.throttleTimerSet=!0,setTimeout(function(){d.messageSendingInterval=x.POST_MESSAGE_ENABLED?15:150},this.THROTTLE_START)),this.sendingMessages=!0,this.sendMessages())},process:function(a,
b){var d=encodeURIComponent,f,c,g,e,h,k;b===Object(b)&&(k=p.encodeAndBuildRequest(["",b.dpid||"",b.dpuuid||""],","));if((f=a.dests)&&f instanceof Array&&(c=f.length))for(g=0;g<c;g++)e=f[g],e=[d("dests"),d(e.id||""),d(e.y||""),d(e.c||"")],this.addMessage(e.join("|"));if((f=a.ibs)&&f instanceof Array&&(c=f.length))for(g=0;g<c;g++)e=f[g],e=[d("ibs"),d(e.id||""),d(e.tag||""),p.encodeAndBuildRequest(e.url||[],","),d(e.ttl||""),"",k],this.addMessage(e.join("|"));if((f=a.dpcalls)&&f instanceof Array&&(c=
f.length))for(g=0;g<c;g++)e=f[g],h=e.callback||{},h=[h.obj||"",h.fn||"",h.key||"",h.tag||"",h.url||""],e=[d("dpm"),d(e.id||""),d(e.tag||""),p.encodeAndBuildRequest(e.url||[],","),d(e.ttl||""),p.encodeAndBuildRequest(h,","),k],this.addMessage(e.join("|"));this.jsonProcessed.push(a)},addMessage:function(a){var b=encodeURIComponent,b=G?b("---destpub-debug---"):b("---destpub---");this.messages.push(b+a)},sendMessages:function(){var a=this,b;this.messages.length?(b=this.messages.shift(),DIL.xd.postMessage(b,
this.url,this.iframe.contentWindow),this.messagesPosted.push(b),setTimeout(function(){a.sendMessages()},this.messageSendingInterval)):this.sendingMessages=!1}},K={traits:function(a){r.isValidPdata(a)&&(l.sids instanceof Array||(l.sids=[]),p.extendArray(l.sids,a));return this},pixels:function(a){r.isValidPdata(a)&&(l.pdata instanceof Array||(l.pdata=[]),p.extendArray(l.pdata,a));return this},logs:function(a){r.isValidLogdata(a)&&(l.logdata!==Object(l.logdata)&&(l.logdata={}),p.extendObject(l.logdata,
a));return this},customQueryParams:function(a){r.isEmptyObject(a)||p.extendObject(l,a,q.reservedKeys);return this},signals:function(a,b){var d,f=a;if(!r.isEmptyObject(f)){if(b&&"string"===typeof b)for(d in f={},a)a.hasOwnProperty(d)&&(f[b+d]=a[d]);p.extendObject(l,f,q.reservedKeys)}return this},declaredId:function(a){q.declaredId.setDeclaredId(a,"request");return this},result:function(a){"function"===typeof a&&(l.callback=a);return this},afterResult:function(a){"function"===typeof a&&(l.postCallbackFn=
a);return this},useImageRequest:function(){l.useImageRequest=!0;return this},clearData:function(){l={};return this},submit:function(){A.submitRequest(l);l={};return this},getPartner:function(){return k},getContainerNSID:function(){return n},getEventLog:function(){return h},getState:function(){var a={},b={};p.extendObject(a,q,{callbackPrefix:!0,useJSONP:!0,registerRequest:!0});p.extendObject(b,v,{attachIframe:!0,requestToProcess:!0,process:!0,sendMessages:!0});return{pendingRequest:l,otherRequestInfo:a,
destinationPublishingInfo:b}},idSync:function(a){if(D)return"Error: id syncs have been disabled";if(a!==Object(a)||"string"!==typeof a.dpid||!a.dpid.length)return"Error: config or config.dpid is empty";if("string"!==typeof a.url||!a.url.length)return"Error: config.url is empty";var b=a.url,d=a.minutesToLive,f=encodeURIComponent,c,b=b.replace(/^https:/,"").replace(/^http:/,"");if("undefined"===typeof d)d=20160;else if(d=parseInt(d,10),isNaN(d)||0>=d)return"Error: config.minutesToLive needs to be a positive number";
c=p.encodeAndBuildRequest(["",a.dpid,a.dpuuid||""],",");a=["ibs",f(a.dpid),"img",f(b),d,"",c];v.addMessage(a.join("|"));q.firstRequestHasFired&&v.requestToProcess();return"Successfully queued"},aamIdSync:function(a){if(D)return"Error: id syncs have been disabled";if(a!==Object(a)||"string"!==typeof a.dpuuid||!a.dpuuid.length)return"Error: config or config.dpuuid is empty";a.url="//dpm.demdex.net/ibs:dpid\x3d"+a.dpid+"\x26dpuuid\x3d"+a.dpuuid;return this.idSync(a)},passData:function(a){if(r.isEmptyObject(a))return"Error: json is empty or not an object";
v.ibsDeleted.push(a.ibs);delete a.ibs;A.defaultCallback(a);return a},getPlatformParams:function(){return q.platformParams},getEventCallConfigParams:function(){var a=q,b=a.modStatsParams,d=a.platformParams,f;if(!b){b={};for(f in d)d.hasOwnProperty(f)&&!a.nonModStatsParams[f]&&(b[f.replace(/^d_/,"")]=d[f]);a.modStatsParams=b}return b}},A={corsMetadata:function(){var a="none",b=!0;"undefined"!==typeof XMLHttpRequest&&XMLHttpRequest===Object(XMLHttpRequest)&&("withCredentials"in new XMLHttpRequest?a=
"XMLHttpRequest":(new Function("/*@cc_on return /^10/.test(@_jscript_version) @*/"))()?a="XMLHttpRequest":"undefined"!==typeof XDomainRequest&&XDomainRequest===Object(XDomainRequest)&&(b=!1),0<Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")&&(b=!1));return{corsType:a,corsCookiesEnabled:b}}(),getCORSInstance:function(){return"none"===this.corsMetadata.corsType?null:new window[this.corsMetadata.corsType]},submitRequest:function(a){q.registerRequest(A.createQueuedRequest(a));
return!0},createQueuedRequest:function(a){var b=q,d,f=a.callback,c="img",g;if(!r.isEmptyObject(y)){var e,h,k;for(e in y)if(y.hasOwnProperty(e)&&(h=y[e],!(null==h||""===h)&&e in a&&!(h in a)&&!(h in q.reservedKeys)))k=a[e],null==k||""===k||(a[h]=k)}r.isValidPdata(a.sids)||(a.sids=[]);r.isValidPdata(a.pdata)||(a.pdata=[]);r.isValidLogdata(a.logdata)||(a.logdata={});a.logdataArray=p.convertObjectToKeyValuePairs(a.logdata,"\x3d",!0);a.logdataArray.push("_ts\x3d"+(new Date).getTime());"function"!==typeof f&&
(f=this.defaultCallback);b.useJSONP=!0!==a.useImageRequest;b.useJSONP&&(c="script",d=b.callbackPrefix+"_"+n+"_"+(new Date).getTime());b=this.makeRequestSrcData(a,d);if(!S&&(g=this.getCORSInstance())&&b.truncated&&(this.corsMetadata.corsCookiesEnabled||b.isDeclaredIdCall))c="cors";return{tag:c,src:b.src,corsSrc:b.corsSrc,internalCallbackName:d,callbackFn:f,postCallbackFn:a.postCallbackFn,useImageRequest:!!a.useImageRequest,requestData:a,corsInstance:g,corsPostData:b.corsPostData,hasCORSError:!1}},
defaultCallback:function(a,b){var d,f,c,g,e,h,k,n,u;if((d=a.stuff)&&d instanceof Array&&(f=d.length))for(c=0;c<f;c++)if((g=d[c])&&g===Object(g)){e=g.cn;h=g.cv;k=g.ttl;if("undefined"===typeof k||""===k)k=Math.floor(p.getMaxCookieExpiresInMinutes()/60/24);n=g.dmn||"."+document.domain.replace(/^www\./,"");u=g.type;if(e&&(h||"number"===typeof h))"var"!==u&&(k=parseInt(k,10))&&!isNaN(k)&&p.setCookie(e,h,1440*k,"/",n,!1),J.stuffed[e]=h}d=a.uuid;if(r.isPopulatedString(d)&&!r.isEmptyObject(w)){f=w.path;if("string"!==
typeof f||!f.length)f="/";c=parseInt(w.days,10);isNaN(c)&&(c=100);p.setCookie(w.name||"aam_did",d,1440*c,f,w.domain||"."+document.domain.replace(/^www\./,""),!0===w.secure)}!C&&!q.abortRequests&&v.requestToProcess(a,b)},makeRequestSrcData:function(a,b){a.sids=r.removeEmptyArrayValues(a.sids||[]);a.pdata=r.removeEmptyArrayValues(a.pdata||[]);var d=q,f=d.platformParams,c=p.encodeAndBuildRequest(a.sids,","),g=p.encodeAndBuildRequest(a.pdata,","),e=(a.logdataArray||[]).join("\x26");delete a.logdataArray;
var h=x.IS_HTTPS?"https://":"http://",m=d.declaredId.getDeclaredIdQueryString(),l;l=[];var u,t,F,U;for(u in a)if(!(u in d.reservedKeys)&&a.hasOwnProperty(u))if(t=a[u],u=encodeURIComponent(u),t instanceof Array){F=0;for(U=t.length;F<U;F++)l.push(u+"\x3d"+encodeURIComponent(t[F]))}else l.push(u+"\x3d"+encodeURIComponent(t));l=l.length?"\x26"+l.join("\x26"):"";u=!1;c="d_nsid\x3d"+f.d_nsid+m+(c.length?"\x26d_sid\x3d"+c:"")+(g.length?"\x26d_px\x3d"+g:"")+(e.length?"\x26d_ld\x3d"+encodeURIComponent(e):
"");f="\x26d_rtbd\x3d"+f.d_rtbd+"\x26d_jsonv\x3d"+f.d_jsonv+"\x26d_dst\x3d"+f.d_dst;h=h+k+".demdex.net/event";g=d=h+"?"+c+(d.useJSONP?f+"\x26d_cb\x3d"+(b||""):"")+l;2048<d.length&&(d=d.substring(0,d.lastIndexOf("\x26")),u=!0);return{corsSrc:h+"?"+(R?"testcors\x3d1\x26d_nsid\x3d"+n+"\x26":"")+"_ts\x3d"+(new Date).getTime(),src:d,originalSrc:g,truncated:u,corsPostData:c+f+l,isDeclaredIdCall:""!==m}},fireRequest:function(a){if("img"===a.tag)this.fireImage(a);else{var b=q.declaredId,b=b.declaredId.request||
b.declaredId.init||{},b={dpid:b.dpid||"",dpuuid:b.dpuuid||""};"script"===a.tag?this.fireScript(a,b):"cors"===a.tag&&this.fireCORS(a,b)}},fireImage:function(a){var b=q,d,f;b.abortRequests||(b.firing=!0,d=new Image(0,0),b.sent.push(a),d.onload=function(){b.firing=!1;b.fired.push(a);b.num_of_img_responses++;b.registerRequest()},f=function(d){g="imgAbortOrErrorHandler received the event of type "+d.type;h.push(g);b.abortRequests=!0;b.firing=!1;b.errored.push(a);b.num_of_img_errors++;b.registerRequest()},
d.addEventListener?(d.addEventListener("error",f,!1),d.addEventListener("abort",f,!1)):d.attachEvent&&(d.attachEvent("onerror",f),d.attachEvent("onabort",f)),d.src=a.src)},fireScript:function(a,b){var d=this,f=q,c,e,n=a.src,l=a.postCallbackFn,m="function"===typeof l,p=a.internalCallbackName;f.abortRequests||(f.firing=!0,window[p]=function(d){try{d!==Object(d)&&(d={});D&&(v.ibsDeleted.push(d.ibs),delete d.ibs);var c=a.callbackFn;f.firing=!1;f.fired.push(a);f.num_of_jsonp_responses++;c(d,b);m&&l(d,
b)}catch(s){s.message="DIL jsonp callback caught error with message "+s.message;g=s.message;h.push(g);s.filename=s.filename||"dil.js";s.partner=k;DIL.errorModule.handleError(s);try{c({error:s.name+"|"+s.message},b),m&&l({error:s.name+"|"+s.message},b)}catch(n){}}finally{f.requestRemoval({script:e,callbackName:p}),f.registerRequest()}},O?(f.firing=!1,f.requestRemoval({script:"no script created",callbackName:p})):(e=document.createElement("script"),e.addEventListener&&e.addEventListener("error",function(b){f.requestRemoval({script:e,
callbackName:p});g="jsonp script tag error listener received the event of type "+b.type+" with src "+n;d.handleScriptError(g,a)},!1),e.type="text/javascript",e.src=n,c=DIL.variables.scriptNodeList[0],c.parentNode.insertBefore(e,c)),f.sent.push(a),f.declaredId.declaredId.request=null)},fireCORS:function(a,b){function d(d){var e;try{if(e=JSON.parse(d),e!==Object(e)){f.handleCORSError(a,b,"Response is not JSON");return}}catch(l){f.handleCORSError(a,b,"Error parsing response as JSON");return}try{var n=
a.callbackFn;c.firing=!1;c.fired.push(a);c.num_of_cors_responses++;n(e,b);r&&p(e,b)}catch(m){m.message="DIL handleCORSResponse caught error with message "+m.message;g=m.message;h.push(g);m.filename=m.filename||"dil.js";m.partner=k;DIL.errorModule.handleError(m);try{n({error:m.name+"|"+m.message},b),r&&p({error:m.name+"|"+m.message},b)}catch(q){}}finally{c.registerRequest()}}var f=this,c=q,e=this.corsMetadata.corsType,n=a.corsSrc,l=a.corsInstance,m=a.corsPostData,p=a.postCallbackFn,r="function"===
typeof p;if(!c.abortRequests){c.firing=!0;if(P)c.firing=!1;else try{l.open("post",n,!0),"XMLHttpRequest"===e?(l.withCredentials=!0,l.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),l.onreadystatechange=function(){4===this.readyState&&(200===this.status?d(this.responseText):f.handleCORSError(a,b,"onreadystatechange"))}):"XDomainRequest"===e&&(l.onload=function(){d(this.responseText)}),l.onerror=function(){f.handleCORSError(a,b,"onerror")},l.ontimeout=function(){f.handleCORSError(a,
b,"ontimeout")},l.send(m)}catch(t){this.handleCORSError(a,b,"try-catch")}c.sent.push(a);c.declaredId.declaredId.request=null}},handleCORSError:function(a,b,d){a.hasCORSError||(a.hasCORSError=!0,q.num_of_cors_errors++,q.corsErrorSources.push(d),a.tag="script",this.fireScript(a,b))},handleScriptError:function(a,b){q.num_of_jsonp_errors++;this.handleRequestError(a,b)},handleRequestError:function(a,b){var d=q;h.push(a);d.abortRequests=!0;d.firing=!1;d.errored.push(b);d.registerRequest()}},r={isValidPdata:function(a){return a instanceof
Array&&this.removeEmptyArrayValues(a).length?!0:!1},isValidLogdata:function(a){return!this.isEmptyObject(a)},isEmptyObject:function(a){if(a!==Object(a))return!0;for(var b in a)if(a.hasOwnProperty(b))return!1;return!0},removeEmptyArrayValues:function(a){for(var b=0,d=a.length,f,c=[],b=0;b<d;b++)f=a[b],"undefined"!==typeof f&&(null!==f&&""!==f)&&c.push(f);return c},isPopulatedString:function(a){return"string"===typeof a&&a.length}},p={addListener:function(){if(document.addEventListener)return function(a,
b,d){a.addEventListener(b,function(a){"function"===typeof d&&d(a)},!1)};if(document.attachEvent)return function(a,b,d){a.attachEvent("on"+b,function(a){"function"===typeof d&&d(a)})}}(),convertObjectToKeyValuePairs:function(a,b,d){var f=[],c,e;b||(b="\x3d");for(c in a)a.hasOwnProperty(c)&&(e=a[c],"undefined"!==typeof e&&(null!==e&&""!==e)&&f.push(c+b+(d?encodeURIComponent(e):e)));return f},encodeAndBuildRequest:function(a,b){return this.map(a,function(a){return encodeURIComponent(a)}).join(b)},map:function(a,
b){if(Array.prototype.map)return a.map(b);if(void 0===a||null===a)throw new TypeError;var d=Object(a),c=d.length>>>0;if("function"!==typeof b)throw new TypeError;for(var e=Array(c),g=0;g<c;g++)g in d&&(e[g]=b.call(b,d[g],g,d));return e},filter:function(a,b){if(!Array.prototype.filter){if(void 0===a||null===a)throw new TypeError;var d=Object(a),c=d.length>>>0;if("function"!==typeof b)throw new TypeError;for(var e=[],g=0;g<c;g++)if(g in d){var h=d[g];b.call(b,h,g,d)&&e.push(h)}return e}return a.filter(b)},
getCookie:function(a){a+="\x3d";var b=document.cookie.split(";"),d,c,e;d=0;for(c=b.length;d<c;d++){for(e=b[d];" "===e.charAt(0);)e=e.substring(1,e.length);if(0===e.indexOf(a))return decodeURIComponent(e.substring(a.length,e.length))}return null},setCookie:function(a,b,d,c,e,g){var h=new Date;d&&(d*=6E4);document.cookie=a+"\x3d"+encodeURIComponent(b)+(d?";expires\x3d"+(new Date(h.getTime()+d)).toUTCString():"")+(c?";path\x3d"+c:"")+(e?";domain\x3d"+e:"")+(g?";secure":"")},extendArray:function(a,b){return a instanceof
Array&&b instanceof Array?(Array.prototype.push.apply(a,b),!0):!1},extendObject:function(a,b,d){var c;if(a===Object(a)&&b===Object(b)){for(c in b)if(b.hasOwnProperty(c)&&(r.isEmptyObject(d)||!(c in d)))a[c]=b[c];return!0}return!1},getMaxCookieExpiresInMinutes:function(){return((new Date(x.COOKIE_MAX_EXPIRATION_DATE)).getTime()-(new Date).getTime())/1E3/60}};"error"===k&&0===n&&p.addListener(window,"load",function(){DIL.windowLoaded=!0});var B=function(){q.registerRequest();W();!C&&!q.abortRequests&&
v.attachIframe();q.readyToRemove=!0;q.requestRemoval()},W=function(){C||setTimeout(function(){!Q&&(!q.firstRequestHasFired&&!q.adms.admsProcessingStarted&&!q.adms.calledBack)&&("function"===typeof I?K.afterResult(I).submit():K.submit())},DIL.constants.TIME_TO_DEFAULT_REQUEST)},V=document;"error"!==k&&(DIL.windowLoaded?B():"complete"!==V.readyState&&"loaded"!==V.readyState?p.addListener(window,"load",B):DIL.isAddedPostWindowLoadWasCalled?p.addListener(window,"load",B):H||(t="number"===typeof t?parseInt(t,
10):0,0>t&&(t=0),setTimeout(B,t||DIL.constants.TIME_TO_CATCH_ALL_DP_IFRAME_ATTACHMENT)));q.declaredId.setDeclaredId(M,"init");this.api=K;this.getStuffedVariable=function(a){var b=J.stuffed[a];!b&&"number"!==typeof b&&(b=p.getCookie(a),!b&&"number"!==typeof b&&(b=""));return b};this.validators=r;this.helpers=p;this.constants=x;this.log=h;T&&(this.pendingRequest=l,this.requestController=q,this.setDestinationPublishingUrl=m,this.destinationPublishing=v,this.requestProcs=A,this.variables=J,this.callWindowLoadFunctions=
B)},function(){var c=document,e;null==c.readyState&&c.addEventListener&&(c.readyState="loading",c.addEventListener("DOMContentLoaded",e=function(){c.removeEventListener("DOMContentLoaded",e,!1);c.readyState="complete"},!1))}(),DIL.extendStaticPropertiesAndMethods=function(c){var e;if(c===Object(c))for(e in c)c.hasOwnProperty(e)&&(this[e]=c[e])},DIL.extendStaticPropertiesAndMethods({version:"6.0",jsonVersion:1,constants:{TIME_TO_DEFAULT_REQUEST:50,TIME_TO_CATCH_ALL_DP_IFRAME_ATTACHMENT:500},variables:{scriptNodeList:document.getElementsByTagName("script"),
scriptsRemoved:[],callbacksRemoved:[]},windowLoaded:!1,dils:{},isAddedPostWindowLoadWasCalled:!1,isAddedPostWindowLoad:function(c){this.isAddedPostWindowLoadWasCalled=!0;this.windowLoaded="function"===typeof c?!!c():"boolean"===typeof c?c:!0},create:function(c){try{return new DIL(c)}catch(e){return(new Image(0,0)).src="http://error.demdex.net/event?d_nsid\x3d0\x26d_px\x3d14137\x26d_ld\x3dname%3Derror%26filename%3Ddil.js%26partner%3Dno_partner%26message%3DError%2520in%2520attempt%2520to%2520create%2520DIL%2520instance%2520with%2520DIL.create()%26_ts%3D"+
(new Date).getTime(),Error("Error in attempt to create DIL instance with DIL.create()")}},registerDil:function(c,e,h){e=e+"$"+h;e in this.dils||(this.dils[e]=c)},getDil:function(c,e){var h;"string"!==typeof c&&(c="");e||(e=0);h=c+"$"+e;return h in this.dils?this.dils[h]:Error("The DIL instance with partner \x3d "+c+" and containerNSID \x3d "+e+" was not found")},dexGetQSVars:function(c,e,h){e=this.getDil(e,h);return e instanceof this?e.getStuffedVariable(c):""},xd:{postMessage:function(c,e,h){var g=
1;e&&(window.postMessage?h.postMessage(c,e.replace(/([^:]+:\/\/[^\/]+).*/,"$1")):e&&(h.location=e.replace(/#.*$/,"")+"#"+ +new Date+g++ +"\x26"+c))}}}),DIL.errorModule=function(){var c=DIL.create({partner:"error",containerNSID:0,disableDestinationPublishingIframe:!0}),e={harvestererror:14138,destpuberror:14139,dpmerror:14140,generalerror:14137,error:14137,noerrortypedefined:15021,evalerror:15016,rangeerror:15017,referenceerror:15018,typeerror:15019,urierror:15020},h=!1;return{activate:function(){h=
!0},handleError:function(g){if(!h)return"DIL error module has not been activated";g!==Object(g)&&(g={});var m=g.name?(g.name+"").toLowerCase():"",k=[];g={name:m,filename:g.filename?g.filename+"":"",partner:g.partner?g.partner+"":"no_partner",site:g.site?g.site+"":document.location.href,message:g.message?g.message+"":""};k.push(m in e?e[m]:e.noerrortypedefined);c.api.pixels(k).logs(g).useImageRequest().submit();return"DIL error report sent"},pixelMap:e}}(),DIL.tools={},DIL.modules={helpers:{handleModuleError:function(c,
e,h){var g="";e=e||"Error caught in DIL module/submodule: ";c===Object(c)?g=e+(c.message||"err has no message"):(g=e+"err is not a valid object",c={});c.message=g;h instanceof DIL&&(c.partner=h.api.getPartner());DIL.errorModule.handleError(c);return this.errorMessage=g}}});
DIL.tools.getSearchReferrer=function(c,e){var h=DIL.getDil("error"),g=DIL.tools.decomposeURI(c||document.referrer),m="",k="",n={queryParam:"q"},m=h.helpers.filter([e===Object(e)?e:{},{hostPattern:/aol\./},{hostPattern:/ask\./},{hostPattern:/bing\./},{hostPattern:/google\./},{hostPattern:/yahoo\./,queryParam:"p"}],function(c){return!(!c.hasOwnProperty("hostPattern")||!g.hostname.match(c.hostPattern))}).shift();return!m?{valid:!1,name:"",keywords:""}:{valid:!0,name:g.hostname,keywords:(h.helpers.extendObject(n,
m),k=n.queryPattern?(m=(""+g.search).match(n.queryPattern))?m[1]:"":g.uriParams[n.queryParam],decodeURIComponent(k||"").replace(/\+|%20/g," "))}};
DIL.tools.decomposeURI=function(c){var e=DIL.getDil("error"),h=document.createElement("a");h.href=c||document.referrer;return{hash:h.hash,host:h.host.split(":").shift(),hostname:h.hostname,href:h.href,pathname:h.pathname.replace(/^\//,""),protocol:h.protocol,search:h.search,uriParams:function(c,h){e.helpers.map(h.split("\x26"),function(e){e=e.split("\x3d");c[e.shift()]=e.shift()});return c}({},h.search.replace(/^(\/|\?)?|\/$/g,""))}};
DIL.tools.getMetaTags=function(){var c={},e=document.getElementsByTagName("meta"),h,g,m,k,n;h=0;for(m=arguments.length;h<m;h++)if(k=arguments[h],null!==k)for(g=0;g<e.length;g++)if(n=e[g],n.name===k){c[k]=n.content;break}return c};