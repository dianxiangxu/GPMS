var pageType=pageTypeLabel="",pageWidth=getPageProperties(),resizeFn=[],localizedContent=[],resizeInterval=null;$(document).ready(function(){resizeGlobal();$(".main-nav-section").find("ul.tier2").on("click","a[href=#]",function(e){if($("html").width()>=768){e.preventDefault()}});$("#mobile-search-button").on("click",function(e){e.preventDefault();e.stopPropagation();$("#masthead-search").toggleClass("open");$(".utility").find("> li").removeClass("open")});$(".footer-top-section").on("click","a[href=#]",function(e){if($("html").width()<768){e.preventDefault()}});$("body").on("click",".subLinks > a, .subLinks > span",function(e){if($(this).parents("#footer").length&&pageWidth>=768){return false}e.preventDefault();e.stopPropagation();var elem=$(this).parent();elem.siblings().find(".open").removeClass("open").end().removeClass("open");if(elem.hasClass("open")){elem.find(".open").removeClass("open").end().removeClass("open")}else{elem.addClass("open");if(pageType==0){var originalBG=$(this).css("background-color");elem.css({backgroundColor:"#007db8"});$("html, body").animate({scrollTop:$(this).offset().top},function(){elem.animate({backgroundColor:originalBG},500,function(){elem.css("backgroundColor","")})})}}}).on("click",".dropdown",function(e){if($(e.target).parents(".dropdown-menu").length){e.stopPropagation()}else{$(this).siblings().removeClass("open");$("#masthead-search").removeClass("open")}}).on("click",function(){if(pageWidth>767){$("#country-popup").css("display","")}}).on("click",".navbar-toggle",function(e){e.stopPropagation();if($("html").width()<768){e.preventDefault();$("html").toggleClass("openNav");$(".utility").find("> li").removeClass("open");$("#masthead-search").removeClass("open")}});$("#current-country").on("click",function(e){if(pageWidth>767){e.stopPropagation();e.preventDefault();$("#country-popup").toggle()}});$("footer").on("click","a",function(e){e.preventDefault();e.stopImmediatePropagation();location.href=$(this).attr("href")})});$(window).load(function(){$(".bootstrap").each(function(){$(this).get(0).className=$.trim($(this).get(0).className)+" "+$.trim($("html").get(0).className)});if($("html").hasClass("touch")){$.getScript("/static/library/jQueryMobile/jquery.mobile.custom.min.js")}if(pageWidth<992){$.getScript("/static/library/jQuery/jquery.color-2.1.2.min.js")}});addResize("resizeGlobal");$(window).resize(function(){var prevPageType=pageType;pageWidth=getPageProperties();if(prevPageType!=pageType){if(resizeInterval!==null){clearInterval(resizeInterval)}resizeInterval=setInterval(function(){clearInterval(resizeInterval);resizeInterval=null;$.each(resizeFn,function(i,obj){if(typeof obj.fn=="function"){if(obj.type===undefined||obj.type==pageType){obj.fn.call()}}else if(typeof window[obj.fn]=="function"){if(obj.type===undefined||obj.type==pageType){window[obj.fn].call()}}})},100)}});function getPageProperties(){$("body").css("overflow","hidden");var w=$("html").width();$("body").css("overflow","");if(w>=1200){pageType=3;pageTypeLabel="lg"}else if(w>=992){pageType=2;pageTypeLabel="md"}else if(w>=768){pageType=1;pageTypeLabel="sm"}else{pageType=0;pageTypeLabel="xs"}return w}function addResize(fn,runImmediately,type){if(runImmediately){if(typeof fn=="string"&&typeof window[fn]=="function"){window[fn].call()}else if(typeof fn=="function"){fn.call()}}resizeFn.push({fn:fn,type:type})}function resizeGlobal(){$(".open").removeClass("open");$("#country-popup").css("display","")}function makeResponsive(){$(".not-responsive").removeClass("not-responsive").addClass("is-responsive");$("#wrapper").attr("id","").addClass("site-wrapper").wrapInner('<div class="site-canvas">')}function getLocalizedContent(tags){var returnValue={},newTags=[],deferred=$.Deferred();if(typeof tags=="string"){if(localizedContent[tags]){return localizedContent[tags]}else{newTags.push(tags)}}else{$.each(tags,function(i,tag){if(localizedContent[tag]){returnValue[tag]=localizedContent[tag]}else{newTags.push(tag)}})}if(newTags.length){$.ajax({url:((typeof RootPath=="undefined"||RootPath=="/"?"":RootPath)+"/jsonreq/event/").replace("//","/"),type:"POST",dataType:"JSON",data:{type:"localized tags",tags:newTags.join(",")}}).done(function(data){$.each(data.data,function(i,obj){returnValue[obj.id]=obj.value;localizedContent[obj.id]=obj.value});deferred.resolve(returnValue)})}else{deferred.resolve(returnValue)}return deferred}