/*!CK:4127698409!*//*1437965354,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["Y+N+a"]); }

__d("EgoAdsObjectSet",["DOM","csx"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();function i(){"use strict";this._allEgoUnits=[];this._egoUnits=[];}i.prototype.init=function(k){"use strict";this._allEgoUnits=k;this._egoUnits=[];this._allEgoUnits.forEach(function(l){var m=j(l);if(!m||!m.holdout)this._egoUnits.push(l);},this);};i.prototype.getCount=function(){"use strict";return this._egoUnits.length;};i.prototype.forEach=function(k,l){"use strict";this._egoUnits.forEach(k,l);};i.prototype.getUnit=function(k){"use strict";return this._egoUnits[k];};i.prototype.getHoldoutAdIDsForSpace=function(k,l){"use strict";if(!k||!l)return [];var m=[];for(var n=0;k>0&&n<this._allEgoUnits.length;n++){var o=this._allEgoUnits[n],p=l(o),q=j(o);if(k>=p&&q&&q.holdout)m.push(q.adid);k-=p;}return m;};i.prototype.getHoldoutAdIDsForNumAds=function(k){"use strict";k=Math.min(k,this._allEgoUnits.length);var l=[];for(var m=0;m<k;m++){var n=this._allEgoUnits[m],o=j(n);if(o&&o.holdout)l.push(o.adid);}return l;};function j(k){var l=g.scry(k,"div._4u8")[0],m=l&&l.getAttribute('data-ad');return m&&JSON.parse(m)||(void 0);}e.exports=i;},null);
__d("rayInterceptsBox",["invariant"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();function h(j,k){var l=Object.keys(j);k.forEach(function(m){g(l.indexOf(m)!==-1);g(typeof j[m]==='number');});}var i={check:function(j,k){h(j,['minX','maxX','minY','maxY']);h(k,['x','y','dx','dy']);g(j.maxX>j.minX&&j.maxY>j.minY);if(k.dx===0&&k.dy===0)return false;if(k.x>=j.minX&&k.x<=j.maxX&&k.y>=j.minY&&k.y<=j.maxY)return true;var l=(j.minX-k.x)/k.dx,m=(j.maxX-k.x)/k.dx,n=(j.minY-k.y)/k.dy,o=(j.maxY-k.y)/k.dy,p=Math.max(Math.min(l,m),Math.min(n,o)),q=Math.min(Math.max(l,m),Math.max(n,o));if(p<0)return false;if(p>q)return false;return true;}};e.exports=i;},null);
__d("AdsMouseStateStore",["Arbiter","DOM","Event","Vector","$","invariant","keyMirror","rayInterceptsBox","throttle"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){b.__markCompiled&&b.__markCompiled();'use strict';var p=30,q=500,r=m({STATIONARY:null,INTENT:null,HOVER:null,NO_INTENT:null}),s,t,u,v,w;function x(){s=r.STATIONARY;t=0;u=0;v=Date.now();w='pagelet_ego_pane';}x();function y(event){try{return {x:event.clientX||event.x,y:event.clientY||event.y};}catch(aa){var ba=Math.random()*1000;return {x:ba,y:ba};}}var z=Object.assign(new g(),{getState:function(){return s;},updateRhcID:function(aa){l(k(aa));w=aa;},getRhcID:function(){return w;},onPageTransition:function(event){x();},onMouseMove:function(event){this.calculateState(y(event));},__updateMousePos:function(aa){t=aa.x;u=aa.y;},isRhcPresent:function(){if(!h.scry(document.body,'#'+w).length)return false;var aa=this.getRhcDimensions();return (aa.y>0&&aa.x>0);},getRhc:function(){return k(w);},getRhcPosition:function(){return j.getElementPosition(this.getRhc());},getRhcScreenPos:function(){var aa=j.getScrollPosition(),ba=this.getRhcPosition();return {x:ba.x-aa.x,y:ba.y-aa.y};},getRhcDimensions:function(){return j.getElementDimensions(this.getRhc());},getRhcBoundingBox:function(){var aa=this.getRhcDimensions(),ba=this.getRhcScreenPos();return {minX:ba.x,maxX:ba.x+aa.x,minY:ba.y,maxY:ba.y+aa.y};},isPosContainedInRhc:function(aa){var ba=this.getRhcBoundingBox();return (aa.x>=ba.minX&&aa.x<=ba.maxX&&aa.y>=ba.minY&&aa.y<=ba.maxY);},hasMovedMinDistance:function(aa){var ba=aa.x-t,ca=aa.y-u;return (ba*ba+ca*ca)>=p*p;},tooSoon:function(){return Date.now()-v<q;},_updateTime:function(){v=Date.now();},calculateState:function(aa){if(this.tooSoon())return;this._updateTime();if(!this.isRhcPresent())return;if(this.isPosContainedInRhc(aa)){this.transitionToState(r.HOVER);this.__updateMousePos(aa);this.scheduleCheckup();return;}else if(!this.hasMovedMinDistance(aa)){this.transitionToState(r.STATIONARY);return;}var ba=(this.isMovingTowardsRhc(aa))?r.INTENT:r.NO_INTENT;this.transitionToState(ba);this.__updateMousePos(aa);this.scheduleCheckup();},isMovingTowardsRhc:function(aa){var ba={x:t,y:u};if(this.isPosContainedInRhc(ba))return true;var ca=this.getRhcBoundingBox(),da={x:t,y:u,dx:aa.x-t,dy:aa.y-u};return n.check(ca,da);},scheduleCheckup:function(){var aa={x:t,y:u};setTimeout(function(){this.calculateState(aa);}.bind(this),q*1.5);},transitionToState:function(aa){if(aa===s)return;s=aa;z.inform('change');}});i.listen(document,'mousemove',o(z.onMouseMove.bind(z),q));g.subscribe('page_transition',z.onPageTransition);z.STATES=r;z.MIN_MOVE_DISTANCE=p;z.THROTTLE_TIME=q;e.exports=z;},null);
__d("TickerController",["Animation","Arbiter","AsyncSignal","Bootloader","CSS","DOM","Parent","UIPagelet","Vector","$","emptyFunction","ge"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){b.__markCompiled&&b.__markCompiled();var s=1,t=2,u=3,v=4,w=15000,x=null,y={},z={},aa={setActiveInstance:function(ba){x=ba;},getActiveInstance:function(){return x;},clearRHCplaceholder:function(){y.pagelet_rhc_ticker=null;},registerInstance:function(ba,ca,da){z[ba.id]={root:ba,scrollable_area:ca,config:da};j.loadModules(["TickerStoryList"],function(ea){return new ea(ba,ca,da);});},callWithInstance:function(ba,ca){if(!ba)return;var da=m.byClass(p(ba),'fbFeedTicker');j.loadModules(["TickerStoryList"],function(ea){var fa=da?ea.instances()[da.id]:null,ga=z[da.id];if(!fa&&ga){fa=new ea(ga.root,ga.scrollable_area,ga.config);delete z[da.id];}ca(fa);});},isLoaded:function(ba){var ca=y[ba.id];return !ca||ca.status==u;},show:function(ba,ca){j.loadModules(["TickerStoryList"],function(da){return aa._showImpl(da,ba,ca);});},_showImpl:function(ba,ca,da){da=da||q;for(var ea in ba.instances()){var fa=r(ea);if(!fa||fa.parentNode.id==ca.id)continue;aa.hide(fa.parentNode);}aa._doPositionChange(ca);k.show(ca);var ga=y[ca.id];if(ga&&ga.status==s){var ha=(o.getElementDimensions(ca).y||0)>0,ia=ca.id==='pagelet_rhc_ticker'&&!k.hasClass(ca,'hidden_rhc_ticker');if(ha||ia){aa._fetchTickerForPlaceholder(ca,da);}else h.subscribe('Ticker/resized',function(){if(ga.status==s)aa._fetchTickerForPlaceholder(ca,da);});}else{var ja=l.scry(ca,'.fbFeedTicker')[0];aa.callWithInstance(ja,function(ka){x=ka;ka&&ka._poll();y[ca.id]={status:v,callback:da};da();});}h.inform('ticker/show',{node:ca,callback:da});},_doPositionChange:function(ba){if(k.shown(ba))return;new i('/common/ods_endpoint.php',{k:'ticker.render.switch.'+ba.id}).send();},hide:function(ba){var ca=l.scry(ba,'.fbFeedTicker')[0];aa.callWithInstance(ca,function(da){da&&da.hideActiveStory();k.hide(ba);});},hideStoriesByClass:function(ba){j.loadModules(["TickerStoryList"],function(ca){for(var da in ca.instances())l.scry(p(da),ba).forEach(k.hide);});},hideStory:function(ba){aa.callWithInstance(ba,function(ca){ca&&ca.hideStory(ba);});},replaceStory:function(ba,ca){var da=l.scry(document.body,'div.fbFeedTickerStory');aa.callWithInstance(da[0],function(ea){var fa=ea._findStoryById(ba);ea.handleRemoveStory();k.hide(fa);l.insertAfter(fa,ca);ca.setAttribute('data-story-id',fa.getAttribute('id'));var ga=setTimeout(function(){return aa.removeMarkup(ca,fa);},w);ca.setAttribute('data-timeout-token',ga);});},removeMarkup:function(ba,ca){k.addClass(ba,'removedStoryMarkup');new g(ba).to('height',0).duration(500).ondone(function(){l.remove(ba);}).go();},undoHideStory:function(ba){aa.callWithInstance(ba,function(ca){ca&&ca.undoHideStory(ba);});},insertStoriesAtBottom:function(ba){x.insertStoriesAtBottom(ba);},_fetchTickerForPlaceholder:function(ba,ca){var da={handler:function(){y[ba.id].status=u;ca();}};n.loadFromEndpoint('TickerEntStoryPagelet',ba.id,y[ba.id].pageletData,da);y[ba.id].status=t;},registerStoryDialog:function(ba,ca){h.subscribe('ticker/init',function(){var da=r(ba);aa.callWithInstance(da,function(ea){ea&&ea.registerStoryDialog(da,ca);});},h.SUBSCRIBE_ALL);},registerPlaceholder:function(ba,ca){var da=y[ba];y[ba]={status:s,pageletData:ca};if(da&&da.status==v){aa.show(p(ba));da.callback();}}};e.exports=aa;},null);
__d("TickerRightColumnController",["Arbiter","CSS","DOM","Event","NavigationMessage","Run","Style","SubscriptionsHandler","TickerController","Vector","ge","throttle"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){b.__markCompiled&&b.__markCompiled();var s;function t(){var y=q('pagelet_rhc_ticker');y&&o.show(y,v);}function u(){var y=q('pagelet_rhc_ticker');y&&o.hide(y);}function v(){var y=q('pagelet_rhc_ticker'),z=i.scry(y,'.ticker_container')[0],aa=i.scry(y,'.ticker_stream')[0],ba=q('rightCol');if(!y||!z||!aa||!ba)return;m.set(z,'height','0');var ca=75,da=p.getViewportDimensions().y,ea=p.getElementDimensions(ba).y,fa=da-ea-ca,ga=p.getElementDimensions(aa).y,ha=Math.max(Math.min(fa,ga,s.tickerMaxHeight||425),s.tickerMinHeight||225);m.set(z,'height',ha+'px');}function w(y){var z=q('pagelet_reminders'),aa=q('pagelet_rhc_ticker'),ba=z&&i.scry(z,'div.tickerToggleWrapper')[0],ca=aa&&i.scry(aa,'div.tickerToggleWrapper')[0];ba&&h.conditionClass(ba,'displayedTickerToggleWrapper',!y);ca&&h.conditionClass(ca,'displayedTickerToggleWrapper',y);aa&&h.conditionClass(aa,'hidden_rhc_ticker',!y);if(y){v();var da=q('fbTickerClosedEd');da&&h.hide(da);}}var x={init:function(y){s=y;var z=new n();if(s.enableSidebar)z.addSubscriptions(g.subscribe('sidebar/hide',t),g.subscribe('sidebar/show',u),g.subscribe('minisidebar/show',t),g.subscribe('LitestandClassicRHC/loaded',v),j.listen(window,'scroll',r(function(){var ba=i.scry(q('pagelet_rhc_ticker'),'.fbFeedTicker')[0];o.callWithInstance(ba,function(ca){return ca&&ca.handleRemoveStory();});})));if(!h.hasClass(document.documentElement,'sidebarMode')){t();}else if(s.enableSidebar)h.hasClass(document.documentElement,'miniSidebar')?t():u();var aa=function(){z.release();};g.subscribeOnce(k.NAVIGATION_BEGIN,aa);l.onLeave(aa);},initRHCTickerHider:function(y){j.listen(y,'click',this.hideRHCTicker);},showRHCTicker:function(){w(true);},hideRHCTicker:function(){w(false);}};e.exports=x;},null);