/*!CK:3351838181!*//*1438105310,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["dEWWa"]); }

__d("AdmanagerAccountStatuses",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={ACTIVE:1,DISABLED:2,UNSETTLED:3,PENDING_RISK_REVIEW:7,IN_GRACE_PERIOD:9,PENDING_CLOSURE:100,CLOSED:101,PENDING_SETTLEMENT:102,ANY_ACTIVE:201,ANY_CLOSED:202};},null);
__d("AdsAPIShutterstockImageFields",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={ID:"id",PREVIEW:"preview",PREVIEW_URL:"preview_url",THUMBNAIL:"thumbnail"};},null);
__d("AdsInsightsAttributionWindowConfig",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={clickThroughWindows:["1d_click","7d_click","28d_click"],defaultWindow:"default",viewThroughWindows:["1d_view","7d_view","28d_view"],windowValues:{"1d_click":1,"7d_click":7,"28d_click":28,"1d_view":1,"7d_view":7,"28d_view":28}};},null);
__d("AdsPayAPIPaymentMethodPaypalFields",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={ACCOUNT_ID:"account_id",CREDENTIAL_ID:"credential_id",EMAIL_ADDRESS:"email_address",TIME_CREATED:"time_created",TIME_UPDATED:"time_updated"};},null);
__d("AdsReportDatePresetType",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={TODAY:"today",YESTERDAY:"yesterday",LAST_3_DAYS:"last_3_days",THIS_WEEK:"this_week",LAST_WEEK:"last_week",LAST_7_DAYS:"last_7_days",LAST_14_DAYS:"last_14_days",LAST_28_DAYS:"last_28_days",LAST_30_DAYS:"last_30_days",LAST_90_DAYS:"last_90_days",THIS_MONTH:"this_month",LAST_MONTH:"last_month",THIS_QUARTER:"this_quarter",LAST_3_MONTHS:"last_3_months",LIFETIME:"lifetime"};},null);
__d("ApiCreativeTypes",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={STANDARD:1,INLINE_FAN:2,INLINE_RSVP:3,PLATFORM_CONTEXT:4,BASS_PLATFORM_STORY:8,BASS_PAGE_CONNECTIONS:9,BASS_PAGE_CHECKINS:10,PREMIUM_STANDARD:12,PREMIUM_PLATFORM:15,BASS_APP_CONNECTIONS:16,BASS_ENGAGEMENT:17,BASS_LINK_SHARE:19,BASS_QUESTIONS_VOTE:20,QUERY_BASED:25,PAGE_POSTS_V2:27,RESEARCH_POLL:28,TYPEAHEAD:31,CONTEXTUAL_APP_AD:32,PREMIUM_FEED_VIDEO_AD:34,INSTAGRAM_AD:35,EXOTIC_OR_INVALID:0};},null);
__d("BusinessObjectConstantNames",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={ASSET_TYPE:{PAGE:"page",AD_ACCOUNT:"ad-account",PRODUCT_CATALOG:"product-catalog",APP:"app",PIXEL:"pixel",SYSTEM_USER:"system-user",BRAND:"brand",USER:"user",PROJECT:"project",INSTAGRAM_ACCOUNT:"instagram-account",ATLAS_ADVERTISER:"atlas-advertiser",FUNDING_SOURCE:"funding-source",LEGACY_LOGIN:"legacy-login",EXAMPLE_CAT:"example-cat",GRP_PLAN:"grp-plan"},REQUESTED_ASSET_STATUS:{CONFIRMED:"CONFIRMED",PENDING:"PENDING",ERROR:"ERROR"},ACCESS_TYPE:{OWNER:"OWNER",AGENCY:"AGENCY"}};},null);
__d("BusinessObjectFeature",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={CAN_BE_OWNED_BY_BUSINESS:"CAN_BE_OWNED_BY_BUSINESS",CAN_BE_ASIGNED_TO_AGENCY:"CAN_BE_ASIGNED_TO_AGENCY",CAN_BE_ADDED_TO_PROJECT:"CAN_BE_ADDED_TO_PROJECT",CAN_BE_ADDED_TO_AGENCY_PROJECT:"CAN_BE_ADDED_TO_AGENCY_PROJECT",CAN_BE_ADDED_TO_FAVORITES:"CAN_BE_ADDED_TO_FAVORITES",CAN_BE_ASSIGNED_TO_AD_ACCOUNT:"CAN_BE_ASSIGNED_TO_AD_ACCOUNT",HAS_AUTOMATED_SETTINGS:"HAS_AUTOMATED_SETTINGS"};},null);
__d("CreditCardTypeEnum",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={VISA:86,MASTERCARD:77,DISCOVER:68,AMERICANEXPRESS:65,DINERSCLUB:64,JCB:74};},null);
__d("PenguinObjectType",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={ADGROUP:"adgroup",CAMPAIGN:"campaign",CAMPAIGN_GROUP:"campaign_group",ACCOUNT:"account"};},null);
__d("XCommerceErrorParam",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={ERRORS:"errors",GENERAL_ERROR:"general",FIELD_ERRORS:"fields",ERROR_CODE:"code",ERROR_MSG:"message",ERROR_TITLE:"title"};},null);
__d("XPaymentsCreditCardMutatorParam",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={MUTATION_TYPE:"mutation_type",CARD_FBID:"cc_fbid",CACHE_TOKEN:"cache_token",ERRORS:"errors",GENERAL_ERROR:"general",FIELD_ERRORS:"fields",ERROR_CODE:"code",ERROR_MSG:"message",ERROR_TITLE:"title"};},null);
__d("AdsGenericFilterOperator",["keyMirror"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h=g({IN_RANGE:null,CONTAIN:null,EQUAL:null,GREATER_THAN:null,IN:null,NOT_IN_RANGE:null,NOT_CONTAIN:null,NOT_IN:null,NOT_EQUAL:null,LESS_THAN:null});e.exports=h;},null);
__d("BoostedComponentTargetingViewActions",["BoostedComponentClientEvent"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();'use strict';function h(i){this.$BoostedComponentTargetingViewActions0=i;}h.prototype.updateAge=function(i){this.$BoostedComponentTargetingViewActions0.handleUpdateFromViewAction({actionType:g.UPDATE_AGE,data:i});};h.prototype.updateGender=function(i){this.$BoostedComponentTargetingViewActions0.handleUpdateFromViewAction({actionType:g.UPDATE_GENDER,data:i});};h.prototype.updateInterests=function(i){this.$BoostedComponentTargetingViewActions0.handleUpdateFromViewAction({actionType:g.UPDATE_INTERESTS,data:i});};h.prototype.updateGeoLocations=function(i){this.$BoostedComponentTargetingViewActions0.handleUpdateFromViewAction({actionType:g.UPDATE_GEO_LOCATIONS,data:i});};h.prototype.updateCustomLocation=function(i){this.$BoostedComponentTargetingViewActions0.handleUpdateFromViewAction({actionType:g.UPDATE_CUSTOM_LOCATION,data:i});};h.prototype.updateAudience=function(i){this.$BoostedComponentTargetingViewActions0.handleUpdateFromViewAction({actionType:g.UPDATE_AUDIENCE,data:i});};h.prototype.updateAudienceID=function(i){this.$BoostedComponentTargetingViewActions0.handleUpdateFromViewAction({actionType:g.UPDATE_AUDIENCE_ID,data:i});};h.prototype.logUpdateTargetingEvent=function(i){this.$BoostedComponentTargetingViewActions0.handleUpdateFromViewAction({actionType:i});};e.exports=h;},null);
__d("AdsCMClientSidePerfTiming",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();'use strict';e.exports={cstart:a._cstart};},null);
__d("ContextualDialog.react",["ReactAbstractContextualDialog","ReactLayer"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i=h.createClass(g.createSpec({displayName:'ReactContextualDialog'}));e.exports=i;},null);
__d("AdsHelpLink.react",["LayerFadeOnHide","React","Image.react","ContextualDialog.react","ReactLayeredComponentMixin","UserAgent_DEPRECATED","cx","ix","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){b.__markCompiled&&b.__markCompiled();var p=h,q=p.PropTypes,r={imgNormal:n('images/components/HelpLink/info.png'),imgHover:n('images/components/HelpLink/info-hover.png')},s=h.createClass({displayName:"AdsHelpLink",mixins:[k],propTypes:{alignment:q.string,imgNormal:q.object,imgHover:q.object,linger:q.number,position:q.string,width:q.number},getDefaultProps:function(){return {linger:200};},getInitialState:function(){return {showHelp:false,dontShowLayer:false};},componentWillUnmount:function(){clearTimeout(this._lingerTimeout);},_updateShown:function(t){if(t===this.state.showHelp)return;if(!t)this.setState({dontShowLayer:true});this.setState({showHelp:t});if(!t&&l.webkit()){this.setState({showHelp:!t});this.setState({showHelp:t});}},_onMouseEnter:function(){clearTimeout(this._lingerTimeout);this._updateShown(true);this.setState({dontShowLayer:false});},_onMouseEnterLayer:function(){clearTimeout(this._lingerTimeout);if(!this.state.dontShowLayer)this._updateShown(true);},_onMouseLeave:function(){clearTimeout(this._lingerTimeout);if(this.props.linger){this._lingerTimeout=setTimeout(this._updateShown.bind(this,false),this.props.linger);}else this._updateShown(false);},renderLayers:function(){if(!this.state.showHelp)return {};return {tipContextualLayer:h.createElement(j,{alignment:this.props.alignment||"left",contextRef:function(){return this.refs.tipIcon;}.bind(this),shown:this.state.showHelp,position:this.props.position||'right',width:this.props.width,behaviors:{LayerFadeOnHide:g}},h.createElement("div",{className:"_3blz",onMouseEnter:this._onMouseEnterLayer,onMouseLeave:this._onMouseLeave},this.props.children))};},showHelp:function(t){this._updateShown(true);if(t){clearTimeout(this._lingerTimeout);this._lingerTimeout=setTimeout(this._updateShown.bind(this,false),t);}},render:function(){var t=this.state.showHelp?(this.props.imgHover||r.imgHover):(this.props.imgNormal||r.imgNormal);return (h.createElement(i,{ref:"tipIcon",src:t,className:o(this.props.className,"_541d"),onMouseEnter:this._onMouseEnter,onMouseLeave:this._onMouseLeave}));}});e.exports=s;},null);
__d("FBTraceIDsForFailedGraphAPIRequests",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g=[];function h(j){g.push(j);}var i={errorFBTraces:g,insert:h};e.exports=i;},null);
__d("AdsDaoEvents",["Arbiter"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();'use strict';f.Arbiter=new g();f.ArbiterEvents={ERROR:'ads_dao_arbiter_error_event'};},null);
__d("AdsDaoResult",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g={SUCCESS:1,NO_RESULT_RETURNED:2,RESULT_HAS_ERROR:3};e.exports=g;},null);
__d("AdsDaoGraphDataProvider",["AdsDao","AdsDaoGraphAPIConstants","AdsDaoGraphSpec","GraphAPI","Promise","URI","adsGKCheck"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();'use strict';var n=g.DataProvider,o=m('ads_general_2_3_migration');for(var p in n)if(n.hasOwnProperty(p))r[p]=n[p];var q=n===null?null:n.prototype;r.prototype=Object.create(q);r.prototype.constructor=r;r.__superConstructor__=n;function r(){if(n!==null)n.apply(this,arguments);}r.prototype.provideData=function(s,t){var u;if(o){u='2.3';}else u=h.DEFAULT_VERSION;var v=j(s.version||u).path_DO_NOT_USE(s.endpoint);if(s.__batched)v=v.batched();delete s.__batched;v.get(s).done(t,function(w){t({error:w});});};r.prototype.processData=function(s){return s.data||s;};r.prototype.accumulate=function(s,t,u){var v=[],w=0,x=function(y,z,aa){v=v.concat(y);w++;var ba=(u>0)&&(w>=u)||(aa&&aa.summary&&aa.summary.total_count<=v.length);if(z&&!ba){z(x);}else s(v);};this.paged(x,t);};r.prototype.paged=function(s,t){var u=this;function v(w,x){return function(y,z){var aa=z.paging&&z.paging.next,ba=new l(aa);function ca(da){var ea=Object.assign({},x,ba.getQueryData());u.one(v(da,ea),ea);}w(y,aa?ca:null,z);};}this.one(v(s,t),t);};r.prototype.promiseAccumulate=function(s,t){return new k(function(u,v){var w=function(x,y,z){v({result:x,rawData:y,actualParameters:z});};s=Object.assign({},s,{handleError:w});this.accumulate(u,s,t);}.bind(this));};Object.assign(r.prototype,i);e.exports=r;},null);
__d("BinarySearch",["invariant","keyMirror"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();'use strict';var i=h({LEAST_UPPER_BOUND:null,GREATEST_LOWER_BOUND:null,LEAST_STRICT_UPPER_BOUND:null,GREATEST_STRICT_LOWER_BOUND:null}),j=function(l,m){g(typeof l==='number'&&typeof m==='number');return l-m;},k=Object.assign({},i,{find:function(l,m,n,o,p){p=p||j;var q=k.LEAST_UPPER_BOUND,r=k.findBound(l,m,n,o,p,q);if(n<=r&&r<o){var s=l(r);return p(s,m)===0?s:(void 0);}else return (void 0);},findIndex:function(l,m,n,o,p){p=p||j;var q=k.LEAST_UPPER_BOUND,r=k.findBound(l,m,n,o,p,q);if(n<=r&&r<o){return p(l(r),m)===0?r:-1;}else return -1;},findBound:function(l,m,n,o,p,q){switch(q){case k.LEAST_UPPER_BOUND:return k.leastUpperBound(l,m,n,o,p);case k.GREATEST_LOWER_BOUND:return k.greatestLowerBound(l,m,n,o,p);case k.LEAST_STRICT_UPPER_BOUND:return k.leastStrictUpperBound(l,m,n,o,p);case k.GREATEST_STRICT_LOWER_BOUND:return k.greatestStrictLowerBound(l,m,n,o,p);default:g(false);}},leastUpperBound:function(l,m,n,o,p){while(n+1<o){var q=n+Math.floor((o-n)/2);if(p(m,l(q))<=0){o=q;}else n=q;}return n<o&&p(m,l(n))<=0?n:o;},greatestLowerBound:function(l,m,n,o,p){return k.leastStrictUpperBound(l,m,n,o,p)-1;},leastStrictUpperBound:function(l,m,n,o,p){while(n+1<o){var q=n+Math.floor((o-n)/2);if(p(m,l(q))<0){o=q;}else n=q;}return n<o&&p(m,l(n))<0?n:o;},greatestStrictLowerBound:function(l,m,n,o,p){return k.leastUpperBound(l,m,n,o,p)-1;},findInArray:function(l,m,n){return k.find(function(o){return l[o];},m,0,l.length,n);},findIndexInArray:function(l,m,n){return k.findIndex(function(o){return l[o];},m,0,l.length,n);},findBoundInArray:function(l,m,n,o){return k.findBound(function(p){return l[p];},m,0,l.length,n,o);}});e.exports=k;},null);
__d("AdsCFAccountStore",["AdsAccountCapabilities","AdsAccountStoreWrapper","AdsAccountUtils","AdsActionTypes","AdsBaseStore","AdsCFActionTypes","AdsCFPixelDataLoader","AdsCFPrimedDao","AdsCountries","AdsCreationConfig","AdsCreationExperimentStore","AdsDispatcher","AdsPayloadSource","AdsPixelConstants","AdsTimezone","FBDate","ImmutableObject","URI","whitelistObjectKeys","AdsCFConstants"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y){b.__markCompiled&&b.__markCompiled();'use strict';var z=u.timezoneIDToOffsetMap,aa=b('AdsCFConstants').AccountStatus,ba=b('AdsCFConstants').PixelSelectorVersion,ca='USD',da=1,ea=[aa.CLOSED,aa.DISABLED,aa.PENDING_CLOSURE,aa.UNSETTLED],fa=t.statuses,ga,ha,ia,ja,ka;function la(){ga=false;ha={};ia={};ja={};ka=false;}function ma(za){ha.timezoneOffsetHours=z[za];}la();for(var na in k)if(k.hasOwnProperty(na))pa[na]=k[na];var oa=k===null?null:k.prototype;pa.prototype=Object.create(oa);pa.prototype.constructor=pa;pa.__superConstructor__=k;function pa(){if(k!==null)k.apply(this,arguments);}pa.prototype.getStoreName=function(){return 'AdsCFAccountStore';};pa.prototype.getState=function(){var za=Object.assign({},ha);za.isConfigured=ra();return new w(za);};pa.prototype.getAPIState=function(){return new w(ia);};pa.prototype.getInitialState=function(){return new w(ja);};pa.prototype.getAccountID=function(){return ha.accountID;};pa.prototype.getAccount_DO_NOT_USE=function(){return ha;};pa.prototype.getAccountName=function(){return ha.name;};pa.prototype.getDisableReason=function(){return ha.disableReason;};pa.prototype.getPixels=function(){return ha.pixels||[];};pa.prototype.getTosAccepted=function(){if(!ha.tosAccepted)return {};return ha.tosAccepted;};pa.prototype.getTimezoneID=function(){return ha.timezoneID;};pa.prototype.canCreateAds=function(){return ea.indexOf(ha.accountStatus)===-1;};pa.prototype.hasAccountCapability=function(za){return i.hasCapability(ha,za);};pa.prototype.getAccountCapabilities=function(){return ha.capabilities||[];};pa.prototype.isCorporateAccount=function(){return this.hasAccountCapability(g.DIRECT_SALES);};pa.prototype.isLikelyOnlineSales=function(){return ka;};pa.prototype.getBasedInUS=function(){return ha.country==='US';};pa.prototype.getDao=function(){return n.getInstanceForAccount(ha.accountID);};pa.prototype.getHasDuplicatePixelNames=function(za){for(var ab=0;ab<ha.pixels.length;ab++)if(ha.pixels[ab].name===za)return true;return false;};pa.prototype.getHasVerifiedConversionPixels=function(){if(!ha.pixels)return false;var za=ha.pixels.filter(function(ab){return ab.status===fa.ACTIVE||ab.status===fa.INACTIVE;});return za.length>0;};pa.prototype.getPixelSelector=function(){if(h.canSeeUnifiedPixel()){return ba.PIXEL_SELECTOR;}else return this.getHasVerifiedConversionPixels()?ba.CONVERSION_PIXEL_SELECTOR:ba.NO_SELECTOR;};pa.prototype.shouldShowPixelSelector=function(){return this.getPixelSelector()!==ba.NO_SELECTOR;};pa.prototype.onDispatchToken=function(za){var ab=za.action;switch(ab.actionType){case l.INIT_STARTED:ka=!!ab.is_likely_online_sales;break;case l.ACCOUNT_INIT:ua(ab);sa();break;case l.CHANGE_ACCOUNT_NAME:ta(ab,{name:null});break;case l.CHANGE_ACCOUNT_COUNTRY:var bb={country:ab.country,timezoneID:u.countryCodeToTimezoneIDsMap[ab.country][0]};if(!ga){bb.currency=o.getCurrencyByCountry(ab.country);ta(bb,{country:null,timezoneID:null,currency:null});sa();}else ta(bb,{country:null,timezoneID:null});ma(bb.timezoneID);break;case l.CHANGE_ACCOUNT_CURRENCY:ta(ab,{currency:null});ga=za.payloadsource===s.VIEW_ACTION;break;case l.CHANGE_ACCOUNT_TIMEZONE_ID:ta(ab,{timezoneID:null});ma(ab.timezoneID);sa();break;case l.CONVERSION_PIXELS_CHANGE:ta(ab,{pixels:null});break;case l.OFFSITE_PIXELS_TOS_ACCEPTED:ha=Object.assign({},ha,{isOffsitePixelsTOSAccepted:true});break;case l.ACCOUNT_CAPABILITIES_ADD:ha.capabilities=ha.capabilities.concat(ab.capabilities);break;case l.COUPON_ACTIVATED:ta(ab,{couponActivationResponse:null});if(ab.couponActivationResponse.success)ya();break;case l.CHANGE_FUNDING_SOURCE:ta(ab,{fundingSourceDetails:null});break;case j.PAGE_TRANSITION:la();break;}};var qa=new pa();a.debug_AdsCFAccountStore=qa;function ra(){return !!(ha.dailySpendLimit||i.hasCapability(ha,g.DIRECT_SALES));}function sa(){v.setupTimezoneFallback(ha.timezoneID,ha.timezoneOffsetHours);}function ta(za,ab){ha=Object.assign({},ha,y(za,ab));qa.inform('change');}function ua(za){var ab=za.accountConfig,bb=i.hasCapability(ab,g.CAN_UPDATE_CURRENCY),cb=ab.country,db=ab.currency,eb=ab.timezone_id,fb=ab.name;if(bb){if(db===ca&&p.userLocalCurrencyCode!==ca)db=p.userLocalCurrencyCode||db;if(eb===da&&p.userLocalTimezoneID!==da)eb=p.userLocalTimezoneID||eb;cb=ab.business_country_code||p.userLocalCountryCode||cb||'US';fb=fb||p.userName;}ia=Object.assign({},ab,{amount_spent:parseInt(ab.amount_spent,10),country:cb,currency:db,daily_spend_limit:parseInt(ab.daily_spend_limit,10),spend_cap:parseInt(ab.spend_cap,10),timezone_id:eb,timezone_offset_hours_utc:ab.timezone_offset_hours_utc||0});ha=Object.assign({},ha,{accountID:ab.account_id,age:ab.age,amountSpent:parseInt(ab.amount_spent,10),businessCountryCode:ab.business_country_code,capabilities:ab.capabilities,country:cb,currency:db,dailySpendLimit:parseInt(ab.daily_spend_limit,10),disableReason:ab.disable_reason,fundingSource:ab.funding_source,fundingSourceDetails:ab.funding_source_details,id:ab.id,isAllowedToEditCurrency:bb,isNUX:bb,isOffsitePixelsTOSAccepted:ab.offsite_pixels_tos_accepted,isPrepayAccount:ab.is_prepay_account,isTaxIDRequired:ab.is_tax_id_required,tosAccepted:ab.tos_accepted,minDailyBudget:ab.min_daily_budget,mooDefaultConversionBid:ab.moo_default_conversion_bid,name:fb,accountStatus:ab.account_status,spendCap:parseInt(ab.spend_cap,10),timezoneID:eb,timezoneOffsetHours:ab.timezone_offset_hours_utc,users:ab.users});ha.timezoneOffsetHours=ha.timezoneOffsetHours||0;qa.inform('change');va();xa();ja=Object.assign({},ha);var gb=qa.getDao();gb.fetch.connectionObjectsForAccount.one();gb.fetch.audiencesForAccount.one();}function va(){m.loadPixels(ha.accountID).then(function(za){r.handleUpdateFromServerResponse({pixels:za.data,type:l.CONVERSION_PIXELS_CHANGE});});}var wa;function xa(){var za=x.getRequestURI().getQueryData().coupon;if(!za||wa)return;wa=true;var ab=q.getExperiment('ads_creation_streamline_coupon_3');if(ab.getInExperiment())ab.logExposure();if(!ab.getInExperiment()||ab.getParam('in_test')==='0')return;qa.getDao().add.activateCoupon.one(function(bb){r.handleUpdateFromServerResponse({couponActivationResponse:bb,type:l.COUPON_ACTIVATED});}.bind(this),{accountId:ha.accountID,coupon_code:za});}function ya(){var za=qa.getDao();za.fetch.accountInfo.clearCache();za.fetch.accountInfo.one(function(ab){r.handleUpdateFromServerResponse({fundingSourceDetails:ab.funding_source_details,type:l.CHANGE_FUNDING_SOURCE});}.bind(this),{accountId:ha.accountID,fields:'funding_source_details'});}e.exports=qa;},null);
__d("AdsCurrencyFormatter",["Currency","NumberFormatConfig","intlNumUtils"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();function j(da){return Math.round(Math.log(da)/Math.LN10);}function k(da,ea,fa){var ga=g.getFormat(da)||'{symbol}{amount}',ha=g.getSymbol(da)||'',ia=ga.replace('{symbol}',ha).replace('{amount}',ea);if(fa)return ia+' '+g.getISO(da);return ia;}function l(da,ea,fa){var ga=g.getOffset(da)||100,ha=j(ga);return i.formatNumberRaw(ea/ga,ha,fa?h.numberDelimiter:'',h.decimalSeparator,h.minDigitsForThousandsSeparator);}function m(da,ea,fa,ga){var ha=l(da,ea,ga);return k(da,ha,fa);}function n(da,ea){return m(da,ea);}function o(da,ea){return l(da,ea);}function p(da,ea){return m(da,ea,true);}function q(da,ea){return m(da,ea,false,true);}function r(da,ea){var fa=g.getOffset(da)||100,ga=j(fa);while(ea!==0&&Math.round(ea*Math.pow(10,ga)/fa)<1)ga++;var ha=i.formatNumberRaw(ea/fa,ga,h.numberDelimiter,h.decimalSeparator,h.minDigitsForThousandsSeparator);return k(da,ha,false);}function s(da,ea){var fa=g.getOffset(da)||100,ga=j(fa);if(ga&&(ea%fa===0))ga=0;var ha=i.formatNumberRaw(ea/fa,ga,'',h.decimalSeparator);return k(da,ha,false);}function t(da,ea,fa){return w(n(da,ea),n(da,fa));}function u(da,ea,fa,ga){if(ga-fa<ea){return n(da,ga);}else return t(da,fa,ga);}var v='\u2013';function w(da,ea){return da+v+ea;}function x(da,ea,fa){return y(da,ea,fa)||0;}function y(da,ea,fa){var ga=g.getOffset(da),ha=i.parseNumberRaw(ea,fa,h.numberDelimiter);if(ha==null)return null;return Math.round(ha*ga);}function z(da,ea){var fa=g.getOffset(da),ga=j(fa),ha=i.parseNumber(ea)||0;return +(ha).toFixed(ga);}function aa(da,ea,fa){var ga=fa||h.decimalSeparator;return x(da,ea,ga);}function ba(da,ea,fa){var ga=fa||h.decimalSeparator;return y(da,ea,ga);}function ca(da,ea,fa,ga){return m(da,ea,fa,ga);}e.exports={formatCurrency:n,formatCurrencyAtLeastOneSigFig:r,formatCurrencyFullFormat:ca,formatCurrencyNoSymbol:o,formatCurrencyRange:t,formatCurrencyRangeWithThreshold:u,formatCurrencyWithISO:p,formatCurrencyWithNumberDelimiters:q,formatCurrencyWithOptionalDecimals:s,formatRange:w,parseCurrency:aa,parseOptionalCurrency:ba,parsePECurrency:z};},null);
__d("cssVar",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();function g(h){throw new Error('cssVar'+'("'+h+'"): Unexpected class transformation.');}e.exports=g;},null);
__d("AdsCanvasAppInstallsBudgetDelegate",["AdsAPIObjectives","AdsCanvasAppBudgetDelegate"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();'use strict';for(var i in h)if(h.hasOwnProperty(i))k[i]=h[i];var j=h===null?null:h.prototype;k.prototype=Object.create(j);k.prototype.constructor=k;k.__superConstructor__=h;function k(){if(h!==null)h.apply(this,arguments);}k.getObjective=function(){return g.CANVAS_APP_INSTALLS;};e.exports=k;},null);
__d("DatePickerRestraints",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g={enforceDateIsEarlierThan:function(h){return function(i){return i.getTime()<h.getTime();};},enforceDateIsNoEarlierThan:function(h){return function(i){return i.getTime()>=h.getTime();};},enforceDateIsLaterThan:function(h){return function(i){return i.getTime()>h.getTime();};},enforceDateIsNoLaterThan:function(h){return function(i){return i.getTime()<=h.getTime();};},isValidDate:function(h,i){var j=h instanceof Date&&!isNaN(h.getTime());if(j&&i)return i.every(function(k){return k(h);});return j;}};e.exports=g;},null);
__d("XUICalendar.react",["DateFormatConfig","List.react","React","cx","emptyFunction","joinClasses","keyOf"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();var n=i,o=n.PropTypes,p=7,q=6,r="_5hpv clearfix",s=m({start:null}),t=m({mid:null}),u=m({end:null}),v=m({only:null}),w=i.createClass({displayName:"XUICalendar",propTypes:{interactive:o.bool,dateRestraints:o.arrayOf(o.func),focusTime:o.number.isRequired,selectTime:o.number,rangeSelectTime:o.number,highlightedTimes:o.array,allowVariableRowCount:o.bool,allowDuplicateSelection:o.bool,onSelectDateChange:o.instanceOf(Function).isRequired,dayInnerFormatter:o.func},getDefaultProps:function(){return {interactive:true,rangeSelectTime:null,allowVariableRowCount:true,allowDuplicateSelection:false};},selectDate:function(y){var z=!this.isDateSelected(y)||this.props.allowDuplicateSelection;if(this.isDateValid(y)&&z)this.props.onSelectDateChange(y);},_areSameDate:function(y,z){return (y&&z&&y instanceof Date&&z instanceof Date&&w.normalizeDate(y).getTime()===w.normalizeDate(z).getTime());},isDateSelected:function(y){return this._areSameDate(y,new Date(this.props.selectTime));},isDateHighlighted:function(y){return this.props.highlightedTimes&&this.props.highlightedTimes.some(function(z){return this._areSameDate(y,new Date(z));}.bind(this));},isDateValid:function(y){if(this.props.dateRestraints)return this.props.dateRestraints.every(function(z){return z(y);});return true;},render:function(){var y=new Date(this.props.focusTime),z=w.normalizeDate(y);z.setUTCDate(1);var aa=g.weekStart,ba=this.props.selectTime,ca=null,da=null;if(this.props.rangeSelectTime!==null)ca=w.normalizeDate(new Date(this.props.rangeSelectTime)).getTime();if(ba&&ca){var ea=Math.min(ba,ca),fa=Math.max(ba,ca);da={minTime:ea,maxTime:fa,hasDuration:ea<fa};}var ga=[],ha=[],ia=((z.getUTCDay()+6-aa)%7);for(var ja=0;ja<ia;++ja)ha.push(i.createElement("span",{key:ja,className:"_5c68"}));var ka=this.props.interactive?this.selectDate:k;while(z.getUTCMonth()==y.getUTCMonth()){var la=z.getTime(),ma=new Date(la);z.setUTCDate(z.getUTCDate()+1);var na=z.getUTCMonth()>ma.getUTCMonth(),oa=(ha.length+1)%7,pa=oa==1||ma.getUTCDate()==1,qa=oa===0||na,ra=null,sa=null;if(da){if(la>da.minTime&&la<da.maxTime){ra=t;}else if(la==da.minTime){ra=s;}else if(la==da.maxTime)ra=u;if(!da.hasDuration){sa=v;}else if(qa){sa=pa||ra==s?v:u;}else if(pa){sa=ra==u?v:s;}else sa=t;}ha.push(i.createElement(x,{key:ma,date:ma,onSelect:ka,valid:this.isDateValid(ma),selected:this.isDateSelected(ma),highlighted:this.isDateHighlighted(ma),rangePosition:ra,rowPosition:sa,dayInnerFormatter:this.props.dayInnerFormatter}));if(qa){ga.push(ha);ha=[];}}if(ha.length)ga.push(ha);if(!this.props.allowVariableRowCount)for(var ta=ga.length;ta<q;++ta)ga.push(i.createElement("span",{className:"_5c68"}));ga=ga.map(function(wa,xa){return i.createElement("div",{key:xa,className:r},wa);});var ua=[];for(var va=0;va<p;++va)ua.push(i.createElement("li",{key:va,className:"_5c69"},g.shortDayNames[(aa+va)%7]));return (i.createElement("div",i.__spread({},this.props,{className:l(this.props.className,(("_5c6a")+(this.props.interactive?' '+"_5hpw":'')))}),i.createElement(h,{className:"_5c6g _50f8",direction:"horizontal",border:"none",spacing:"none"},ua),i.createElement("div",{className:"_5c6h clearfix"},ga)));}});w.normalizeDate=function(y){return new Date(Date.UTC(y.getUTCFullYear(),y.getUTCMonth(),y.getUTCDate()));};var x=i.createClass({displayName:"Day",propTypes:{date:o.instanceOf(Date).isRequired,onSelect:o.func.isRequired,valid:o.bool,selected:o.bool,highlighted:o.bool,rowPosition:o.oneOf([s,t,u,v]),rangePosition:o.oneOf([s,t,u]),dayInnerFormatter:o.func},render:function(){var y=this.props,z=y.rowPosition,aa=y.rangePosition,ba=aa==s||(aa==t&&z==s),ca=aa==u||(aa==t&&z==u),da=z==v,ea=aa==s||aa==u,fa=(("_5c66")+(y.valid?' '+"_5hpx":'')+(aa?' '+"_5hpy":'')+(ba?' '+"_5hpz":'')+(ca?' '+"_5hp-":'')+(da?' '+"_5hp_":'')+(ea?' '+"_5hq0":'')),ga=(("_5hq1")+(y.selected?' '+"_5hq2":'')+(y.highlighted?' '+"_5xur":'')),ha={};if(y.dayInnerFormatter)ha=y.dayInnerFormatter(y.date);return (i.createElement("a",i.__spread({},this.props,{className:l(this.props.className,fa),style:ha,href:"#",onClick:this._onSelect}),i.createElement("span",{className:ga},this.props.date.getUTCDate())));},_onSelect:function(){if(!this.props.valid)return;this.props.onSelect(this.props.date);}});e.exports=w;},null);
__d("XUIDateTimePickerUtils",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g=60,h=3600000,i=3600,j=60,k={offsetDate:function(l,m,n){var o=m!==(void 0)?m:(l.getTimezoneOffset()/g)*-1,p=n?-1:1,q=o>=0?p:p*-1,r=Math.abs(o)*h;return new Date(l.getTime()+r*q);},getOffsetUIDate:function(l,m){return this.offsetDate(l,m);},getOffsetUISecondsSinceMidnightUTC:function(l,m){return this.getSecondsSinceMidnightUTC(this.getOffsetUIDate(l,m));},getActualDateFromOffsetUIDate:function(l,m){return this.offsetDate(l,m,true);},getActualDateFromOffsetUISeconds:function(l,m,n){var o=this.getDateAtTimeUTC(this.getOffsetUIDate(m,n),l);return this.getActualDateFromOffsetUIDate(o,n);},getActualCanonicalDate:function(l,m,n){var o=this.getOffsetUIDate(m,n),p=0;if(o.getUTCDate()!==m.getUTCDate())p=o.getTime()<m.getTime()?1:-1;var q=new Date(l);q.setUTCDate(q.getUTCDate()+p);return q;},getActualDateFromOffsetUICanonicalDate:function(l,m,n){var o=this.getActualCanonicalDate(l,m,n),p=this.getSecondsSinceMidnightUTC(m);return this.getDateAtTimeUTC(o,p);},getSecondsSinceMidnightUTC:function(l){return l.getUTCHours()*i+l.getUTCMinutes()*j+l.getUTCSeconds();},getDateAtTimeUTC:function(l,m){var n=Math.floor(m/i),o=Math.floor((m%i)/j),p=new Date(l);p.setUTCHours(n,o,0,0);return p;}};e.exports=k;},null);
__d("AdsPageLikesPlacementDelegate",["AdsAPIObjectives","AdsPageTypes","AdsPlacementDelegate","Set"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();'use strict';for(var k in i)if(i.hasOwnProperty(k))m[k]=i[k];var l=i===null?null:i.prototype;m.prototype=Object.create(l);m.prototype.constructor=m;m.__superConstructor__=i;function m(){if(i!==null)i.apply(this,arguments);}m.getObjective=function(){return g.PAGE_LIKES;};m.prototype.getPageTypesForCreative=function(n,o,p,q){if(n.isVideoCreative)return new j([h.DESKTOP_FEED,h.MOBILE_FEED]);return this.getPageTypes(o);};e.exports=m;},null);
__d("AdsPixelDialogTypes",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();'use strict';var g={AUDIENCE:null,EDIT:null,EMAIL_CODE:null,GOAL_CREATE_STEP_ONE:null,GOAL_CREATE_STEP_THREE:null,GOAL_CREATE_STEP_TWO:null,GOAL_EDIT:null,NO_DIALOG:null,SETUP_CONVERSION:null,SHARE:null,VIEW_CODE:null},h={};Object.keys(g).forEach(function(i){return h[i]=i;});e.exports=h;},null);
__d("AdsPixelStatusEnum",["keyMirror"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();'use strict';var h=g({ACTIVE:null,INACTIVE:null,NEVER_ACTIVE:null});e.exports=h;},null);
__d("AdsCFAdNameUtils",["fbt"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();'use strict';function h(i){return ' '+g._("-")+' '+g._("Image {index}",[g.param("index",i)]);}e.exports={getSuffixForMultiAds:h};},null);
__d("DraggableTokenMixin.react",["React","Rect","cx","emptyFunction"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k=g,l=k.PropTypes,m={lastDragEventPageX:null,propTypes:{index:l.number,onTokenDragEnd:l.func,onTokenDragLeave:l.func,onTokenDragOver:l.func,onTokenDragStart:l.func,onTokenDrop:l.func,isDragDropEnabled:l.bool},getDefaultProps:function(){return {onTokenDragEnd:j,onTokenDragLeave:j,onTokenDragOver:j,onTokenDragStart:j,onTokenDrop:j};},renderDraggableToken:function(o){if(!this.props.isDragDropEnabled)return o;return (g.createElement("a",{className:"_5o8l",draggable:true,href:"javascript:;",onClick:n,onDragStart:this._onTokenDragStart,onDragEnd:this._onTokenDragEnd,onDragOver:this._onTokenDragOver,onDragLeave:this._onTokenDragLeave,onDrop:this._onTokenDrop,ref:"draggableToken"},o));},_onTokenDragStart:function(event){var o=event.nativeEvent.dataTransfer;if(o){o.setData('text','');if(o.setDragImage)o.setDragImage(g.findDOMNode(this.refs.draggableToken),0,0);}this.props.onTokenDragStart(this.props.entry,this.props.index);},_onTokenDragEnd:function(event){this.props.onTokenDragEnd(this.props.entry,this.props.index);},_onTokenDragLeave:function(event){this.props.onTokenDragLeave(this.props.entry,this.props.index);},_onTokenDragOver:function(event){event.preventDefault();event.stopPropagation();var o=event.nativeEvent.dataTransfer;if(o)o.dropEffect='move';if(event.pageX!==this.lastDragEventPageX){var p=g.findDOMNode(this),q=h.getElementBounds(p).getCenter().x,r=event.pageX<q;this.props.onTokenDragOver(this.props.entry,this.props.index,r);}},_onTokenDrop:function(event){event.stopPropagation();this.props.onTokenDrop(this.props.entry,this.props.index);}};function n(o){o.preventDefault();}e.exports=m;},null);
__d("TextSelection",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g=window.getSelection,h=document.selection,i={getSelection:function(){if(g){return g()+'';}else if(h)return h.createRange().text;return null;},clearSelection:function(){if(g){g().removeAllRanges();}else if(h)h.empty();},selectAllInNode:function(j){var k=document.body.createTextRange;if(k){var l=k();l.moveToElementText(j);l.select();}else if(g){var m=g(),n=document.createRange();n.selectNodeContents(j);m.removeAllRanges();m.addRange(n);}}};e.exports=i;},null);
__d("XUIRadioInput.react",["React","cx","joinClasses","invariant"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k=g.createClass({displayName:"XUIRadioInput",render:function(){j(!this.props.children||this.props.children.length===0);var l=i(this.props.className,"_55sh"),m=g.createElement("input",g.__spread({},this.props,{className:null,type:"radio"}),undefined);return (g.createElement("label",{className:l},m,g.createElement("span",null)));}});e.exports=k;},null);
__d("AccessibleTableParts.react",["React","ReactChildren","cloneWithProps","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l=g,m=l.PropTypes;function n(r,s){return h.map(r,function(t){if(t.type==="th")return i(t,{scope:s});return t;});}var o=g.createClass({displayName:"HeadRow",render:function(){var r=n(this.props.children,'col');return (g.createElement("tr",g.__spread({},this.props),r));}}),p=g.createClass({displayName:"BodyRow",propTypes:{hover:m.bool},getDefaultProps:function(){return {hover:true};},render:function(){var r=n(this.props.children,'row'),s=this.props,t=s.className,u=s.hover,v=(function(w,x){var y={},z=Object.prototype.hasOwnProperty;if(w==null)throw new TypeError();for(var aa in w)if(z.call(w,aa)&&!z.call(x,aa))y[aa]=w[aa];return y;})(s,{className:1,hover:1});t=k(((!u?"_1isx":'')),t);return (g.createElement("tr",g.__spread({className:t},v),r));}}),q={HeadRow:o,BodyRow:p};e.exports=q;},null);
__d("XUITable.react",["React","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j=g,k=j.PropTypes,l=g.createClass({displayName:"XUITable",propTypes:{outerBorder:k.bool},render:function(){var m=(("_4-ss")+(this.props.outerBorder?' '+"_4-sv":''));return (g.createElement("table",g.__spread({},this.props,{className:i(this.props.className,m)}),this.props.children));}});e.exports=l;},null);
__d("sumOfArray",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();function g(h){var i=0,j=h.length;for(var k=0;k<j;++k)i+=h[k];return i;}e.exports=g;},null);
__d("AdsWebsiteClicksCreativeDelegate",["AdsAPIObjectives","AdsWebsiteCreativeDelegate"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();'use strict';for(var i in h)if(h.hasOwnProperty(i))k[i]=h[i];var j=h===null?null:h.prototype;k.prototype=Object.create(j);k.prototype.constructor=k;k.__superConstructor__=h;function k(){if(h!==null)h.apply(this,arguments);}k.getObjective=function(){return g.WEBSITE_CLICKS;};k.prototype.getAssociatedID=function(l){return l.associatedID;};e.exports=k;},null);
__d("PromotedPostConstants",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();'use strict';var g={SAVE:'boosted_post/save',CANCEL:'boosted_post/cancel',SAVE_BUTTON_DISABLE:'boosted_post/save_button_disable',SET_COMPOSER_BOOST:'boosted_post/set_composer_budget',CLEAR_COMPOSER_BOOST:'boosted_post/clear_composer_budget',CLOSE_DIALOG:'boosted_post/close_dialog',RECREATE:'boosted_post/recreate',CLOSE:'boosted_post/close',SET_BUDGET:'boosted_post/set_budget',RETARGET:'boosted_post/retarget',STOP:'boosted_post/stop',RESUME:'boosted_post/resume',DELETE:'boosted_post/delete',ACCOUNT_CHANGE:'boosted_post/account_change',ACCOUNT_CHANGE_FINISH:'boosted_post/account_change_finish',PAY_FOR_PROMOTION:'boosted_post/pay_for_promotion',ADD_PAYMENT:'boosted_post/add_payment',AUDIENCE_CHANGE:'boosted_post/audience_change',DURATION_CHANGE:'boosted_post/duration_change',BUDGET_MENU_CHANGE:'boosted_post/budget_menu_change',BUDGET_TEXT_CHANGE:'boosted_post/budget_text_change',BUDGET_TEXT_CHANGE_FINISH:'boosted_post/budget_text_change_finish',SAVE_BUTTON_CLICK:'boosted_post/save_button_click',CANCEL_BUTTON_CLICK:'boosted_post/cancel_button_click',ENTER_LOADING_STATE:'boosted_post/enter_loading_state',EXIT_LOADING_STATE:'boosted_post/exit_loading_state'};e.exports=g;},null);
__d("FileInput.react",["FileInput","InlineBlock.react","React","cx","invariant","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();var m=i,n=m.PropTypes,o=i.createClass({displayName:"FileInput",propTypes:{display:n.oneOf(['inline-block','inline'])},getDefaultProps:function(){return {display:'inline-block'};},render:function(){var p="_m",q="container",r=i.createElement("input",i.__spread({},this.props,{type:"file",className:l(this.props.className,"_n"),ref:"fileInput"}),undefined);if(this.props.display==='inline-block')return (i.createElement(h,{className:p,ref:q},this.props.children,r));return (i.createElement("span",{className:p,ref:q},this.props.children,r));},componentDidMount:function(){var p=i.findDOMNode(this.refs.fileInput),q=i.findDOMNode(this.refs.container),r=q.firstChild;k(r.nodeName==='A');r.setAttribute('rel','ignore');this._fileInput=new g(q,r,p);},componentWillUnmount:function(){this._fileInput.destroy();this._fileInput=null;},getFileInput:function(){return this._fileInput;},focus:function(){var p=i.findDOMNode(this.refs.fileInput);if(!p.disabled)p.focus();}});e.exports=o;},null);
__d("InsightsEnvironmentConfig",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g={DEFAULT:'',KEPLER:'KEPLER'},h=[];for(var i in g)h.push(g[i]);var j=function(l,m,n){if(m.indexOf(l)!==-1)return true;return n||false;},k={Names:g,NameList:h,getConfig:function(l){return {};}};e.exports=k;},null);
__d("InsightsContextMixin",["InsightsEnvironmentConfig","React"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i=h,j=i.PropTypes,k={contextTypes:{insightsContext:j.oneOf(g.NameList)},childContextTypes:{insightsEnvironmentConfig:j.object},getChildContext:function(){var l=this.context.insightsContext||'';return {insightsEnvironmentConfig:g.getConfig(l)};}};e.exports=k;},null);
__d("CalendarUtils",["DateStrings"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();function h(j,k,l,m){var n=[],o=m.order;for(var p=0;p<3;++p)if(o[p]==='d'){n.push(j);}else if(o[p]==='m'){n.push(k);}else n.push(l);return n.join(m.separator);}var i={placeholderDateString:function(j){return h(g.getDayPlaceholder(),g.getMonthPlaceholder(),g.getYearPlaceholder(),j);},dateToString:function(j,k){return h(j.getDate(),j.getMonth()+1,j.getFullYear(),k);},utcDateToString:function(j,k){return h(j.getUTCDate(),j.getUTCMonth()+1,j.getUTCFullYear(),k);},stringToDate:function(j,k){var l,m,n,o=j.split(/[/.,\s-]+/);if(o.length<3)return false;for(var p=0;p<3;++p){var q=o.shift();if(k[p]==='d'){l=parseInt(q,10);if(isNaN(l)||l<1)return false;}else if(k[p]==='m'){m=parseInt(q,10)-1;if(isNaN(m)||m<0||m>11)return false;}else{n=parseInt(q,10);if(n<100&&n>=0&&q.length==2){var r=(new Date()).getFullYear();if(Math.abs(r/100-n)>=2){var s=n+Math.floor(r/100)*100;n=s>r+4?s-100:s;}}if(isNaN(n)||n<1000)return false;}}if(new Date(n,m+1,0).getDate()<l)return false;return new Date(n,m,l);}};e.exports=i;},null);
__d("UTCUtils",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g=-1*7*60*60*1000,h=-1*8*60*60*1000,i={dateToUTC:function(j){return Date.UTC(j.getFullYear(),j.getMonth(),j.getDate(),j.getHours(),j.getMinutes(),j.getSeconds(),j.getMilliseconds());},dateToUTCDate:function(j){return new Date(j.getUTCFullYear(),j.getUTCMonth(),j.getUTCDate(),j.getUTCHours(),j.getUTCMinutes(),j.getUTCSeconds(),j.getUTCMilliseconds());},getPacificOffsetAt:function(j){if(j<=1.32057e+12){return g;}else if(j<=1.33146e+12){return h;}else if(j<=1352019600000){return g;}else if(j<=1362909600000){return h;}else if(j<=1383469200000){return g;}else if(j<=1394359200000){return h;}else if(j<=1414918800000){return g;}else if(j<=1425808800000){return h;}else if(j<=1446368400000){return g;}else return h;},offsetFromPacificTime:function(j){j=j||new Date();var k=i.getPacificOffsetAt(+j)/1000/60/60,l=j.getTimezoneOffset()/60;return k+l;}};e.exports=i;},null);
__d("DatePickerInput.react",["CalendarUtils","DateFormatConfig","DatePickerRestraints","InputSelection","Keys","React","ReactComponentWithPureRenderMixin","UTCUtils","cloneWithProps","cx","emptyFunction","getEventCharCode","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){b.__markCompiled&&b.__markCompiled();'use strict';var t=l,u=t.PropTypes,v=/\d/,w={order:h.numericDateOrder,separator:h.numericDateSeparator};function x(aa){var ba=/[1-9]{1}[0-9]*/g,ca,da={},ea=0;while(ca=ba.exec(aa)){da[w.order[ea]]=ca;ea++;}return da;}function y(aa){if(!aa)return '';return g.utcDateToString(new Date(aa),w);}var z=l.createClass({displayName:"DatePickerInput",mixins:[m],propTypes:{dateRestraints:u.arrayOf(u.func),icon:u.element,name:u.string,onBlur:u.func,onChange:u.func,onDateRemoved:u.func,onFocus:u.func,onInvalidDateSelected:u.func,placeholder:u.string,selectTime:u.number},getDefaultProps:function(){return {onBlur:q,onChange:q,onDateRemoved:q,onFocus:q,onInvalidDateSelected:q,placeholder:g.placeholderDateString(w)};},getInitialState:function(){return {inputValue:y(this.props.selectTime)};},componentWillReceiveProps:function(aa){if(this.props.selectTime||aa.selectTime)this.setState({inputValue:y(aa.selectTime)});},componentDidUpdate:function(){if(this.refs.inputBox&&this.state.inputValue&&this._partName){var aa=x(this.state.inputValue),ba=aa[this._partName];j.set(l.findDOMNode(this.refs.inputBox),ba.index,ba.index+ba[0].length);}delete this._partName;},onBlur:function(event){if(!this.props.selectTime&&event.target.value.length)this.setState({inputValue:''});this.props.onBlur();},onChange:function(event){var aa=event.target.value;if(aa){var ba=g.stringToDate(aa,w.order),ca=false;if(ba){ca=i.isValidDate(ba,this.props.dateRestraints);var da=new Date(n.dateToUTC(ba));if(ca){this.props.onChange(da);}else this.props.onInvalidDateSelected(da);}}else this.props.onDateRemoved();if(!ba||!ca)this.setState({inputValue:aa});},onIconClick:function(event){l.findDOMNode(this.refs.inputBox).focus();},onKeyDown:function(event){var aa=event.keyCode;if(aa==k.RETURN){event.preventDefault();this.onBlur(event);return;}if(aa===k.TAB){this.onBlur(event);return;}if(aa==k.UP||aa==k.DOWN){event.preventDefault();var ba=aa==k.UP?1:-1,ca=event.target,da=j.get(ca),ea=x(ca.value),fa=new Date(this.props.selectTime);for(var ga in ea){var ha=ea[ga],ia=ha.index+ha[0].length;if(da.start>=ha.index&&da.start<=ia){switch(ga){case 'm':fa.setMonth(fa.getMonth()+ba);break;case 'd':fa.setDate(fa.getDate()+ba);break;case 'y':fa.setFullYear(fa.getFullYear()+ba);break;}break;}}if(i.isValidDate(fa,this.props.dateRestraints)){this._partName=ga;this.props.onChange(fa);}}},onKeyUp:function(event){var aa=event.keyCode;if(aa==k.UP||aa==k.DOWN)event.preventDefault();if(aa==k.ESC)this.onBlur(event);},onKeyPress:function(event){var aa=String.fromCharCode(r(event.nativeEvent)),ba=h.numericDateSeparator;if(aa===ba||v.test(aa))return;event.preventDefault();},render:function(){var aa=this.props,ba=aa.icon,ca=aa.selectTime,da=ca?n.dateToUTCDate(new Date(ca)).getTime():'';if(ba)ba=o(ba,{className:"_3smn",onClick:this.onIconClick});var ea=s(this.props.className,"_3smo");return (l.createElement("span",{className:ea},ba,l.createElement("input",{ref:"inputBox",className:"_3smp",type:"text",placeholder:this.props.placeholder,value:this.state.inputValue,onChange:this.onChange,onFocus:this.props.onFocus,onKeyDown:this.onKeyDown,onKeyPress:this.onKeyPress,onKeyUp:this.onKeyUp}),l.createElement("input",{type:"hidden",name:this.props.name,value:da})));}});e.exports=z;},null);
__d("TokenizerToken.react",["CloseButton.react","React","SearchableEntry","cx","fbt","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();var m=h,n=m.PropTypes,o=h.createClass({displayName:"TokenizerToken",propTypes:{label:n.string.isRequired,entry:n.instanceOf(i),onRemove:n.func,highlighted:n.bool},render:function(){var p;if(this.props.onRemove)p=h.createElement(g,{"aria-label":k._("Remove {item}",[k.param("item",this.props.label)]),className:"_58zx",size:"small",onClick:this._onClick});var q=(("_58zy")+(this.props.highlighted?' '+"_58zz":''));return (h.createElement("span",h.__spread({},this.props,{className:l(this.props.className,q),label:null}),this.props.label,p));},_onClick:function(p){p.preventDefault();this.props.onRemove(this.props.entry);}});e.exports=o;},null);
__d("XUIButtonGroup.react",["React","ReactChildren","cx","invariant","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l=g,m=l.PropTypes,n=g.createClass({displayName:"XUIButtonGroup",propTypes:{isOverlay:m.bool},render:function(){this.validateButtonSize();var o=(("_51xa")+(this.props.isOverlay?' '+"_51xb":''));return (g.createElement("div",g.__spread({},this.props,{className:k(this.props.className,o)}),this.props.children));},validateButtonSize:function(){if(!this.props.isOverlay){var o;h.forEach(this.props.children,function(p){if(p){var q=p.type.getButtonSize(p.props);if(!o){o=q;}else j(q===o);}});}}});e.exports=n;},null);
__d("XUIMonthPagerCalendar.react",["React","Image.react","UTCUtils","XUICalendar.react","cx","fbt","formatDate","ix","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){b.__markCompiled&&b.__markCompiled();var p=g,q=p.PropTypes,r=g.createClass({displayName:"XUIMonthPagerCalendar",propTypes:{dateRestraints:q.array,focusTime:q.number.isRequired,selectTime:q.number,allowVariableRowCount:q.bool,allowDuplicateSelection:q.bool,highlightedTimes:q.array,onFocusDateChange:q.instanceOf(Function).isRequired,onSelectDateChange:q.instanceOf(Function).isRequired,dayInnerFormatter:q.func},pageByMonthDelta:function(s){var t=new Date(this.props.focusTime);t.setUTCDate(1);t.setUTCMonth(t.getUTCMonth()+s);this.props.onFocusDateChange(t);},onPagerPrev:function(){this.pageByMonthDelta(-1);},onPagerNext:function(){this.pageByMonthDelta(1);},render:function(){var s=this.props,t=i.dateToUTCDate(new Date(s.focusTime)),u=l._("{month} {year}",[l.param("month",m(t,'F',{skipPatternLocalization:true})),l.param("year",t.getUTCFullYear())]);return (g.createElement("div",g.__spread({},this.props,{className:o(this.props.className,"_5hpp")}),g.createElement("div",{className:"_5hpq"},g.createElement("h2",{className:"_5hpr _c24"},u),g.createElement("button",{type:"button",className:"_5hps _5hpt",onClick:this.onPagerPrev},g.createElement(h,{src:n('/images/deprecated/glyphs/dark/triangle-left_s.png'),alt:l._("Previous month")})),g.createElement("button",{type:"button",className:"_5hps _5hpu",onClick:this.onPagerNext},g.createElement(h,{src:n('/images/deprecated/glyphs/dark/triangle-right_s.png'),alt:l._("Next month")}))),g.createElement(j,{dateRestraints:s.dateRestraints,focusTime:s.focusTime,selectTime:s.selectTime,highlightedTimes:s.highlightedTimes,allowDuplicateSelection:s.allowDuplicateSelection,allowVariableRowCount:s.allowVariableRowCount,onFocusDateChange:s.onFocusDateChange,onSelectDateChange:s.onSelectDateChange,dayInnerFormatter:s.dayInnerFormatter})));}});e.exports=r;},null);
__d("XUICardHeaderTitle.react",["React","TabBarItem.react","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k=g,l=k.PropTypes,m=g.createClass({displayName:"XUICardHeaderTitle",propTypes:{count:l.number,href:l.string,itemComponent:l.any},getDefaultProps:function(){return {itemComponent:h};},render:function(){var n=this.props.itemComponent,o=null;if(this.props.count>0)o=g.createElement("span",{className:"_c1b"},this.props.count);return (g.createElement(n,g.__spread({},this.props,{className:j(this.props.className,"_38my")}),this.props.children,o,g.createElement("span",{className:"_c1c"})));}});e.exports=m;},null);
__d("XUIDialogHeaderTitle.react",["XUICardHeaderTitle.react"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b('XUICardHeaderTitle.react');},null);
__d("XUICardHeader.react",["React","ReactChildren","TabBar.react","XUICardHeaderTitle.react","XUICardSection.react","XUIDialogHeaderTitle.react","cloneWithProps","cx","invariant","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){b.__markCompiled&&b.__markCompiled();var q=g,r=q.PropTypes,s=g.createClass({displayName:"XUICardHeader",propTypes:{activeTabKey:r.string,defaultActiveTabKey:r.string,onTabClick:r.func,type:r.oneOf(['primary','secondary'])},getDefaultProps:function(){return {onTabClick:function(){return true;},type:'secondary'};},_enforceChildInvariants:function(){var t=0;h.forEach(this.props.children,function(u){o(u.type===j||u.type===l);t++;});return t;},_renderItemCount:function(){if(this.props.type==='primary')o(this.props.itemCount==null);if(this.props.itemCount!=null)return (g.createElement("span",{className:"_5dw7"},this.props.itemCount));},_renderLink:function(){if(this.props.link)return (g.createElement("span",{className:"_5dw8"},this.props.link));},_renderChildren:function(){var t=this._enforceChildInvariants();if(t===1){return h.map(this.props.children,function(u){return m(u,{itemComponent:'span'});});}else return (g.createElement(i,{activeTabKey:this.props.activeTabKey,defaultActiveTabKey:this.props.defaultActiveTabKey,onTabClick:this.props.onTabClick},this.props.children));},render:function(){var t=((this.props.type==='primary'?"_5dw9":'')+(' '+"_5dwa")+(this.props.type==='secondary'?' '+"_5dwb":'')+(this._enforceChildInvariants()!==1?' '+"_3s3z":''));return (g.createElement(k,{className:p(this.props.className,t)},this._renderChildren(),this._renderItemCount(),this._renderLink(),g.createElement("div",{className:"_3s3-"})));}});e.exports=s;},null);
__d("XUIDatePicker.react",["CalendarUtils","ContextualLayer.react","ContextualLayerAutoFlip","ContextualLayerUpdateOnScroll","DateFormatConfig","DatePickerInput.react","DatePickerRestraints","LayerTogglerContext","React","Image.react","ReactLayeredComponentMixin","Toggler","UTCUtils","XUICard.react","XUICalendar.react","XUIMonthPagerCalendar.react","cx","emptyFunction","invariant","ix","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa){b.__markCompiled&&b.__markCompiled();var ba=o,ca=ba.PropTypes,da={ContextualLayerAutoFlip:i,ContextualLayerUpdateOnScroll:j,LayerTogglerContext:n},ea={order:k.numericDateOrder,separator:k.numericDateSeparator};function fa(ma){var na=new Date();if(ma){na.setTime(ma);}else{var oa=s.dateToUTC(na);na.setTime(oa);}return u.normalizeDate(na).getTime();}function ga(ma){var na=/^\d{4}-\d{2}-\d{2}$/.test(ma);y(na);var oa=Date.parse(ma);y(oa);return oa;}function ha(ma){y(!ma.initialDate||!ma.initialTime);return ma.initialDate?ga(ma.initialDate):ma.initialTime;}function ia(ma){y(!ma.earliestDate||!ma.earliestTime);return ma.earliestDate?ga(ma.earliestDate):(ma.earliestTime?ma.earliestTime*1000:null);}function ja(ma){y(!ma.latestDate||!ma.latestTime);return ma.latestDate?ga(ma.latestDate):(ma.latestTime?ma.latestTime*1000:null);}function ka(ma,na){var oa=ha(ma);if(!na&&ma.initialFocusTime)oa=ma.initialFocusTime;return fa(oa);}var la=o.createClass({displayName:"XUIDatePicker",mixins:[q],propTypes:{name:ca.string,initialDate:ca.string,initialTime:ca.number,initialFocusTime:ca.number,allowDuplicateSelection:ca.bool,shouldSetDefaultDate:ca.bool,earliestDate:ca.string,earliestTime:ca.number,latestDate:ca.string,latestTime:ca.number,dateRestraints:ca.array,highlightedTimes:ca.array,onCalendarSelectDateChange:ca.func,onInvalidDateSelected:ca.func,onDateRemoved:ca.func,icon:ca.element,placeholder:ca.string,dayInnerFormatter:ca.func,calendar:ca.func,calendarProps:ca.object,behaviors:ca.object},getDefaultProps:function(){return {shouldSetDefaultDate:true,allowDuplicateSelection:false,onCalendarSelectDateChange:x,onInvalidDateSelected:x,onDateRemoved:x,placeholder:g.placeholderDateString(ea),calendar:v,icon:o.createElement(p,{src:z('/images/calendar/calendar_icon.png')})};},togglerSub:null,getInitialState:function(){return Object.assign({},this._calculateState(this.props),{showLayer:false});},componentWillReceiveProps:function(ma){this.setState(this._calculateState(ma));},_calculateState:function(ma){var na=ha(ma),oa=fa(na),pa={selectTime:this.props.shouldSetDefaultDate||na?oa:null};if(!this.state||!this.state.selectTime||oa!==this.state.selectTime)pa.focusTime=ka(ma,this.state);return pa;},componentWillUnmount:function(){this.removeSubscriptions();},removeSubscriptions:function(){this.togglerSub&&this.togglerSub.unsubscribe();this.togglerSub=null;},renderLayers:function(){if(!this.state.showLayer)return {};var ma=this.props.calendar;return {layer:o.createElement(h,{contextRef:function(){return this.refs.inputBox;}.bind(this),position:"below",offsetY:3,behaviors:this._getBehaviors(),shown:this.state.showLayer},o.createElement(t,{className:"_5c6i"},o.createElement(ma,o.__spread({},this.props.calendarProps,{highlightedTimes:this.props.highlightedTimes,dateRestraints:this._getDateRestraintsFromProps(this.props),focusTime:this.state.focusTime,selectTime:this.state.selectTime,onFocusDateChange:this.onCalendarFocusDateChange,onSelectDateChange:function(na){o.findDOMNode(this.refs.inputBox).focus();this.onCalendarSelectDateChange(na);this._hide();}.bind(this),allowDuplicateSelection:this.props.allowDuplicateSelection,dayInnerFormatter:this.props.dayInnerFormatter}))))};},_getBehaviors:function(){return Object.assign({},da,this.props.behaviors);},_hide:function(){r.hide(o.findDOMNode(this));},onCalendarFocusDateChange:function(ma){this.setState({focusTime:ma.getTime()});},onCalendarSelectDateChange:function(ma){this.setState({focusTime:ma.getTime(),selectTime:ma.getTime()});this.props.onCalendarSelectDateChange(ma);},onDateRemoved:function(){this.setState({selectTime:null});this.props.onDateRemoved();},onInvalidDateSelected:function(ma){this.setState({selectTime:null});this.props.onInvalidDateSelected(ma);},onTogglerShowOrHide:function(ma,na){if(na.active===o.findDOMNode(this))if(ma=='show'){this.setState({showLayer:true});}else{this.removeSubscriptions();this.setState({showLayer:false});}},onInputFocus:function(){this.removeSubscriptions();this.togglerSub=r.subscribe(['show','hide'],this.onTogglerShowOrHide);r.show(o.findDOMNode(this));},_getDateRestraintsFromProps:function(ma){if(ma.dateRestraints)return ma.dateRestraints;var na=[],oa=ia(ma);if(oa)na.push(m.enforceDateIsNoEarlierThan(new Date(oa)));var pa=ja(ma);if(pa)na.push(m.enforceDateIsNoLaterThan(new Date(pa)));return na;},render:function(){return (o.createElement(l,o.__spread({},this.props,{className:aa(this.props.className,"_5c6j"),dateRestraints:this._getDateRestraintsFromProps(this.props),icon:this.props.icon,name:this.props.name,onBlur:this._hide,onChange:this.onCalendarSelectDateChange,onDateRemoved:this.onDateRemoved,onFocus:this.onInputFocus,onInvalidDateSelected:this.onInvalidDateSelected,placeholder:this.props.placeholder,ref:"inputBox",selectTime:this.state.selectTime})));}});e.exports=la;},null);
__d("XUITokenizerToken.react",["DraggableTokenMixin.react","React","SearchableEntry","XUICloseButton.react","cx","fbt","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();var n=h,o=n.PropTypes,p=h.createClass({displayName:"XUITokenizerToken",mixins:[g],propTypes:{label:o.string.isRequired,entry:o.instanceOf(i),onRemove:o.func,highlighted:o.bool},_onRemove:function(q){q.preventDefault();this.props.onRemove(this.props.entry);},render:function(){var q;if(this.props.onRemove)q=h.createElement(j,{type:"button","aria-label":l._("Remove {item}",[l.param("item",this.props.label)]),className:"_1z6_",size:"small",onClick:this._onRemove});var r=(("_59_o")+(this.props.highlighted?' '+"_59_r":''));return this.renderDraggableToken(h.createElement("span",h.__spread({},this.props,{className:m(this.props.className,r),label:null}),h.createElement("span",{"aria-label":this.props.label,title:this.props.label,className:"_5aab"},this.props.label),q));}});e.exports=p;},null);
__d("art/core/class",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=function(g){var h={};for(var i=0,j=arguments.length;i<j;i++){var k=arguments[i];if(typeof k=='function')k=k.prototype;for(var l in k)h[l]=k[l];}if(!h.initialize)h.initialize=function(){};h.constructor=function(m,n,o,p,q,r,s,t){return new h.initialize(m,n,o,p,q,r,s,t);};h.constructor.prototype=h.initialize.prototype=h;return h.constructor;};},null);
__d("art/core/color",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g={maroon:'#800000',red:'#ff0000',orange:'#ffA500',yellow:'#ffff00',olive:'#808000',purple:'#800080',fuchsia:"#ff00ff",white:'#ffffff',lime:'#00ff00',green:'#008000',navy:'#000080',blue:'#0000ff',aqua:'#00ffff',teal:'#008080',black:'#000000',silver:'#c0c0c0',gray:'#808080'},h=function(n,o){var p=[];for(var q=0,r=n.length;q<r;q++)p[q]=o(n[q],q);return p;},i=function(n,o){if(n.isColor){this.red=n.red;this.green=n.green;this.blue=n.blue;this.alpha=n.alpha;}else{var p=g[n];if(p){n=p;o='hex';}switch(typeof n){case 'string':if(!o)o=(o=n.match(/^rgb|^hsb|^hsl/))?o[0]:'hex';break;case 'object':o=o||'rgb';n=n.toString();break;case 'number':o='hex';n=n.toString(16);break;}n=i['parse'+o.toUpperCase()](n);this.red=n[0];this.green=n[1];this.blue=n[2];this.alpha=n[3];}this.isColor=true;},j=function(n,o,p){return Math.min(p,Math.max(o,n));},k=/([-.\d]+\%?)\s*,\s*([-.\d]+\%?)\s*,\s*([-.\d]+\%?)\s*,?\s*([-.\d]*\%?)/,l=/^#?([a-f0-9]{1,2})([a-f0-9]{1,2})([a-f0-9]{1,2})([a-f0-9]{0,2})$/i;i.parseRGB=function(n){return h(n.match(k).slice(1),function(o,p){if(o)o=parseFloat(o)*(o[o.length-1]=='%'?2.55:1);return (p<3)?Math.round(((o%=256)<0)?o+256:o):j(((o==='')?1:Number(o)),0,1);});};i.parseHEX=function(n){if(n.length==1)n=n+n+n;return h(n.match(l).slice(1),function(o,p){if(p==3)return (o)?parseInt(o,16)/255:1;return parseInt((o.length==1)?o+o:o,16);});};i.parseHSB=function(n){var o=h(n.match(k).slice(1),function(w,x){if(w)w=parseFloat(w);if(x===0){return Math.round(((w%=360)<0)?(w+360):w);}else if(x<3){return j(Math.round(w),0,100);}else return j(((w==='')?1:Number(w)),0,1);}),p=o[3],q=Math.round(o[2]/100*255);if(o[1]==0)return [q,q,q,p];var r=o[0],s=r%60,t=Math.round((o[2]*(100-o[1]))/10000*255),u=Math.round((o[2]*(6000-o[1]*s))/600000*255),v=Math.round((o[2]*(6000-o[1]*(60-s)))/600000*255);switch(Math.floor(r/60)){case 0:return [q,v,t,p];case 1:return [u,q,t,p];case 2:return [t,q,v,p];case 3:return [t,u,q,p];case 4:return [v,t,q,p];default:return [q,t,u,p];}};i.parseHSL=function(n){var o=h(n.match(k).slice(1),function(z,aa){if(z)z=parseFloat(z);if(aa===0){return Math.round(((z%=360)<0)?(z+360):z);}else if(aa<3){return j(Math.round(z),0,100);}else return j(((z==='')?1:Number(z)),0,1);}),p=o[0]/60,q=o[1]/100,r=o[2]/100,s=o[3],t=(1-Math.abs(2*r-1))*q,u=t*(1-Math.abs(p%2-1)),v=r-t/2,w=Math.round((t+v)*255),x=Math.round((u+v)*255),y=Math.round((v)*255);switch(Math.floor(p)){case 0:return [w,x,y,s];case 1:return [x,w,y,s];case 2:return [y,w,x,s];case 3:return [y,x,w,s];case 4:return [x,y,w,s];default:return [w,y,x,s];}};var m=function(n,o){if(o[3]!=1){n+='a';}else o.pop();return n+'('+o.join(', ')+')';};i.prototype={toHSB:function(n){var o=this.red,p=this.green,q=this.blue,r=this.alpha,s=Math.max(o,p,q),t=Math.min(o,p,q),u=s-t,v=0,w=(u!=0)?u/s:0,x=s/255;if(w){var y=(s-o)/u,z=(s-p)/u,aa=(s-q)/u;v=(o==s)?aa-z:(p==s)?2+y-aa:4+z-y;if((v/=6)<0)v++;}var ba=[Math.round(v*360),Math.round(w*100),Math.round(x*100),r];return (n)?ba:m('hsb',ba);},toHSL:function(n){var o=this.red,p=this.green,q=this.blue,r=this.alpha,s=Math.max(o,p,q),t=Math.min(o,p,q),u=s-t,v=0,w=(u!=0)?u/(255-Math.abs((s+t)-255)):0,x=(s+t)/512;if(w){var y=(s-o)/u,z=(s-p)/u,aa=(s-q)/u;v=(o==s)?aa-z:(p==s)?2+y-aa:4+z-y;if((v/=6)<0)v++;}var ba=[Math.round(v*360),Math.round(w*100),Math.round(x*100),r];return (n)?ba:m('hsl',ba);},toHEX:function(n){var o=this.alpha,p=((o=Math.round((o*255)).toString(16)).length==1)?o+o:o,q=h([this.red,this.green,this.blue],function(r){r=r.toString(16);return (r.length==1)?'0'+r:r;});return (n)?q.concat(p):'#'+q.join('')+((p=='ff')?'':p);},toRGB:function(n){var o=[this.red,this.green,this.blue,this.alpha];return (n)?o:m('rgb',o);}};i.prototype.toString=i.prototype.toRGB;i.hex=function(n){return new i(n,'hex');};if(this.hex==null)this.hex=i.hex;i.hsb=function(n,o,p,q){return new i([n||0,o||0,p||0,(q==null)?1:q],'hsb');};if(this.hsb==null)this.hsb=i.hsb;i.hsl=function(n,o,p,q){return new i([n||0,o||0,p||0,(q==null)?1:q],'hsl');};if(this.hsl==null)this.hsl=i.hsl;i.rgb=function(n,o,p,q){return new i([n||0,o||0,p||0,(q==null)?1:q],'rgb');};if(this.rgb==null)this.rgb=i.rgb;i.detach=function(n){n=new i(n);return [i.rgb(n.red,n.green,n.blue).toString(),n.alpha];};e.exports=i;},null);
__d("art/core/path",["art/core/class"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();e.exports=g({initialize:function(h){this.reset().push(h);},push:function(){var h=Array.prototype.join.call(arguments,' ').match(/[a-df-z]|[\-+]?(?:[\d\.]e[\-+]?|[^\s\-+,a-z])+/ig);if(!h)return this;var i,j=h[0],k=1;while(j){switch(j){case 'm':this.move(h[k++],h[k++]);break;case 'l':this.line(h[k++],h[k++]);break;case 'c':this.curve(h[k++],h[k++],h[k++],h[k++],h[k++],h[k++]);break;case 's':this.curve(h[k++],h[k++],null,null,h[k++],h[k++]);break;case 'q':this.curve(h[k++],h[k++],h[k++],h[k++]);break;case 't':this.curve(h[k++],h[k++]);break;case 'a':this.arc(h[k+5],h[k+6],h[k],h[k+1],h[k+3],!+h[k+4],h[k+2]);k+=7;break;case 'h':this.line(h[k++],0);break;case 'v':this.line(0,h[k++]);break;case 'M':this.moveTo(h[k++],h[k++]);break;case 'L':this.lineTo(h[k++],h[k++]);break;case 'C':this.curveTo(h[k++],h[k++],h[k++],h[k++],h[k++],h[k++]);break;case 'S':this.curveTo(h[k++],h[k++],null,null,h[k++],h[k++]);break;case 'Q':this.curveTo(h[k++],h[k++],h[k++],h[k++]);break;case 'T':this.curveTo(h[k++],h[k++]);break;case 'A':this.arcTo(h[k+5],h[k+6],h[k],h[k+1],h[k+3],!+h[k+4],h[k+2]);k+=7;break;case 'H':this.lineTo(h[k++],this.penY);break;case 'V':this.lineTo(this.penX,h[k++]);break;case 'Z':case 'z':this.close();break;default:j=i;k--;continue;}i=j;if(i=='m'){i='l';}else if(i=='M')i='L';j=h[k++];}return this;},reset:function(){this.penX=this.penY=0;this.penDownX=this.penDownY=null;this._pivotX=this._pivotY=0;this.onReset();return this;},move:function(h,i){this.onMove(this.penX,this.penY,this._pivotX=this.penX+=(+h),this._pivotY=this.penY+=(+i));return this;},moveTo:function(h,i){this.onMove(this.penX,this.penY,this._pivotX=this.penX=(+h),this._pivotY=this.penY=(+i));return this;},line:function(h,i){return this.lineTo(this.penX+(+h),this.penY+(+i));},lineTo:function(h,i){if(this.penDownX==null){this.penDownX=this.penX;this.penDownY=this.penY;}this.onLine(this.penX,this.penY,this._pivotX=this.penX=(+h),this._pivotY=this.penY=(+i));return this;},curve:function(h,i,j,k,l,m){var n=this.penX,o=this.penY;return this.curveTo(n+(+h),o+(+i),j==null?null:n+(+j),k==null?null:o+(+k),l==null?null:n+(+l),m==null?null:o+(+m));},curveTo:function(h,i,j,k,l,m){var n=this.penX,o=this.penY;if(j==null){j=+h;k=+i;h=(n*2)-(this._pivotX||0);i=(o*2)-(this._pivotY||0);}if(l==null){this._pivotX=+h;this._pivotY=+i;l=+j;m=+k;j=(l+(+h)*2)/3;k=(m+(+i)*2)/3;h=(n+(+h)*2)/3;i=(o+(+i)*2)/3;}else{this._pivotX=+j;this._pivotY=+k;}if(this.penDownX==null){this.penDownX=n;this.penDownY=o;}this.onBezierCurve(n,o,+h,+i,+j,+k,this.penX=+l,this.penY=+m);return this;},arc:function(h,i,j,k,l,m,n){return this.arcTo(this.penX+(+h),this.penY+(+i),j,k,l,m,n);},arcTo:function(h,i,j,k,l,m,n){k=Math.abs(+k||+j||(+i-this.penY));j=Math.abs(+j||(+h-this.penX));if(!j||!k||(h==this.penX&&i==this.penY))return this.lineTo(h,i);var o=this.penX,p=this.penY,q=!+m,r=!!+l,s=n?n*Math.PI/180:0,t=Math.cos(s),u=Math.sin(s);h-=o;i-=p;var v=t*h/2+u*i/2,w=-u*h/2+t*i/2,x=j*j*k*k,y=k*k*v*v,z=j*j*w*w,aa=x-z-y;if(aa<0){aa=Math.sqrt(1-aa/x);j*=aa;k*=aa;v=h/2;w=i/2;}else{aa=Math.sqrt(aa/(z+y));if(r==q)aa=-aa;var ba=-aa*w*j/k,ca=aa*v*k/j;v=t*ba-u*ca+h/2;w=u*ba+t*ca+i/2;}var da=t/j,ea=u/j,fa=-u/k,ga=t/k,ha=Math.atan2(fa*-v+ga*-w,da*-v+ea*-w),ia=Math.atan2(fa*(h-v)+ga*(i-w),da*(h-v)+ea*(i-w));v+=o;w+=p;h+=o;i+=p;if(this.penDownX==null){this.penDownX=this.penX;this.penDownY=this.penY;}this.onArc(o,p,this._pivotX=this.penX=h,this._pivotY=this.penY=i,v,w,j,k,ha,ia,!q,n);return this;},counterArc:function(h,i,j,k,l){return this.arc(h,i,j,k,l,true);},counterArcTo:function(h,i,j,k,l){return this.arcTo(h,i,j,k,l,true);},close:function(){if(this.penDownX!=null){this.onClose(this.penX,this.penY,this.penX=this.penDownX,this.penY=this.penDownY);this.penDownX=null;}return this;},onReset:function(){},onMove:function(h,i,j,k){},onLine:function(h,i,j,k){this.onBezierCurve(h,i,h,i,j,k,j,k);},onBezierCurve:function(h,i,j,k,l,m,n,o){var p=n-h,q=o-i,r=p*p+q*q,s,t,u,v,w;u=j-h;v=k-i;w=u*p+v*q;if(w>r){u-=p;v-=q;}else if(w>0&&r!=0){u-=w/r*p;v-=w/r*q;}s=u*u+v*v;u=l-h;v=m-i;w=u*p+v*q;if(w>r){u-=p;v-=q;}else if(w>0&&r!=0){u-=w/r*p;v-=w/r*q;}t=u*u+v*v;if(s<.01&&t<.01){this.onLine(h,i,n,o);return;}if(isNaN(s)||isNaN(t))throw new Error('Bad input');var x=(j+l)*.5,y=(k+m)*.5,z=(j+h)*.5,aa=(k+i)*.5,ba=(z+x)*.5,ca=(aa+y)*.5,da=(n+l)*.5,ea=(o+m)*.5,fa=(da+x)*.5,ga=(ea+y)*.5,ha=(ba+fa)*.5,ia=(ca+ga)*.5;this.onBezierCurve(h,i,z,aa,ba,ca,ha,ia);this.onBezierCurve(ha,ia,fa,ga,da,ea,n,o);},onArc:function(h,i,j,k,l,m,n,o,p,q,r,s){var t=s?s*Math.PI/180:0,u=Math.cos(t),v=Math.sin(t),w=u*n,x=-v*o,y=v*n,z=u*o,aa=q-p;if(aa<0&&!r){aa+=Math.PI*2;}else if(aa>0&&r)aa-=Math.PI*2;var ba=Math.ceil(Math.abs(aa/(Math.PI/2))),ca=aa/ba,da=(4/3)*Math.tan(ca/4),ea=Math.cos(p),fa=Math.sin(p);for(var ga=0;ga<ba;ga++){var ha=ea-da*fa,ia=fa+da*ea;p+=ca;ea=Math.cos(p);fa=Math.sin(p);var ja=ea+da*fa,ka=fa-da*ea;this.onBezierCurve(h,i,l+w*ha+x*ia,m+y*ha+z*ia,l+w*ja+x*ka,m+y*ja+z*ka,(h=(l+w*ea+x*fa)),(i=(m+y*ea+z*fa)));}},onClose:function(h,i,j,k){this.onLine(h,i,j,k);}});},null);
__d("art/core/transform",["art/core/class"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();function h(i,j,k,l,m,n){if(i&&typeof i=='object'){j=i.yx;l=i.yy;n=i.y;k=i.xy;m=i.x;i=i.xx;}this.xx=i==null?1:i;this.yx=j||0;this.xy=k||0;this.yy=l==null?1:l;this.x=(m==null?this.x:m)||0;this.y=(n==null?this.y:n)||0;this._transform();return this;}e.exports=g({initialize:h,_transform:function(){},xx:1,yx:0,x:0,xy:0,yy:1,y:0,transform:function(i,j,k,l,m,n){var o=this;if(i&&typeof i=='object'){j=i.yx;l=i.yy;n=i.y;k=i.xy;m=i.x;i=i.xx;}if(!m)m=0;if(!n)n=0;return this.transformTo(o.xx*i+o.xy*j,o.yx*i+o.yy*j,o.xx*k+o.xy*l,o.yx*k+o.yy*l,o.xx*m+o.xy*n+o.x,o.yx*m+o.yy*n+o.y);},transformTo:h,translate:function(i,j){return this.transform(1,0,0,1,i,j);},move:function(i,j){this.x+=i||0;this.y+=j||0;this._transform();return this;},scale:function(i,j){if(j==null)j=i;return this.transform(i,0,0,j,0,0);},rotate:function(i,j,k){if(j==null||k==null){j=(this.left||0)+(this.width||0)/2;k=(this.top||0)+(this.height||0)/2;}var l=i*Math.PI/180,m=Math.sin(l),n=Math.cos(l);this.transform(1,0,0,1,j,k);var o=this;return this.transformTo(n*o.xx-m*o.yx,m*o.xx+n*o.yx,n*o.xy-m*o.yy,m*o.xy+n*o.yy,o.x,o.y).transform(1,0,0,1,-j,-k);},moveTo:function(i,j){var k=this;return this.transformTo(k.xx,k.yx,k.xy,k.yy,i,j);},rotateTo:function(i,j,k){var l=this,m=l.yx/l.xx>l.yy/l.xy?-1:1;if(l.xx<0?l.xy>=0:l.xy<0)m=-m;return this.rotate(i-Math.atan2(m*l.yx,m*l.xx)*180/Math.PI,j,k);},scaleTo:function(i,j){var k=this,l=Math.sqrt(k.xx*k.xx+k.yx*k.yx);k.xx/=l;k.yx/=l;l=Math.sqrt(k.yy*k.yy+k.xy*k.xy);k.yy/=l;k.xy/=l;return this.scale(i,j);},resizeTo:function(i,j){var k=this.width,l=this.height;if(!k||!l)return this;return this.scaleTo(i/k,j/l);},inversePoint:function(i,j){var k=this.xx,l=this.yx,m=this.xy,n=this.yy,o=this.x,p=this.y,q=l*m-k*n;if(q==0)return null;return {x:(n*(o-i)+m*(j-p))/q,y:(k*(p-j)+l*(i-o))/q};},point:function(i,j){var k=this;return {x:k.xx*i+k.xy*j+k.x,y:k.yx*i+k.yy*j+k.y};}});},null);
__d("art/dom/container",["art/core/class"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();e.exports=g({grab:function(){for(var h=0;h<arguments.length;h++)arguments[h].inject(this);return this;},empty:function(){var h;while(h=this.firstChild)h.eject();return this;}});},null);
__d("art/dom/dummy",["art/core/class"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();e.exports=g({_resetPlacement:function(){var h=this.parentNode;if(h){var i=this.previousSibling,j=this.nextSibling;if(i){i.nextSibling=j;}else h.firstChild=j;if(j){j.previousSibling=i;}else h.lastChild=this.previousSibling;}this.previousSibling=null;this.nextSibling=null;this.parentNode=null;return this;},inject:function(h){this._resetPlacement();var i=h.lastChild;if(i){i.nextSibling=this;this.previousSibling=i;}else h.firstChild=this;h.lastChild=this;this.parentNode=h;this._place();return this;},injectBefore:function(h){this._resetPlacement();var i=h.parentNode;if(!i)return this;var j=h.previousSibling;if(j){j.nextSibling=this;this.previousSibling=j;}else i.firstChild=this;h.previousSibling=this;this.nextSibling=h;this.parentNode=i;this._place();return this;},eject:function(){this._resetPlacement();this._place();return this;},_place:function(){},dispatch:function(event){var h=this._events,i=h&&h[event.type];if(i){i=i.slice(0);for(var j=0,k=i.length;j<k;j++){var l=i[j],m;if(typeof l=='function'){m=l.call(this,event);}else m=l.handleEvent(event);if(m===false)event.preventDefault();}}if(this.parentNode&&this.parentNode.dispatch)this.parentNode.dispatch(event);},subscribe:function(h,i,j){if(typeof h!='string'){var k=[];for(var l in h)k.push(this.subscribe(l,h[l]));return function(){for(var p=0,q=k.length;p<q;p++)k[p]();return this;};}else{var m=typeof i==='function'?i.bind(j||this):i,n=this._events||(this._events={}),o=n[h]||(n[h]=[]);o.push(m);return function(){for(var p=0,q=o.length;p<q;p++)if(o[p]===m){o.splice(p,1);break;}};}}});},null);
__d("art/dom/native",["art/core/class"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();function h(i){if(i.toElement)return i.toElement();if(i.getDOMNode)return i.getDOMNode();if(i.getNode)return i.getNode();return i;}e.exports=g({toElement:function(){return this.element;},getDOMNode:function(){return this.toElement();},getNode:function(){return this.toElement();},inject:function(i){(i.containerElement||h(i)).appendChild(this.element);return this;},injectBefore:function(i){var j=h(i);j.parentNode.insertBefore(this.element,j);return this;},eject:function(){var i=this.element,j=i.parentNode;if(j)j.removeChild(i);return this;},subscribe:function(i,j,k){if(typeof i!='string'){var l=[];for(var m in i)l.push(this.subscribe(m,i[m]));return function(){for(var p=0,q=l.length;p<q;p++)l[p]();return this;};}else{if(!k)k=this;var n;if(typeof j==='function'){n=j.bind?j.bind(k):function(){return j.apply(k,arguments);};}else n=j;var o=this.element;if(o.addEventListener){o.addEventListener(i,n,false);return function(){o.removeEventListener(i,n,false);return this;};}else{o.attachEvent('on'+i,n);return function(){o.detachEvent('on'+i,n);return this;};}}}});},null);
__d("art/dom/shadow",["art/core/class","art/dom/dummy","art/dom/native"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();e.exports=g(h,i,{dummy_inject:h.prototype.inject,dummy_injectBefore:h.prototype.injectBefore,dummy_eject:h.prototype.eject,native_inject:i.prototype.inject,native_injectBefore:i.prototype.injectBefore,native_eject:i.prototype.eject,inject:function(j){this.dummy_inject(j);this.native_inject(j);return this;},injectBefore:function(j){this.dummy_injectBefore(j);this.native_injectBefore(j);return this;},eject:function(){this.dummy_eject();this.native_eject();return this;}});},null);
__d("art/modes/canvas/surface",["art/core/class","art/dom/container","art/dom/native"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j=1000/60,k=[],l,m=function(){clearTimeout(l);l=null;var r=k;k=[];for(var s=0,t=r.length;s<t;s++){var u=r[s];u._valid=true;u.render();}},n=typeof window!=='undefined'&&window.devicePixelRatio||1,o=null,p=null,q=g(i,h,{initialize:function(r,s,t){var u=this.element=t||document.createElement('canvas'),v=this.context=u.getContext('2d');this._valid=true;if(r!=null&&s!=null)this.resize(r,s);u.addEventListener('mousemove',this,false);u.addEventListener('mouseout',this,false);u.addEventListener('mouseover',this,false);u.addEventListener('mouseup',this,false);u.addEventListener('mousedown',this,false);u.addEventListener('click',this,false);},handleEvent:function(event){if(event.clientX==null)return;var r=this.element,s=r.getBoundingClientRect(),t=event.clientX-s.left-r.clientLeft,u=event.clientY-s.top-r.clientTop,v=this.hitTest(t,u);if(v!==o){if(o)o.dispatch({type:'mouseout',target:o,relatedTarget:v,sourceEvent:event});if(v)v.dispatch({type:'mouseover',target:v,relatedTarget:o,sourceEvent:event});o=v;p=this;this.refreshCursor();}if(v)v.dispatch(event);},refreshCursor:function(){if(p!==this)return;var r=o,s='',t='';while(r){if(!s&&r._cursor){s=r._cursor;if(t)break;}if(!t&&r._tooltip){t=r._tooltip;if(s)break;}r=r.parentNode;}this.element.style.cursor=s;this.element.title=t;},resize:function(r,s){var t=this.element;t.setAttribute('width',r*n);t.setAttribute('height',s*n);t.style.width=r+'px';t.style.height=s+'px';this.width=r;this.height=s;return this;},invalidate:function(r,s,t,u){if(this._valid){this._valid=false;k.push(this);if(!l)if(window.mozRequestAnimationFrame){l=true;window.mozRequestAnimationFrame(m);}else l=setTimeout(m,j);}return this;},hitTest:function(r,s){if(r<0||s<0||r>this.width||s>this.height)return null;var t=this.lastChild;while(t){var u=t.hitTest(r,s);if(u)return u;t=t.previousSibling;}return null;},render:function(){var r=this.firstChild,s=this.context;s.setTransform(n,0,0,n,0,0);s.clearRect(0,0,this.width,this.height);while(r){r.renderTo(s,n,0,0,n,0,0);r=r.nextSibling;}this.refreshCursor();}});q.tagName='canvas';e.exports=q;},null);
__d("art/modes/canvas/path",["art/core/class","art/core/path"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i=g(h,{initialize:function(j){this.reset();if(j instanceof i){this.path=j.path.slice(0);}else if(j)if(j.applyToPath){j.applyToPath(this);}else this.push(j);},onReset:function(){this.path=[];},onMove:function(j,k,l,m){this.path.push(function(n){n.moveTo(l,m);});},onLine:function(j,k,l,m){this.path.push(function(n){n.lineTo(l,m);});},onBezierCurve:function(j,k,l,m,n,o,p,q){this.path.push(function(r){r.bezierCurveTo(l,m,n,o,p,q);});},_arcToBezier:h.prototype.onArc,onArc:function(j,k,l,m,n,o,p,q,r,s,t,u){if(p!=q||u)return this._arcToBezier(j,k,l,m,n,o,p,q,r,s,t,u);this.path.push(function(v){v.arc(n,o,p,r,s,t);});},onClose:function(){this.path.push(function(j){j.closePath();});},toCommands:function(){return this.path.slice(0);}});e.exports=i;},null);
__d("art/modes/canvas/node",["art/core/class","art/core/transform","art/dom/dummy"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j=g(h,i,{invalidate:function(){if(this.parentNode)this.parentNode.invalidate();if(this._layer)this._layerCache=null;return this;},_place:function(){this.invalidate();},_transform:function(){this.invalidate();},blend:function(k){if(k>=1&&this._layer)this._layer=null;this._opacity=k;if(this.parentNode)this.parentNode.invalidate();return this;},hide:function(){this._invisible=true;if(this.parentNode)this.parentNode.invalidate();return this;},show:function(){this._invisible=false;if(this.parentNode)this.parentNode.invalidate();return this;},indicate:function(k,l){this._cursor=k;this._tooltip=l;return this.invalidate();},hitTest:function(k,l){if(this._invisible)return null;var m=this.inversePoint(k,l);if(!m)return null;return this.localHitTest(m.x,m.y);},renderTo:function(k,l,m,n,o,p,q){var r=this._opacity;if(r==null||r>=1)return this.renderLayerTo(k,l,m,n,o,p,q);var s=this._layer,t,u=true,v=k.canvas.width,w=k.canvas.height;if(s){s.setTransform(1,0,0,1,0,0);t=s.canvas;if(t.width<v||t.height<w){t.width=v;t.height=w;}else{var x=this._layerCache;if(x&&x.xx===l&&x.yx===m&&x.xy===n&&x.yy===o&&x.x===p&&x.y===q){u=false;}else s.clearRect(0,0,v,w);}}else{t=document.createElement('canvas');t.width=v;t.height=w;this._layer=s=t.getContext('2d');}if(u){this.renderLayerTo(s,l,m,n,o,p,q);this._layerCache={xx:l,yx:m,xy:n,yy:o,x:p,y:q};}k.globalAlpha=r;k.setTransform(1,0,0,1,0,0);k.drawImage(t,0,0,v,w,0,0,v,w);k.globalAlpha=1;}});e.exports=j;},null);
__d("art/modes/canvas/base",["art/core/class","art/core/color","art/core/transform","art/modes/canvas/node"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k=typeof document!=='undefined'&&document.createElement('canvas'),l=k&&k.getContext&&k.getContext('2d');function m(o,p,q){p=h.detach(p);q=h.detach(q);var r=document.createElement('canvas'),s=r.getContext('2d');r.width=o.width;r.height=o.height;s.fillStyle=q[0];s.fillRect(0,0,o.width,o.height);s.globalCompositeOperation='lighter';s.drawImage(o,0,0);return r;}var n=g(j,{initialize:function(){this._fill=null;this._pendingFill=null;this._fillTransform=null;this._stroke=null;this._strokeCap=null;this._strokeDash=null;this._strokeJoin=null;this._strokeWidth=null;},_addColors:function(o,p){if('length' in p){for(var q=0,r=p.length-1;q<=r;q++)o.addColorStop(q/r,new h(p[q]).toString());}else for(var s in p)o.addColorStop(s,new h(p[s]).toString());return o;},fill:function(o){if(arguments.length>1)return this.fillLinear(arguments);if(this._pendingFill)this._pendingFill();this._fill=o?new h(o).toString():null;return this.invalidate();},fillRadial:function(o,p,q,r,s,t,u){if(p==null)p=(this.left||0)+(this.width||0)*.5;if(q==null)q=(this.top||0)+(this.height||0)*.5;if(s==null)s=r||(this.height*.5)||0;if(r==null)r=(this.width||0)*.5;if(t==null)t=p;if(u==null)u=q;t+=t-p;u+=u-q;if(r===0||r==='0')return this.fillLinear(o);var v=s/r;if(this._pendingFill)this._pendingFill();var w=l.createRadialGradient(p,q/v,0,t,u/v,r*2);if('length' in o){for(var x=0,y=o.length-1;x<=y;x++){w.addColorStop(x/y/2,new h(o[x]).toString());w.addColorStop(1-x/y/2,new h(o[x]).toString());}}else for(var z in o){w.addColorStop(z/2,new h(o[z]).toString());w.addColorStop(1-z/2,new h(o[z]).toString());}this._fill=w;this._fillTransform=new i(1,0,0,v);return this.invalidate();},fillLinear:function(o,p,q,r,s){if(arguments.length<5){var t=((p==null)?270:p)*Math.PI/180,u=Math.cos(t),v=-Math.sin(t),w=(Math.abs(u)+Math.abs(v))/2,x=this.width||1,y=this.height||1;u*=w;v*=w;p=.5-u;r=.5+u;q=.5-v;s=.5+v;this._fillTransform=new i(x,0,0,y);}else this._fillTransform=null;if(this._pendingFill)this._pendingFill();var z=l.createLinearGradient(p,q,r,s);this._addColors(z,o);this._fill=z;return this.invalidate();},fillImage:function(o,p,q,r,s,t,u){if(this._pendingFill)this._pendingFill();var v=o;if(!(v instanceof Image)){v=new Image();v.src=o;}if(v.width&&v.height)return this._fillImage(v,p,q,r||0,s||0,t,u);this._fill=null;var w=this,x=function(){y();w._fillImage(v,p,q,r||0,s||0,t,u);},y=function(){v.removeEventListener('load',x,false);w._pendingFill=null;};this._pendingFill=y;v.addEventListener('load',x,false);return this;},_fillImage:function(o,p,q,r,s,t,u){var v=p?p/o.width:1,w=q?q/o.height:1;if(t!=null)o=m(o,t,u);this._fill=l.createPattern(o,'repeat');this._fillTransform=new i(v,0,0,w,r||0,s||0);return this.invalidate();},stroke:function(o,p,q,r,s){this._stroke=o?new h(o).toString():null;this._strokeWidth=(p!=null)?p:1;this._strokeCap=(q!=null)?q:'round';this._strokeJoin=(r!=null)?r:'round';this._strokeDash=s;return this.invalidate();},element_renderTo:j.prototype.renderTo,renderTo:function(o,p,q,r,s,t,u){var v=this._opacity;if(v==null||v>=1)return this.renderLayerTo(o,p,q,r,s,t,u);if(this._fill&&this._stroke)return this.element_renderTo(o,p,q,r,s,t,u);o.globalAlpha=v;var w=this.renderLayerTo(o,p,q,r,s,t,u);o.globalAlpha=1;return w;},renderLayerTo:function(o,p,q,r,s,t,u){o.setTransform(p,q,r,s,t,u);this.renderShapeTo(o);}});n._genericContext=l;e.exports=n;},null);
__d("art/modes/canvas/shape",["art/core/class","art/modes/canvas/base","art/modes/canvas/path"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();e.exports=g(h,{base_initialize:h.prototype.initialize,initialize:function(j,k,l){this.base_initialize();this.width=k;this.height=l;if(j!=null)this.draw(j);},draw:function(j,k,l){if(!(j instanceof i))j=new i(j);this.path=j;this._commands=j.toCommands();if(k!=null)this.width=k;if(l!=null)this.height=l;return this.invalidate();},localHitTest:function(j,k){if(!this._fill)return null;if(this.width==null||this.height==null){var l=h._genericContext,m=this._commands;if(!m)return null;l.beginPath();for(var n=0,o=m.length;n<o;n++)m[n](l);return l.isPointInPath(j,k)?this:null;}if(j>0&&k>0&&j<this.width&&k<this.height)return this;return null;},renderShapeTo:function(j){if(this._invisible||!this._commands||(!this._fill&&!this._stroke))return null;j.transform(this.xx,this.yx,this.xy,this.yy,this.x,this.y);var k=this._commands,l=this._fill,m=this._stroke,n=this._strokeDash;j.beginPath();if(n){if(j.setLineDash){j.setLineDash(n);}else j.mozDash=n;}else if(j.setLineDash){j.setLineDash([]);}else j.mozDash=null;for(var o=0,p=k.length;o<p;o++)k[o](j);if(l){var q=this._fillTransform;if(q){j.save();j.transform(q.xx,q.yx,q.xy,q.yy,q.x,q.y);j.fillStyle=l;j.fill();j.restore();}else{j.fillStyle=l;j.fill();}}if(m){j.strokeStyle=m;j.lineWidth=this._strokeWidth;j.lineCap=this._strokeCap;j.lineJoin=this._strokeJoin;j.stroke();}}});},null);
__d("art/modes/canvas/group",["art/core/class","art/dom/container","art/modes/canvas/node"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();e.exports=g(i,h,{initialize:function(j,k){this.width=j;this.height=k;},localHitTest:function(j,k){var l=this.lastChild;while(l){var m=l.hitTest(j,k);if(m)return m;l=l.previousSibling;}return null;},renderLayerTo:function(j,k,l,m,n,o,p){if(this._invisible)return;o=k*this.x+m*this.y+o;p=l*this.x+n*this.y+p;var q=k;k=q*this.xx+m*this.yx;m=q*this.xy+m*this.yy;q=l;l=q*this.xx+n*this.yx;n=q*this.xy+n*this.yy;var r=this.firstChild;while(r){r.renderTo(j,k,l,m,n,o,p);r=r.nextSibling;}}});},null);
__d("art/modes/canvas/clippingrectangle",["art/core/class","art/dom/container","art/modes/canvas/node"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();e.exports=g(i,h,{initialize:function(j,k){this.width=j;this.height=k;},localHitTest:function(j,k){var l=this.lastChild;while(l){var m=l.hitTest(j,k);if(m)return m;l=l.previousSibling;}return null;},renderLayerTo:function(j,k,l,m,n,o,p){j.setTransform(k,l,m,n,o,p);j.save();j.beginPath();j.rect(this.x,this.y,this.width,this.height);j.clip();var q=this.firstChild;while(q){q.renderTo(j,k,l,m,n,o,p);q=q.nextSibling;}j.restore();}});},null);
__d("art/modes/canvas/text",["art/core/class","art/modes/canvas/base"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i={middle:'center'};e.exports=g(h,{base_initialize:h.prototype.initialize,initialize:function(j,k,l,m){this.base_initialize();this.draw.apply(this,arguments);},draw:function(j,k,l,m){var n;if(typeof k=='string'){n=Number(/(\d+)/.exec(k)[0]);}else if(k){n=parseFloat(k.fontSize||k['font-size']||'12');k=(k.fontStyle||k['font-style']||'')+' '+(k.fontVariant||k['font-variant']||'')+' '+(k.fontWeight||k['font-weight']||'')+' '+n+'px '+(k.fontFamily||k['font-family']||'Arial');}else k=this._font;var o=j&&j.split(/\r?\n/);this._font=k;this._fontSize=n;this._text=o;this._alignment=i[l]||l||'left';var p=h._genericContext;p.font=this._font;p.textAlign=this._alignment;p.textBaseline='middle';o=this._text;var q=o.length,r=0;for(var s=0;s<q;s++){var t=p.measureText(o[s]).width;if(t>r)r=t;}this.width=r;this.height=q?q*1.1*n:0;return this.invalidate();},localHitTest:function(j,k){if(!this._fill)return null;if(j>0&&k>0&&j<this.width&&k<this.height)return this;return null;},renderShapeTo:function(j){if(this._invisible||!this._text||(!this._fill&&!this._stroke))return null;j.transform(this.xx,this.yx,this.xy,this.yy,this.x,this.y);var k=this._fill,l=this._stroke,m=this._text,n=this._strokeDash;j.font=this._font;j.textAlign=this._alignment;j.textBaseline='middle';var o=this._fontSize,p=o/2,q=1.1*o,r=m,s=r.length;if(k){j.fillStyle=k;for(var t=0;t<s;t++)j.fillText(r[t],0,p+t*q);}if(l){if(n){if(j.setLineDash){j.setLineDash(n);}else j.mozDash=n;}else if(j.setLineDash){j.setLineDash([]);}else j.mozDash=null;j.strokeStyle=l;j.lineWidth=this._strokeWidth;j.lineCap=this._strokeCap;j.lineJoin=this._strokeJoin;for(t=0;t<s;t++)j.strokeText(r[t],0,p+t*q);}}});},null);
__d("art/modes/canvas",["art/modes/canvas/surface","art/modes/canvas/path","art/modes/canvas/shape","art/modes/canvas/group","art/modes/canvas/clippingrectangle","art/modes/canvas/text"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();f.Surface=b("art\/modes\/canvas\/surface");f.Path=b("art\/modes\/canvas\/path");f.Shape=b("art\/modes\/canvas\/shape");f.Group=b("art\/modes\/canvas\/group");f.ClippingRectangle=b("art\/modes\/canvas\/clippingrectangle");f.Text=b("art\/modes\/canvas\/text");},null);
__d("art/modes/current",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();function g(){throw new Error('You must require a mode before requiring anything else.');}f.Surface=g;f.Path=g;f.Shape=g;f.Group=g;f.ClippingRectangle=g;f.Text=g;f.setCurrent=function(h){for(var i in h)f[i]=h[i];};},null);
__d("art/modes/vml/dom",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g='behavior:url(#default#VML);display:inline-block;position:absolute;left:0px;top:0px;',h,i={},j=function(k){if(h)i[k]=h.addRule('av\\:'+k,g);};f.init=function(k){var l;try{l=k.namespaces;}catch(m){}if(!l)return false;l.add('av','urn:schemas-microsoft-com:vml');l.add('ao','urn:schemas-microsoft-com:office:office');h=k.createStyleSheet();h.addRule('vml','display:inline-block;position:relative;overflow:hidden;');j('vml');return true;};f.createElement=function(k){if(!(k in i))j(k);return document.createElement('av:'+k);};},null);
__d("art/modes/vml/surface",["art/core/class","art/dom/container","art/dom/native","art/modes/vml/dom"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k=100,l=g(i,h,{initialize:function m(n,o,p){this.element=p||document.createElement('vml');this.containerElement=j.createElement('group');this.element.appendChild(this.containerElement);if(n!=null&&o!=null)this.resize(n,o);},resize:function(m,n){this.width=m;this.height=n;var o=this.element.style;o.pixelWidth=m;o.pixelHeight=n;o=this.containerElement.style;o.width=m;o.height=n;var p=(.5*k);this.containerElement.coordorigin=p+','+p;this.containerElement.coordsize=(m*k)+','+(n*k);return this;}});l.tagName='av:vml';e.exports=l;},null);
__d("art/modes/vml/path",["art/core/class","art/core/path"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i=100,j=Math.round,k=g(h,{initialize:function(l){this.reset();if(l instanceof k){this.path=[Array.prototype.join.call(l.path,' ')];}else if(l)if(l.applyToPath){l.applyToPath(this);}else this.push(l);},onReset:function(){this.path=[];},onMove:function(l,m,n,o){this.path.push('m',j(n*i),j(o*i));},onLine:function(l,m,n,o){this.path.push('l',j(n*i),j(o*i));},onBezierCurve:function(l,m,n,o,p,q,r,s){this.path.push('c',j(n*i),j(o*i),j(p*i),j(q*i),j(r*i),j(s*i));},_arcToBezier:h.prototype.onArc,onArc:function(l,m,n,o,p,q,r,s,t,u,v,w){if(r!=s||w)return this._arcToBezier(l,m,n,o,p,q,r,s,t,u,v,w);p*=i;q*=i;r*=i;this.path.push(v?'at':'wa',j(p-r),j(q-r),j(p+r),j(q+r),j(l*i),j(m*i),j(n*i),j(o*i));},onClose:function(){this.path.push('x');},toVML:function(){return this.path.join(' ');}});k.prototype.toString=k.prototype.toVML;e.exports=k;},null);
__d("art/modes/vml/node",["art/core/class","art/core/transform","art/dom/shadow","art/modes/vml/dom"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();e.exports=g(i,h,{initialize:function(k){var l=this.element=j.createElement(k);},_place:function(){if(this.parentNode)this._transform();},hide:function(){this.element.style.display='none';return this;},show:function(){this.element.style.display='';return this;},indicate:function(k,l){if(k)this.element.style.cursor=k;if(l)this.element.title=l;return this;}});},null);
__d("art/modes/vml/base",["art/core/class","art/core/transform","art/core/color","art/modes/vml/node","art/modes/vml/dom"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l=100,m={left:0,top:0,width:500,height:500};e.exports=g(j,{element_initialize:j.prototype.initialize,initialize:function(n){this.element_initialize(n);var o=this.element,p=this.skewElement=k.createElement('skew');p.on=true;o.appendChild(p);var q=this.fillElement=k.createElement('fill');q.on=false;o.appendChild(q);var r=this.strokeElement=k.createElement('stroke');r.on=false;o.appendChild(r);},_transform:function(){var n=this.parentNode,o=n?new h(n._activeTransform).transform(this):this;if((o.xx===0&&o.yx===0)||(o.xy===0&&o.yy===0)){this.element.style.visibility='hidden';return;}else this.element.style.visibility='';var p=this._boxCoords||this._size||m,q=p.left||0,r=p.top||0,s=p.width||1,t=p.height||1,u=o.yx/o.xx>o.yy/o.xy;if(o.xx<0?o.xy>=0:o.xy<0)u=!u;u=u?-1:1;o=new h().scale(u,1).transform(o);var v=Math.atan2(-o.xy,o.yy)*180/Math.PI,w=v*Math.PI/180,x=Math.sin(w),y=Math.cos(w),z=new h((o.xx*y-o.xy*x),(o.yx*y-o.yy*x)*u,(o.xy*y+o.xx*x)*u,(o.yy*y+o.yx*x)),aa=new h().rotate(v,0,0),ba=new h().rotate(-v,0,0).transform(o).moveTo(0,0);s=1000;t=1000;var ca=o.x,da=o.y,ea=-s/2,fa=-t/2,ga=aa.point(ea,fa);ca-=ga.x-ea;da-=ga.y-fa;var ha=new h(o).moveTo(0,0);ga=ha.point(q,r);ca+=ga.x;da+=ga.y;if(u<0)ca=-ca-s;var ia=ha.point(-q,-r),ja=aa.point(s,t),ka=aa.point(s,0),la=aa.point(0,t),ma=Math.min(0,ja.x,ka.x,la.x),na=Math.max(0,ja.x,ka.x,la.x),oa=Math.min(0,ja.y,ka.y,la.y),pa=Math.max(0,ja.y,ka.y,la.y),qa=(ia.x-ja.x/2)/(na-ma)*u,ra=(ia.y-ja.y/2)/(pa-oa);ga=ba.point(q,r);q=ga.x;r=ga.y;var sa=this._strokeWidth;if(sa){var ea=o.xx+o.xy,fa=o.yy+o.yx;sa*=Math.sqrt(ea*ea+fa*fa)/Math.sqrt(2);}q*=l;r*=l;ca*=l;da*=l;s*=l;t*=l;var ta=this.element;ta.coordorigin=q+','+r;ta.coordsize=s+','+t;ta.style.left=ca+'px';ta.style.top=da+'px';ta.style.width=s;ta.style.height=t;ta.style.rotation=v.toFixed(8);ta.style.flip=u<0?'x':'';var ua=this.skewElement;ua.matrix=[z.xx.toFixed(4),z.xy.toFixed(4),z.yx.toFixed(4),z.yy.toFixed(4),0,0];ua.origin=qa+','+ra;this.strokeElement.weight=sa+'px';},_createGradient:function(n,o){var p=this.fillElement;this.element.removeChild(p);p.type=n;p.method='none';p.rotate=true;var q=[],r,s,t=function(x,y){y=i.detach(y);if(r==null){r=s=y;}else s=y;q.push(x+' '+y[0]);};if('length' in o){for(var u=0,v=o.length-1;u<=v;u++)t(u/v,o[u]);}else for(var w in o)t(w,o[w]);p.color=r[0];p.color2=s[0];p.colors=q;p.opacity=s[1];p['ao:opacity2']=r[1];p.on=true;this.element.appendChild(p);return p;},_setColor:function(n,o){var p=n=='fill'?this.fillElement:this.strokeElement;if(o==null){p.on=false;}else{o=i.detach(o);p.color=o[0];p.opacity=o[1];p.on=true;}},fill:function(n){if(arguments.length>1){this.fillLinear(arguments);}else{this._boxCoords=m;var o=this.fillElement;o.type='solid';o.color2='';o['ao:opacity2']='';if(o.colors)o.colors.value='';this._setColor('fill',n);}return this;},fillRadial:function(n,o,p,q,r,s,t){var u=this._createGradient('gradientradial',n);if(o==null)o=this.left+this.width*.5;if(p==null)p=this.top+this.height*.5;if(r==null)r=q||(this.height*.5);if(q==null)q=this.width*.5;if(s==null)s=o;if(t==null)t=p;s+=s-o;t+=t-p;var v=this._boxCoords={left:s-q*2,top:t-r*2,width:q*4,height:r*4};o-=v.left;p-=v.top;o/=v.width;p/=v.height;u.focussize='0 0';u.focusposition=o+','+p;u.focus='50%';this._transform();return this;},fillLinear:function(n,o,p,q,r){var s=this._createGradient('gradient',n);s.focus='100%';if(arguments.length==5){var t=Math.abs(q-o),u=Math.abs(r-p);this._boxCoords={left:Math.min(o,q),top:Math.min(p,r),width:t<1?u:t,height:u<1?t:u};s.angle=(360+Math.atan2((q-o)/u,(r-p)/t)*180/Math.PI)%360;}else{this._boxCoords=null;s.angle=(o==null)?0:(90+o)%360;}this._transform();return this;},fillImage:function(n,o,p,q,r,s,t){var u=this.fillElement;if(s!=null){s=i.detach(s);if(t!=null)t=i.detach(t);u.type='pattern';u.color=s[0];u.color2=t==null?s[0]:t[0];u.opacity=t==null?0:t[1];u['ao:opacity2']=s[1];}else{u.type='tile';u.color='';u.color2='';u.opacity=1;u['ao:opacity2']=1;}if(u.colors)u.colors.value='';u.rotate=true;u.src=n;u.size='1,1';u.position='0,0';u.origin='0,0';u.aspect='ignore';u.on=true;if(!q)q=0;if(!r)r=0;this._boxCoords=o?{left:q+.5,top:r+.5,width:o,height:p}:null;this._transform();return this;},stroke:function(n,o,p,q){var r=this.strokeElement;this._strokeWidth=(o!=null)?o:1;r.weight=(o!=null)?o+'px':1;r.endcap=(p!=null)?((p=='butt')?'flat':p):'round';r.joinstyle=(q!=null)?q:'round';this._setColor('stroke',n);return this;}});},null);
__d("art/modes/vml/shape",["art/core/class","art/modes/vml/base","art/modes/vml/path","art/modes/vml/dom"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k=100;e.exports=g(h,{base_initialize:h.prototype.initialize,initialize:function(l,m,n){this.base_initialize('shape');var o=this.pathElement=j.createElement('path');o.gradientshapeok=true;this.element.appendChild(o);this.width=m;this.height=n;if(l!=null)this.draw(l);},draw:function(l,m,n){if(!(l instanceof i))l=new i(l);this._vml=l.toVML();if(m!=null)this.width=m;if(n!=null)this.height=n;if(!this._boxCoords)this._transform();this._redraw(this._prefix,this._suffix);return this;},_redraw:function(l,m){var n=this._vml||'';this._prefix=l;this._suffix=m;if(l)n=[l,n,m,'ns e',n,'nf'].join(' ');this.element.path=n+'e';},fillRadial:function(l,m,n,o,p,q,r){var s=this._createGradient('gradientradial',l);if(m==null)m=(this.left||0)+(this.width||0)*.5;if(n==null)n=(this.top||0)+(this.height||0)*.5;if(p==null)p=o||(this.height*.5)||0;if(o==null)o=(this.width||0)*.5;if(q==null)q=m;if(r==null)r=n;q+=q-m;r+=r-n;var t=Math.round(q*k),u=Math.round(r*k),v=Math.round(o*2*k),w=Math.round(p*2*k),x=['wa',t-v,u-w,t+v,u+w].join(' ');this._redraw(['m',t,u-w,'l',t,u-w].join(' '),['m',t,u-w,x,t,u-w,t,u+w,x,t,u+w,t,u-w,x,t,u-w,t,u+w,x,t,u+w,t,u-w].join(' '));this._boxCoords={left:m-2,top:n-2,width:4,height:4};s.focusposition='0.5,0.5';s.focussize='0 0';s.focus='50%';this._transform();return this;}});},null);
__d("art/modes/vml/group",["art/core/class","art/core/transform","art/dom/container","art/modes/vml/node"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();e.exports=g(j,i,{element_initialize:j.prototype.initialize,initialize:function(k,l){this.element_initialize('group');this.width=k;this.height=l;},_transform:function(){var k=this.element;k.coordorigin='0,0';k.coordsize='1000,1000';k.style.left=0;k.style.top=0;k.style.width=1000;k.style.height=1000;k.style.rotation=0;var l=this.parentNode;this._activeTransform=l?new h(l._activeTransform).transform(this):this;var m=this.firstChild;while(m){m._transform();m=m.nextSibling;}}});},null);
__d("art/modes/vml/clippingrectangle",["art/core/class","art/core/transform","art/dom/container","art/modes/vml/node"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();e.exports=g(j,i,{element_initialize:j.prototype.initialize,initialize:function(k,l){this.element_initialize('clippingrectangle');this.width=k;this.height=l;},_transform:function(){var k=this.element;k.clip=true;k.coordorigin=-this.x+','+(-1*this.y);k.coordsize=this.width+','+this.height;k.style.clipLeft=this.x;k.style.clipRight=this.width+this.x;k.style.clipTop=this.y;k.style.left=-this.x;k.style.top=-this.y;k.style.width=this.width+this.x;k.style.height=this.height+this.y;k.style.rotation=0;var l=this.parentNode;this._activeTransform=l?new h(l._activeTransform).transform(this):this;var m=this.firstChild;while(m){m._transform();m=m.nextSibling;}}});},null);
__d("art/modes/vml/text",["art/core/class","art/modes/vml/base","art/modes/vml/path","art/modes/vml/dom"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k={start:'left',middle:'center',end:'right'};e.exports=g(h,{base_initialize:h.prototype.initialize,initialize:function(l,m,n,o){this.base_initialize('shape');var p=this.pathElement=j.createElement('path');p.textpathok=true;this.element.appendChild(p);p=this.textPathElement=j.createElement("textpath");p.on=true;p.style['v-text-align']='left';this.element.appendChild(p);this.draw.apply(this,arguments);},draw:function(l,m,n,o){var p=this.element,q=this.textPathElement,r=q.style;q.string=l;if(m)if(typeof m=='string'){r.font=m;}else for(var s in m){var t=s.camelCase?s.camelCase():s;if(t=='fontFamily'){r[t]="'"+m[s]+"'";}else r[t]=m[s];}if(n)r['v-text-align']=k[n]||n;if(o){this.currentPath=o=new i(o);this.element.path=o.toVML();}else if(!this.currentPath){var u=-1,v='\n';while((u=l.indexOf('\n',u+1))>-1)v+='\n';q.string=v+q.string;this.element.path='m0,0l1,0';}return this;}});},null);
__d("art/modes/vml",["art/modes/vml/dom","art/modes/vml/surface","art/modes/vml/path","art/modes/vml/shape","art/modes/vml/group","art/modes/vml/clippingrectangle","art/modes/vml/text","art/modes/current"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();f.Surface=b("art\/modes\/vml\/surface");f.Path=b("art\/modes\/vml\/path");f.Shape=b("art\/modes\/vml\/shape");f.Group=b("art\/modes\/vml\/group");f.ClippingRectangle=b("art\/modes\/vml\/clippingrectangle");f.Text=b("art\/modes\/vml\/text");if(typeof document!=='undefined')g.init(document);b("art\/modes\/current").setCurrent(f);},null);
__d("art/modes/fast",["art/modes/vml","art/modes/canvas","art/modes/current"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i=function(){var k=document.createElement('canvas');return k&&!!k.getContext;},j=i()?h:g;f.Surface=j.Surface;f.Path=j.Path;f.Shape=j.Shape;f.Group=j.Group;f.ClippingRectangle=j.ClippingRectangle;f.Text=j.Text;b("art\/modes\/current").setCurrent(f);},null);
__d("Network",["mixInEventEmitter"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h=true,i=a.navigator.connection,j={0:'unknown',1:'ethernet',2:'wifi',3:'2g',4:'3g'};function k(){return h;}function l(q){if(q==h)return;h=q;p.emit(q?'online':'offline');}function m(){return i?i.bandwidth:(h?Infinity:0);}function n(){return i?i.metered:false;}function o(){var q=i?String(i.type):'0';return j[q]||q;}var p={getBandwidth:m,getType:o,isMetered:n,isOnline:k,setOnline:l};g(p,{online:true,offline:true});if(a.addEventListener){a.addEventListener('online',l.bind(null,true));a.addEventListener('offline',l.bind(null,false));}else if(a.attachEvent){a.attachEvent('online',l.bind(null,true));a.attachEvent('offline',l.bind(null,false));}e.exports=p;},null);
__d("d3/core/bisect",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g=function(j){return {left:function(k,l,m,n){if(arguments.length<3)m=0;if(arguments.length<4)n=k.length;while(m<n){var o=m+n>>>1;if(j.call(k,k[o],o)<l){m=o+1;}else n=o;}return m;},right:function(k,l,m,n){if(arguments.length<3)m=0;if(arguments.length<4)n=k.length;while(m<n){var o=m+n>>>1;if(l<j.call(k,k[o],o)){n=o;}else m=o+1;}return m;}};},h=g(function(j){return j;}),i=h.right;i.left=h.left;i.right=i;i.or=g;e.exports=i;},null);
__d("d3/core/class",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();function g(h,i){try{for(var k in i)Object.defineProperty(h.prototype,k,{value:i[k],enumerable:false});}catch(j){h.prototype=i;}}f._class=g;},null);
__d("d3/core/color",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();function g(){}g.prototype.toString=function(){return this.rgb()+"";};f._Color=g;},null);
__d("d3/core/core",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g=Math.PI,h=1e-06,i={version:"3.0.6"},j=g/180,k=180/g,l=typeof document==='undefined'?null:document,m=typeof window==='undefined'?null:window;function n(p){return p.target;}function o(p){return p.source;}i._u03c0=g;i._u03b5=h;i._radians=j;i._degrees=k;i._document=l;i._window=m;i._target=n;i._source=o;e.exports=i;},null);
__d("d3/core/format-en_US",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g=".",h=",",i=[3,3];f._decimalPoint=g;f._thousandsSeparator=h;f._grouping=i;},null);
__d("d3/core/identity",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();function g(h){return h;}f._identity=g;},null);
__d("d3/core/map",["d3/core/class"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g=b("d3\/core\/class")._class,h=function(l){var m=new i();for(var n in l)m.set(n,l[n]);return m;};function i(){}g(i,{has:function(l){return j+l in this;},get:function(l){return this[j+l];},set:function(l,m){return this[j+l]=m;},remove:function(l){l=j+l;return l in this&&delete this[l];},keys:function(){var l=[];this.forEach(function(m){l.push(m);});return l;},values:function(){var l=[];this.forEach(function(m,n){l.push(n);});return l;},entries:function(){var l=[];this.forEach(function(m,n){l.push({key:m,value:n});});return l;},forEach:function(l){for(var m in this)if(m.charCodeAt(0)===k)l.call(this,m.substring(1),this[m]);}});var j="\0",k=j.charCodeAt(0);h._Map=i;e.exports=h;},null);
__d("d3/core/round",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g=function(h,i){return i?Math.round(h*(i=Math.pow(10,i)))/i:Math.round(h);};e.exports=g;},null);
__d("d3/core/formatPrefix",["d3/core/round","d3/core/format"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h=["y","z","a","f","p","n","\u00b5","m","","k","M","G","T","P","E","Z","Y"].map(j),i=function(k,l){var m=0;if(k){if(k<0)k*=-1;if(l)k=g(k,b("d3\/core\/format")._precision(k,l));m=1+Math.floor(1e-12+Math.log(k)/Math.LN10);m=Math.max(-24,Math.min(24,Math.floor((m<=0?m+1:m-1)/3)*3));}return h[8+m/3];};function j(k,l){var m=Math.pow(10,Math.abs(8-l)*3);return {scale:l>8?function(n){return n/m;}:function(n){return n*m;},symbol:k};}e.exports=i;},null);
__d("d3/core/format",["d3/core/format-en_US","d3/core/identity","d3/core/map","d3/core/round","d3/core/formatPrefix"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g=b("d3\/core\/format-en_US"),h=g._decimalPoint,i=b("d3\/core\/identity")._identity,j=g._grouping,k=g._thousandsSeparator,l=b("d3\/core\/map"),m=b("d3\/core\/round"),n=function(u){var v=o.exec(u),w=v[1]||" ",x=v[2]||">",y=v[3]||"",z=v[4]||"",aa=v[5],ba=+v[6],ca=v[7],da=v[8],ea=v[9],fa=1,ga="",ha=false;if(da)da=+da.substring(1);if(aa||w==="0"&&x==="="){aa=w="0";x="=";if(ca)ba-=Math.floor((ba-1)/4);}switch(ea){case "n":ca=true;ea="g";break;case "%":fa=100;ga="%";ea="f";break;case "p":fa=100;ga="%";ea="r";break;case "b":case "o":case "x":case "X":if(z)z="0"+ea.toLowerCase();case "c":case "d":ha=true;da=0;break;case "s":fa=-1;ea="r";break;}if(z==="#")z="";if(ea=="r"&&!da)ea="g";ea=p.get(ea)||r;var ia=aa&&ca;return function(ja){if(ha&&(ja%1))return "";var ka=ja<0||ja===0&&1/ja<0?(ja=-ja,"-"):y;if(fa<0){var la=b("d3\/core\/formatPrefix")(ja,da);ja=la.scale(ja);ga=la.symbol;}else ja*=fa;ja=ea(ja,da);if(!aa&&ca)ja=s(ja);var ma=z.length+ja.length+(ia?0:ka.length),na=ma<ba?new Array(ma=ba-ma+1).join(w):"";if(ia)ja=s(na+ja);if(h)ja.replace(".",h);ka+=z;return (x==="<"?ka+ja+na:x===">"?na+ka+ja:x==="^"?na.substring(0,ma>>=1)+ka+ja+na.substring(ma):ka+(ia?ja:na+ja))+ga;};},o=/(?:([^{])?([<>=^]))?([+\- ])?(#)?(0)?([0-9]+)?(,)?(\.[0-9]+)?([a-zA-Z%])?/,p=l({b:function(u){return u.toString(2);},c:function(u){return String.fromCharCode(u);},o:function(u){return u.toString(8);},x:function(u){return u.toString(16);},X:function(u){return u.toString(16).toUpperCase();},g:function(u,v){return u.toPrecision(v);},e:function(u,v){return u.toExponential(v);},f:function(u,v){return u.toFixed(v);},r:function(u,v){return (u=m(u,q(u,v))).toFixed(Math.max(0,Math.min(20,q(u*(1+1e-15),v))));}});function q(u,v){return v-(u?Math.ceil(Math.log(u)/Math.LN10):1);}function r(u){return u+"";}var s=i;if(j){var t=j.length;s=function(u){var v=u.lastIndexOf("."),w=v>=0?"."+u.substring(v+1):(v=u.length,""),x=[],y=0,z=j[0];while(v>0&&z>0){x.push(u.substring(v-=z,v+z));z=j[y=(y+1)%t];}return x.reverse().join(k||"")+w;};}n._precision=q;e.exports=n;},null);
__d("d3/core/xyz",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();function g(i){return i>.008856?Math.pow(i,1/3):7.787037*i+4/29;}function h(i){return Math.round(255*(i<=.00304?12.92*i:1.055*Math.pow(i,1/2.4)-.055));}f._lab=g;f._rgb=h;},null);
__d("d3/core/hsl",["d3/core/color","d3/core/rgb"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g=b("d3\/core\/color")._Color,h=function(m,n,o){return arguments.length===1?(m instanceof j?i(m.h,m.s,m.l):b("d3\/core\/rgb")._parse(""+m,b("d3\/core\/rgb")._hsl,i)):i(+m,+n,+o);};function i(m,n,o){return new j(m,n,o);}function j(m,n,o){this.h=m;this.s=n;this.l=o;}var k=j.prototype=new g();k.brighter=function(m){m=Math.pow(.7,arguments.length?m:1);return i(this.h,this.s,this.l/m);};k.darker=function(m){m=Math.pow(.7,arguments.length?m:1);return i(this.h,this.s,m*this.l);};k.rgb=function(){return l(this.h,this.s,this.l);};function l(m,n,o){var p,q;m=m%360;if(m<0)m+=360;n=n<0?0:n>1?1:n;o=o<0?0:o>1?1:o;q=o<=.5?o*(1+n):o+n-o*n;p=2*o-q;function r(t){if(t>360){t-=360;}else if(t<0)t+=360;if(t<60)return p+(q-p)*t/60;if(t<180)return q;if(t<240)return p+(q-p)*(240-t)/60;return p;}function s(t){return Math.round(r(t)*255);}return b("d3\/core\/rgb")._rgb(s(m+120),s(m),s(m-120));}h._hsl=i;h._rgb=l;e.exports=h;},null);
__d("d3/core/rgb",["d3/core/color","d3/core/xyz","d3/core/map","d3/core/hsl","d3/core/lab"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g=b("d3\/core\/color")._Color,h=b("d3\/core\/xyz")._lab,i=b("d3\/core\/map"),j=function(u,v,w){return arguments.length===1?(u instanceof l?k(u.r,u.g,u.b):o(""+u,k,b("d3\/core\/hsl")._rgb)):k(~~u,~~v,~~w);};function k(u,v,w){return new l(u,v,w);}function l(u,v,w){this.r=u;this.g=v;this.b=w;}var m=l.prototype=new g();m.brighter=function(u){u=Math.pow(.7,arguments.length?u:1);var v=this.r,w=this.g,x=this.b,y=30;if(!v&&!w&&!x)return k(y,y,y);if(v&&v<y)v=y;if(w&&w<y)w=y;if(x&&x<y)x=y;return k(Math.min(255,Math.floor(v/u)),Math.min(255,Math.floor(w/u)),Math.min(255,Math.floor(x/u)));};m.darker=function(u){u=Math.pow(.7,arguments.length?u:1);return k(Math.floor(u*this.r),Math.floor(u*this.g),Math.floor(u*this.b));};m.hsl=function(){return p(this.r,this.g,this.b);};m.toString=function(){return "#"+n(this.r)+n(this.g)+n(this.b);};function n(u){return u<16?"0"+Math.max(0,u).toString(16):Math.min(255,u).toString(16);}function o(u,v,w){var x=0,y=0,z=0,aa,ba,ca;aa=/([a-z]+)\((.*)\)/i.exec(u);if(aa){ba=aa[2].split(",");switch(aa[1]){case "hsl":return w(parseFloat(ba[0]),parseFloat(ba[1])/100,parseFloat(ba[2])/100);case "rgb":return v(s(ba[0]),s(ba[1]),s(ba[2]));}}if(ca=t.get(u))return v(ca.r,ca.g,ca.b);if(u!=null&&u.charAt(0)==="#"){if(u.length===4){x=u.charAt(1);x+=x;y=u.charAt(2);y+=y;z=u.charAt(3);z+=z;}else if(u.length===7){x=u.substring(1,3);y=u.substring(3,5);z=u.substring(5,7);}x=parseInt(x,16);y=parseInt(y,16);z=parseInt(z,16);}return v(x,y,z);}function p(u,v,w){var x=Math.min(u/=255,v/=255,w/=255),y=Math.max(u,v,w),z=y-x,aa,ba,ca=(y+x)/2;if(z){ba=ca<.5?z/(y+x):z/(2-y-x);if(u==y){aa=(v-w)/z+(v<w?6:0);}else if(v==y){aa=(w-u)/z+2;}else aa=(u-v)/z+4;aa*=60;}else ba=aa=0;return b("d3\/core\/hsl")._hsl(aa,ba,ca);}function q(u,v,w){u=r(u);v=r(v);w=r(w);var x=h((.4124564*u+.3575761*v+.1804375*w)/b("d3\/core\/lab")._X),y=h((.2126729*u+.7151522*v+.072175*w)/b("d3\/core\/lab")._Y),z=h((.0193339*u+.119192*v+.9503041*w)/b("d3\/core\/lab")._Z);return b("d3\/core\/lab")._lab(116*y-16,500*(x-y),200*(y-z));}function r(u){return (u/=255)<=.04045?u/12.92:Math.pow((u+.055)/1.055,2.4);}function s(u){var v=parseFloat(u);return u.charAt(u.length-1)==="%"?Math.round(v*2.55):v;}var t=i({aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"});t.forEach(function(u,v){t.set(u,o(v,k,b("d3\/core\/hsl")._rgb));});j._names=t;j._rgb=k;j._parse=o;j._hsl=p;j._hex=n;j._lab=q;e.exports=j;},null);
__d("d3/core/lab",["d3/core/color","d3/core/xyz","d3/core/core","d3/core/hcl","d3/core/rgb"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g=b("d3\/core\/color")._Color,h=b("d3\/core\/xyz")._rgb,i=b("d3\/core\/core")._u03c0,j=function(u,v,w){return arguments.length===1?(u instanceof l?k(u.l,u.a,u.b):(u instanceof b("d3\/core\/hcl")._Hcl?b("d3\/core\/hcl")._lab(u.l,u.c,u.h):b("d3\/core\/rgb")._lab((u=b("d3\/core\/rgb")(u)).r,u.g,u.b))):k(+u,+v,+w);};function k(u,v,w){return new l(u,v,w);}function l(u,v,w){this.l=u;this.a=v;this.b=w;}var m=18,n=.95047,o=1,p=1.08883,q=l.prototype=new g();q.brighter=function(u){return k(Math.min(100,this.l+m*(arguments.length?u:1)),this.a,this.b);};q.darker=function(u){return k(Math.max(0,this.l-m*(arguments.length?u:1)),this.a,this.b);};q.rgb=function(){return r(this.l,this.a,this.b);};function r(u,v,w){var x=(u+16)/116,y=x+v/500,z=x-w/200;y=t(y)*n;x=t(x)*o;z=t(z)*p;return b("d3\/core\/rgb")._rgb(h(3.2404542*y-1.5371385*x-.4985314*z),h(-.969266*y+1.8760108*x+.041556*z),h(.0556434*y-.2040259*x+1.0572252*z));}function s(u,v,w){return b("d3\/core\/hcl")._hcl(Math.atan2(w,v)/i*180,Math.sqrt(v*v+w*w),u);}function t(u){return u>.206893034?u*u*u:(u-4/29)/7.787037;}j._K=m;j._X=n;j._Y=o;j._Z=p;j._Lab=l;j._lab=k;j._rgb=r;j._hcl=s;e.exports=j;},null);
__d("d3/core/hcl",["d3/core/color","d3/core/core","d3/core/lab","d3/core/rgb"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g=b("d3\/core\/color")._Color,h=b("d3\/core\/core")._radians,i=function(n,o,p){return arguments.length===1?(n instanceof k?j(n.h,n.c,n.l):(n instanceof b("d3\/core\/lab")._Lab?b("d3\/core\/lab")._hcl(n.l,n.a,n.b):b("d3\/core\/lab")._hcl((n=b("d3\/core\/rgb")._lab((n=b("d3\/core\/rgb")(n)).r,n.g,n.b)).l,n.a,n.b))):j(+n,+o,+p);};function j(n,o,p){return new k(n,o,p);}function k(n,o,p){this.h=n;this.c=o;this.l=p;}var l=k.prototype=new g();l.brighter=function(n){return j(this.h,this.c,Math.min(100,this.l+b("d3\/core\/lab")._K*(arguments.length?n:1)));};l.darker=function(n){return j(this.h,this.c,Math.max(0,this.l-b("d3\/core\/lab")._K*(arguments.length?n:1)));};l.rgb=function(){return m(this.h,this.c,this.l).rgb();};function m(n,o,p){return b("d3\/core\/lab")._lab(p,Math.cos(n*=h)*o,Math.sin(n)*o);}i._Hcl=k;i._hcl=j;i._lab=m;e.exports=i;},null);
__d("d3/core/ns",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},h={prefix:g,qualify:function(i){var j=i.indexOf(":"),k=i;if(j>=0){k=i.substring(0,j);i=i.substring(j+1);}return g.hasOwnProperty(k)?{space:g[k],local:i}:i;}};e.exports=h;},null);
__d("d3/core/transform",["d3/core/core","d3/core/ns"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g=b("d3\/core\/core"),h=g._document,i=g._degrees,j=b("d3\/core\/ns"),k=function(q){var r=h.createElementNS(j.prefix.svg,"g");return (k=function(s){r.setAttribute("transform",s);var t=r.transform.baseVal.consolidate();return new l(t?t.matrix:p);})(q);};function l(q){var r=[q.a,q.b],s=[q.c,q.d],t=n(r),u=m(r,s),v=n(o(s,r,-u))||0;if(r[0]*s[1]<s[0]*r[1]){r[0]*=-1;r[1]*=-1;t*=-1;u*=-1;}this.rotate=(t?Math.atan2(r[1],r[0]):Math.atan2(-s[0],s[1]))*i;this.translate=[q.e,q.f];this.scale=[t,v];this.skew=v?Math.atan2(u,v)*i:0;}l.prototype.toString=function(){return "translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")";};function m(q,r){return q[0]*r[0]+q[1]*r[1];}function n(q){var r=Math.sqrt(m(q,q));if(r){q[0]/=r;q[1]/=r;}return r;}function o(q,r,s){q[0]+=s*r[0];q[1]+=s*r[1];return q;}var p={a:1,b:0,c:0,d:1,e:0,f:0};e.exports=k;},null);
__d("d3/core/interpolate",["d3/core/rgb","d3/core/hsl","d3/core/lab","d3/core/hcl","d3/core/color","d3/core/transform"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g=b("d3\/core\/rgb"),h=b("d3\/core\/hsl"),i=b("d3\/core\/lab"),j=b("d3\/core\/hcl"),k=g._hex,l=h._rgb,m=i._rgb,n=j._lab,o=g._names,p=b("d3\/core\/color")._Color,q=b("d3\/core\/transform"),r=function(u,v){var w=r.interpolators.length,x;while(--w>=0&&!(x=r.interpolators[w](u,v)));return x;};r.number=function(u,v){v-=u;return function(w){return u+v*w;};};r.round=function(u,v){v-=u;return function(w){return Math.round(u+v*w);};};r.string=function(u,v){var w,x,y,z=0,aa=0,ba=[],ca=[],da,ea;s.lastIndex=0;for(x=0;w=s.exec(v);++x){if(w.index)ba.push(v.substring(z,aa=w.index));ca.push({i:ba.length,x:w[0]});ba.push(null);z=s.lastIndex;}if(z<v.length)ba.push(v.substring(z));for(x=0,da=ca.length;(w=s.exec(u))&&x<da;++x){ea=ca[x];if(ea.x==w[0]){if(ea.i){if(ba[ea.i+1]==null){ba[ea.i-1]+=ea.x;ba.splice(ea.i,1);for(y=x+1;y<da;++y)ca[y].i--;}else{ba[ea.i-1]+=ea.x+ba[ea.i+1];ba.splice(ea.i,2);for(y=x+1;y<da;++y)ca[y].i-=2;}}else if(ba[ea.i+1]==null){ba[ea.i]=ea.x;}else{ba[ea.i]=ea.x+ba[ea.i+1];ba.splice(ea.i+1,1);for(y=x+1;y<da;++y)ca[y].i--;}ca.splice(x,1);da--;x--;}else ea.x=r.number(parseFloat(w[0]),parseFloat(ea.x));}while(x<da){ea=ca.pop();if(ba[ea.i+1]==null){ba[ea.i]=ea.x;}else{ba[ea.i]=ea.x+ba[ea.i+1];ba.splice(ea.i+1,1);}da--;}if(ba.length===1)return ba[0]==null?ca[0].x:function(){return v;};return function(fa){for(x=0;x<da;++x)ba[(ea=ca[x]).i]=ea.x(fa);return ba.join("");};};r.transform=function(u,v){var w=[],x=[],y,z=q(u),aa=q(v),ba=z.translate,ca=aa.translate,da=z.rotate,ea=aa.rotate,fa=z.skew,ga=aa.skew,ha=z.scale,ia=aa.scale;if(ba[0]!=ca[0]||ba[1]!=ca[1]){w.push("translate(",null,",",null,")");x.push({i:1,x:r.number(ba[0],ca[0])},{i:3,x:r.number(ba[1],ca[1])});}else if(ca[0]||ca[1]){w.push("translate("+ca+")");}else w.push("");if(da!=ea){if(da-ea>180){ea+=360;}else if(ea-da>180)da+=360;x.push({i:w.push(w.pop()+"rotate(",null,")")-2,x:r.number(da,ea)});}else if(ea)w.push(w.pop()+"rotate("+ea+")");if(fa!=ga){x.push({i:w.push(w.pop()+"skewX(",null,")")-2,x:r.number(fa,ga)});}else if(ga)w.push(w.pop()+"skewX("+ga+")");if(ha[0]!=ia[0]||ha[1]!=ia[1]){y=w.push(w.pop()+"scale(",null,",",null,")");x.push({i:y-4,x:r.number(ha[0],ia[0])},{i:y-2,x:r.number(ha[1],ia[1])});}else if(ia[0]!=1||ia[1]!=1)w.push(w.pop()+"scale("+ia+")");y=x.length;return function(ja){var ka=-1,la;while(++ka<y)w[(la=x[ka]).i]=la.x(ja);return w.join("");};};r.rgb=function(u,v){u=g(u);v=g(v);var w=u.r,x=u.g,y=u.b,z=v.r-w,aa=v.g-x,ba=v.b-y;return function(ca){return "#"+k(Math.round(w+z*ca))+k(Math.round(x+aa*ca))+k(Math.round(y+ba*ca));};};r.hsl=function(u,v){u=h(u);v=h(v);var w=u.h,x=u.s,y=u.l,z=v.h-w,aa=v.s-x,ba=v.l-y;if(z>180){z-=360;}else if(z<-180)z+=360;return function(ca){return l(w+z*ca,x+aa*ca,y+ba*ca)+"";};};r.lab=function(u,v){u=i(u);v=i(v);var w=u.l,x=u.a,y=u.b,z=v.l-w,aa=v.a-x,ba=v.b-y;return function(ca){return m(w+z*ca,x+aa*ca,y+ba*ca)+"";};};r.hcl=function(u,v){u=j(u);v=j(v);var w=u.h,x=u.c,y=u.l,z=v.h-w,aa=v.c-x,ba=v.l-y;if(z>180){z-=360;}else if(z<-180)z+=360;return function(ca){return n(w+z*ca,x+aa*ca,y+ba*ca)+"";};};r.array=function(u,v){var w=[],x=[],y=u.length,z=v.length,aa=Math.min(u.length,v.length),ba;for(ba=0;ba<aa;++ba)w.push(r(u[ba],v[ba]));for(;ba<y;++ba)x[ba]=u[ba];for(;ba<z;++ba)x[ba]=v[ba];return function(ca){for(ba=0;ba<aa;++ba)x[ba]=w[ba](ca);return x;};};r.object=function(u,v){var w={},x={},y;for(y in u)if(y in v){w[y]=t(y)(u[y],v[y]);}else x[y]=u[y];for(y in v)if(!(y in u))x[y]=v[y];return function(z){for(y in w)x[y]=w[y](z);return x;};};var s=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;function t(u){return u=="transform"?r.transform:r;}r.interpolators=[r.object,function(u,v){return v instanceof Array&&r.array(u,v);},function(u,v){return (typeof u==="string"||typeof v==="string")&&r.string(u+"",v+"");},function(u,v){return (typeof v==="string"?o.has(v)||/^(#|rgb\(|hsl\()/.test(v):v instanceof p)&&r.rgb(u,v);},function(u,v){return !isNaN(u=+u)&&!isNaN(v=+v)&&r.number(u,v);}];r._interpolateByName=t;e.exports=r;},null);
__d("d3/core/range",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g=function(i,j,k){if(arguments.length<3){k=1;if(arguments.length<2){j=i;i=0;}}if((j-i)/k===Infinity)throw new Error("infinite range");var l=[],m=h(Math.abs(k)),n=-1,o;i*=m,j*=m,k*=m;if(k<0){while((o=i+k*++n)>j)l.push(o/m);}else while((o=i+k*++n)<j)l.push(o/m);return l;};function h(i){var j=1;while(i*j%1)j*=10;return j;}e.exports=g;},null);
__d("d3/core/rebind",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g=function(i,j){var k=1,l=arguments.length,m;while(++k<l)i[m=arguments[k]]=h(i,j,j[m]);return i;};function h(i,j,k){return function(){var l=k.apply(j,arguments);return arguments.length?i:l;};}e.exports=g;},null);
__d("d3/core/uninterpolate",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();function g(i,j){j=j-(i=+i)?1/(j-i):0;return function(k){return (k-i)*j;};}function h(i,j){j=j-(i=+i)?1/(j-i):0;return function(k){return Math.max(0,Math.min(1,(k-i)*j));};}f._uninterpolateNumber=g;f._uninterpolateClamp=h;},null);
__d("d3/scale/bilinear",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();function g(h,i,j,k){var l=j(h[0],h[1]),m=k(i[0],i[1]);return function(n){return m(l(n));};}f._bilinear=g;},null);
__d("d3/scale/polylinear",["d3/core/bisect"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();function h(i,j,k,l){var m=[],n=[],o=0,p=Math.min(i.length,j.length)-1;if(i[p]<i[0]){i=i.slice().reverse();j=j.slice().reverse();}while(++o<=p){m.push(k(i[o-1],i[o]));n.push(l(j[o-1],j[o]));}return function(q){var r=g(i,q,1,p)-1;return n[r](m[r](q));};}f._polylinear=h;},null);
__d("d3/scale/nice",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();function g(i,j){var k=0,l=i.length-1,m=i[k],n=i[l],o;if(n<m){o=k,k=l,l=o;o=m,m=n,n=o;}if(j=j(n-m)){i[k]=j.floor(m);i[l]=j.ceil(n);}return i;}function h(){return Math;}f._nice=g;f._niceDefault=h;},null);
__d("d3/scale/scale",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g={};function h(j){var k=j[0],l=j[j.length-1];return k<l?[k,l]:[l,k];}function i(j){return j.rangeExtent?j.rangeExtent():h(j.range());}g._scaleExtent=h;g._scaleRange=i;e.exports=g;},null);
__d("d3/scale/linear",["d3/core/uninterpolate","d3/scale/polylinear","d3/scale/bilinear","d3/scale/nice","d3/scale/scale","d3/core/interpolate","d3/core/rebind","d3/core/range","d3/core/core","d3/core/format"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g=b("d3\/core\/uninterpolate"),h=b("d3\/scale\/polylinear")._polylinear,i=b("d3\/scale\/bilinear")._bilinear,j=g._uninterpolateClamp,k=g._uninterpolateNumber,l=b("d3\/scale\/nice")._nice,m=b("d3\/scale\/scale")._scaleExtent,n=b("d3\/core\/interpolate"),o=b("d3\/core\/rebind"),p=b("d3\/core\/range"),q=b("d3\/core\/core"),r=b("d3\/core\/format"),s=function(){return t([0,1],[0,1],n,false);};function t(z,aa,ba,ca){var da,ea;function fa(){var ha=Math.min(z.length,aa.length)>2?h:i,ia=ca?j:k;da=ha(z,aa,ia,ba);ea=ha(aa,z,ia,n);return ga;}function ga(ha){return da(ha);}ga.invert=function(ha){return ea(ha);};ga.domain=function(ha){if(!arguments.length)return z;z=ha.map(Number);return fa();};ga.range=function(ha){if(!arguments.length)return aa;aa=ha;return fa();};ga.rangeRound=function(ha){return ga.range(ha).interpolate(n.round);};ga.clamp=function(ha){if(!arguments.length)return ca;ca=ha;return fa();};ga.interpolate=function(ha){if(!arguments.length)return ba;ba=ha;return fa();};ga.ticks=function(ha){return x(z,ha);};ga.tickFormat=function(ha){return y(z,ha);};ga.nice=function(){l(z,v);return fa();};ga.copy=function(){return t(z,aa,ba,ca);};return fa();}function u(z,aa){return o(z,aa,"range","rangeRound","interpolate","clamp");}function v(z){z=Math.pow(10,Math.round(Math.log(z)/Math.LN10)-1);return z&&{floor:function(aa){return Math.floor(aa/z)*z;},ceil:function(aa){return Math.ceil(aa/z)*z;}};}function w(z,aa){var ba=m(z),ca=ba[1]-ba[0],da=Math.pow(10,Math.floor(Math.log(ca/aa)/Math.LN10)),ea=aa/ca*da;if(ea<=.15){da*=10;}else if(ea<=.35){da*=5;}else if(ea<=.75)da*=2;ba[0]=Math.ceil(ba[0]/da)*da;ba[1]=Math.floor(ba[1]/da)*da+da*.5;ba[2]=da;return ba;}function x(z,aa){return p.apply(q,w(z,aa));}function y(z,aa){return r(",."+Math.max(0,-Math.floor(Math.log(w(z,aa)[2])/Math.LN10+.01))+"f");}s._linearTicks=x;s._linearTickFormat=y;s._linearNice=v;s._linearRebind=u;e.exports=s;},null);
__d("d3/scale/ordinal",["d3/core/map","d3/scale/scale","d3/core/range"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g=b("d3\/core\/map")._Map,h=b("d3\/scale\/scale")._scaleExtent,i=b("d3\/core\/range"),j=function(){return k([],{t:"range",a:[[]]});};function k(l,m){var n,o,p;function q(s){return o[((n.get(s)||n.set(s,l.push(s)))-1)%o.length];}function r(s,t){return i(l.length).map(function(u){return s+t*u;});}q.domain=function(s){if(!arguments.length)return l;l=[];n=new g();var t=-1,u=s.length,v;while(++t<u)if(!n.has(v=s[t]))n.set(v,l.push(v));return q[m.t].apply(q,m.a);};q.range=function(s){if(!arguments.length)return o;o=s;p=0;m={t:"range",a:arguments};return q;};q.rangePoints=function(s,t){if(arguments.length<2)t=0;var u=s[0],v=s[1],w=(v-u)/(Math.max(1,l.length-1)+t);o=r(l.length<2?(u+v)/2:u+w*t/2,w);p=0;m={t:"rangePoints",a:arguments};return q;};q.rangeBands=function(s,t,u){if(arguments.length<2)t=0;if(arguments.length<3)u=t;var v=s[1]<s[0],w=s[v-0],x=s[1-v],y=(x-w)/(l.length-t+2*u);o=r(w+y*u,y);if(v)o.reverse();p=y*(1-t);m={t:"rangeBands",a:arguments};return q;};q.rangeRoundBands=function(s,t,u){if(arguments.length<2)t=0;if(arguments.length<3)u=t;var v=s[1]<s[0],w=s[v-0],x=s[1-v],y=Math.floor((x-w)/(l.length-t+2*u)),z=x-w-(l.length-t)*y;o=r(w+Math.round(z/2),y);if(v)o.reverse();p=Math.round(y*(1-t));m={t:"rangeRoundBands",a:arguments};return q;};q.rangeBand=function(){return p;};q.rangeExtent=function(){return h(m.a[0]);};q.copy=function(){return k(l,m);};return q.domain(l);}e.exports=j;},null);
__d("d3/time/time",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g={},h=Date,i=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function j(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0]);}j.prototype={getDate:function(){return this._.getUTCDate();},getDay:function(){return this._.getUTCDay();},getFullYear:function(){return this._.getUTCFullYear();},getHours:function(){return this._.getUTCHours();},getMilliseconds:function(){return this._.getUTCMilliseconds();},getMinutes:function(){return this._.getUTCMinutes();},getMonth:function(){return this._.getUTCMonth();},getSeconds:function(){return this._.getUTCSeconds();},getTime:function(){return this._.getTime();},getTimezoneOffset:function(){return 0;},valueOf:function(){return this._.valueOf();},setDate:function(){k.setUTCDate.apply(this._,arguments);},setDay:function(){k.setUTCDay.apply(this._,arguments);},setFullYear:function(){k.setUTCFullYear.apply(this._,arguments);},setHours:function(){k.setUTCHours.apply(this._,arguments);},setMilliseconds:function(){k.setUTCMilliseconds.apply(this._,arguments);},setMinutes:function(){k.setUTCMinutes.apply(this._,arguments);},setMonth:function(){k.setUTCMonth.apply(this._,arguments);},setSeconds:function(){k.setUTCSeconds.apply(this._,arguments);},setTime:function(){k.setTime.apply(this._,arguments);}};var k=Date.prototype;g._time=h;g._daySymbols=i;g._utc=j;e.exports=g;},null);
__d("d3/time/interval",["d3/time/time"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g=b("d3\/time\/time"),h=g._utc;function i(k,l,m){function n(t){var u=k(t),v=p(u,1);return t-u<v-t?u:v;}function o(t){l(t=k(new g._time(t-1)),1);return t;}function p(t,u){l(t=new g._time(+t),u);return t;}function q(t,u,v){var w=o(t),x=[];if(v>1){while(w<u){if(!(m(w)%v))x.push(new Date(+w));l(w,1);}}else while(w<u)x.push(new Date(+w)),l(w,1);return x;}function r(t,u,v){try{g._time=h;var w=new h();w._=t;return q(w,u,v);}finally{g._time=Date;}}k.floor=k;k.round=n;k.ceil=o;k.offset=p;k.range=q;var s=k.utc=j(k);s.floor=s;s.round=j(n);s.ceil=j(o);s.offset=j(p);s.range=r;return k;}function j(k){return function(l,m){try{g._time=h;var n=new h();n._=l;return k(n,m)._;}finally{g._time=Date;}};}f._interval=i;},null);
__d("d3/time/year",["d3/time/interval","d3/time/day"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g=b("d3\/time\/interval")._interval,h=g(function(i){i=b("d3\/time\/day")(i);i.setMonth(0,1);return i;},function(i,j){i.setFullYear(i.getFullYear()+j);},function(i){return i.getFullYear();});h.s=h.range;h.s.utc=h.utc.range;e.exports=h;},null);
__d("d3/time/day",["d3/time/time","d3/time/interval","d3/time/year"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g=b("d3\/time\/time"),h=b("d3\/time\/interval")._interval,i=h(function(j){var k=new g._time(1970,0);k.setFullYear(j.getFullYear(),j.getMonth(),j.getDate());return k;},function(j,k){j.setDate(j.getDate()+k);},function(j){return j.getDate()-1;});i.s=i.range;i.s.utc=i.utc.range;i.ofYear=function(j){var k=b("d3\/time\/year")(j);return Math.floor((j-k-(j.getTimezoneOffset()-k.getTimezoneOffset())*60000)/86400000);};e.exports=i;},null);
__d("d3/time/hour",["d3/time/time","d3/time/interval"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g=b("d3\/time\/time"),h=b("d3\/time\/interval")._interval,i=h(function(j){var k=j.getTimezoneOffset()/60;return new g._time((Math.floor(j/3600000-k)+k)*3600000);},function(j,k){j.setTime(j.getTime()+Math.floor(k)*3600000);},function(j){return j.getHours();});i.s=i.range;i.s.utc=i.utc.range;e.exports=i;},null);
__d("d3/time/minute",["d3/time/time","d3/time/interval"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g=b("d3\/time\/time"),h=b("d3\/time\/interval")._interval,i=h(function(j){return new g._time(Math.floor(j/60000)*60000);},function(j,k){j.setTime(j.getTime()+Math.floor(k)*60000);},function(j){return j.getMinutes();});i.s=i.range;i.s.utc=i.utc.range;e.exports=i;},null);
__d("d3/time/month",["d3/time/interval","d3/time/day"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g=b("d3\/time\/interval")._interval,h=b("d3\/time\/day"),i=g(function(j){j=h(j);j.setDate(1);return j;},function(j,k){j.setMonth(j.getMonth()+k);},function(j){return j.getMonth();});i.s=i.range;i.s.utc=i.utc.range;e.exports=i;},null);
__d("d3/time/second",["d3/time/time","d3/time/interval"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g=b("d3\/time\/time"),h=b("d3\/time\/interval")._interval,i=h(function(j){return new g._time(Math.floor(j/1000)*1000);},function(j,k){j.setTime(j.getTime()+Math.floor(k)*1000);},function(j){return j.getSeconds();});i.s=i.range;i.s.utc=i.utc.range;e.exports=i;},null);
__d("FileHasher",["WebWorker","fileSliceName","emptyFunction","FileHashWorkerResource"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();j.isSupported=function(){"use strict";return g.isSupported();};function j(){"use strict";var k=b('FileHashWorkerResource');g.prepareResource(k);this.$FileHasher0=new g(k).setMessageHandler(function(l){this.$FileHasher1(l);}.bind(this)).execute();}j.prototype.hash=function(k,l){"use strict";this.$FileHasher1=l;this.$FileHasher0.postMessage({file:k,fileSliceName:h});return this;};j.prototype.destroy=function(){"use strict";this.$FileHasher1=i;this.$FileHasher0.terminate();};e.exports=j;},null);
__d("InsightsNumUtils",["NumberFormatConfig","intlNumUtils","sprintf"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j={GBP:'£%s',EUR:'%s€',JPY:'¥%s',USD:'$%s'},k={prettyCurrency:function(l,m){var n=j[l]||'%s %s',o=m.toFixed(2).split('.'),p=g.decimalSeparator;return i(n,this.prettyInt(parseInt(o[0],10))+p+o[1],l);},prettyShortCurrency:function(l,m){var n=k.prettyShortInt(m),o=j[l]||'%s %s';return i(o,k.prettyShortInt(m),l);},prettyFloat:function(l){return h.getFloatString(l,g.numberDelimiter,g.decimalSeparator);},prettyShortInt:function(l){function m(n,o){return Math.round((n/o)*10)/10;}if(Math.abs(l)>=1e+09)return this.prettyFloat(m(l,1e+09))+'B';if(Math.abs(l)>=1e+06)return this.prettyFloat(m(l,1e+06))+'M';if(Math.abs(l)>=1000)return this.prettyFloat(m(l,1000))+'K';return this.prettyInt(l);},prettyInt:function(l){return h.getIntegerString(Math.round(l),g.numberDelimiter);},prettyPercent:function(l,m){if(!m)m=0;return (l*100).toFixed(m)+'%';}};e.exports=k;},null);
__d("PaymentMethodUtils",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g=16,h=4,i=[{pattern:/^5[1-5]/,name:'mc',cscDigits:3,digits:16,supported:true,code:77},{pattern:/^4/,name:'visa',cscDigits:3,digits:16,supported:true,code:86},{pattern:/^3[47]/,name:'amex',cscDigits:4,digits:15,supported:true,code:65},{pattern:/^35(2[8-9]|[3-8])/,name:'jcb',cscDigits:3,digits:16,supported:true,code:74},{pattern:/^(6011|65|64[4-9]|622([2-8]|1[3-9]|12[6-9]|9[0-1]|92[0-5]))/,name:'disc',cscDigits:3,digits:16,supported:true,code:68},{pattern:/^30[0-5]/,name:'diners',digits:14,cscDigits:3,supported:false,code:64},{name:'unknown',digits:16,cscDigits:3,supported:false,code:85}],j=function(l){return l.replace(/[iIl]/g,'1').replace(/[Oo]/g,'0').replace(/[^\d]/gi,'');},k={getCardType:function(l){l=j(l);l=l.substr(0,6);for(var m=0;m<i.length;m++)if(l.match(i[m].pattern))return i[m];},getCardTypeFromCode:function(l){for(var m=0;m<i.length;m++)if(l==i[m].code)return i[m];return null;},isValidCCNumber:function(l){l=j(l);var m=k.getCardType(l);if(m.digits!==l.length)return false;if(!m.supported)return false;return k.isValidLuhn(l);},isValidLuhn:function(l){l=j(l);var m=l.split('').reverse(),n='';for(var o=0;o<m.length;o++){var p=parseInt(m[o],10);if(o%2!==0)p=p*2;n=n+p;}var q=0;for(o=0;o<n.length;o++)q=q+parseInt(n.charAt(o),10);return !!(q!==0&&q%10===0);},getMaxCardLength:function(l){return g;},getMaxCSCLength:function(){return h;}};e.exports=k;},null);
__d("ReactART",["art/core/transform","art/modes/current","React","ReactInstanceMap","ReactMultiChild","ReactUpdates","Object.assign","emptyObject","art/modes/fast"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){b.__markCompiled&&b.__markCompiled();'use strict';b('art/modes/fast');var o=new g();function p(ea){if(!ea)return '';if(typeof ea==='string')return ea;if(ea.length)return ea.join('\n');return '';}function q(ea){var fa=function(ia){this.node=null;this.subscriptions=null;this.listeners=null;this._mountImage=null;this._renderedChildren=null;this._mostRecentlyPlacedChild=null;};fa.displayName=ea;for(var ga=1,ha=arguments.length;ga<ha;ga++)m(fa.prototype,arguments[ga]);return fa;}var r=m({},k.Mixin,{moveChild:function(ea,fa){var ga=ea._mountImage,ha=this._mostRecentlyPlacedChild;if(ha==null){if(ga.previousSibling)if(this.node.firstChild){ga.injectBefore(this.node.firstChild);}else ga.inject(this.node);}else if(ha.nextSibling!==ga)if(ha.nextSibling){ga.injectBefore(ha.nextSibling);}else ga.inject(this.node);this._mostRecentlyPlacedChild=ga;},createChild:function(ea,fa){ea._mountImage=fa;var ga=this._mostRecentlyPlacedChild;if(ga==null){if(this.node.firstChild){fa.injectBefore(this.node.firstChild);}else fa.inject(this.node);}else if(ga.nextSibling){fa.injectBefore(ga.nextSibling);}else fa.inject(this.node);this._mostRecentlyPlacedChild=fa;},removeChild:function(ea){ea._mountImage.eject();ea._mountImage=null;},updateChildrenAtRoot:function(ea,fa){this.updateChildren(ea,fa,n);},mountAndInjectChildrenAtRoot:function(ea,fa){this.mountAndInjectChildren(ea,fa,n);},updateChildren:function(ea,fa,ga){this._mostRecentlyPlacedChild=null;this._updateChildren(ea,fa,ga);},mountAndInjectChildren:function(ea,fa,ga){var ha=this.mountChildren(ea,fa,ga),ia=0;for(var ja in this._renderedChildren)if(this._renderedChildren.hasOwnProperty(ja)){var ka=this._renderedChildren[ja];ka._mountImage=ha[ia];ha[ia].inject(this.node);ia++;}}}),s=i.createClass({displayName:'Surface',mixins:[r],componentDidMount:function(){var ea=i.findDOMNode(this);this.node=h.Surface(+this.props.width,+this.props.height,ea);var fa=l.ReactReconcileTransaction.getPooled();fa.perform(this.mountAndInjectChildren,this,this.props.children,fa,j.get(this)._context);l.ReactReconcileTransaction.release(fa);},componentDidUpdate:function(ea){var fa=this.node;if(this.props.width!=ea.width||this.props.height!=ea.height)fa.resize(+this.props.width,+this.props.height);var ga=l.ReactReconcileTransaction.getPooled();ga.perform(this.updateChildren,this,this.props.children,ga,j.get(this)._context);l.ReactReconcileTransaction.release(ga);if(fa.render)fa.render();},componentWillUnmount:function(){this.unmountChildren();},render:function(){var ea=this.props;return (i.createElement(h.Surface.tagName,{accesskey:ea.accesskey,className:ea.className,draggable:ea.draggable,role:ea.role,style:ea.style,tabindex:ea.tabindex,title:ea.title}));}}),t={onMouseMove:'mousemove',onMouseOver:'mouseover',onMouseOut:'mouseout',onMouseUp:'mouseup',onMouseDown:'mousedown',onClick:'click'},u={construct:function(ea){this._currentElement=ea;},getPublicInstance:function(){return this.node;},putEventListener:function(ea,fa){var ga=this.subscriptions||(this.subscriptions={}),ha=this.listeners||(this.listeners={});ha[ea]=fa;if(fa){if(!ga[ea])ga[ea]=this.node.subscribe(ea,fa,this);}else if(ga[ea]){ga[ea]();delete ga[ea];}},handleEvent:function(event){var ea=this.listeners[event.type];if(!ea)return;if(typeof ea==='function'){ea.call(this,event);}else if(ea.handleEvent)ea.handleEvent(event);},destroyEventListeners:function(){var ea=this.subscriptions;if(ea)for(var fa in ea)ea[fa]();this.subscriptions=null;this.listeners=null;},applyNodeProps:function(ea,fa){var ga=this.node,ha=fa.scaleX!=null?fa.scaleX:fa.scale!=null?fa.scale:1,ia=fa.scaleY!=null?fa.scaleY:fa.scale!=null?fa.scale:1;o.transformTo(1,0,0,1,0,0).move(fa.x||0,fa.y||0).rotate(fa.rotation||0,fa.originX,fa.originY).scale(ha,ia,fa.originX,fa.originY);if(fa.transform!=null)o.transform(fa.transform);if(ga.xx!==o.xx||ga.yx!==o.yx||ga.xy!==o.xy||ga.yy!==o.yy||ga.x!==o.x||ga.y!==o.y)ga.transformTo(o);if(fa.cursor!==ea.cursor||fa.title!==ea.title)ga.indicate(fa.cursor,fa.title);if(ga.blend&&fa.opacity!==ea.opacity)ga.blend(fa.opacity==null?1:fa.opacity);if(fa.visible!==ea.visible)if(fa.visible==null||fa.visible){ga.show();}else ga.hide();for(var ja in t)this.putEventListener(t[ja],fa[ja]);},mountComponentIntoNode:function(ea,fa){throw new Error('You cannot render an ART component standalone. '+'You need to wrap it in a Surface.');}},v=q('Group',u,r,{mountComponent:function(ea,fa,ga){this.node=h.Group();var ha=this._currentElement.props;this.applyGroupProps(n,ha);this.mountAndInjectChildren(ha.children,fa,ga);return this.node;},receiveComponent:function(ea,fa,ga){var ha=ea.props,ia=this._currentElement.props;this.applyGroupProps(ia,ha);this.updateChildren(ha.children,fa,ga);this._currentElement=ea;},applyGroupProps:function(ea,fa){this.node.width=fa.width;this.node.height=fa.height;this.applyNodeProps(ea,fa);},unmountComponent:function(){this.destroyEventListeners();this.unmountChildren();}}),w=q('ClippingRectangle',u,r,{mountComponent:function(ea,fa,ga){this.node=h.ClippingRectangle();var ha=this._currentElement.props;this.applyClippingProps(n,ha);this.mountAndInjectChildren(ha.children,fa,ga);return this.node;},receiveComponent:function(ea,fa,ga){var ha=ea.props,ia=this._currentElement.props;this.applyClippingProps(ia,ha);this.updateChildren(ha.children,fa,ga);this._currentElement=ea;},applyClippingProps:function(ea,fa){this.node.width=fa.width;this.node.height=fa.height;this.node.x=fa.x;this.node.y=fa.y;this.applyNodeProps(ea,fa);},unmountComponent:function(){this.destroyEventListeners();this.unmountChildren();}}),x=m({},u,{applyRenderableProps:function(ea,fa){if(ea.fill!==fa.fill)if(fa.fill&&fa.fill.applyFill){fa.fill.applyFill(this.node);}else this.node.fill(fa.fill);if(ea.stroke!==fa.stroke||ea.strokeWidth!==fa.strokeWidth||ea.strokeCap!==fa.strokeCap||ea.strokeJoin!==fa.strokeJoin||ea.strokeDash!==fa.strokeDash)this.node.stroke(fa.stroke,fa.strokeWidth,fa.strokeCap,fa.strokeJoin,fa.strokeDash);this.applyNodeProps(ea,fa);},unmountComponent:function(){this.destroyEventListeners();}}),y=q('Shape',x,{construct:function(ea){this._currentElement=ea;this._oldDelta=null;this._oldPath=null;},mountComponent:function(ea,fa,ga){this.node=h.Shape();var ha=this._currentElement.props;this.applyShapeProps(n,ha);return this.node;},receiveComponent:function(ea,fa,ga){var ha=ea.props,ia=this._currentElement.props;this.applyShapeProps(ia,ha);this._currentElement=ea;},applyShapeProps:function(ea,fa){var ga=this._oldDelta,ha=this._oldPath,ia=fa.d||p(fa.children);if(ia.delta!==ga||ia!==ha||ea.width!==fa.width||ea.height!==fa.height){this.node.draw(ia,fa.width,fa.height);this._oldPath=ia;this._oldDelta=ia.delta;}this.applyRenderableProps(ea,fa);}}),z=q('Text',x,{construct:function(ea){this._currentElement=ea;this._oldString=null;},mountComponent:function(ea,fa,ga){var ha=this._currentElement.props,ia=p(ha.children);this.node=h.Text(ia,ha.font,ha.alignment,ha.path);this._oldString=ia;this.applyRenderableProps(n,ha);return this.node;},isSameFont:function(ea,fa){if(ea===fa)return true;if(typeof fa==='string'||typeof ea==='string')return false;return (fa.fontSize===ea.fontSize&&fa.fontStyle===ea.fontStyle&&fa.fontVariant===ea.fontVariant&&fa.fontWeight===ea.fontWeight&&fa.fontFamily===ea.fontFamily);},receiveComponent:function(ea,fa,ga){var ha=ea.props,ia=this._currentElement.props,ja=this._oldString,ka=p(ha.children);if(ja!==ka||!this.isSameFont(ia.font,ha.font)||ia.alignment!==ha.alignment||ia.path!==ha.path){this.node.draw(ka,ha.font,ha.alignment,ha.path);this._oldString=ka;}this.applyRenderableProps(ia,ha);this._currentElement=ea;}}),aa=Array.prototype.slice;function ba(ea,fa,ga,ha,ia){this.args=aa.call(arguments);}ba.prototype.applyFill=function(ea){ea.fillLinear.apply(ea,this.args);};function ca(ea,fa,ga,ha,ia,ja,ka){this.args=aa.call(arguments);}ca.prototype.applyFill=function(ea){ea.fillRadial.apply(ea,this.args);};function da(ea,fa,ga,ha,ia){this.args=aa.call(arguments);}da.prototype.applyFill=function(ea){ea.fillImage.apply(ea,this.args);};e.exports={ClippingRectangle:w,Group:v,LinearGradient:ba,Path:h.Path,Pattern:da,RadialGradient:ca,Shape:y,Surface:s,Text:z,Transform:g};},null);
__d("SpectrumNumberUtilities",["NumberFormatConfig","fbt","intlNumUtils"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();function j(p){return i.getIntegerString(Math.round(p),g.numberDelimiter);}function k(p){p=Math.round(p*10)/10;return i.getFloatString(p,g.numberDelimiter,g.decimalSeparator);}function l(p){if(Math.abs(p)>=1e+09)return k(p/1e+09)+'b';if(Math.abs(p)>=1e+06)return k(p/1e+06)+'m';if(Math.abs(p)>=1000)return k(p/1000)+'K';return j(p);}var m={GBP:163,EUR:128,JPY:165,USD:36};function n(p,q){var r=m[p];if(r)p=String.fromCharCode(r);var s,t='';if(q==Math.round(q)){s=l(q);}else{var u=q.toFixed(2).split('.'),v=g.decimalSeparator;s=j(parseInt(u[0],10))+v+u[1];if(q<0){s=s.replace(/-/,'');t='-';}}return (h._("{negative sign(-) or blank}{currency symbol}{number}",[h.param("negative sign(-) or blank",t),h.param("currency symbol",p),h.param("number",s)]));}var o={CURRENCY_FORMATS:m,currencyFormatter:n,integerFormatter:j,floatFormatter:k,shortIntegerFormatter:l};e.exports=o;},null);
__d("SpectrumBaseNumberScale",["d3/scale/linear","SpectrumNumberUtilities","d3/core/range"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();function j(n){if(n===0)return 0;return Math.pow(10,Math.round(Math.log(Math.abs(n))/Math.LN10)-1);}function k(n,o){var p=n.domain(),q=p[0],r=p[p.length-1],s=r-q;if(r<q){q=r;r=p[0];}var t=n.ceilToFixed(Math.pow(10,n.floorToFixed(Math.log(s/o)/Math.LN10))),u=(o*t)/s;if(u<=.15){t*=10;}else if(u<=.35){t*=5;}else if(u<=.75)t*=2;return {start:q,stop:r,span:s,step:t};}function l(n,o){n.shift=function(){return Math.pow(10,o);};n.tickFormat=function(){return h.shortIntegerFormatter;};n.tooltipFormat=function(){return h.integerFormatter;};n.nice=function(q){var r=n.domain(),s=r[0],t=r[r.length-1],u=Math.max(j(s),j(t),1/n.shift());if(u===0){s=0;t=1;}else if(s==t){t=Math.ceil(t/u)*u;s=t-u;if(t>=0){s=Math.max(s,0);t=Math.max(t,u);}}else if(s<t){s=Math.floor(s/u)*u;t=Math.ceil(t/u)*u;}else{s=Math.ceil(s/u)*u;t=Math.floor(t/u)*u;}return n.domain([s,t]);};n.ceilToFixed=function(q){return Math.ceil(q*n.shift())/n.shift();};n.floorToFixed=function(q){return Math.floor(q*n.shift())/n.shift();};n.getTickStep=function(q){var r=k(n,q);return r.step;};n.ticks=function(q){var r=k(n,q),s=r.start,t=r.stop,u=r.span,v=r.step,w=s>0?1:-1,x=t>0?1:-1,y=i(w*Math.ceil(Math.abs(s/v))*v,x*Math.floor(Math.abs(t/v))*v+v*.5,v);if(y[0]<s)y.shift();var z=y.map(n.tickFormat()).some(function(aa,ba,ca){return ba>0&&aa==ca[ba-1];});if(z)y=n.ticks(q-1);if(y.length<=2)if(q>2&&t>1){return [s,s+u/2,t];}else return [s,t];return y;};var p=n.copy;n.copy=function(){return l(p(),o);};return n;}var m=function(n){n=n===(void 0)?0:n;return l(g(),n);};e.exports=m;},null);
__d("SpectrumStyle",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g={BLUE_HOVER:'rgba(113, 137, 174, 0.3)',BLUE:'#B1BDD6',BLUE2:'#899BC1',BLUE3:'#95A5D0',BLUE4:'#3C6399',BLUE_BRUSH:'rgba(58, 96, 149, 0.08)',BRIGHT_BLUE:'#5890FF',BOLD_BLUE:'#627AAD',DARK_BLUE:'#23355B',FB_BLUE:'#3B5998',LIGHT_BLUE:'#C5CEE0',LIGHT_BLUE2:'#9DACCB',LIGHT_BLUE3:'#D7DAE7',LAVENDER:'#9C7AB3',TROUT:'#4E5665',CASPER:'#ABB7CF',COBALT:'#9DACCB',COBALT2:'#758AB7',COBALT3:'#7F96C7',GRAY:'#ADB3BC',LIGHT_GRAY:'#E5E5E5',MAUVE:'#D094AB',MAUVE2:'#DEB5C5',ORANGE:'#F79600',ORANGE_BRUSH:'rgba(242, 100, 52, 0.14)',LIGHT_ORANGE:'#FFCA87',PINK:'#DE8585',DEEP_PURPLE:'#705781',PURPLE:'#BC7F96',PURPLE2:'#B7758F',PURPLE3:'#925E73',PURPLE4:'#98677D',PURPLE5:'#B36D88',PURPLE6:'#B194C2',LIGHT_GREEN:'#F0EEC4',DARK_RED:'#D44040',SALMON:'#DA7878',BROWN:'#892A2A',BEIGE:'#C9B4A0',DUCKEGG:'#BFDBC6',TAN:'#E8C595',VIOLET:'#865EA1',FONT_FAMILY:['\'helvetica neue\'','helvetica','arial','\'lucida grande\'','tahoma','verdana','sans-serif'].join(','),FONT_SIZE_TINY:10,FONT_SIZE_SMALL:12};g.BREAKDOWN_COLORS=[g.COBALT3,g.LIGHT_BLUE3,g.PURPLE6,g.LIGHT_GREEN,g.CASPER,g.TAN,g.DUCKEGG,g.GRAY,g.MAUVE,g.BEIGE];g.BUTTERFLY_COLORS=[g.LIGHT_GRAY,g.BLUE2,g.LIGHT_GRAY,g.BLUE4];g.BUTTERFLY_LABEL=g.TROUT;e.exports=g;},null);
__d("SpectrumBaseStyleSheet-upstream",["SpectrumStyle","cx"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i={areas:{colors:[g.BLUE],hover:g.BRIGHT_BLUE,hoverFill:"#FFF",hoveBarStrokeWidth:2,hoverBubbleStrokeWidth:3,partialOverlayClass:"_190w",solidOpacity:.6,dashOpacity:.3},brush:{color:g.BLUE_BRUSH,handleBars:false,fadeColor:null},ring:{backgroundColor:'#F6F7FA',highlightColor:'#467AB0',labelFont:{fontFamily:'Helvetica',fontSize:12},metricFont:{fontFamily:'Helvetica',fontSize:22,fontWeight:'bold'},textColor:'#677C9F',radius:56,width:12},columns:{borderRadius:3,colors:[g.DARK_BLUE],fadeOutOpacity:1,fontFamily:g.FONT_FAMILY,fontSize:g.FONT_SIZE_SMALL,fontWeight:'bold',invalidColor:'#F6F7F8',innerMargin:.1,innerLabelColor:'#ffffff',labelColors:[g.DARK_BLUE],labelMargin:6,labelInnerMargin:12,labelOuterMargin:15,outerLabelColor:g.BOLD_BLUE,sideBySideMargin:1},confidenceInterval:{bottomColor:'#AFBDD8',opacity:.2,topColor:'#5CC074'},guide:{color:g.BRIGHT_BLUE,width:1},gutter:{bottom:0,left:0,middle:0,right:0,top:0},lines:{colors:[g.DARK_BLUE],fadeOutColor:'rgba(0,0,0,0.1)',highlightWidths:[4],markerColor:'#ffffff',markers:true,partialStrokeDashes:[4],widths:[2],dotRadius:2,dotStrokeWidth:2,width:2,solidOpacity:.8,dashOpacity:.8},markers:{lineColor:'rgba(0,0,0,0.15)',lineWidth:1,labelColor:g.GRAY,highlightColor:g.BRIGHT_BLUE,highlightWidth:3,dotColor:'#ffffff',fontFamily:g.FONT_FAMILY,fontSize:g.FONT_SIZE_SMALL},plotBands:{color:g.LIGHT_ORANGE,label:{fontColor:g.GRAY,fontFamily:g.FONT_FAMILY,fontSize:g.FONT_SIZE_SMALL,padding:10},opacity:.2},rangeBands:{outerPadding:0,padding:0},xAxis:{axisLineColor:'#cccccc',fontFamily:g.FONT_FAMILY,fontSize:g.FONT_SIZE_TINY,labelColor:g.GRAY,lineColor:'#cccccc'},yAxis:{baseLineColor:null,distanceBetweenTicks:45,fontFamily:g.FONT_FAMILY,fontSize:g.FONT_SIZE_TINY,labelColor:g.GRAY,lineColor:'rgba(0,0,0,0.05)',showRightTicks:false}};e.exports=i;},null);
__d("SpectrumContextMixin",["InsightsContextMixin"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();e.exports=g;},null);
__d("SpectrumBaseStyleSheet",["SpectrumBaseStyleSheet-upstream","cx"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();g.areas.partialOverlayClass="_4v0s";e.exports=g;},null);
__d("SpectrumEnvironment",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g={ignoreUserEvents:false};e.exports=g;},null);
__d("SpectrumUtilities",["cloneWithProps"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();function h(p){return p;}function i(p,q){return function(){return p(q.apply(this,arguments));};}function j(p,q,r){for(var s=1,t=p.length;s<t;s++)q.call(r,p[s-1],s-1,p[s],s);}function k(p,q,r){if(p<Math.min(q,r))return false;if(p>Math.max(q,r))return false;return true;}function l(p,q,r){var s=-Infinity,t=Infinity,u=-Infinity,v=Infinity,w=Infinity;function x(y,z,aa,ba){var ca=aa-y,da=ba-z,ea=ca/da,fa=da/ca,ga=(p-y),ha=(q-z),ia=y+ea*ha,ja=z+fa*ga;if(k(ia,y,aa)){if(ia>s&&ia<p)s=ia;if(ia<t&&ia>p)t=ia;}if(k(ja,z,ba)){if(ja>u&&ja<q)u=ja;if(ja<v&&ja>q)v=ja;}if(!k(p,y,aa))return 0;var ka=Math.abs(ja-q);if(ka>w)return 0;w=ka;var la=Math.abs(p-y),ma=Math.abs(p-aa);if(la<ma){return (q<ja)?1:3;}else return (q<ja)?2:4;}r(x);return {left:s,right:t,top:u,bottom:v,distance:w};}function m(p){if(!p)return null;var q=p.range(),r=q[0],s=q[q.length-1];if(p.rangeBand)s+=p.rangeBand();return [r,s];}function n(p,q,r,s){var t=Object.assign({},q,r,s);return g(p,t);}var o={compose:i,findEdges:l,forEachVector:j,getOuterRange:m,identity:h,mergeProps:n};e.exports=o;},null);
__d("SpectrumSurface",["React","ReactART","SpectrumEnvironment","SpectrumUtilities","emptyFunction","throttle"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();var m=h.Surface,n='mouseup';if(window.navigator.msPointerEnabled)n='MSPointerUp';var o=500,p=25,q={type:'',shouldStop:false,stopPropagation:function(){q.shouldStop=true;},x:0,y:0,hitRegionTop:0,hitRegionLeft:0,hitRegionBottom:0,hitRegionRight:0},r={left:0,right:'auto',top:0,position:'absolute'},s=g.createClass({displayName:"SpectrumSurface",componentWillMount:function(){this.eventChannel=[];this.throttledHandleEvent=l(this.actuallyHandleEvent,p,this);},getInitialState:function(){return {cursor:'',focus:null,timer:null};},getDefaultProps:function(){return {onMouseMove:k,onMouseOut:k};},clearTimer:function(){if(this.state.timer)clearTimeout(this.state.timer);},blurIfNothingHappens:function(){this.state.timer=setTimeout(this.setState.bind(this,{focus:null},null),o);},requestFocus:function(t){this.clearTimer();if(t==null)return this.blurIfNothingHappens();this.setState({focus:t});if(this.props.onRequestFocus)this.props.onRequestFocus(t);},componentWillUnmount:function(){this.clearTimer();},attachDragEvent:function(){var t;if(window.addEventListener){t=window;t.addEventListener('mousemove',this.handleWindowEvent,true);t.addEventListener(n,this.handleWindowEvent,true);}else{t=document.body;t.attachEvent('onmousemove',this.handleWindowEvent);t.attachEvent('mouseup',this.handleWindowEvent);}},detachDragEvent:function(){var t;if(window.addEventListener){t=window;t.removeEventListener('mousemove',this.handleWindowEvent,true);t.removeEventListener(n,this.handleWindowEvent,true);}else{t=document.body;t.detachEvent('onmousemove',this.handleWindowEvent);t.detachEvent('mouseup',this.handleWindowEvent);}},handleWindowEvent:function(event){var t=event.type;if(t=='MSPointerUp')t='mouseup';this.handleEvent(t,event);},handleEvent:function(t,event){event.preventDefault&&event.preventDefault();var u=event.nativeEvent||event;if(u.targetTouches){u=u.targetTouches[0];if(!u)return;}var v=g.findDOMNode(this),w=v.getBoundingClientRect();q.x=u.clientX-w.left-v.clientLeft;q.y=u.clientY-w.top-v.clientTop;if(t==='mousemove'){this.throttledHandleEvent(t);}else this.actuallyHandleEvent(t);},actuallyHandleEvent:function(t){this.clearTimer();if(t=='mouseleave')this.blurIfNothingHappens();if(t=='mousedown')this.attachDragEvent();this.type='mousedown';if(t=='mouseup')this.detachDragEvent();if(t=='mouseup'&&this.type=='mousedown')t='click';if(t=='mousemove')this.props.onMouseMove(q);if(t=='mouseout')this.props.onMouseOut(q);q.type=t;q.cursor=this.state.cursor;q.shouldStop=false;q.hitRegionTop=-Infinity;q.hitRegionLeft=-Infinity;q.hitRegionBottom=+Infinity;q.hitRegionRight=+Infinity;var u=this.eventChannel;for(var v=u.length;v--;){var w=u[v];if(!w||!w.handleEvent)continue;w.handleEvent(q);if(q.shouldStop)break;}if(q.cursor!==this.state.cursor)this.setState({cursor:q.cursor});},render:function(){var t=this.props.width,u=this.props.height,v={width:t,height:u,scaleX:this.props.scaleX,scaleY:this.props.scaleY,theme:this.props.theme,focus:this.state.focus,eventChannel:this.eventChannel,onRequestFocus:this.requestFocus};g.Children.forEach(this.props.children,function(z){if(!z)return;var aa=Object.assign({},z.props,v);if(z.type.getAdjustedScaleY)v.scaleY=z.type.getAdjustedScaleY(aa);if(z.type.getAdjustedScaleX)v.scaleX=z.type.getAdjustedScaleX(aa);});var w=g.Children.map(this.props.children,function(z,aa){if(!z||z.type.isChartLayer)return null;return j.mergeProps(z,v,{eventIndex:aa});}),x=g.Children.map(this.props.children,function(z,aa){if(!z||!z.type.isChartLayer)return null;return j.mergeProps(z,v,{eventIndex:aa});}),y={style:{cursor:this.state.cursor,height:u,position:'relative',textAlign:'left',width:t}};if(!i.ignoreUserEvents){y.onMouseMove=this.handleEvent.bind(this,'mousemove');y.onMouseOut=this.handleEvent.bind(this,'mouseout');y.onMouseLeave=this.handleEvent.bind(this,'mouseleave');y.onMouseDown=this.handleEvent.bind(this,'mousedown');y.onTouchMove=this.handleEvent.bind(this,'mousemove');y.onTouchStart=this.handleEvent.bind(this,'mousedown');y.onTouchCancel=this.handleEvent.bind(this,'mouseup');y.onTouchEnd=this.handleEvent.bind(this,'mouseup');}return (g.createElement("div",g.__spread({},y),g.createElement("div",{style:{left:0,height:u,overflow:'hidden',position:'absolute',top:0,width:t}},g.createElement(m,{height:u,width:t,style:r},w)),x));}});e.exports=s;},null);
__d("SpectrumTimeScale",["BinarySearch","d3/core/range","d3/scale/linear","formatDate","d3/time/year","d3/time/month","d3/time/day","d3/time/hour","d3/time/minute","d3/time/second"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();function k(da,ea){return function(fa){return j(new Date(fa),da,{utc:true,skipPatternLocalization:ea});};}var l={Year:b('d3/time/year').utc,Month:b('d3/time/month').utc,Day:b('d3/time/day').utc,Hour:b('d3/time/hour').utc,Minute:b('d3/time/minute').utc,Second:b('d3/time/second').utc},m=[1000,5000,15000,30000,60000,300000,900000,1800000,3600000,10800000,21600000,43200000,86400000,172800000,604800000,2.592e+09,7.776e+09,3.1536e+10],n={format:k('Y'),interval:l.Year,next:null},o={format:k('M',true),interval:l.Month,next:n},p={format:k('d',true),interval:l.Day,next:o},q={format:k('H',true),interval:l.Hour,next:p},r={format:k('i',true),interval:l.Minute,next:q},s={format:k('s',true),interval:l.Second,next:r},t=[s,s,s,s,r,r,r,r,q,q,q,q,p,p,p,o,o,n];function u(da){var ea=da[0],fa=da[da.length-1];return ea<fa?[ea,fa]:[fa,ea];}function v(da){while(da>0){if(t[da]!=t[da-1])return da;da--;}return da;}function w(da,ea){var fa=u(da),ga=fa[1]-fa[0],ha=ga/ea,ia=g.findBoundInArray(m,ha,function(ja,ka){return ja-ka;},g.LEAST_UPPER_BOUND);if(ia==m.length)ia=m.length-1;if(!ia)return -1;if((ha/m[ia-1])<(m[ia]/ha))ia--;return ia;}function x(da,ea,fa){var ga=w(da,ea);if(fa){var ha=fa.offset(0,1);while(m[ga]<ha&&ga<m.length-1)ga++;}return {step:m[ga]||1,config:t[ga]||s,index:ga};}function y(da,ea){var fa=da.format;fa.primary=fa;if(da.next)fa.secondary=da.next.format;fa.bucketTicks=ea;return fa;}function z(da,ea,fa){var ga=1;if(fa){var ha=v(fa);ga=Math.floor(m[fa]/m[ha]);}var ia=[],ja=new Date(da[0]),ka=ea.interval.ceil(ja);while(ka<=new Date(da[1])){ia.push(ka);ka=ea.interval.offset(ka,ga);}return ia;}function aa(da){function ea(ja){return Math.floor(+ja/da)*da;}function fa(ja){return Math.round(+ja/da)*da;}function ga(ja){return Math.ceil(+ja/da)*da;}function ha(ja,ka){return +ja+ka*da;}function ia(ja,ka,la){return h(ga(ja),ka,(la||1)*da);}ea.floor=ea;ea.round=fa;ea.ceil=ga;ea.offset=ha;ea.range=ia;return ea;}function ba(da,ea,fa){function ga(ia){return ea(ia);}ga.tickFormatMaxLength=10;ga.interval=function(ia){if(!arguments.length)return da;var ja=ga.domain();da=typeof ia==='number'?aa(ia):ia;ga.domain(ja);return ga;};ga.invert=function(ia){if(da)return da.floor(new Date(ea.invert(ia)));return new Date(ea.invert(ia));};ga.domain=function(ia){if(!arguments.length)if(da){return [ea.domain()[0],da.offset(ea.domain()[1],1)];}else return ea.domain();if(da){ea.domain([da.floor(new Date(ia[0])),da.offset(da.ceil(new Date(ia[1])),-1)]);}else ea.domain(ia);return ga;};ga.nice=function(ia){if(!ia)return ga;var ja=x(ea.domain(),ia,da).step,ka=ga.domain(),la=ka[0],ma=ka[ka.length-1];if(la<ma){la=Math.floor(la/ja)*ja;ma=Math.ceil(ma/ja)*ja;}else{la=Math.ceil(la/ja)*ja;ma=Math.floor(ma/ja)*ja;}return ga.domain([la,ma]);};ga.ticks=function(ia){var ja=x(ea.domain(),ia,da);return z(ea.domain(),ja.config,ja.index);};ga.secondaryTicks=function(ia){var ja=x(ea.domain(),ia,da).config,ka=ja.next;if(!ka)return [];return z(ea.domain(),ka);};ga.tickFormat=function(ia){var ja=x(ea.domain(),ia,da),ka=ja.config,la=v(ja.index)==ja.index;return y(ka,la);};var ha=k('M j, Y');ga.tooltipFormat=function(){return ha;};ga.setTooltipFormat=function(ia,ja){ha=k(ia,ja);};ga.range=function(ia){if(!arguments.length)return ea.range();ea.range(ia);return ga;};ga.rangeBands=function(ia,ja,ka){if(arguments.length<2)ja=0;if(arguments.length<3)ka=ja;if(!da){fa=0;return ga.range(ia);}var la=da.range(ea.domain()[0],ea.domain()[1]).length,ma=ia[1]<ia[0],na=ia[ma-0],oa=ia[1-ma],pa=(oa-na)/((la+1)-ja+2*ka),qa=[na+pa*ka,na+pa*la];if(ma)qa.reverse();fa=pa*(1-ja);ea.range(qa);return ga;};ga.rangeBand=function(){return fa;};ga.baseScale=function(){return ea;};ga.copy=function(){return ba(da,ea.copy(),fa);};ga.interpolate=function(ia){if(arguments.length===1){ea.interpolate(ia);return ga;}else return ea.interpolate();};ga.clamp=function(ia){if(arguments.length===1){ea.clamp(ia);return ga;}else return ea.clamp();};return ga;}var ca=function(){return ba(null,i(),0);};ca.Intervals=l;e.exports=ca;},null);
__d("SpectrumChart",["emptyFunction","mergeDeep","SpectrumContextMixin","React","SpectrumBaseStyleSheet","SpectrumSurface","d3/scale/linear","d3/scale/ordinal","SpectrumTimeScale","mergeHelpers"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){b.__markCompiled&&b.__markCompiled();var p=b('mergeHelpers').ArrayStrategies,q=j.createClass({displayName:"SpectrumChart",mixins:[i],getDefaultProps:function(){return {onMouseMove:g,onMouseOut:g};},getExtentY:function(){var r=+Infinity,s=-Infinity;j.Children.forEach(this.props.children,function(t){if(t&&t.type.getExtentY){var u=t.type.getExtentY(t.props);if(u){if(u[0]<r)r=u[0];if(u[1]>s)s=u[1];}}});if(r==+Infinity&&s==-Infinity)return [0,0];return [r,s];},getExtentX:function(){var r=-Infinity,s=Infinity;j.Children.forEach(this.props.children,function(t){if(t&&t.type.getExtentX){var u=t.type.getExtentX(t.props);if(u){if(u[1]>r)r=u[1];if(u[0]<s)s=u[0];}}});return [s,r];},getDefaultScaleX:function(){var r=this.props.domain||this.getExtentX();if(r.copy){r=r.copy();}else if(r[0] instanceof Date){r=o().domain(r).interval(o.Intervals.Day).clamp(true);}else if(typeof r[0]==='number'){r=m().domain(r).clamp(true);}else r=n().domain(r);return r;},getDefaultScaleY:function(){var r=this.getExtentY();return m().domain(r).clamp(true);},getGutter:function(r,s,t){var u=r.gutter;j.Children.forEach(this.props.children,function(v){if(v&&v.type.getGutter){var w=v.type.getGutter(v.props,r,s,t);for(var x in u)if(w[x])u[x]=Math.max(u[x],w[x]);}});return u;},getChildWidthHeight:function(r,s){j.Children.forEach(this.props.children,function(t){if(t&&t.type.getWidthHeight){var u=t.type.getWidthHeight(t.props,s);for(var v in r)if(u[v])if(r[v]){r[v]=Math.max(r[v],u[v]);}else r[v]=u[v];}});return r;},render:function(){var r=k,s=h(r,this.props.theme,p.Clobber),t=this.props.scaleX||this.getDefaultScaleX(),u=this.props.scaleY||this.getDefaultScaleY();s.gutter=this.getGutter(s,t,u);var v=this.getChildWidthHeight({width:this.props.width,height:this.props.height},s),w=v.width,x=v.height,y=s.gutter,z=y.top,aa=w-y.right,ba=x-y.bottom,ca=y.left;if(!this.props.scaleYHasDomain)u.domain(this.getExtentY()).clamp(true);if(t.rangeBands){t.rangeBands([ca,aa],s.rangeBands.padding,s.rangeBands.outerPadding);}else if(t.rangePoints){t.rangePoints([ca,aa]);}else t.range([ca,aa]);if(u.rangePoints){u.rangePoints([ba,z]);}else u.range([ba,z]);return (j.createElement(l,{height:x,scaleX:t,scaleY:u,theme:s,width:w,onRequestFocus:this.props.onRequestFocus,onMouseMove:this.props.onMouseMove.bind(null,{scaleX:t}),onMouseOut:this.props.onMouseOut},this.props.children));}});e.exports=q;},null);
__d("SpectrumConstants",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();'use strict';var g={plotBands:{LabelPosition:{BOTTOM_LEFT:'bottom left',BOTTOM_RIGHT:'bottom right',TOP_LEFT:'top left',TOP_RIGHT:'top right'}},xAxis:{defaultTickCount:10,defaultTickSize:4,defaultTickPadding:3},vlines:{defaultLineCount:10}};e.exports=g;},null);
__d("SpectrumDataVisualization",["d3/core/interpolate","React","SpectrumUtilities"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j=h,k=j.PropTypes,l=0,m={Mixin:{componentWillMount:function(){if(this.props.eventChannel)this.props.eventChannel[this.props.eventIndex]=this;this.uid=(l++)+':';},componentWillUnmount:function(){if(this.props.eventChannel)delete this.props.eventChannel[this.props.eventIndex];},hasDimensionsChanged:function(n){if(this.props.width!=n.width||this.props.height!=n.height)return true;return false;},hasDataChanged:function(n){if(this.props.data!==n.data)return true;return false;},hasFocusChanged:function(n){var o=this.props.focus,p=n.focus;if(o===p)return false;if(!o||!p)return true;var q=o.target===this,r=p.target===this;if(q!==r)return true;if(r)return this.hasHighlightDetailsChanged(o,p);return false;},contextTypes:{insightsEnvironmentConfig:k.object}},getDefaultValueXAccessor:function(n){if(!n.scaleX)return function(s,t){return t;};var o=n.data[0].length,p=n.scaleX.domain();if(!(n.scaleX.interpolate)&&p.length==o)return function(s,t){return p[t];};var q=p[1];if(n.scaleX.interval&&n.scaleX.interval())q=n.scaleX.interval().offset(q,-1);var r=g(p[0],q);if(p[0] instanceof Date)return function(s,t){return new Date(r(t/(o-1)));};return function(s,t){return r(t/(o-1));};},getDefaultValueYAccessor:function(){return i.identity;},getValueXAccessor:function(n){return n.valueX||m.getDefaultValueXAccessor(n);},getValueYAccessor:function(n){return n.valueY||m.getDefaultValueYAccessor(n);},getDefaultExtentX:function(n){return m.getExtentHelper(n,m.getValueXAccessor(n));},getDefaultExtentY:function(n){return m.getExtentHelper(n,m.getValueYAccessor(n));},getExtentHelper:function(n,o){var p=function(r){if(!Array.isArray(r)){return o(r);}else if(o)return Math.min.apply(null,r.map(o));return Math.min.apply(null,r);},q=function(r){if(!Array.isArray(r)){return o(r);}else if(o)return Math.max.apply(null,r.map(o));return Math.max.apply(null,r);};return [Math.min.apply(null,n.data.map(p)),Math.max.apply(null,n.data.map(q))];},getScaleX:function(n){var o=n.scaleX.copy();o.clamp&&o.clamp(false);return o;},getX:function(n,o){var p=n.rangeBand?n.rangeBand():0;return n(o)+(p/2);},getClippingRectangleDimensions:function(n){var o=i.getOuterRange(n.scaleX),p=i.getOuterRange(n.scaleY);return {x:Math.min(o[0],o[1]),y:Math.min(p[0],p[1]),width:Math.abs(o[0]-o[1]),height:Math.abs(p[0]-p[1])};}};e.exports=m;},null);
__d("SpectrumIntegerScale",["SpectrumBaseNumberScale"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h=function(){return g(0);};e.exports=h;},null);
__d("SpectrumXAxis",["React","ReactART","SpectrumBaseStyleSheet","SpectrumConstants","SpectrumUtilities","getObjectValues","keyMirror"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();var n=g,o=n.PropTypes,p=h.Group,q=h.Path,r=h.Shape,s=h.Text,t=m({VERTICAL:null,HORIZONTAL:null}),u=g.createClass({displayName:"SpectrumXAxis",propTypes:{alignToGutter:o.bool,location:o.oneOf(['top','bottom']),labelOrientation:o.oneOf(l(t))},getDefaultProps:function(){return {labelOrientation:t.HORIZONTAL,location:'bottom'};},statics:{getGutter:function(v,w,x,y){var z=x.tickFormatMaxLength||0,aa=w.xAxis.fontSize/i.xAxis.fontSize;z=z*aa;if(v.secondaryTicks)z=z*2;var ba={middle:25,left:z,right:z},ca=v.location==='top'?'top':'bottom',da=w.xAxis.minLabelGutter||0;ba[ca]=Math.max(da,v.secondaryTicks?45:20);return ba;},Orientation:t},shouldComponentUpdate:function(v){return this.props.scaleX!==v.scaleX;},render:function(){var v=this.props.alignToGutter,w=this.props.theme,x=w.xAxis,y=w.xAxis.labelColor,z=w.xAxis.axisLineColor,aa=w.xAxis.lineColor,ba=this.props.scaleX,ca=this.props.ticks||j.xAxis.defaultTickCount,da=j.xAxis.defaultTickSize,ea=w.xAxis.tickPadding||j.xAxis.defaultTickPadding,fa=null,ga=null,ha=this.props.labelOrientation,ia=w.xAxis.minLabelGutter||0,ja=Math.max(ia,this.props.secondaryTicks?45:20),ka=0;if(ha===t.VERTICAL)ka=-90;var la=k.getOuterRange(this.props.scaleY),ma=la[1],na=la[0],oa=this.props.location,pa=oa==='top'?ma:na;if(oa==='top'||ma>na){da=-da;ea=-ea;}var qa=k.getOuterRange(ba);if(qa){var ra=Math.abs(qa[1]-qa[0]),sa=x.fontSize*3.25;if(typeof ca==='number'&&ca>ra/sa)ca=Math.floor(ra/sa);}if(ga==null)ga=(ba.tickFormat?ba.tickFormat(ca):String);var ta;if(fa==null){ta=(ba.ticks?ba.ticks(ca):ba.domain());}else ta=fa;var ua;if(this.props.secondaryTicks&&ba.secondaryTicks){ua=ba.secondaryTicks(ca);if(!ua.length||ba(ua[0])>qa[0]+sa*3)ua.unshift(ba.domain()[0]);}else ua=null;var va=this.props.disableLines,wa=!!ga.bucketTicks||(ga.bucketTicks!==false&&!!ba.rangeBand),xa=ua&&ga.primary||ga,ya=ua&&ga.secondary||ga,za=ba.rangeBand?ba.rangeBand():0,ab=new q();function bb(qb,rb,sb){function tb(xb){if(xb<qa[0]||xb>qa[qa.length-1])return false;return true;}if(wa){if(rb===0&&sb.length>1){var ub=ba(sb[rb+1]);if(ba(qb)+za==ub){var vb=ba(qb)+.5;if(tb(vb))ab.moveTo(vb,pa).line(0,da);}}else if(rb>0){var wb=ba(sb[rb-1]);vb=(wb+za+ba(qb))/2-.5;if(tb(vb))ab.moveTo(vb,pa).line(0,da);}}else ab.moveTo(ba(qb),pa).line(0,da);}function cb(){if(!za)return null;ab.moveTo(qa[qa.length-1]-.5+za,pa).line(0,da);}function db(qb,rb,sb){function tb(wb){return +wb==+qb;}var ub=ba(qb);if(wa)ub+=za*.5;ub+=gb();if(ua)if(ua.some(tb))return null;ub=Math.max(ba.tickFormatMaxLength||0,ub);if(ub>qa[qa.length-1])return null;var vb=hb(true);if(oa==='top')vb*=-1;return (g.createElement(s,{alignment:sb,fill:y,font:x,key:rb,rotation:ka,x:ub,y:pa+vb},xa(qb)));}function eb(){if(ha===t.HORIZONTAL){return 'center';}else if(oa==='top'){return 'left';}else return 'right';}function fb(){if(ha===t.HORIZONTAL){return 'left';}else if(oa==='top'){return 'right';}else return 'left';}function gb(){if(ha===t.VERTICAL)return -.5*x.fontSize;return 0;}function hb(qb){var rb=Math.abs(da),sb=Math.abs(ea),tb=ja-rb,ub=(ua)?3:2,vb=tb/ub;if(ha===t.VERTICAL){if(qb){return rb+sb;}else return ja-sb;}else if(qb){if(v){var wb=w.gutter.middle;wb-=((x.fontSize*2)+rb);wb/=2;return rb+sb+wb;}else{var xb=(oa==='top')?(x.fontSize/ub):(-1*(ub-1)*x.fontSize/ub);return rb+vb+xb;}}else{var yb=(oa==='top')?(2*x.fontSize/ub):(-1*x.fontSize/ub);return rb+vb*2+yb;}}function ib(qb){var rb=ba(qb)+.5;if(rb<qa[0])return;var sb=Math.abs(da),tb=ja-sb,ub=tb/3,vb=Math.ceil((ub*2)/4),wb=(oa==='top')?-2:2;ab.moveTo(rb,pa);for(var xb=0;xb<vb;xb++)ab.move(0,wb).line(0,wb);}function jb(qb,rb,sb){var tb=ya(qb).toUpperCase(),ub=hb(false);if(oa==='top')ub*=-1;return (g.createElement(s,{alignment:sb,fill:y,font:x,key:rb,rotation:ka,x:ba(qb)+Math.abs(ea*2)+gb(),y:pa+ub},tb));}var kb=null;if(!va){ta.forEach(bb);ua&&ua.forEach(ib);cb();kb=g.createElement(r,{d:ab,stroke:aa});}var lb=q().moveTo(qa[0],pa+.5).lineTo(qa[1],pa+.5),mb=eb(),nb=ta.map(function(qb,rb){return db(qb,rb,mb);},ta),ob=fb(),pb=ua?ua.map(function(qb,rb){return jb(qb,rb,ob);},ua):null;return (g.createElement(p,null,!w.xAxis.baseline?null:g.createElement(r,{d:lb,stroke:z}),kb,nb,pb));}});e.exports=u;},null);
__d("AbstractTokenizer.react",["AbstractTypeahead.react","React","TokenizerToken.react","cx","ex","emptyFunction","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();var n=h,o=n.PropTypes,p=h.createClass({displayName:"AbstractTokenizer",propTypes:{alwaysShowPlaceholder:o.bool,className:o.string,excludeTokenEntries:o.bool,extraTokenRendererProps:o.object,inputClassName:o.string,tokenClassName:o.string,placeholder:o.string,queryString:o.string,searchSource:o.object.isRequired,searchSourceOptions:o.object,presenter:o.object.isRequired,entries:o.array,onAddEntryAttempt:o.func.isRequired,onEntriesFound:o.func,onPaste:o.func,onRemoveEntryAttempt:o.func.isRequired,onReorderEntryAttempt:o.func,onQueryStringChange:o.func,onInputFocus:o.func,onInputBlur:o.func,onTypeaheadMouseDown:o.func,excludedEntries:o.object,inputID:o.string,entriesWidthMatchContext:o.bool,hideViewWithEntries:o.bool,disabled:o.bool,limit:function(q,r,s){var t=q[r],u=t==null||(typeof t==='number'&&t>0);if(!u)return new Error(k('Invalid entries limit `%s` provided, must be a positive '+'number if set.',t));},selectOnBlur:o.bool,selectOnTab:o.bool,tokenizeQueryString:o.func,tokenizeQueryStringOnBlur:o.func},getDefaultProps:function(){return {autoHighlight:true,excludeTokenEntries:true,hideViewWithEntries:true,onInputBlur:l,selectOnBlur:false,selectOnTab:true,tokenizeQueryString:l.thatReturnsNull,tokenizeQueryStringOnBlur:l.thatReturnsNull,entriesWidthMatchContext:true};},getInitialState:function(){return {queryString:''};},_getQueryString:function(){return this.props.queryString||this.state.queryString;},_hasReachedEntriesLimit:function(){if(this.props.limit&&this.props.entries)return this.props.entries.length>=this.props.limit;return false;},componentWillReceiveProps:function(q){if(q.queryString==null&&this.props.queryString!=null)this.setState({queryString:this.props.queryString});},render:function(){var q=!!this.props.onReorderEntryAttempt,r=m((("_58-2")+(q?' '+"_5ph3":'')),'clearfix',this.props.className),s,t=this.props.entries,u={},v=t&&t.length>0,w;if(v){s=[];for(var x=0,y=t.length;x<y;x++){var z=t[x];w=z.getUniqueID();s[x]=this._renderToken(z,x);if(this.props.excludeTokenEntries)u[w]=true;}}if(this.props.excludedEntries)for(w in this.props.excludedEntries)u[w]=this.props.excludedEntries[w];var aa=null;if(!v||this.props.alwaysShowPlaceholder)aa=this.props.placeholder;return (h.createElement("div",h.__spread({},this.props,{className:m(this.props.className,r),placeholder:null,onClick:this._focusTypeahead,onMouseDown:this._onTypeaheadMouseDown,onDragOver:this.onBackgroundDragOver,onDrop:this.onBackgroundDrop,tabIndex:null,"data-testid":this.props['data-testid']}),s,h.createElement(g,{ref:"typeahead",selectedEntry:null,className:"_58-0",ariaLabel:this.props.placeholder,"data-testid":this.props['data-testid'],inputClassName:this.props.inputClassName,showEntriesOnFocus:this.props.showEntriesOnFocus,queryString:this._getQueryString(),placeholder:aa,presenter:this.props.presenter,searchSource:this.props.searchSource,searchSourceOptions:this.props.searchSourceOptions,excludedEntries:u,onSelectAttempt:this._onSelectAttempt,onEntriesFound:this.props.onEntriesFound,onEnterWithoutSelection:this.props.onEnterWithoutSelection,onChange:this._onInputChange,onFocus:this.props.onInputFocus,onBlur:this._onInputBlur,onBackspace:this._onBackspace,onPaste:this.props.onPaste,tabIndex:this.props.tabIndex,autoHighlight:this.props.autoHighlight,selectOnBlur:this.props.selectOnBlur,selectOnTab:this.props.selectOnTab,context:this.props.context,focusedOnInit:this.props.focusedOnInit,inputID:this.props.inputID,entriesWidthMatchContext:this.props.entriesWidthMatchContext,hideViewWithEntries:this.props.hideViewWithEntries,disabled:this.props.disabled}),h.createElement("span",{ref:"textSizeProxy",className:"_58-3","aria-hidden":"true"},this._getQueryString()||aa)));},componentDidMount:function(){this._syncTimer=setTimeout(this._syncInputWidth,0);},componentDidUpdate:function(){clearTimeout(this._syncTimer);this._syncTimer=setTimeout(this._syncInputWidth,0);},componentWillUnmount:function(){clearTimeout(this._syncTimer);},clearActiveEntries:function(){this.refs.typeahead&&this.refs.typeahead.clearActiveEntries();},focusInput:function(){if(this.refs&&this.refs.typeahead)this.refs.typeahead.focusInput();},_focusTypeahead:function(q){q.preventDefault();this.focusInput();},_onTypeaheadMouseDown:function(){this.props.onTypeaheadMouseDown&&this.props.onTypeaheadMouseDown();},_onInputChange:function(event){if(this._hasReachedEntriesLimit())return;var q=event.target.value,r=this.props.tokenizeQueryString(q);if(r){this._onSelectAttempt(r);}else if(this.props.queryString==null)this.setState({queryString:q});if(this.props.onQueryStringChange)this.props.onQueryStringChange(event);},_onInputBlur:function(){var q=this._getQueryString(),r=this.props.tokenizeQueryStringOnBlur(q);if(r)this._onBlurringSelectAttempt(r);this.props.onInputBlur();},_onSelectAttempt:function(q){this._onAddEntryAttempt(q);setTimeout(this.focusInput,0);},_onBlurringSelectAttempt:function(q){this._onAddEntryAttempt(q);},_onAddEntryAttempt:function(q){if(q){this.props.onAddEntryAttempt(q);if(this.props.queryString==null)this.setState({queryString:''});}},_onRemove:function(q){this.props.onRemoveEntryAttempt(q);},_onBackspace:function(event){var q=this.props.entries;if(q&&!this._getQueryString()&&q.length){var r=q[q.length-1];this.props.onRemoveEntryAttempt(r);event.preventDefault();setTimeout(this.focusInput,0);}},_syncInputWidth:function(){var q=h.findDOMNode(this.refs.textSizeProxy).offsetWidth;if(q===0)return;this.refs.typeahead.getTextFieldDOM().style.width=q+'px';},onBackgroundDragOver:function(event){event.preventDefault();var q=event.nativeEvent.dataTransfer;if(q)q.dropEffect='move';var r=this.props.entries;this.onTokenDragOver(r[r.length-1],r.length-1,false);},onBackgroundDrop:function(event){this.onTokenDrop(null,this.props.entries.length);},onTokenDragStart:function(q,r){this.setState({draggingIndex:r});},onTokenDragEnd:function(q,r){this.setState({draggingIndex:null});},onTokenDragLeave:function(q,r){if(this.leaveTimer)return;this.leaveTimer=setTimeout(function(){this.leaveTimer=null;if(this.state.dragTargetIndex===null)return;this.setState({dragTargetIndex:null});}.bind(this),100);},onTokenDragOver:function(q,r,s){if(this.leaveTimer){clearTimeout(this.leaveTimer);this.leaveTimer=null;}if(this.state.draggingIndex!==null&&this.state.draggingIndex!==r&&this.props.onReorderEntryAttempt){if(this.state.dragTargetIndex===r&&this.state.draggedOverLeftSideOfElement===s)return;this.setState({dragTargetIndex:r,draggedOverLeftSideOfElement:s});}},onTokenDrop:function(q,r){if(this.state.draggingIndex!==null&&this.props.onReorderEntryAttempt){if(!this.state.draggedOverLeftSideOfElement)r++;if(this.state.draggingIndex!==r)this.props.onReorderEntryAttempt(this.state.draggingIndex,r);}this.setState({draggingIndex:null,dragTargetIndex:null,draggedOverLeftSideOfElement:null});},_renderToken:function(q,r){var s=this.props.presenter.TokenRenderer||i,t=this.state.draggingIndex===r,u=!!this.props.onReorderEntryAttempt,v=this.state.dragTargetIndex===r,w=m((("_2ei6")+(t?' '+"_5ph4":'')+(v?' '+"_5o8i":'')+(v&&this.state.draggedOverLeftSideOfElement?' '+"_5o8j":'')+(v&&!this.state.draggedOverLeftSideOfElement?' '+"_5o8k":'')),this.props.tokenClassName);return (h.createElement(s,h.__spread({},this.props.extraTokenRendererProps,{className:w,key:q.getUniqueID(),label:q.getTitle(),entry:q,index:r,onRemove:this._onRemove,isDragDropEnabled:u,onTokenDragStart:this.onTokenDragStart,onTokenDragEnd:this.onTokenDragEnd,onTokenDragOver:this.onTokenDragOver,onTokenDragLeave:this.onTokenDragLeave,onTokenDrop:this.onTokenDrop})));}});e.exports=p;},null);
__d("VideoUploadLogger",["Banzai"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();function h(i){this._source=i.source;this._waterfallID=i.waterfall_id;this._targetID=i.target_id;this._delay=i.delay;this._times=[];this._isChunkedUpload=i.is_chunked_upload;this._actorID=i.actor_id;}Object.assign(h,{BANZAI_GK:'videos',BANZAI_ROUTE:'video_waterfall',SOURCE_SIMPLE:'simple',SOURCE_COMPOSER:'composer',EVENT_STARTED_GENERATE_THUMBNAILS:'upload.client.started_generate_thumbnails',EVENT_FINISHED_GENERATE_THUMBNAILS:'upload.client.finished_generate_thumbnails',EVENT_SELECTED_CUSTOM_THUMBNAIL:'upload.client.selected_custom_thumbnail',EVENT_VIDEO_DIMENSIONS_UNREADABLE:'upload.client.video_dimensions_unreadable',EVENT_REPLACE_VIDEO:'upload.client.replace_video',EVENT_STARTED_FLOW:'upload.client.started_flow',EVENT_FINISHED_FLOW:'upload.client.finished_flow',EVENT_FAILED_FLOW:'upload.client.failed_flow',EVENT_CANCELED_FLOW:'upload.client.canceled_flow',EVENT_RESIGNED_FLOW:'upload.client.resigned_flow',EVENT_REQUESTED_UPLOADING:'upload.client.requested_uploading',EVENT_INVALIDATED_UPLOADING:'upload.client.invalidated_uploading',EVENT_STARTED_UPLOADING:'upload.client.started_uploading',EVENT_PROGRESS_UPLOADING_START_REQUEST:'upload.client.progress_uploading_start_request',EVENT_FINISHED_UPLOADING:'upload.client.finished_uploading',EVENT_CANCELED_UPLOADING:'upload.client.canceled_uploading',EVENT_ABANDONED_UPLOADING:'upload.client.abandoned_uploading',EVENT_FAILED_UPLOADING:'upload.client.failed_uploading',EVENT_STARTED_SENDING_BYTES:'upload.client.started_sending_bytes',EVENT_FINISHED_SENDING_BYTES:'upload.client.finished_sending_bytes',EVENT_CANCELED_SENDING_BYTES:'upload.client.canceled_sending_bytes',EVENT_FAILED_SENDING_BYTES:'upload.client.failed_sending_bytes',EVENT_STARTED_POST_REQUEST:'upload.client.started_sending_post_request',EVENT_FINISHED_POST_REQUEST:'upload.client.finished_sending_post_request',EVENT_FAILED_POST_REQUEST:'upload.client.failed_sending_post_request',EVENT_STARTED_SENDING_CHUNK_BYTES:'upload.client.started_sending_chunk_bytes',EVENT_FINISHED_SENDING_CHUNK_BYTES:'upload.client.finished_sending_chunk_bytes',EVENT_CANCELED_SENDING_CHUNK_BYTES:'upload.client.canceled_sending_chunk_bytes',EVENT_FAILED_SENDING_CHUNK_BYTES:'upload.client.failed_sending_chunk_bytes',EVENT_TIMEOUT_SENDING_CHUNK_BYTES:'upload.client.timeout_sending_chunk_bytes',EVENT_ENCODING_START_OBSERVED:'encode.client.encoding_start_observed',EVENT_ENCODING_SUCCESS_OBSERVED:'encode.client.encoding_success_observed',EVENT_ENCODING_FAIL_OBSERVED:'encode.client.encoding_fail_observed',EVENT_RECEIVED_RESPONSE:'upload.client.received_response'});Object.assign(h.prototype,{logEvent:function(event,i){var j=Object.assign({},i);if(j.elapsed_time==null)if(event.indexOf('started')!==-1){this._times[event]=Date.now();}else if(event.indexOf('finished')!==-1){j.elapsed_time=this._computeElapsedTime(event,'finished');}else if(event.indexOf('canceled')!==-1){j.elapsed_time=this._computeElapsedTime(event,'canceled');}else if(event.indexOf('failed')!==-1)j.elapsed_time=this._computeElapsedTime(event,'failed');j.event=event;j.source=this._source;j.waterfall_id=this._waterfallID;j.target_id=this._targetID;j.is_chunked_upload=this._isChunkedUpload;j.actor_id=this._actorID;g.post(h.BANZAI_ROUTE,j,{delay:this._delay});},_computeElapsedTime:function(event,i){var j=event.replace(i,'started'),k=this._times[j];return k?Date.now()-k:null;}});e.exports=h;},null);
__d("VideoUploadFileValidator",["ErrorDialog","JSXDOM","fbt"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();function j(k){"use strict";this.$VideoUploadFileValidator0=k;}j.prototype.validate=function(k,l){"use strict";return this.$VideoUploadFileValidator1(k)&&this.$VideoUploadFileValidator2(k)&&this.$VideoUploadFileValidator3(l);};j.prototype.getValidationErrorMessage=function(k,l){"use strict";return this.$VideoUploadFileValidator4(k)||this.$VideoUploadFileValidator5(k)||this.$VideoUploadFileValidator6(l);};j.prototype.$VideoUploadFileValidator1=function(k){"use strict";var l=this.$VideoUploadFileValidator4(k);if(l){g.show(l.summary,l.description);return false;}else return true;};j.prototype.$VideoUploadFileValidator4=function(k){"use strict";if(this.$VideoUploadFileValidator0.extensions[k.getExtension()])return;var l="http://www.facebook.com/help/"+"?faq=218673814818907#What-formats-of-video-files-can-I-upload?",m=h.a({href:l},i._("recommended formats"));return {summary:i._("Unsupported File Format"),description:i._("Sorry, the file you selected is in a format that we don't support. Please use one of our {link} for video files.",[i.param("link",m)])};};j.prototype.$VideoUploadFileValidator2=function(k){"use strict";var l=this.$VideoUploadFileValidator5(k);if(l){g.show(l.summary,l.description);return false;}else return true;};j.prototype.$VideoUploadFileValidator5=function(k){"use strict";var l;if(k.getSize()===null)return;if(k.getSize()<this.$VideoUploadFileValidator0.minSize)l=this.$VideoUploadFileValidator7();if(k.getSize()>this.$VideoUploadFileValidator0.maxSize)l=this.$VideoUploadFileValidator8();return l;};j.prototype.$VideoUploadFileValidator7=function(){"use strict";var k=h.strong(null,i._("{kilobytes} KB",[i.param("kilobytes",Math.round(this.$VideoUploadFileValidator0.minSize/1024))]));return {summary:i._("Video File Too Small"),description:i._("The video file you tried to upload is too small. The minimum size for a video file is {min-size}. Please try again with a larger file.",[i.param("min-size",k)])};};j.prototype.$VideoUploadFileValidator8=function(){"use strict";var k=h.strong(null,i._("{max-size} MB",[i.param("max-size",Math.round(this.$VideoUploadFileValidator0.maxSize/1024/1024))]));return {summary:i._("Video File Too Large"),description:i._("The video file you tried to upload is too large. The maximum size for a video file is {max-size}. Please try again with a smaller file.",[i.param("max-size",k)])};};j.prototype.$VideoUploadFileValidator3=function(k){"use strict";var l=this.$VideoUploadFileValidator6(k);if(l){g.show(l.summary,l.description);return false;}else return true;};j.prototype.$VideoUploadFileValidator6=function(k){"use strict";var l;if(!k)return;var m=k.format.duration;if(m>this.$VideoUploadFileValidator0.maxLength)l=this.$VideoUploadFileValidator9();if(m<this.$VideoUploadFileValidator0.minLength)l=this.$VideoUploadFileValidatora();if(!k.streams.primaryVideo&&k.streams.primaryAudio)l=this.$VideoUploadFileValidatorb();if(k.streams.primaryVideo.width<this.$VideoUploadFileValidator0.minWidth)l=this.$VideoUploadFileValidatorc();if(k.streams.primaryVideo.height<this.$VideoUploadFileValidator0.minHeight)l=this.$VideoUploadFileValidatord();return l;};j.prototype.$VideoUploadFileValidator9=function(){"use strict";return {summary:i._("Video Duration Too Long"),description:i._("The duration of the video you tried to upload is too long. The maximum duration for a video is {max-length} minutes. Please upload a shorter video.",[i.param("max-length",Math.round(this.$VideoUploadFileValidator0.maxLength/60))])};};j.prototype.$VideoUploadFileValidatora=function(){"use strict";return {summary:i._("Video File Too Short"),description:i._("The duration of the video you tried to upload is too short. The minimum length for a video is {min-length} minutes. Please upload a longer video.",[i.param("min-length",Math.round(this.$VideoUploadFileValidator0.minLength/60))])};};j.prototype.$VideoUploadFileValidatorb=function(){"use strict";var k="http://www.facebook.com/help/"+"?faq=218673814818907#What-formats-of-video-files-can-I-upload?",l=h.a({href:k},i._("supported video format"));return {summary:i._("No Video Detected"),description:i._("It looks like you're trying to upload a file that isn't a video. Please try uploading a {supported-video-format link}",[i.param("supported-video-format link",l)])};};j.prototype.$VideoUploadFileValidatorc=function(){"use strict";return {summary:i._("Video Width Too Narrow"),description:i._("The width of the video you tried to upload is too short. The minimum width for a video is {min-width}. Please upload a wider video.",[i.param("min-width",this.$VideoUploadFileValidator0.minWidth)])};};j.prototype.$VideoUploadFileValidatord=function(){"use strict";return {summary:i._("Video Height Too Short"),description:i._("The height of the video you tried to upload is too short. The minimum height for a video is {min-height}. Please upload a taller video.",[i.param("min-height",this.$VideoUploadFileValidator0.minHeight)])};};e.exports=j;},null);
__d("VideoUploadProgressBar",["CSS","VideoUploadFeatureDetector","cx"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();function j(k){"use strict";this.$VideoUploadProgressBar0=k.progress_bar;this.$VideoUploadProgressBar1=k.throbber;this.$VideoUploadProgressBar2=k.uploader;this.$VideoUploadProgressBar3=k.start_margin;this.$VideoUploadProgressBar4=k.start_delay;this.$VideoUploadProgressBar5=k.end_margin;this.$VideoUploadProgressBar6=k.end_delay;this.$VideoUploadProgressBar7=k.progress_bar_label;this.$VideoUploadProgressBar8();}j.prototype.reset=function(){"use strict";this.$VideoUploadProgressBar0.setPosition(0);};j.computeProgress=function(k,l,m,n,o){"use strict";var p=Math.min(k+l,m);return (p)/m*(100-n-o)+n;};j.prototype.$VideoUploadProgressBar8=function(){"use strict";if(h.supportsFileAPI()){this.$VideoUploadProgressBar2.subscribe('upload-requested',this.$VideoUploadProgressBar9.bind(this));this.$VideoUploadProgressBar2.subscribe('upload-progressed',this.$VideoUploadProgressBara.bind(this));this.$VideoUploadProgressBar2.subscribe('online',this.$VideoUploadProgressBarb.bind(this));this.$VideoUploadProgressBar2.subscribe('offline',this.$VideoUploadProgressBarc.bind(this));}else this.$VideoUploadProgressBar2.subscribe('upload-requested',this.$VideoUploadProgressBard.bind(this));};j.prototype.$VideoUploadProgressBar9=function(event){"use strict";g.show(this.$VideoUploadProgressBar0.getRoot());g.removeClass(this.$VideoUploadProgressBar0.getRoot(),"_5r5a");this.$VideoUploadProgressBar0.setTarget(this.$VideoUploadProgressBar3,this.$VideoUploadProgressBar4);this.$VideoUploadProgressBare(0);};j.prototype.$VideoUploadProgressBare=function(k){"use strict";if(this.$VideoUploadProgressBar7)this.$VideoUploadProgressBar0.changeLabel(''+k.toFixed(1)+'%');};j.prototype.$VideoUploadProgressBara=function(event,k){"use strict";g.removeClass(this.$VideoUploadProgressBar0.getRoot(),"_5r5a");var l=j.computeProgress(k.start_offset,k.sent_bytes,k.file_size,this.$VideoUploadProgressBar3,this.$VideoUploadProgressBar5);this.$VideoUploadProgressBar0.setPosition(l);this.$VideoUploadProgressBare(l);if(l>=100-this.$VideoUploadProgressBar5){this.$VideoUploadProgressBar0.setTarget(100,this.$VideoUploadProgressBar6);this.$VideoUploadProgressBare(100);}};j.prototype.$VideoUploadProgressBarb=function(event){"use strict";g.removeClass(this.$VideoUploadProgressBar0.getRoot(),"_5r5a");};j.prototype.$VideoUploadProgressBarc=function(event){"use strict";g.addClass(this.$VideoUploadProgressBar0.getRoot(),"_5r5a");};j.prototype.$VideoUploadProgressBard=function(event){"use strict";g.show(this.$VideoUploadProgressBar1);};e.exports=j;},null);
__d("VideoUploadRequest",["AsyncRequest","DOM","DTSG","FileForm","Form","VideoUploadFeatureDetector","emptyFunction","submitForm"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){b.__markCompiled&&b.__markCompiled();var o='video';function p(q){"use strict";this.$VideoUploadRequest0=q;this.$VideoUploadRequest1=null;this.$VideoUploadRequest2=false;this.$VideoUploadRequest3=null;this.$VideoUploadRequest4=null;this.$VideoUploadRequest5=null;this.$VideoUploadRequest6=m;this.$VideoUploadRequest7=m;this.$VideoUploadRequest8=m;this.$VideoUploadRequest9=m;this.$VideoUploadRequesta=null;}p.prototype.setAllowCrossOrigin=function(q){"use strict";this.$VideoUploadRequest2=q;return this;};p.prototype.setData=function(q){"use strict";this.$VideoUploadRequest3=q;return this;};p.prototype.setWaterfallID=function(q){"use strict";this.$VideoUploadRequest4=q;return this;};p.prototype.setSuccessHandler=function(q){"use strict";this.$VideoUploadRequest6=q;return this;};p.prototype.setErrorHandler=function(q){"use strict";this.$VideoUploadRequest7=q;return this;};p.prototype.setTransportErrorHandler=function(q){"use strict";this.$VideoUploadRequest8=q;return this;};p.prototype.setUploadProgressHandler=function(q){"use strict";this.$VideoUploadRequest9=q;return this;};p.prototype.setTimeoutHandler=function(q,r){"use strict";this.$VideoUploadRequest5=q;this.$VideoUploadRequesta=r;return this;};p.prototype.setThumbnail=function(q){"use strict";this.$VideoUploadRequestb=q;return this;};p.prototype.send=function(){"use strict";if(this.$VideoUploadRequest1)throw new Error('An upload request is already in progress.');if(l.supportsXHR()){this.$VideoUploadRequest1=this.$VideoUploadRequestc();if(this.$VideoUploadRequestb){var q=new FormData();q.append('thumb',this.$VideoUploadRequestb);this.$VideoUploadRequest1.setRawData(q);}this.$VideoUploadRequest1.send();}else{this.$VideoUploadRequest1=this.$VideoUploadRequestd();this.$VideoUploadRequeste(this.$VideoUploadRequest1);}};p.prototype.sendChunk=function(q){"use strict";if(this.$VideoUploadRequest1)throw new Error('An upload request is already in progress.');var r=new FormData();r.append('video_file_chunk',q);this.$VideoUploadRequest1=this.$VideoUploadRequestc();this.$VideoUploadRequest1.setRawData(r);this.$VideoUploadRequest1.send();};p.prototype.sendFile=function(q){"use strict";if(this.$VideoUploadRequest1)throw new Error('An upload request is already in progress.');this.$VideoUploadRequest1=this.$VideoUploadRequestd();var r=q.cloneNode(false);q.name=o;h.replace(q,r);h.appendContent(this.$VideoUploadRequest1.getRoot(),q);this.$VideoUploadRequeste(this.$VideoUploadRequest1);q.name=r.name;h.replace(r,q);};p.prototype.abort=function(){"use strict";if(!this.$VideoUploadRequest1)throw new Error('There is no upload request in progress.');this.$VideoUploadRequest1.abort();this.$VideoUploadRequest1=null;};p.prototype.$VideoUploadRequestc=function(){"use strict";var q=this.__getAsyncRequest().setAllowCrossOrigin(this.$VideoUploadRequest2).setURI(this.$VideoUploadRequest0).setData(this.$VideoUploadRequest3).setRequestHeader('X_FB_VIDEO_WATERFALL_ID',this.$VideoUploadRequest4).setHandler(this.$VideoUploadRequest6).setErrorHandler(this.$VideoUploadRequest7).setTransportErrorHandler(this.$VideoUploadRequest8).setUploadProgressHandler(this.$VideoUploadRequest9);if(this.$VideoUploadRequesta)q.setTimeoutHandler(this.$VideoUploadRequest5,this.$VideoUploadRequesta);return q;};p.prototype.__getAsyncRequest=function(){"use strict";return new g();};p.prototype.$VideoUploadRequestd=function(){"use strict";var q=h.create('form',{action:this.$VideoUploadRequest0,method:'POST'});k.createHiddenInputs(Object.assign({fb_dtsg:i.getToken()},this.$VideoUploadRequest3),q);var r=new j(q,null,{allowCrossOrigin:this.$VideoUploadRequest2});r.subscribe('success',this.$VideoUploadRequestf.bind(this));r.subscribe('failure',this.$VideoUploadRequestg.bind(this));r.subscribe('progress',this.$VideoUploadRequesth.bind(this));return r;};p.prototype.$VideoUploadRequeste=function(q){"use strict";h.appendContent(document.body,q.getRoot());n(q.getRoot());};p.prototype.$VideoUploadRequestf=function(event,q){"use strict";this.$VideoUploadRequest6(q.response);};p.prototype.$VideoUploadRequestg=function(event,q){"use strict";this.$VideoUploadRequest7(q.response);};p.prototype.$VideoUploadRequesth=function(event,q){"use strict";this.$VideoUploadRequest9(q.event);};e.exports=p;},null);
__d("VideoUploadRequestContext",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();function g(){"use strict";this.reset();}g.prototype.setFile=function(h){"use strict";this.$VideoUploadRequestContext0=h;return this;};g.prototype.getFile=function(){"use strict";return this.$VideoUploadRequestContext0;};g.prototype.setMetadata=function(h){"use strict";this.$VideoUploadRequestContext1=h;return this;};g.prototype.getMetadata=function(){"use strict";return this.$VideoUploadRequestContext1;};g.prototype.setVideoID=function(h){"use strict";this.$VideoUploadRequestContext2=h;return this;};g.prototype.getVideoID=function(){"use strict";return this.$VideoUploadRequestContext2;};g.prototype.setStartOffset=function(h){"use strict";this.$VideoUploadRequestContext3=h;return this;};g.prototype.getStartOffset=function(){"use strict";return this.$VideoUploadRequestContext3;};g.prototype.setEndOffset=function(h){"use strict";this.$VideoUploadRequestContext4=h;return this;};g.prototype.getEndOffset=function(){"use strict";return this.$VideoUploadRequestContext4;};g.prototype.setPartitionStartOffset=function(h){"use strict";this.$VideoUploadRequestContext5=h;return this;};g.prototype.getPartitionStartOffset=function(){"use strict";return this.$VideoUploadRequestContext5;};g.prototype.setPartitionEndOffset=function(h){"use strict";this.$VideoUploadRequestContext6=h;return this;};g.prototype.getPartitionEndOffset=function(){"use strict";return this.$VideoUploadRequestContext6;};g.prototype.setTargetID=function(h){"use strict";this.$VideoUploadRequestContext7=h;return this;};g.prototype.getTargetID=function(){"use strict";return this.$VideoUploadRequestContext7;};g.prototype.setSource=function(h){"use strict";this.$VideoUploadRequestContext8=h;return this;};g.prototype.getSource=function(){"use strict";return this.$VideoUploadRequestContext8;};g.prototype.setWaterfallID=function(h){"use strict";this.$VideoUploadRequestContext9=h;return this;};g.prototype.getWaterfallID=function(){"use strict";return this.$VideoUploadRequestContext9;};g.prototype.setSupportsChunking=function(h){"use strict";this.$VideoUploadRequestContexta=h;return this;};g.prototype.getSupportsChunking=function(){"use strict";return this.$VideoUploadRequestContexta;};g.prototype.setSupportsFileAPI=function(h){"use strict";this.$VideoUploadRequestContextb=h;return this;};g.prototype.getSupportsFileAPI=function(){"use strict";return this.$VideoUploadRequestContextb;};g.prototype.reset=function(){"use strict";this.$VideoUploadRequestContext0=null;this.$VideoUploadRequestContext2=null;this.$VideoUploadRequestContext3=null;this.$VideoUploadRequestContext4=null;this.$VideoUploadRequestContext7=null;this.$VideoUploadRequestContext8=null;this.$VideoUploadRequestContext9=null;this.$VideoUploadRequestContexta=null;this.$VideoUploadRequestContextb=null;this.$VideoUploadRequestContext5=null;this.$VideoUploadRequestContext6=null;};e.exports=g;},null);
__d("VideoUploadPostRequestManager",["ArbiterMixin","VideoUploadRequest","mixin"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j=i(g);for(var k in j)if(j.hasOwnProperty(k))m[k]=j[k];var l=j===null?null:j.prototype;m.prototype=Object.create(l);m.prototype.constructor=m;m.__superConstructor__=j;function m(n){"use strict";j.call(this);this.$VideoUploadPostRequestManager0=n;}m.prototype.getRequest=function(){"use strict";return this.$VideoUploadPostRequestManager1;};m.prototype.sendRequest=function(n){"use strict";if(this.$VideoUploadPostRequestManager1)return;var o=Object.assign({},n.getMetadata(),this.__createRequestData(n)),p=o.thumb;delete o.thumb;this.$VideoUploadPostRequestManager1=this.__getVideoUploadRequest(this.$VideoUploadPostRequestManager0).setAllowCrossOrigin(true).setData(o).setThumbnail(p).setWaterfallID(n.getWaterfallID()).setSuccessHandler(this.$VideoUploadPostRequestManager2.bind(this)).setErrorHandler(this.$VideoUploadPostRequestManager3.bind(this)).setTransportErrorHandler(this.$VideoUploadPostRequestManager3.bind(this));this.$VideoUploadPostRequestManager1.send();this.inform('request-started');};m.prototype.__createRequestData=function(n){"use strict";return {video_id:n.getVideoID(),target_id:n.getTargetID(),source:n.getSource(),waterfall_id:n.getWaterfallID(),supports_chunking:n.getSupportsChunking()};};m.prototype.__getVideoUploadRequest=function(n){"use strict";return new h(n);};m.prototype.clearRequest=function(){"use strict";this.$VideoUploadPostRequestManager1=null;};m.prototype.isInProgress=function(){"use strict";return !!this.$VideoUploadPostRequestManager1;};m.prototype.$VideoUploadPostRequestManager2=function(n){"use strict";this.inform('request-finished',{video_id:n.getPayload().video_id});this.clearRequest();};m.prototype.$VideoUploadPostRequestManager3=function(n){"use strict";this.inform('request-failed',{error_code:n.getError(),error_description:n.getErrorDescription(),error_summary:n.getErrorSummary()});this.clearRequest();};e.exports=m;},null);
__d("VideoUploadConnectionMonitor",["ArbiterMixin","Network","VideoUploadFeatureDetector","debounce","mixin"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l=k(g);for(var m in l)if(l.hasOwnProperty(m))o[m]=l[m];var n=l===null?null:l.prototype;o.prototype=Object.create(n);o.prototype.constructor=o;o.__superConstructor__=l;function o(){"use strict";l.call(this);this.$VideoUploadConnectionMonitor0=false;this.$VideoUploadConnectionMonitor1=[];this.$VideoUploadConnectionMonitor2=false;this.$VideoUploadConnectionMonitor3=true;this.$VideoUploadConnectionMonitor4=j(function(){this.$VideoUploadConnectionMonitor5(false);}.bind(this),2000);}o.prototype.notifyStart=function(){"use strict";if(this.$VideoUploadConnectionMonitor2)return;if(this.$VideoUploadConnectionMonitor1.length===0){this.$VideoUploadConnectionMonitor1.push(h.addListener('online',function(){this.$VideoUploadConnectionMonitor5(true);}.bind(this)));this.$VideoUploadConnectionMonitor1.push(h.addListener('offline',function(){if(this.$VideoUploadConnectionMonitor0){this.$VideoUploadConnectionMonitor4();}else{this.$VideoUploadConnectionMonitor4.reset();setTimeout(this.$VideoUploadConnectionMonitor4,2000);}}.bind(this)));}this.$VideoUploadConnectionMonitor2=true;};o.prototype.notifyProgress=function(event){"use strict";if(!this.$VideoUploadConnectionMonitor2)return;if(!event)return;if(i.supportsFullProgress()){this.$VideoUploadConnectionMonitor0=true;if(event.total&&event.loaded===event.total){this.$VideoUploadConnectionMonitor4.reset();}else this.$VideoUploadConnectionMonitor4();}};o.prototype.notifySuccess=function(){"use strict";if(!this.$VideoUploadConnectionMonitor2)return;this.reset();this.$VideoUploadConnectionMonitor5(true);};o.prototype.notifyTransportError=function(){"use strict";if(!this.$VideoUploadConnectionMonitor2)return;this.$VideoUploadConnectionMonitor2=false;this.$VideoUploadConnectionMonitor5(false);};o.prototype.notifyError=function(){"use strict";if(!this.$VideoUploadConnectionMonitor2)return;this.reset();this.$VideoUploadConnectionMonitor5(true);};o.prototype.isOnline=function(){"use strict";return this.$VideoUploadConnectionMonitor3;};o.prototype.reset=function(){"use strict";while(this.$VideoUploadConnectionMonitor1.length)this.$VideoUploadConnectionMonitor1.pop().remove();this.$VideoUploadConnectionMonitor4.reset();this.$VideoUploadConnectionMonitor2=false;};o.prototype.$VideoUploadConnectionMonitor5=function(p){"use strict";this.$VideoUploadConnectionMonitor4.reset();if(this.$VideoUploadConnectionMonitor3!==p){this.$VideoUploadConnectionMonitor3=p;if(this.$VideoUploadConnectionMonitor3){this.inform('online');}else this.inform('offline');}};e.exports=o;},null);
__d("VideoUploadReceiveRequestManager",["ArbiterMixin","VideoUploadConnectionMonitor","VideoUploadRequest","mixin","fbt"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l=1363037,m=j(g);for(var n in m)if(m.hasOwnProperty(n))p[n]=m[n];var o=m===null?null:m.prototype;p.prototype=Object.create(o);p.prototype.constructor=p;p.__superConstructor__=m;function p(q,r,s,t,u,v,w,x,y){"use strict";m.call(this);this.$VideoUploadReceiveRequestManager0=q;this.$VideoUploadReceiveRequestManager1=r;this.$VideoUploadReceiveRequestManager2=s;this.$VideoUploadReceiveRequestManager3=t;this.$VideoUploadReceiveRequestManager4=u;this.$VideoUploadReceiveRequestManager5=v;this.$VideoUploadReceiveRequestManager6=w;this.$VideoUploadReceiveRequestManager7=x;this.$VideoUploadReceiveRequestManager8=y;this.$VideoUploadReceiveRequestManager9=0;this.$VideoUploadReceiveRequestManagera=0;this.$VideoUploadReceiveRequestManagerb=0;this.$VideoUploadReceiveRequestManagerc=null;this.$VideoUploadReceiveRequestManagerd=null;this.$VideoUploadReceiveRequestManagere=0;this.$VideoUploadReceiveRequestManagerf=new h();this.$VideoUploadReceiveRequestManagerf.subscribe('online',this.$VideoUploadReceiveRequestManagerg.bind(this));this.$VideoUploadReceiveRequestManagerf.subscribe('offline',this.$VideoUploadReceiveRequestManagerh.bind(this));}p.prototype.sendRequest=function(q){"use strict";if(this.$VideoUploadReceiveRequestManageri)return;this.$VideoUploadReceiveRequestManagere=q.getEndOffset()-q.getStartOffset();this.$VideoUploadReceiveRequestManagerj=q;this.$VideoUploadReceiveRequestManagerk();};p.prototype.cancelRequest=function(){"use strict";if(!this.$VideoUploadReceiveRequestManageri)return;this.$VideoUploadReceiveRequestManageri.abort();this.$VideoUploadReceiveRequestManagerl();};p.prototype.$VideoUploadReceiveRequestManagerl=function(){"use strict";this.$VideoUploadReceiveRequestManageri=null;this.$VideoUploadReceiveRequestManagerm=null;this.$VideoUploadReceiveRequestManager9=0;this.$VideoUploadReceiveRequestManagera=0;this.$VideoUploadReceiveRequestManagerb=0;this.$VideoUploadReceiveRequestManagerc=null;this.$VideoUploadReceiveRequestManagerd=null;this.$VideoUploadReceiveRequestManagere=0;this.$VideoUploadReceiveRequestManagerj.reset();this.$VideoUploadReceiveRequestManagerf.reset();clearTimeout(this.$VideoUploadReceiveRequestManagern);this.$VideoUploadReceiveRequestManagern=null;};p.prototype.$VideoUploadReceiveRequestManagerk=function(q){"use strict";clearTimeout(this.$VideoUploadReceiveRequestManagern);this.$VideoUploadReceiveRequestManagern=null;if(this.$VideoUploadReceiveRequestManagerj.getSupportsChunking()&&(this.$VideoUploadReceiveRequestManagerj.getStartOffset()>=this.$VideoUploadReceiveRequestManagerj.getPartitionEndOffset())){if(!q)this.inform('request-finished',{start_offset:this.$VideoUploadReceiveRequestManagerj.getEndOffset()-1,end_offset:this.$VideoUploadReceiveRequestManagerj.getEndOffset(),transport_retries:this.$VideoUploadReceiveRequestManager9,server_retries:this.$VideoUploadReceiveRequestManagera,upload_speed:this.$VideoUploadReceiveRequestManagerd});return;}this.$VideoUploadReceiveRequestManageri=this.__getVideoUploadRequest(this.$VideoUploadReceiveRequestManager0).setAllowCrossOrigin(true).setData(this.__createRequestData(this.$VideoUploadReceiveRequestManagerj)).setWaterfallID(this.$VideoUploadReceiveRequestManagerj.getWaterfallID()).setSuccessHandler(this.__handleSuccessResponse.bind(this)).setErrorHandler(this.__handleServerFailureResponse.bind(this)).setTransportErrorHandler(this.$VideoUploadReceiveRequestManagero.bind(this)).setUploadProgressHandler(this.$VideoUploadReceiveRequestManagerp.bind(this));this.$VideoUploadReceiveRequestManagerc=Date.now();if(this.$VideoUploadReceiveRequestManagerj.getSupportsChunking()){if(this.$VideoUploadReceiveRequestManager3){var r=this.$VideoUploadReceiveRequestManagerq(this.$VideoUploadReceiveRequestManagerj.getEndOffset()-this.$VideoUploadReceiveRequestManagerj.getStartOffset(),this.$VideoUploadReceiveRequestManagerd);this.$VideoUploadReceiveRequestManageri.setTimeoutHandler(r,this.__handleResponseTimeout.bind(this));}this.$VideoUploadReceiveRequestManageri.sendChunk(this.$VideoUploadReceiveRequestManagerr());}else this.$VideoUploadReceiveRequestManageri.sendFile(this.$VideoUploadReceiveRequestManagerj.getFile().getFileInput());this.$VideoUploadReceiveRequestManagerf.notifyStart();this.inform('request-started',{start_offset:this.$VideoUploadReceiveRequestManagerj.getStartOffset(),end_offset:this.$VideoUploadReceiveRequestManagerj.getEndOffset(),transport_retries:this.$VideoUploadReceiveRequestManager9,server_retries:this.$VideoUploadReceiveRequestManagera,upload_speed:this.$VideoUploadReceiveRequestManagerd});};p.prototype.__getVideoUploadRequest=function(q){"use strict";return new i(q);};p.prototype.$VideoUploadReceiveRequestManagers=function(q){"use strict";clearTimeout(this.$VideoUploadReceiveRequestManagern);this.$VideoUploadReceiveRequestManagern=setTimeout(this.$VideoUploadReceiveRequestManagerk.bind(this),q);};p.prototype.$VideoUploadReceiveRequestManagerr=function(){"use strict";if(this.$VideoUploadReceiveRequestManagerm)return this.$VideoUploadReceiveRequestManagerm;this.$VideoUploadReceiveRequestManagerm=this.$VideoUploadReceiveRequestManagerj.getFile().getChunk(this.$VideoUploadReceiveRequestManagerj.getStartOffset(),this.$VideoUploadReceiveRequestManagerj.getEndOffset());return this.$VideoUploadReceiveRequestManagerm;};p.prototype.__createRequestData=function(q){"use strict";return {video_id:q.getVideoID(),start_offset:q.getStartOffset(),source:q.getSource(),target_id:q.getTargetID(),waterfall_id:q.getWaterfallID(),supports_chunking:q.getSupportsChunking(),upload_speed:this.$VideoUploadReceiveRequestManagerd,partition_start_offset:q.getPartitionStartOffset(),partition_end_offset:q.getPartitionEndOffset()};};p.prototype.__handleSuccessResponse=function(q){"use strict";var r=Date.now()-this.$VideoUploadReceiveRequestManagerc;r=(r===0)?1:r;var s=q.getPayload();if(s.start_offset===this.$VideoUploadReceiveRequestManagerj.getEndOffset()){var t=this.$VideoUploadReceiveRequestManagerj.getEndOffset()-this.$VideoUploadReceiveRequestManagerj.getStartOffset();this.$VideoUploadReceiveRequestManagerd=Math.floor(t/r);}else this.$VideoUploadReceiveRequestManagerd=null;this.$VideoUploadReceiveRequestManagerf.notifySuccess();this.inform('request-finished',{start_offset:this.$VideoUploadReceiveRequestManagerj.getStartOffset(),end_offset:this.$VideoUploadReceiveRequestManagerj.getEndOffset(),transport_retries:this.$VideoUploadReceiveRequestManager9,server_retries:this.$VideoUploadReceiveRequestManagera,upload_speed:this.$VideoUploadReceiveRequestManagerd});this.$VideoUploadReceiveRequestManagerj.setStartOffset(s.start_offset);this.$VideoUploadReceiveRequestManagerj.setEndOffset(s.end_offset);this.$VideoUploadReceiveRequestManageri=null;this.$VideoUploadReceiveRequestManagerm=null;this.$VideoUploadReceiveRequestManager9=0;this.$VideoUploadReceiveRequestManagera=0;this.$VideoUploadReceiveRequestManagerb=0;if(this.$VideoUploadReceiveRequestManagerj.getSupportsChunking())this.$VideoUploadReceiveRequestManagerk(true);};p.prototype.__handleServerFailureResponse=function(q){"use strict";this.$VideoUploadReceiveRequestManageri=null;this.$VideoUploadReceiveRequestManager9=0;this.$VideoUploadReceiveRequestManagerd=null;this.$VideoUploadReceiveRequestManagerb=0;this.$VideoUploadReceiveRequestManagerf.notifyError();if(this.__hasInvalidStartOffsetAndHasRetries(q.getError())){var r=q.getPayload();if(this.$VideoUploadReceiveRequestManagerj.getStartOffset()!=r.start_offset||this.$VideoUploadReceiveRequestManagerj.getEndOffset()!=r.end_offset){this.$VideoUploadReceiveRequestManagerj.setStartOffset(r.start_offset);this.$VideoUploadReceiveRequestManagerj.setEndOffset(r.end_offset);this.$VideoUploadReceiveRequestManagerm=null;}this.$VideoUploadReceiveRequestManagerk();}else if((q.isTransient()||this.$VideoUploadReceiveRequestManager8)&&++this.$VideoUploadReceiveRequestManagera<=this.$VideoUploadReceiveRequestManager2){this.$VideoUploadReceiveRequestManagers(this.$VideoUploadReceiveRequestManagert(this.$VideoUploadReceiveRequestManager7,this.$VideoUploadReceiveRequestManagera));}else this.$VideoUploadReceiveRequestManageru(q);};p.prototype.__handleResponseTimeout=function(q){"use strict";this.inform('request-timeout',{start_offset:this.$VideoUploadReceiveRequestManagerj.getStartOffset(),end_offset:this.$VideoUploadReceiveRequestManagerj.getEndOffset(),transport_retries:this.$VideoUploadReceiveRequestManager9,server_retries:this.$VideoUploadReceiveRequestManagera,timeout_retries:this.$VideoUploadReceiveRequestManagerb,upload_speed:this.$VideoUploadReceiveRequestManagerd});this.$VideoUploadReceiveRequestManageri.abort();this.$VideoUploadReceiveRequestManageri=null;this.$VideoUploadReceiveRequestManagerd=null;this.$VideoUploadReceiveRequestManagerf.notifyTransportError();if(++this.$VideoUploadReceiveRequestManagerb<=this.$VideoUploadReceiveRequestManager4){var r=this.$VideoUploadReceiveRequestManagerj.getEndOffset()-this.$VideoUploadReceiveRequestManagerj.getStartOffset();r=Math.floor(r/2);r=Math.max(r,this.$VideoUploadReceiveRequestManagere);var s=this.$VideoUploadReceiveRequestManagerj.getEndOffset();s=Math.min(s,this.$VideoUploadReceiveRequestManagerj.getStartOffset()+r);this.$VideoUploadReceiveRequestManagerj.setEndOffset(s);this.$VideoUploadReceiveRequestManagerm=null;this.$VideoUploadReceiveRequestManagerk();}else this.$VideoUploadReceiveRequestManagerv({error_code:1006,error_description:k._("Your browser appears to be offline. Please check your internet connection and try again."),error_summary:k._("No Network Connection")});};p.prototype.__hasInvalidStartOffsetAndHasRetries=function(q){"use strict";return q===l&&++this.$VideoUploadReceiveRequestManagera<=this.$VideoUploadReceiveRequestManager2;};p.prototype.$VideoUploadReceiveRequestManagero=function(q){"use strict";this.$VideoUploadReceiveRequestManagerf.notifyTransportError();this.$VideoUploadReceiveRequestManagerd=null;this.$VideoUploadReceiveRequestManagerb=0;if(++this.$VideoUploadReceiveRequestManager9<=this.$VideoUploadReceiveRequestManager1){this.$VideoUploadReceiveRequestManageri=null;this.$VideoUploadReceiveRequestManagers(this.$VideoUploadReceiveRequestManagert(this.$VideoUploadReceiveRequestManager6,this.$VideoUploadReceiveRequestManager9));}else this.$VideoUploadReceiveRequestManageru(q);};p.prototype.$VideoUploadReceiveRequestManageru=function(q){"use strict";this.$VideoUploadReceiveRequestManagerv({error_code:q.getError(),error_description:q.getErrorDescription(),error_summary:q.getErrorSummary()});};p.prototype.$VideoUploadReceiveRequestManagerv=function(q){"use strict";this.inform('request-failed',q);this.$VideoUploadReceiveRequestManagerl();};p.prototype.$VideoUploadReceiveRequestManagerp=function(event){"use strict";this.$VideoUploadReceiveRequestManagerf.notifyProgress(event);this.inform('request-progressed',{file_size:this.$VideoUploadReceiveRequestManagerj.getFile().getSize(),start_offset:this.$VideoUploadReceiveRequestManagerj.getStartOffset(),sent_bytes:event.loaded});};p.prototype.$VideoUploadReceiveRequestManagerg=function(event){"use strict";this.inform('online');this.$VideoUploadReceiveRequestManager9=0;this.$VideoUploadReceiveRequestManagerb=0;if(this.$VideoUploadReceiveRequestManagern)this.$VideoUploadReceiveRequestManagerk();};p.prototype.$VideoUploadReceiveRequestManagerh=function(event){"use strict";this.inform('offline');};p.prototype.$VideoUploadReceiveRequestManagert=function(q,r){"use strict";return Math.pow(q,r)*1000;};p.prototype.$VideoUploadReceiveRequestManagerq=function(q,r){"use strict";var s;if(r>0){s=r;}else s=10;var t=Math.floor((q/s)*this.$VideoUploadReceiveRequestManager5/100);return Math.max(t,30000);};e.exports=p;},null);
__d("VideoUploadStartRequestManager",["ArbiterMixin","VideoUploadRequest","FileHasher","performanceNow","mixin","Assert"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();var m=k(g);for(var n in m)if(m.hasOwnProperty(n))p[n]=m[n];var o=m===null?null:m.prototype;p.prototype=Object.create(o);p.prototype.constructor=p;p.__superConstructor__=m;function p(q,r,s,t,u){"use strict";m.call(this);this.$VideoUploadStartRequestManager0=q;this.$VideoUploadStartRequestManager1=r;this.$VideoUploadStartRequestManager2=s;this.$VideoUploadStartRequestManager3=0;this.$VideoUploadStartRequestManager4=t;this.$VideoUploadStartRequestManager5=u;}p.prototype.getRequest=function(){"use strict";return this.$VideoUploadStartRequestManager6;};p.prototype.sendRequest=function(q){"use strict";if(this.$VideoUploadStartRequestManager7||this.$VideoUploadStartRequestManager6)return;this.$VideoUploadStartRequestManager8=q;if(this.$VideoUploadStartRequestManager4&&this.$VideoUploadStartRequestManager8.getFile().getFile()&&(this.$VideoUploadStartRequestManager8.getFile().getFile().size<this.$VideoUploadStartRequestManager5)&&i.isSupported()){this.$VideoUploadStartRequestManager9=j();this.$VideoUploadStartRequestManager7=new i();this.$VideoUploadStartRequestManager7.hash(this.$VideoUploadStartRequestManager8.getFile().getFile(),function(r){this.$VideoUploadStartRequestManager9=j()-this.$VideoUploadStartRequestManager9;this.$VideoUploadStartRequestManagera=r.hash;this.$VideoUploadStartRequestManager7.destroy();this.$VideoUploadStartRequestManager7=null;if(!r.hash)this.$VideoUploadStartRequestManagerb=r.exception;this.$VideoUploadStartRequestManagerc();}.bind(this));}else this.$VideoUploadStartRequestManagerc();};p.prototype.$VideoUploadStartRequestManagerc=function(){"use strict";this.$VideoUploadStartRequestManagerd();this.inform('request-started',{hash_time:this.$VideoUploadStartRequestManager9,hash_exception:this.$VideoUploadStartRequestManagerb});};p.prototype.$VideoUploadStartRequestManagerd=function(){"use strict";clearTimeout(this.$VideoUploadStartRequestManagere);this.$VideoUploadStartRequestManagere=null;this.$VideoUploadStartRequestManager6=this.__getVideoUploadRequest(this.$VideoUploadStartRequestManager0).setAllowCrossOrigin(true).setData(this.__getDataToSend(this.$VideoUploadStartRequestManager8,this.$VideoUploadStartRequestManagera)).setWaterfallID(this.$VideoUploadStartRequestManager8.getWaterfallID()).setSuccessHandler(this.$VideoUploadStartRequestManagerf.bind(this)).setErrorHandler(this.$VideoUploadStartRequestManagerg.bind(this)).setTransportErrorHandler(this.$VideoUploadStartRequestManagerh.bind(this));this.$VideoUploadStartRequestManager6.send();};p.prototype.__getVideoUploadRequest=function(q){"use strict";return new h(q);};p.prototype.__getDataToSend=function(q,r){"use strict";return {file_size:q.getFile().getSize(),file_extension:q.getFile().getExtension(),target_id:q.getTargetID(),source:q.getSource(),waterfall_id:q.getWaterfallID(),supports_chunking:q.getSupportsChunking(),supports_file_api:q.getSupportsFileAPI(),partition_start_offset:q.getPartitionStartOffset(),partition_end_offset:q.getPartitionEndOffset(),original_file_hash:r};};p.prototype.cancelRequest=function(){"use strict";this.$VideoUploadStartRequestManageri();};p.prototype.$VideoUploadStartRequestManagerj=function(q){"use strict";clearTimeout(this.$VideoUploadStartRequestManagere);this.$VideoUploadStartRequestManagere=setTimeout(this.$VideoUploadStartRequestManagerd.bind(this),q);};p.prototype.$VideoUploadStartRequestManageri=function(){"use strict";if(this.$VideoUploadStartRequestManager7){this.$VideoUploadStartRequestManager7.destroy();this.$VideoUploadStartRequestManager7=null;}if(this.$VideoUploadStartRequestManager6){this.$VideoUploadStartRequestManager6.abort();this.$VideoUploadStartRequestManager6=null;}this.$VideoUploadStartRequestManager3=0;this.$VideoUploadStartRequestManager8=null;clearTimeout(this.$VideoUploadStartRequestManagere);this.$VideoUploadStartRequestManagere=null;};p.prototype.$VideoUploadStartRequestManagerk=function(q,r){"use strict";return Math.pow(q,r)*1000;};p.prototype.$VideoUploadStartRequestManagerf=function(q){"use strict";var r=q.getPayload();this.inform('request-finished',this.__getSuccessInformData(r));this.$VideoUploadStartRequestManager6=null;l.isTrue(this.$VideoUploadStartRequestManager7==null,'Unexpected: if file hasher is not null, clean up is required.');};p.prototype.__getSuccessInformData=function(q){"use strict";return {video_id:q.video_id,start_offset:q.start_offset,end_offset:q.end_offset,transport_retries:this.$VideoUploadStartRequestManager3,skip_upload:q.skip_upload,hash_time:this.$VideoUploadStartRequestManager9};};p.prototype.$VideoUploadStartRequestManagerg=function(q){"use strict";this.inform('request-failed',this.$VideoUploadStartRequestManagerl(q));this.$VideoUploadStartRequestManager6=null;l.isTrue(this.$VideoUploadStartRequestManager7==null,'Unexpected: if file hasher is not null, clean up is required.');};p.prototype.$VideoUploadStartRequestManagerh=function(q){"use strict";if((this.$VideoUploadStartRequestManager1===0)||(++this.$VideoUploadStartRequestManager3>this.$VideoUploadStartRequestManager1)){this.$VideoUploadStartRequestManagerg(q);}else{this.$VideoUploadStartRequestManager6=null;this.$VideoUploadStartRequestManagerj(this.$VideoUploadStartRequestManagerk(this.$VideoUploadStartRequestManager2,this.$VideoUploadStartRequestManager3));}};p.prototype.$VideoUploadStartRequestManagerl=function(q){"use strict";return {error_code:q.getError(),error_description:q.getErrorDescription(),error_summary:q.getErrorSummary(),transport_retries:this.$VideoUploadStartRequestManager3};};e.exports=p;},null);
__d("VideoUploadMetadataParser",["VideoUploadFeatureDetector","fileSlice"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i=4,j=4,k=5242880,l=24,m=88,n=20,o=16,p=4,q=84;function r(s,t){"use strict";this.$VideoUploadMetadataParser0=s;this.$VideoUploadMetadataParser1=t;}r.prototype.getHandler=function(){"use strict";return this.$VideoUploadMetadataParser1;};r.prototype.parse=function(){"use strict";if(!g.supportsFileReading()){this.$VideoUploadMetadataParser1(null);return;}switch(this.$VideoUploadMetadataParser0.getExtension()){case 'mp4':case 'mov':case 'm4v':case '3gp':case '3g2':break;default:this.$VideoUploadMetadataParser1(null);return;}this.$VideoUploadMetadataParser2(0,Math.min(k,this.$VideoUploadMetadataParser0.getSize()),null);};r.prototype.$VideoUploadMetadataParser2=function(s,t,u){"use strict";var v=new FileReader();v.onload=(function(event){try{var y=this.$VideoUploadMetadataParser3(new DataView(v.result),0,t-s,s,u);if(y.completed){y=this.$VideoUploadMetadataParser4(y);this.$VideoUploadMetadataParser1(y);}else this.$VideoUploadMetadataParser2(s+y.nextOffset,Math.min(this.$VideoUploadMetadataParser0.getSize(),s+y.nextOffset+k),y);}catch(x){this.$VideoUploadMetadataParser1(null);}}.bind(this));var w=this.$VideoUploadMetadataParser0.getFile();v.readAsArrayBuffer(h.call(w,s,t));};r.prototype.$VideoUploadMetadataParser5=function(s,t,u){"use strict";var v=[];for(var w=0;w<u;w++)v.push(String.fromCharCode(s.getUint8(t+w)));return v.join('');};r.prototype.$VideoUploadMetadataParser3=function(s,t,u,v,w){"use strict";if(!w)w={widths:[],heights:[],streamTypes:[],streamDurations:[]};while(t<u){var x=s.getUint32(t),y=this.$VideoUploadMetadataParser5(s,t+i,j);if(t+x>u){w.completed=false;w.nextOffset=t;if(x>u)w.nextOffset+=x;return w;}if(t+v===0&&y!=='ftyp')throw new Error('No ftyp atom');if(x===0)throw new Error('len is 0');var z=function(){var da=s.getUint32(t+n),ea=s.getUint32(t+l);return ea/da;};switch(y){case 'moov':case 'trak':case 'mdia':t+=i+j;break;case 'mvhd':w.duration=z();t+=x;break;case 'tkhd':var aa=s.getUint16(t+q),ba=s.getUint16(t+m);w.widths.push(aa);w.heights.push(ba);t+=x;break;case 'hdlr':var ca=this.$VideoUploadMetadataParser5(s,t+o,p);switch(ca){case 'vide':ca='video';break;case 'soun':ca='audio';break;case 'subt':ca='subtitle';break;default:ca='data';}w.streamTypes.push(ca);t+=x;break;case 'mdhd':w.streamDurations.push(z());t+=x;break;default:t+=x;}}w.completed=true;return w;};r.prototype.$VideoUploadMetadataParser4=function(s){"use strict";var t={streams:{},format:{}},u=s.widths.length,v=s.heights.length,w=s.streamTypes.length,x=s.streamDurations.length;if(u!==v||u!==w||u!==x)return null;for(var y=0;y<u;y++){var z={width:s.widths[y],height:s.heights[y],duration:s.streamDurations[y],type:s.streamTypes[y]};if(z.type==='video'){var aa=z.width*z.height,ba=t.streams.primaryVideo;if(!ba||(ba.width*ba.height)>aa)t.streams.primaryVideo=z;}else if(z.type==='audio'){var ca=t.streams.primaryAudio;if(!ca||ca.duration<z.duration)t.streams.primaryAudio=z;}}t.format.duration=s.duration;return t;};e.exports=r;},null);
__d("VideoUploadSession",["ArbiterMixin","AsyncRequest","VideoUploadFeatureDetector","VideoUploadFileValidator","VideoUploadLogger","VideoUploadMetadataParser","VideoUploadPostRequestManager","VideoUploadReceiveRequestManager","VideoUploadRequestContext","VideoUploadStartRequestManager","WaterfallIDGenerator","mixin"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){b.__markCompiled&&b.__markCompiled();var s=r(g);for(var t in s)if(s.hasOwnProperty(t))v[t]=s[t];var u=s===null?null:s.prototype;v.prototype=Object.create(u);v.prototype.constructor=v;v.__superConstructor__=s;function v(w){"use strict";s.call(this);this.$VideoUploadSession0=w.source;this.$VideoUploadSession1=w.target_id;this.$VideoUploadSession2=w.logging_delay;this.$VideoUploadSession3=w.silent_file_validation;this.$VideoUploadSession4=w.background_upload;this.$VideoUploadSession5=w.actor_id;this.$VideoUploadSession6=new j({minSize:w.min_size,maxSize:w.max_size,minLength:w.min_length,maxLength:w.max_length,minWidth:w.min_width,minHeight:w.min_height,extensions:w.extensions});this.$VideoUploadSession7=i.supportsChunking();this.$VideoUploadSession8=i.supportsFileAPI();if(this.$VideoUploadSession7){this.$VideoUploadSession9=w.parallel_chunk_uploads;if(this.$VideoUploadSession9){this.$VideoUploadSessiona=w.parallel_chunk_upload_filesize;this.$VideoUploadSessionb=w.default_chunk_size;}}else this.$VideoUploadSession9=false;this.$VideoUploadSessionc=this.$VideoUploadSessiond(w);this.$VideoUploadSessione=this.$VideoUploadSessionf(w);if(this.$VideoUploadSession9)this.$VideoUploadSessiong=this.$VideoUploadSessionf(w);this.$VideoUploadSessionh=this.$VideoUploadSessioni(w);}v.prototype.$VideoUploadSessionj=function(){"use strict";this.$VideoUploadSessionk=q.generate();this.$VideoUploadSessionl=new k({actor_id:this.$VideoUploadSession5,source:this.$VideoUploadSession0,waterfall_id:this.$VideoUploadSessionk,target_id:this.$VideoUploadSession1,delay:this.$VideoUploadSession2,is_chunked_upload:this.$VideoUploadSession7});};v.prototype.getLogger=function(){"use strict";if(!this.$VideoUploadSessionl)return;return this.$VideoUploadSessionl;};v.prototype.start=function(w){"use strict";this.$VideoUploadSessionm=null;this.$VideoUploadSessionn=false;this.$VideoUploadSessiono=false;this.$VideoUploadSessionp=w;this.$VideoUploadSessionq=0;this.$VideoUploadSessionj();this.__logEvent(k.EVENT_REQUESTED_UPLOADING);this.inform('upload-requested');var x=new l(this.$VideoUploadSessionp,this.$VideoUploadSessionr.bind(this));x.parse();};v.prototype.post=function(w){"use strict";this.__logEvent(k.EVENT_STARTED_POST_REQUEST);this.inform('post-started',w);var x=this.__createPostRequestContext(w);this.$VideoUploadSessionh.sendRequest(x);this.$VideoUploadSessions=w;};v.prototype.__createPostRequestContext=function(w){"use strict";var x=new o();this.__setupPostRequestContext(x,w);return x;};v.prototype.__setupPostRequestContext=function(w,x){"use strict";w.setMetadata(x).setVideoID(this.$VideoUploadSessionm).setTargetID(this.$VideoUploadSession1).setSource(this.$VideoUploadSession0).setWaterfallID(this.$VideoUploadSessionk).setSupportsChunking(this.$VideoUploadSession7).setFile(this.$VideoUploadSessionp);};v.prototype.cancel=function(){"use strict";if(!this.$VideoUploadSessionn)return;this.$VideoUploadSessiont();if(this.$VideoUploadSession4){if(!this.$VideoUploadSessiono)this.__logEvent(k.EVENT_CANCELED_UPLOADING);if(this.$VideoUploadSessionu){this.__logEvent(k.EVENT_CANCELED_FLOW);this.$VideoUploadSessionu=false;}}else{this.__logEvent(k.EVENT_CANCELED_UPLOADING);this.__logEvent(k.EVENT_CANCELED_FLOW);}};v.prototype.abandon=function(){"use strict";if(!this.$VideoUploadSessionn)return;this.$VideoUploadSessiont();if(this.$VideoUploadSession4){if(!this.$VideoUploadSessiono)this.__logEvent(k.EVENT_ABANDONED_UPLOADING);if(this.$VideoUploadSessionu){this.__logEvent(k.EVENT_CANCELED_FLOW);this.$VideoUploadSessionu=false;}}else{this.__logEvent(k.EVENT_ABANDONED_UPLOADING);this.__logEvent(k.EVENT_FAILED_FLOW);}};v.prototype.isPostInProgress=function(){"use strict";return this.$VideoUploadSessionh.isInProgress();};v.prototype.isInProgress=function(){"use strict";return this.$VideoUploadSessionn;};v.prototype.getVideoID=function(){"use strict";return this.$VideoUploadSessionm;};v.prototype.getUploadTime=function(){"use strict";return this.$VideoUploadSessionv;};v.prototype.startFlow=function(){"use strict";if(!this.$VideoUploadSession4||this.$VideoUploadSessionu)return;this.__logEvent(k.EVENT_STARTED_FLOW);this.$VideoUploadSessionu=true;};v.prototype.$VideoUploadSessionr=function(w){"use strict";var x,y;if(this.$VideoUploadSession3){var z=this.$VideoUploadSession6.getValidationErrorMessage(this.$VideoUploadSessionp,w);if(z){y={error_summary:z.summary,error_description:z.description};x=false;}else x=true;}else x=this.$VideoUploadSession6.validate(this.$VideoUploadSessionp,w);if(!x){this.__logEvent(k.EVENT_INVALIDATED_UPLOADING);this.inform('upload-failed',y);return;}if(!this.$VideoUploadSession4)this.__logEvent(k.EVENT_STARTED_FLOW);this.$VideoUploadSessionw=this.$VideoUploadSession9&&(this.$VideoUploadSessionp.getSize()>=this.$VideoUploadSessiona);this.$VideoUploadSessionx=false;this.$VideoUploadSessiony=false;this.$VideoUploadSessionz=0;this.$VideoUploadSessionA=this.$VideoUploadSessionz;this.$VideoUploadSessionB=0;if(this.$VideoUploadSessionw){this.$VideoUploadSessionC=Math.floor(this.$VideoUploadSessionp.getSize()/2);this.$VideoUploadSessionD=this.$VideoUploadSessionC;this.$VideoUploadSessionE=this.$VideoUploadSessionD;this.$VideoUploadSessionF=0;this.$VideoUploadSessionG=this.$VideoUploadSessionp.getSize();}else this.$VideoUploadSessionC=this.$VideoUploadSessionp.getSize();var aa=new o().setFile(this.$VideoUploadSessionp).setTargetID(this.$VideoUploadSession1).setSource(this.$VideoUploadSession0).setWaterfallID(this.$VideoUploadSessionk).setSupportsChunking(this.$VideoUploadSession7).setSupportsFileAPI(this.$VideoUploadSession8).setPartitionStartOffset(this.$VideoUploadSessionz).setPartitionEndOffset(this.$VideoUploadSessionC);this.$VideoUploadSessionn=true;this.$VideoUploadSessionc.sendRequest(aa);};v.prototype.$VideoUploadSessiond=function(w){"use strict";var x=this.$VideoUploadSession7?w.chunk_start_uri:w.start_uri,y=this.__getVideoUploadStartRequestManager(x,w.start_max_transport_retries,w.start_transport_retry_interval_base,w.skip_upload_enabled,w.skip_upload_file_size_limit);y.subscribe('request-started',this.$VideoUploadSessionH.bind(this));y.subscribe('request-finished',this.$VideoUploadSessionI.bind(this));y.subscribe('request-failed',this.$VideoUploadSessionJ.bind(this));return y;};v.prototype.$VideoUploadSessionf=function(w){"use strict";var x=this.$VideoUploadSession7?w.chunk_receive_uri:w.receive_uri,y=this.__getVideoUploadReceiveRequestManager(x,w);y.subscribe('request-started',this.$VideoUploadSessionK.bind(this));y.subscribe('request-progressed',this.$VideoUploadSessionL.bind(this));y.subscribe('request-finished',this.$VideoUploadSessionM.bind(this));y.subscribe('request-failed',this.$VideoUploadSessionN.bind(this));y.subscribe('request-timeout',this.$VideoUploadSessionO.bind(this));y.subscribe('online',this.$VideoUploadSessionP.bind(this));y.subscribe('offline',this.$VideoUploadSessionQ.bind(this));return y;};v.prototype.$VideoUploadSessioni=function(w){"use strict";var x=this.$VideoUploadSession7?w.chunk_post_uri:w.post_uri,y=this.__getVideoUploadPostRequestManager(x);y.subscribe('request-finished',this.__handlePostRequestFinished.bind(this));y.subscribe('request-failed',this.$VideoUploadSessionR.bind(this));return y;};v.prototype.$VideoUploadSessionH=function(event,w){"use strict";this.__logEvent(k.EVENT_STARTED_UPLOADING,{hash_time:w.hash_time,hash_exception:w.hash_exception});this.$VideoUploadSessionS=Date.now();this.inform('upload-started');};v.prototype.$VideoUploadSessionI=function(event,w){"use strict";this.__logEvent(k.EVENT_PROGRESS_UPLOADING_START_REQUEST,{transport_retries:w.transport_retries,hash_time:w.hash_time,skip_upload:(w.skip_upload)?1:null});this.$VideoUploadSessionm=w.video_id;this.$VideoUploadSessionT=w.skip_upload;if(!w.skip_upload){var x;x=this.__createReceiveRequestContext(w,false);this.$VideoUploadSessione.sendRequest(x);if(this.$VideoUploadSessionw){x=this.__createReceiveRequestContext(w,true);this.$VideoUploadSessiong.sendRequest(x);}}else{this.inform('upload-progressed',{start_offset:0,end_offset:this.$VideoUploadSessionp.getSize()});if(this.$VideoUploadSession4)this.__logFinishedUploading();this.inform('upload-finished',{start_offset:0,end_offset:this.$VideoUploadSessionp.getSize()});}};v.prototype.__createReceiveRequestContext=function(w,x){"use strict";if(!x)x=false;var y=new o();this.__setupReceiveRequestContext(y,w,x);return y;};v.prototype.__setupReceiveRequestContext=function(w,x,y){"use strict";var z,aa,ba,ca;if(!y){z=this.$VideoUploadSessionz;aa=this.$VideoUploadSessionC;ba=x.start_offset;ca=x.end_offset;}else{z=this.$VideoUploadSessionD;aa=this.$VideoUploadSessionG;ba=this.$VideoUploadSessionD;ca=((this.$VideoUploadSessionD+this.$VideoUploadSessionb)>=this.$VideoUploadSessionG)?this.$VideoUploadSessionG:(this.$VideoUploadSessionD+this.$VideoUploadSessionb);}w.setFile(this.$VideoUploadSessionp).setVideoID(x.video_id).setStartOffset(ba).setEndOffset(ca).setPartitionStartOffset(z).setPartitionEndOffset(aa).setTargetID(this.$VideoUploadSession1).setSource(this.$VideoUploadSession0).setWaterfallID(this.$VideoUploadSessionk).setSupportsChunking(this.$VideoUploadSession7);};v.prototype.$VideoUploadSessionJ=function(event,w){"use strict";this.__logEvent(k.EVENT_FAILED_UPLOADING,{error_code:w.error_code,error_description:w.error_description,transport_retries:w.transport_retries});if(this.$VideoUploadSession4){if(this.$VideoUploadSessionu){this.__logEvent(k.EVENT_RESIGNED_FLOW);this.$VideoUploadSessionu=false;}}else this.__logEvent(k.EVENT_RESIGNED_FLOW);this.$VideoUploadSessionn=false;this.inform('upload-failed',w);};v.prototype.$VideoUploadSessionK=function(event,w){"use strict";if(!w.start_offset&&!w.transport_retries&&!w.server_retries)this.__logEvent(k.EVENT_STARTED_SENDING_BYTES,{total_bytes:this.$VideoUploadSessionp.getSize()});if(this.$VideoUploadSession7)this.__logEvent(k.EVENT_STARTED_SENDING_CHUNK_BYTES,{start_offset:w.start_offset,total_bytes:w.end_offset-w.start_offset,transport_retries:w.transport_retries,server_retries:w.server_retries,upload_speed:w.upload_speed});};v.prototype.$VideoUploadSessionL=function(event,w){"use strict";if(w.start_offset<this.$VideoUploadSessionC){this.$VideoUploadSessionA=w.start_offset;this.$VideoUploadSessionB=w.sent_bytes;}else{this.$VideoUploadSessionE=w.start_offset;this.$VideoUploadSessionF=w.sent_bytes;}w.start_offset=this.$VideoUploadSessionA;w.sent_bytes=this.$VideoUploadSessionB;if(this.$VideoUploadSessionw){w.start_offset+=(this.$VideoUploadSessionE-this.$VideoUploadSessionD);w.sent_bytes+=this.$VideoUploadSessionF;}this.$VideoUploadSessionq=Math.min(w.start_offset+w.sent_bytes,w.file_size);this.inform('upload-progressed',w);};v.prototype.$VideoUploadSessionM=function(event,w){"use strict";if(this.$VideoUploadSession7)this.__logEvent(k.EVENT_FINISHED_SENDING_CHUNK_BYTES,{start_offset:w.start_offset,sent_bytes:w.end_offset-w.start_offset,transport_retries:w.transport_retries,server_retries:w.server_retries,upload_speed:w.upload_speed});if(w.start_offset<this.$VideoUploadSessionC){this.$VideoUploadSessionx=(w.end_offset>=this.$VideoUploadSessionC);}else this.$VideoUploadSessiony=(w.end_offset>=this.$VideoUploadSessionG);if(!this.$VideoUploadSession8||(this.$VideoUploadSessionx&&(!this.$VideoUploadSessionw||this.$VideoUploadSessiony))){this.__logEvent(k.EVENT_FINISHED_SENDING_BYTES,{sent_bytes:this.$VideoUploadSessionp.getSize()});this.$VideoUploadSessionv=Date.now()-this.$VideoUploadSessionS;if(this.$VideoUploadSession4)this.__logFinishedUploading();this.inform('upload-finished',w);}};v.prototype.$VideoUploadSessionN=function(event,w){"use strict";this.__logEvent(k.EVENT_FAILED_UPLOADING,{error_code:w.error_code,error_description:w.error_description});if(this.$VideoUploadSession4){if(this.$VideoUploadSessionu){this.__logEvent(k.EVENT_RESIGNED_FLOW);this.$VideoUploadSessionu=false;}}else this.__logEvent(k.EVENT_RESIGNED_FLOW);this.$VideoUploadSessionn=false;this.inform('upload-failed',w);};v.prototype.$VideoUploadSessionO=function(event,w){"use strict";this.__logEvent(k.EVENT_TIMEOUT_SENDING_CHUNK_BYTES,{start_offset:w.start_offset,sent_bytes:w.end_offset-w.start_offset,transport_retries:w.transport_retries,server_retries:w.server_retries,timeout_retries:w.timeout_retries,upload_speed:w.upload_speed});};v.prototype.$VideoUploadSessionP=function(event,w){"use strict";this.inform('online',w);};v.prototype.$VideoUploadSessionQ=function(event,w){"use strict";this.inform('offline',w);};v.prototype.__handlePostRequestFinished=function(event,w){"use strict";this.__logEvent(k.EVENT_FINISHED_POST_REQUEST);if(!w.video_id)w.video_id=this.$VideoUploadSessionm;if(!this.$VideoUploadSession4)this.__logFinishedUploading();this.__logEvent(k.EVENT_FINISHED_FLOW);this.$VideoUploadSessionu=false;this.$VideoUploadSessionn=false;var x=Object.assign({},w,this.$VideoUploadSessions);this.inform('post-finished',x);};v.prototype.__logFinishedUploading=function(){"use strict";this.__logEvent(k.EVENT_FINISHED_UPLOADING,{elapsed_time:this.$VideoUploadSessionv,skip_upload:(this.$VideoUploadSessionT)?1:null});this.$VideoUploadSessiono=true;};v.prototype.$VideoUploadSessionR=function(event,w){"use strict";this.__logEvent(k.EVENT_FAILED_POST_REQUEST);if(this.$VideoUploadSessionn){this.__logEvent(k.EVENT_FAILED_UPLOADING,{error_code:w.error_code,error_description:w.error_description});this.__logEvent(k.EVENT_RESIGNED_FLOW);}this.$VideoUploadSessionn=false;this.inform('post-failed',w);};v.prototype.$VideoUploadSessiont=function(){"use strict";this.$VideoUploadSessionc.cancelRequest();this.$VideoUploadSessione.cancelRequest();if(this.$VideoUploadSessionw)this.$VideoUploadSessiong.cancelRequest();if(this.$VideoUploadSessionm){new h('/ajax/video/actions/delete').setData({fbid:this.$VideoUploadSessionm,redirect:false}).send();this.$VideoUploadSessionm=null;}};v.prototype.__logEvent=function(event,w){"use strict";var x=this.getLogger();w=w||{};if(this.$VideoUploadSessionp){w.file_size=this.$VideoUploadSessionp.getSize();w.file_extension=this.$VideoUploadSessionp.getExtension();w.sent_bytes=this.$VideoUploadSessionq;}x.logEvent(event,w);};v.prototype.__getVideoUploadStartRequestManager=function(w,x,y,z,aa){"use strict";return new p(w,x,y,z,aa);};v.prototype.__getVideoUploadReceiveRequestManager=function(w,x){"use strict";return new n(w,x.max_transport_retries,x.max_server_retries,x.response_timeout_enabled,x.max_response_timeout_retries,x.response_timeout_speed_variation_factor_ppt,x.transport_retry_interval_base,x.server_retry_interval_base,x.receive_errors_force_retry);};v.prototype.__getVideoUploadPostRequestManager=function(w){"use strict";return new m(w);};e.exports=v;},null);
__d("VideoUploader",["ArbiterMixin","VideoUploadSession","arrayContains","mixin"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k=j(g);for(var l in k)if(k.hasOwnProperty(l))n[l]=k[l];var m=k===null?null:k.prototype;n.prototype=Object.create(m);n.prototype.constructor=n;n.__superConstructor__=k;function n(o){"use strict";k.call(this);this.$VideoUploader0=o;this.$VideoUploader1=null;}n.prototype.getLogger=function(){"use strict";if(!this.$VideoUploader1)return;if(this.$VideoUploader1.getLogger)return this.$VideoUploader1.getLogger();};n.prototype.upload=function(o){"use strict";if(this.$VideoUploader1)return;this.$VideoUploader1=this.__getVideoUploadSession(this.$VideoUploader0);this.$VideoUploader1.subscribe(this.__getEventsWhichShouldListenFromSession(),function(event,p){return this.$VideoUploader2(event,p);}.bind(this));this.$VideoUploader1.start(o);};n.prototype.__getVideoUploadSession=function(o){"use strict";return new h(o);};n.prototype.__getEventsWhichShouldListenFromSession=function(){"use strict";return ['upload-requested','upload-started','upload-progressed','upload-finished','upload-failed','post-started','post-finished','post-failed','online','offline'];};n.prototype.postUserRequest=function(){"use strict";if(!this.$VideoUploader1)return;if(this.$VideoUploader1.startFlow)this.$VideoUploader1.startFlow();};n.prototype.post=function(o){"use strict";if(!this.$VideoUploader1)return;this.$VideoUploader1.post(o);};n.prototype.cancel=function(){"use strict";if(!this.$VideoUploader1)return;this.$VideoUploader1.cancel();this.$VideoUploader1=null;};n.prototype.abandon=function(){"use strict";if(!this.$VideoUploader1)return;this.$VideoUploader1.abandon();this.$VideoUploader1=null;};n.prototype.reset=function(){"use strict";this.$VideoUploader1=null;};n.prototype.getUploadSession=function(){"use strict";return this.$VideoUploader1;};n.prototype.isPostInProgress=function(){"use strict";return !!this.$VideoUploader1&&this.$VideoUploader1.isPostInProgress();};n.prototype.isSessionInProgress=function(){"use strict";return !!this.$VideoUploader1&&this.$VideoUploader1.isInProgress();};n.prototype.__getSession=function(){"use strict";return this.$VideoUploader1;};n.prototype.__getEventsForWhichSessionShouldBeSetToNull=function(){"use strict";return ['upload-failed','post-finished'];};n.prototype.$VideoUploader2=function(event,o){"use strict";if(i(this.__getEventsForWhichSessionShouldBeSetToNull(),event))this.$VideoUploader1=null;this.__delegateEvent(event,o);};n.prototype.__delegateEvent=function(event,o){"use strict";this.inform(event,o);};e.exports=n;},null);
__d("XAYMTMultiTipAsyncClickController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/ads\/growth\/aymt\/multi_async_click\/",{tip_id:{type:"String",required:true},channel_id:{type:"String",required:true},target:{type:"String",required:true}});},null);
__d("XPaymentsCreditCardMutatorController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/payments\/credit_card\/mutator\/{mutation_type}\/",{mutation_type:{type:"Enum",required:true,enumType:1}});},null);