lpTag.callback({"serviceMap":[{"service":"openPlatform","baseURI":"sales.liveperson.net"},{"service":"leCdnDomain","baseURI":"lpcdn.lpsnmedia.net"},{"service":"coBrowse","baseURI":"va.cobrowse.liveperson.net"},{"service":"tokenizer","baseURI":"tokenizer.liveperson.net"},{"service":"leDataReporting","baseURI":"va.data.liveperson.net"},{"service":"liveEngageUI","baseURI":"va.le1.liveperson.net"},{"service":"engHistDomain","baseURI":"va.enghist.liveperson.net"},{"service":"connectionPanel","baseURI":"va.knowledge.liveperson.net"},{"service":"visitorFeed","baseURI":"va.v-feed.liveperson.net"},{"service":"agent","baseURI":"sales.liveperson.net"},{"service":"visitManager","baseURI":"va.vm.liveperson.net"},{"service":"loggos","baseURI":"z1.loggos.liveperson.net"},{"service":"mobileVisit","baseURI":"dispatch.look.io"},{"service":"mTag","baseURI":"sales.liveperson.net"},{"service":"staticContent","baseURI":"va.content.lpsnmedia.net"},{"service":"liveEngage","baseURI":"z1.le.liveperson.net"},{"service":"leBilling","baseURI":"va.le-billing.liveperson.net"},{"service":"accountConfigReadWrite","baseURI":"va.ac.liveperson.net"},{"service":"interactionPlatform","baseURI":"va.i.liveperson.net"},{"service":"lpEng","baseURI":"z1.lpEngDomain.liveperson.net"},{"service":"leIntegration","baseURI":"va.octopus.liveperson.net"},{"service":"smt","baseURI":"va.v.liveperson.net"},{"service":"mobileChat","baseURI":"dispatch.look.io"},{"service":"adminArea","baseURI":"sales.liveperson.net"},{"service":"asyncMessaging","baseURI":"va.ams.liveperson.net"},{"service":"keyService","baseURI":"keyservice.liveperson.net"},{"service":"acCdnDomain","baseURI":"accdn.lpsnmedia.net"},{"service":"etool","baseURI":"z1.etoolDomain.liveperson.net"},{"service":"leBiMstr","baseURI":"z1.bi.liveperson.net"},{"service":"batchelor","baseURI":"va.batchelor.liveperson.net"},{"service":"accountConfigReadOnly","baseURI":"z1.acr.liveperson.net"},{"service":"predictiveDialer","baseURI":"z1.pd.liveperson.net"},{"service":"nlp","baseURI":"va.nlp.liveperson.net"},{"service":"ALL","baseURI":"sales.liveperson.net"}],"taglets":[{"type":"full","id":"87520612","tagletDeveloperId":"lp_mobile_device_detection","version":"1.0","name":"lp_mobile_device_detection","code":"window.lpTag.taglets.lp_mobile_device_detection=(function(i){var r=\"1.0.0\";var z=\"lp_mobile_device_detection\";var k={regex:{Blackberry:/BlackBerry|Playbook/i,AndroidPhone:/^(?=.*?(Android))(?=.*?(Mobile)).*$/i,AndroidTablet:/^(?=.*?(Android))((?!Kindle).)((?!Mobile).)*$/i,iPhone:/iPhone|iPod/i,iOS:/iPhone|iPad|iPod/i,iPad:/iPad/i,WindowsPhone:/IEMobile/i,WindowsTablet:/(MSIE 10\\.0).*(Touch)/i,Kindle:/Kindle/i,OperaMini:/Opera Mini/i}};var l;var b=false;var y=false;var d=false;var B={iphone:false,ipad:false,android:false,windows:false,kindle:false,blackberry:false,opera:false,phone:false,tablet:false,deviceOS:\"\",customDevices:{}};var f=navigator.appVersion;var t=/\\s(\\d)_\\d/;var A=/\\s[(](\\w+\\s?\\w*)[;]\\s/;var c=/OS (\\b[0-9]+_[0-9]+(?:_[0-9]+)?\\b)|Android (\\d+(?:\\.\\d+)+);/;function D(v){lpTag.vars=lpTag.vars||[];lpTag.taglets.lp_global_utils.convertConfig(v,k);}function g(){p();}function j(J){if(typeof(J)==\"undefined\"||typeof(B[J.toLowerCase()])==\"undefined\"){return B;}var I=B[J.toLowerCase()];if(typeof(I)!=\"undefined\"){return I;}return i;}function o(v){if(typeof(v)==\"string\"){return v.replace(/^\\s+|\\s+$/g,\"\");}return v;}function H(){return{_config:k};}function F(){var v=false;if(!u()){v=k.regex.AndroidPhone.test(l);if(v){B.deviceOS=\"Android\";}}return v;}function w(){var v=k.regex.Blackberry.test(l);if(v){B.deviceOS=\"Blackberry\";}return v;}function C(){var v=k.regex.iOS.test(l);if(v){B.deviceOS=\"iOS\";}return v;}function x(){var v=k.regex.iPhone.test(l);if(v){B.deviceOS=\"iOS (iPhone)\";}return v;}function E(){var v=k.regex.OperaMini.test(l);if(v){B.deviceOS=\"Opera\";}return v;}function h(){var v=k.regex.WindowsPhone.test(l);if(v){B.deviceOS=\"Windows\";}return v;}function s(){var v=k.regex.WindowsTablet.test(l);if(v){B.deviceOS=\"Windows 8 Tablet\";}return v;}function u(){var v=k.regex.Kindle.test(l);if(v){B.deviceOS=\"Kindle\";}return v;}function G(){var v=k.regex.iPad.test(l);if(v){B.deviceOS=\"iOS (iPad)\";}return v;}function n(){var v=k.regex.AndroidTablet.test(l);return v;}function a(){return n()||G()||s();}function e(M){if(k.custom_mobile_devices&&k.custom_mobile_devices.length>0){var K=[];try{for(var I=0;I<k.custom_mobile_devices.length;I++){var v=k.custom_mobile_devices[I];var L=\"gi\";if(v.name&&v.regex){L=v.flags||L;var J=new RegExp(v.regex,L);b=J.test(M)&&!b?true:false;B.customDevices[\"lp_device_custom_\"+o(v.name.replace(\" \",\"_\"))]=b;K.push({scope:\"session\",name:\"lp_device_custom_\"+o(v.name.replace(\" \",\"_\")),value:b});}}if(K.length>0){lpTag.taglets.lp_vars.send(K,function(){lpTag.log(\"Custom Mobile Variables received!\",\"1\",\"lp_mobile_device_detection\");});}}catch(N){lpTag.log(\"[i] error looping through customDevices\",\"1\",\"lp_mobile_device_detection\");}}}function q(v){try{B.windows=h()||s();B.blackberry=w();B.opera=E();B.kindle=u();}catch(I){lpTag.log(\"Error checkForUnsupportedDevices\",\"1\",\"lp_mobile_device_detection\");}}function p(J){var v,I;if(J){l=J;}else{l=navigator.userAgent;}y=lpTag.device.familyName()!==\"Desktop\"?true:false;if(t.exec(f)&&A.exec(f)){deviceVersion=t.exec(f)[1];}try{B.iphone=(lpTag.device.familyName()==\"Mobile\"&&lpTag.device.osName()==\"iOS\"||x())?true:false;B.ipad=(lpTag.device.familyName()==\"Tablet\"&&lpTag.device.osName()==\"iOS\"||G())?true:false;B.android=(lpTag.device.osName()==\"Android\"||n()||F());B.tablet=(lpTag.device.familyName()==\"Tablet\"||n()||G()||s())?true:false;}catch(K){lpTag.log(\"Error calling device inspection functions for android / iOS\",\"1\",\"lp_mobile_device_detection\");}q();if(lpTag.device.familyName()==\"Mobile\"||B.blackberry||B.opera||B.kindle||(B.windows&&!B.tablet)){d=true;}else{d=false;}B.phone=d;y=(B.phone||B.tablet);B.userAgent=l;if(B.deviceOS===\"\"&&l.match(/(;\\s).*((;\\s)|(\\d\\)))/i)){B.deviceOS=l.match(/(;\\s).*((;\\s)|(\\d\\)))/i)[0].replace(\";\",\"\");B.deviceOS=B.deviceOS.replace(\")\",\"\");}e(l);m(y);return y;}function m(){if(y&&lpTag.vars){var v=[{scope:\"session\",name:\"lp_device_detection_is_mobile_device\",value:y},{scope:\"session\",name:\"lp_device_family\",value:lpTag.device.familyName()},{scope:\"session\",name:\"lp_device_os\",value:B.deviceOS},{scope:\"session\",name:\"lp_device_user_agent\",value:l},{scope:\"session\",name:\"lp_device_version_number\",value:B.deviceOS}];if(window.innerWidth){v.push({scope:\"session\",name:\"lp_device_visual_viewport_width\",value:window.innerWidth},{scope:\"session\",name:\"lp_device_visual_viewport_height\",value:window.innerHeight});}lpTag.taglets.lp_vars.send(v,function(){lpTag.log(\"Mobile Variables received!\",\"1\",\"lp_mobile_device_detection\");});}else{if(!y&&lpTag.vars){var v=[{scope:\"session\",name:\"lp_device_detection_is_mobile_device\",value:y},{scope:\"session\",name:\"lp_device_user_agent\",value:l}];lpTag.taglets.lp_vars.send(v,function(){lpTag.log(\"Base Mobile Variables received!\",\"1\",\"lp_mobile_device_detection\");});}}}return{v:r,name:z,init:D,start:g,checkDevice:p,is:j,includes:[{name:\"lp_vars\"},{name:\"lp_global_utils\"}],inspect:H};})();"},{"type":"full","id":"616410","tagletDeveloperId":"lp_global_utils","version":"1.1","name":"lp_global_utils","code":"window.lpTag.taglets.lp_global_utils=(function(){var _v=1.3,_name='lp_global_utils';function init(cfg){}function convertConfig(conf,_config){if(typeof(_config)=='undefined'){lpTag.log('_config is passed as undefined','ERROR',_name);return}if(conf){for(var i=0;i<conf.length;i++){var val=conf[i].value;if(typeof(val)=='string'&&val!=''){if(val==='true'){val=true}else if(val==='false'){val=false}else if(val.charAt(0)=='['||val.charAt(0)=='{'){try{if(typeof(JSON)!='undefined'&&JSON.parse){val=JSON.parse(val)}else{val=eval('('+val+')')}}catch(e){lpTag.log('unable to parse JSON:'+e,'ERROR',_name)}}}_config[conf[i].id]=val}}}function trim(str){return str.replace(/^\\s+|\\s+$/g,'')}return{v:_v,name:_name,init:init,convertConfig:convertConfig,trim:trim}})();"},{"type":"full","id":"43510","tagletDeveloperId":"LPMONITOR","version":"1.0","name":"LPMONITOR","code":"window.lpTag.taglets.LPMONITOR={_v:1.0,_name:'LPMONITOR',init:function(){if(typeof(lpMTagConfig)=='undefined'){window.lpMTagConfig={}}lpMTagConfig.lpServer=lpTag.getDomain('LPMONITOR');lpMTagConfig.lpNumber=lpTag.site;lpMTagConfig.lpProtocol=lpTag.protocol.replace(':','');window.lpAddMonitorTag=function(src){if(typeof(src)=='undefined'||typeof(src)=='object'){if(typeof(lpMTagConfig.pluginSys)!='undefined'&&!lpMTagConfig.pluginsLoaded){src=lpMTagConfig.pluginSys;lpMTagConfig.pluginsLoaded=true}else{src=lpMTagConfig.lpMTagSrc?lpMTagConfig.lpMTagSrc:'/hcp/html/mTag.js'}}if(src.indexOf('http')!=0){src=lpMTagConfig.lpProtocol+\"://\"+lpMTagConfig.lpServer+src+'?site='+lpMTagConfig.lpNumber}else{if(src.indexOf('site=')<0){if(src.indexOf('?')<0)src=src+'?';else src=src+'&';src=src+'site='+lpMTagConfig.lpNumber}}lpTag.load(src,'iso-8859-1')};if(lpTag.isDom){lpAddMonitorTag()}else{lpTag.events.bind('LPT','DOM_READY',lpAddMonitorTag)}}};"},{"type":"full","id":"615210","tagletDeveloperId":"lp_vars","version":"1.2","name":"lp_vars","code":"window.lpTag.taglets.lp_vars=(function(){var _v='1.2.4',_name='lp_vars',_config={maxNameLength:50,maxValueLength:100,dontSendIfZero:[]};var _store={},_origOnResponse=undefined,_origResponseInit=false,_cbQueue=[],_tmp_store=[];function init(conf){lpTag.taglets.lp_global_utils.convertConfig(conf,_config);window.lpMTagConfig=window.lpMTagConfig||{};window.lpMTagConfig.pageVar=window.lpMTagConfig.pageVar||[];window.lpMTagConfig.sessionVar=window.lpMTagConfig.sessionVar||[];window.lpMTagConfig.visitorVar=window.lpMTagConfig.visitorVar||[];_tmp_store=lpTag.vars;lpTag.vars=lpTag.taglets.lp_vars;if(typeof(_tmp_store)!='undefined'&&_tmp_store.length){for(var i=0;i<_tmp_store.length;i++){push(_tmp_store[i])}}_tmp_store=[]}function push(v){if(typeof(v)=='undefined'){_error('Calling add with no parameters');return}if(typeof(v.length)=='undefined'){v=[v]}for(var i=0;i<v.length;i++){_addOne(v[i])}}function _addOne(v){try{if(typeof(v)=='undefined'){_error('Calling _add with no parameters');return false}if(_shouldSend(v)){v.value=''+v.value;var name=_trimSpaces(v.name),value=_trimSpaces(v.value);name=_trimLength(name,_config.maxNameLength);value=_trimLength(value,_config.maxValueLength);if(value!=''){var v_str=encodeURIComponent(name)+'='+encodeURIComponent(value);if(v.scope=='page'){lpMTagConfig.pageVar.push(v_str)}else if(v.scope=='session'){lpMTagConfig.sessionVar.push(v_str)}else if(v.scope=='visitor'){lpMTagConfig.visitorVar.push(v_str)}_store[v.name]=v;_log('Added variable scope:'+v.scope+' name:'+name+' value:'+value);lpTag.events.trigger(_name,'VAR_ADDED',{scope:v.scope,name:name,value:value})}else{_error('Ignoring - trying to add variable with empty value name:'+name)}}else{return false}}catch(e){_error('Exception in adding variable e='+e);return false}return true}function send(vs,cb){try{if(typeof(vs)!='undefined'){push(vs)}if(typeof(lpMTag)=='undefined'){if(typeof(cb)=='function'){window.lpMTagConfig=window.lpMTagConfig||{};if(lpMTagConfig.onResponse){_origOnResponse=lpMTagConfig.onResponse}_cbQueue.push(cb);if(!_origResponseInit){lpMTagConfig.onResponse=function(d,r){if(typeof(d.ResultSet.lpCallError)=='undefined'){var url=r.fullUrl;if(url.indexOf('mTagKnockPage')==-1){for(var i=0;i<_cbQueue.length;i++){_runFn(_cbQueue[i],'onresponse cb')}_cbQueue=[];window.lpMTagConfig.onResponse=_origOnResponse}if(_origOnResponse){_runFn(_origOnResponse,'_origOnResponse')}}}}_origResponseInit=true}}else{var cParam=lpMTag.lpSetCallParams('mTagInPage');lpMTag.mtagAddToQueue(lpMTag.lpURL,cParam,function(){if(typeof(cb)=='function'){_runFn(cb,'immediate cb')}},false,0,false,0,1,lpMTagConfig.charSet)}}catch(e){_error('Error sending variables e='+e)}}function _runFn(fn,fnname){try{fn()}catch(e){_error(\"Exception _runFn \"+fnname+\" e=\"+e)}}function get(v_name){if(typeof(v_name)=='undefined'){return _store}var v=_store[v_name];if(typeof(v)!='undefined'){return v.value}return undefined}function reset(){_store={}}function _trimLength(str,len){if(str.length>len){return str.substr(0,len)}return str}function _trimSpaces(str){if(typeof(str)=='string'){return lpTag.taglets.lp_global_utils.trim(str)}return str}function _shouldSend(v){if(!_validStruct(v)){return false}v.scope=v.scope.toLowerCase();v.scope=_trimSpaces(v.scope);if(v.scope!='page'&&v.scope!='session'&&v.scope!='visitor'){_error('Error validating variable. Bad scope:'+v.scope);return false}if(_isIn(_trimSpaces(v.name),_config.dontSendIfZero)){var n=parseFloat(v.value);if(!isNaN(n)&&n===0){_log('Ignoring variable name:'+v.name+' because value is 0 value:'+v.value);return false}}return true}function _validStruct(v){if(typeof(v.scope)=='undefined'||typeof(v.name)=='undefined'||typeof(v.value)=='undefined'){_error('Error validating variable: scope='+v.scope+' name='+v.name+' value='+v.value);return false}return true}function _isIn(what,where){if(typeof(where)=='undefined'||where.length===0){return false}for(var i=0;i<where.length;i++){if(where[i]==what){return true}}return false}function _log(msg){lpTag.log(msg,'DEBUG',_name)}function _error(msg){lpTag.log(msg,'ERROR',_name)}function inspect(){return{_config:_config,_store:_store}}return{v:_v,name:_name,init:init,push:push,get:get,send:send,reset:reset,includes:[{name:\"lp_global_utils\"}],inspect:inspect}})();"},{"type":"full","id":"31210","tagletDeveloperId":"LPCHATTAG","version":"1.0","name":"LPCHATTAG","code":"window.lpTag.taglets.LPCHATTAG={_v:1.1,_name:'LPCHATTAG',init:function(){if(typeof lpMTagConfig=='undefined'){window.lpMTagConfig={}}if(typeof(lpMTagConfig.onLoadCode)=='undefined'){lpMTagConfig.onLoadCode=[]}lpMTagConfig.onLoadCode.push(function(){window.lpTagConfig={lpServer:lpMTagConfig.lpServer,lpNumber:lpMTagConfig.lpNumber,lpProtocol:lpMTagConfig.lpProtocol,addLpTag:function(){var src=this.lpTagSrc||this.lpProtocol+'://'+this.lpServer+'/hc/s-'+this.lpNumber+'/?cmd=lpTagGetJsSnippets';lpTag.load(src,'UTF-8')}};window.lpTagConfig.addLpTag()})}};"},{"type":"full","id":"2119412","tagletDeveloperId":"lp_version_detector","version":"1.0","name":"lp_version_detector","code":"window.lpTag=lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.taglets.lp_version_detector=function(){var _name=\"lp_version_detector\",_v=\"1.0.1\",_conf={sendSDE:false,sendUDE:true};function _log(msg,lvl){if(window.lpTag&&lpTag.log){lpTag.log(msg,lvl,_name)}}function _error(msg){_log(msg,'ERROR')}function _info(msg){_log(msg,'INFO')}function _convertConfig(conf,_config){if(typeof(_config)=='undefined'){lpTag.log('_config is passed as undefined','ERROR',_name);return}if(conf){for(var i=0;i<conf.length;i++){var val=conf[i].value;if(typeof(val)=='string'&&val!=''){if(val==='true'){val=true}else if(val==='false'){val=false}else if(val.charAt(0)=='['||val.charAt(0)=='{'){try{if(typeof(JSON)!='undefined'&&JSON.parse){val=JSON.parse(val)}else{val=eval('('+val+')')}}catch(e){lpTag.log('unable to parse JSON:'+e,'ERROR',_name)}}}_config[conf[i].id]=val}}}function init(cfg){_convertConfig(cfg,_conf)}function start(){if(_conf.sendUDE){_sendUDE({name:'lpTagVer',value:lpTag._v})}if(_conf.sendSDE){_sendSDE({type:\"lpTagVer\",version:lpTag._v})}}function _sendSDE(s){window.lpTag.sdes=window.lpTag.sdes||[];lpTag.sdes.push(s)}function _sendUDE(v){window.lpMTagConfig=window.lpMTagConfig||{};window.lpMTagConfig.pageVar=window.lpMTagConfig.pageVar||[];try{v.value=''+v.value;var v_str=encodeURIComponent(v.name)+'='+encodeURIComponent(v.value);lpMTagConfig.pageVar.push(v_str);_info('Added variable scope:page name:'+v.name+' value:'+v.value)}catch(e){_error('Exception in adding variable e='+e)}}return{getVersion:function(){return _v},getName:function(){return _name},init:init,start:start,inspect:function(){return{conf:_conf}}}}();"},{"type":"full","id":"235510","tagletDeveloperId":"lp_emt_event_bridge","version":"1.0","name":"lp_emt_event_bridge","code":"window.lpTag.taglets.lp_emt_event_bridge=(function(){var _v=1.1,_name='lp_emt_event_bridge';function init(conf){if(typeof(lpMTag)=='undefined'){window.lpMTagConfig=window.lpMTagConfig||{};window.lpMTagConfig.onLoadCode=window.lpMTagConfig.onLoadCode||[];window.lpMTagConfig.onLoadCode.push(function(){_registerToEvents()})}else{_registerToEvents()}}function _registerToEvents(){lpMTag.events.register('*',_evCallback)}function _evCallback(evName,evData){lpTag.events.trigger(_name,evName,evData)}return{v:_v,name:_name,init:init}})();"},{"type":"full","id":"615510","tagletDeveloperId":"lp_dynButton","version":"1.3","name":"lp_dynButtons","parameters":[{"id":"buttons","value":"[{\"name\" : \"chat-{UDE!unit}-{UDE!language}\",\"pid\" : \"lpButtonDiv\",\"afterStartPage\" : true}]"}],"code":"window.lpTag.taglets.lp_dynButtons=function(){function a(a){lpTag.taglets.lp_global_utils.convertConfig(a,B);window.lpMTagConfig=window.lpMTagConfig||{};window.lpMTagConfig.dynButton=window.lpMTagConfig.dynButton||[];lpMTagConfig.ifVisitorCode=lpMTagConfig.ifVisitorCode||[];lpMTagConfig.onLoadCode=lpMTagConfig.onLoadCode||[];lpMTagConfig.onLoadCode.push(c);lpTag.events.bind(\"lp_emt_event_bridge\",\"LP_DYNBUTTON_START\",h);lpTag.events.bind(\"lp_emt_event_bridge\",\"LP_DYNBUTTON_STATE\",i);G=lpTag.dbs;lpTag.dbs=lpTag.taglets.lp_dynButtons}function b(){if(\"undefined\"!=typeof G&&G.length)for(var a=0;a<G.length;a++)p(G[a]);G=[];p(B.buttons)}function c(){try{D=!0;for(var a=0;a<E.length;a++){var b=E[a];p(b)}E=[];d()}catch(c){w(\"Exception in _processQueueOnEMTReady e=\"+c)}}function d(){if(\"undefined\"!=typeof lpMTagConfig.dynButton)for(var a=0;a<lpMTagConfig.dynButton.length;a++){var b=lpMTagConfig.dynButton[a].pid;if(\"undefined\"!=typeof b&&null==document.getElementById(b)){v(\"Removing dynButton \"+lpMTagConfig.dynButton[a].name+\" pid:\"+b);F[lpMTagConfig.dynButton[a].name]?F[lpMTagConfig.dynButton[a].name].deployed=!1:v(\"button found in dynButton and not in _store. Probably uses hybrid deployment\");lpMTagConfig.dynButton.splice(a,1);a--}else F[lpMTagConfig.dynButton[a].name]?F[lpMTagConfig.dynButton[a].name].deployed=!0:v(\"button found in dynButton and not in _store. Probably uses hybrid deployment true\")}}function e(a){return lpTag.events.bind(\"lp_emt_event_bridge\",a,function(b){g(a,b)})}function f(a){for(var b=0;b<a.refreshOn.length;b++){var c=a.refreshOn[b];if(!C[c]){var d=e(c);C[c]={evID:d,buttons:[]}}C[c].buttons.push(a.name)}}function g(a){try{v(\"evCallback for dyn button:\"+a);for(var b=C[a],c=0;c<b.buttons.length;c++)n(b.buttons[c])}catch(d){w(\"Exception in _evCallback e=\"+d)}}function h(a){try{v(\"button START Callback for button name:\"+a.name);var b=F[a.name];if(b){var c=k(b.name);if(c){b.busyClickable&&(c.overwriteObj.busyAction=function(a){return j(a)});b.offlineClickable&&(c.overwriteObj.offlineAction=function(a){return j(a)});b.alternateClickable&&(c.overwriteObj.alternateAction=function(a){return j(a)})}else w(\"Can not find button Reference (_buttonStartCallback) name:\"+b.name)}else w(\"Can not find button that started in the _store (_buttonStartCallback). name:\"+a.name)}catch(d){w(\"Exception in _buttonStartCallback e=\"+d)}}function i(a){try{var b=F[a.name];if(b){if(b.busyClickable&&\"busy\"==a.buttonState||b.offlineClickable&&\"offline\"==a.buttonState||b.alternateClickable&&\"alternate\"==a.buttonState){var c=k(b.name);c?setTimeout(function(){2!=c.contentType&&c.setCursorStyle(\"pointer\")},1):w(\"Can not find button Reference name:\"+b.name)}}else w(\"Can not find button that started in the _store. name:\"+a.name)}catch(d){w(\"Exception in _buttonStateChangeCallback e=\"+d)}}function j(a){try{var b=m(a);if(b){var c=F[b.buttonName],d=b.AVAILIABLE;if(\"busy\"==b.buttonState){c.busyModeForceOffline&&(d=b.BUSY);c.busyModeExtraUDEs&&(c.extra=c.busyModeExtraUDEs)}else if(\"offline\"==b.buttonState){c.offlineModeForceOffline&&(d=b.OFFLINE);c.offlineModeExtraUDEs&&(c.extra=c.offlineModeExtraUDEs)}else if(\"alternate\"==b.buttonState){c.alternateModeForceOffline&&(d=\"Alternate\");c.alternateModeExtraUDEs&&(c.extra=c.alternateModeExtraUDEs)}b.openChatWin(d);c.extra=null;delete c.extra}else w(\"Can not find button reference. name:\"+a)}catch(e){w(\"Exception in _stateOnClick e=\"+e)}}function k(a){for(var b=0;b<lpMTagConfig.dynButton.length;b++){var c=lpMTagConfig[\"dynButton\"+b];if(c&&c.origButtonName==a)return c}return void 0}function l(a){if(\"undefined\"==typeof a.name||\"undefined\"==typeof a.pid){v(\"Invalid button definition name:\"+a.name+\" pid:\"+a.pid);return!1}return!0}function m(a){for(var b=a.split(\".\"),c=window,d=0;d<b.length;d++){c=c[b[d]];if(\"undefined\"==typeof c||null==c)return void 0}return c}function n(a){v(\"Refreshing button name:\"+a);var b=k(a);b?setTimeout(function(){try{b.MakeCall()}catch(a){w(\"Exception while but_ref.MakeCall() e=\"+a)}},500):w(\"Can not find button reference (_refreshButton). name:\"+a)}function o(a){v(\"Refreshing button by pid:\"+a);var b=!1;for(var c in F){var d=F[c];if(a==d.pid){n(d.name);b=!0}}b||v(\"Button refresh by pid=\"+a+\" failed. No button found\")}function p(a){try{if(\"undefined\"==typeof a){w(\"Calling add with no parameters\");return}if(D){\"undefined\"==typeof a.length&&(a=[a]);for(var b=0;b<a.length;b++)q(a[b])}else{v(\"Adding button to queue name/length:\"+(a.length?a.length:a.name));E.push(a)}}catch(c){w(\"Exception in add e=\"+c)}}function q(a){if(!l(a)){v(\"Button not added name:\"+a.name);return!1}v(\"Adding button name:\"+a.name+\" pid:\"+a.pid);t(a);a.name=r(a.name);a.pid=r(a.pid);window.lpMTagConfig.dynButton.push(a);F[a.name]=a;a.refreshOn&&a.refreshOn.length>0&&f(a);lpTag.events.trigger(z,\"DYNBUTTON_ADDED\",a);return!0}function r(a){var b=a.match(/\\{UDE![^}]*\\}/g);if(b)for(var c=0;c<b.length;c++){var d=b[c];a=s(a,d)}return a}function s(a,b){var c=b.substr(1);c=c.substr(0,c.length-1);c=c.split(\"!\");c=c[1];var d=new RegExp(\"\\\\{UDE!\"+c+\"\\\\}\",\"g\");a=a.replace(d,lpTag.taglets.lp_vars.get(c));return a}function t(a){for(var b in A)\"undefined\"==typeof a[b]&&(a[b]=A[b])}function u(a){return\"undefined\"==typeof a?F:F[a]}function v(a){lpTag.log(a,\"DEBUG\",z)}function w(a){lpTag.log(a,\"ERROR\",z)}function x(){return{_config:B,_store:F,_queue:E,_emtReady:D,_registeredEvents:C}}var y=\"1.3.3\",z=\"lp_dynButtons\",A={afterStartPage:!0,busyClickable:!1,busyModeForceOffline:!0,busyModeExtraUDEs:\"\",offlineClickable:!1,offlineModeForceOffline:!0,offlineModeExtraUDEs:\"\",alternateClickable:!1,alternateModeForceOffline:!0,alternateModeExtraUDEs:\"\",refreshOn:[]},B={buttons:[]},C={},D=!1,E=[],F={},G=[];return{v:y,name:z,init:a,start:b,includes:[{name:\"lp_vars\"},{name:\"lp_global_utils\"},{name:\"lp_emt_event_bridge\"}],push:p,get:u,refreshByPid:o,refreshByName:n,inspect:x}}();"}]});