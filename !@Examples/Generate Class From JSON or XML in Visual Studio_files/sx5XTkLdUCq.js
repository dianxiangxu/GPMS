/*!CK:3159584175!*//*1437526529,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["mpqfi"]); }

__d("CommentsPluginSentryAction",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={CONFIRM_POST_TO_PROFILE:"confirm_post_to_profile"};},null);
__d("ComposedBlockType",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={UNSTYLED:0,PARAGRAPH:1,UNORDERED_LIST_ITEM:2,ORDERED_LIST_ITEM:3,BLOCKQUOTE:4,HEADER_ONE:5,HEADER_TWO:6,CODE:7,MEDIA:8,PULLQUOTE:9};},null);
__d("ComposedInlineStyle",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={NONE:0,BOLD:1,ITALIC:2,UNDERLINE:4,CODE:8,STRIKETHROUGH:16,SUBSCRIPT:32,SUPERSCRIPT:64};},null);
__d("ComposedLinkEntityProperties",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={URL:"url",SHIMMED_URL:"shimmedURL"};},null);
__d("DeveloperCommentsModerationSource",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={APP:"app",URL:"url"};},null);
__d("SelectionState",["immutable"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();'use strict';var h=g,i=h.Record,j={anchorKey:'',anchorOffset:0,focusKey:'',focusOffset:0,isBackward:false,hasFocus:false},k=i(j);for(var l in k)if(k.hasOwnProperty(l))n[l]=k[l];var m=k===null?null:k.prototype;n.prototype=Object.create(m);n.prototype.constructor=n;n.__superConstructor__=k;function n(){if(k!==null)k.apply(this,arguments);}n.prototype.serialize=function(){return ('Anchor: '+this.getAnchorKey()+':'+this.getAnchorOffset()+', '+'Focus: '+this.getFocusKey()+':'+this.getFocusOffset()+', '+'Is Backward: '+String(this.getIsBackward())+', '+'Has Focus: '+String(this.getHasFocus()));};n.prototype.getAnchorKey=function(){return this.anchorKey;};n.prototype.getAnchorOffset=function(){return this.anchorOffset;};n.prototype.getFocusKey=function(){return this.focusKey;};n.prototype.getFocusOffset=function(){return this.focusOffset;};n.prototype.getIsBackward=function(){return this.isBackward;};n.prototype.getHasFocus=function(){return this.hasFocus;};n.prototype.hasEdgeWithin=function(o,p,q){var r=this.getAnchorKey(),s=this.getFocusKey();if(r===s&&r===o){var t=this.getStartOffset(),u=this.getEndOffset();return p<=u&&t<=q;}if(o!==r&&o!==s)return false;var v=o===r?this.getAnchorOffset():this.getFocusOffset();return p<=v&&q>=v;};n.prototype.isCollapsed=function(){return (this.getAnchorKey()===this.getFocusKey()&&this.getAnchorOffset()===this.getFocusOffset());};n.prototype.getStartKey=function(){return this.getIsBackward()?this.getFocusKey():this.getAnchorKey();};n.prototype.getStartOffset=function(){return this.getIsBackward()?this.getFocusOffset():this.getAnchorOffset();};n.prototype.getEndKey=function(){return this.getIsBackward()?this.getAnchorKey():this.getFocusKey();};n.prototype.getEndOffset=function(){return this.getIsBackward()?this.getAnchorOffset():this.getFocusOffset();};e.exports=n;},null);
__d("MentionResultsPropTypes",["React","SearchableEntry","SelectionState"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j=g,k=j.PropTypes,l={viewID:k.string.isRequired,selection:k.instanceOf(i).isRequired,contextComponent:k.object.isRequired,mentionableEntries:k.array.isRequired,highlightedMentionable:k.instanceOf(h),onMentionSelect:k.func.isRequired,onMentionHighlight:k.func.isRequired,onMentionRenderHighlight:k.func.isRequired};e.exports=l;},null);
__d("MentionsLayer.react",["Bootloader","Locale","MentionResultsPropTypes","React","areEqual"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l=j,m=l.PropTypes,n=false,o=h.isRTL(),p,q,r,s,t=5,u=j.createClass({displayName:"MentionsLayer",propTypes:Object.assign({},i,{typeaheadView:m.func.isRequired,typeaheadViewProps:m.object,autoflip:m.bool,position:m.oneOf(['above','below'])}),getInitialState:function(){return {bootloaded:n};},componentWillMount:function(){if(!this.state.bootloaded)v(function(){this.isMounted()&&this.setState({bootloaded:true});}.bind(this));},_onMentionSelect:function(w,x){x.preventDefault();this.props.onMentionSelect(w,x);},shouldComponentUpdate:function(w,x){return (this.state.bootloaded!==x.bootloaded||!k(this.props.mentionableEntries,w.mentionableEntries)||this.props.highlightedMentionable!==w.highlightedMentionable||this.props.characterOffset!==w.characterOffset);},render:function(){if(!this.state.bootloaded)return null;var w=this.props.mentionableEntries,x=this.props.selection,y=(x.isCollapsed()&&x.getHasFocus()&&w&&w.length),z=null,aa=this.props.typeaheadViewProps,ba=false,ca=false;if(aa&&aa.positionAtContext){ba=true;ca=true;}else if(y)z=s(this.props.characterOffset,o);var da={};if(this.props.autoflip){da.ContextualLayerAutoFlip=q;da.ContextualLayerUpdateOnScroll=r;}var ea=this.props.typeaheadView;return (j.createElement(p,{shown:y,context:this.props.contextComponent,contextBounds:z,containerWidthMatchContext:ca,offsetY:t,position:this.props.position||'below',behaviors:da},j.createElement(ea,{id:this.props.viewID,viewProps:this.props.typeaheadViewProps,highlightedEntry:this.props.highlightedMentionable,entries:w||[],onSelect:this._onMentionSelect,onHighlight:this.props.onMentionHighlight,onRenderHighlight:this.props.onMentionRenderHighlight})));}});function v(w){g.loadModules(["ContextualLayer.react","ContextualLayerAutoFlip","ContextualLayerUpdateOnScroll","getMentionableRect"],function(x,y,z,aa){p=x;q=y;r=z;s=aa;n=true;w();});}e.exports=u;},null);
__d("ActorBio.react",["React","fbt"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();'use strict';var i=g,j=i.PropTypes,k=g.createClass({displayName:"ActorBio",propTypes:{stats:j.object.isRequired,preferredTypes:j.array.isRequired},renderLink:function(l){return 'url' in l?g.createElement("a",g.__spread({},this.props,{href:l.url}),l.name):g.createElement("span",null,l.name);},renderItem:function(l,m){var n;switch(l){case 'employer':if('position' in m){n=h._("{position} at {employer}",[h.param("position",this.renderLink(m.position)),h.param("employer",this.renderLink(m))]);}else n=h._("Works at {employer}",[h.param("employer",this.renderLink(m))]);break;case 'mutual_friend':n=h._("Friends with {user}",[h.param("user",this.renderLink(m))]);break;default:return this.renderLink(m);}return g.createElement("span",null,n);},render:function(){var l=this.props.stats,m=this.props.preferredTypes;for(var n=0;n<m.length;n++)for(var o=0;o<m[n].length;o++){var p=m[n][o];if(p in l)return this.renderItem(p,l[p]);}return g.createElement("span",null);}});e.exports=k;},null);
__d("fillArray",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();function g(h,i){var j=new Array(h);for(var k=0;k<h;k++)j[k]=i;return j;}e.exports=g;},null);
__d("DocumentCompositeDecorator",["immutable","fillArray"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();'use strict';var i=g,j=i.List,k='.';function l(o){this.$DocumentCompositeDecorator0=o.slice();}l.prototype.getDecorations=function(o){var p=h(o.getText().length,null);this.$DocumentCompositeDecorator0.forEach(function(q,r){var s=0,t=q.getStrategy();t(o,function(u,v){if(m(p,u,v)){n(p,u,v,r+k+s);s++;}});});return j(p);};l.prototype.getComponentForKey=function(o){var p=parseInt(o.split(k)[0],10);return this.$DocumentCompositeDecorator0[p].getComponent();};l.prototype.getPropsForKey=function(o){var p=parseInt(o.split(k)[0],10);return this.$DocumentCompositeDecorator0[p].getProps();};function m(o,p,q){for(var r=p;r<q;r++)if(o[r]!=null)return false;return true;}function n(o,p,q,r){for(var s=p;s<q;s++)o[s]=r;}e.exports=l;},null);
__d("DocumentDecorator",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();function g(h,i,j){"use strict";this.$DocumentDecorator0=h;this.$DocumentDecorator1=i;this.$DocumentDecorator2=j||{};}g.prototype.getStrategy=function(){"use strict";return this.$DocumentDecorator0;};g.prototype.getComponent=function(){"use strict";return this.$DocumentDecorator1;};g.prototype.getProps=function(){"use strict";return this.$DocumentDecorator2;};e.exports=g;},null);
__d("EmoticonSpan.react",["DocumentEntity","React","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k=h.createClass({displayName:"EmoticonSpan",render:function(){var l=g.get(this.props.entityKey),m=l.getData(),n=m.type,o=j("_1ty6",'emoticon_'+n);return (h.createElement("span",{className:o,title:n,"data-offset-key":this.props.offsetKey},h.createElement("span",{className:"_5ukz"},this.props.children)));}});e.exports=k;},null);
__d("HashtagSpan.react",["React","cx"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i=g.createClass({displayName:"HashtagSpan",render:function(){return (g.createElement("span",{"data-offset-key":this.props.offsetKey,className:"_5u8n",spellCheck:false},this.props.children));}});e.exports=i;},null);
__d("MentionSpan.react",["React","cx"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i=g.createClass({displayName:"MentionSpan",render:function(){return (g.createElement("span",{"data-offset-key":this.props.offsetKey,className:"_5u8u",spellCheck:false},this.props.children));}});e.exports=i;},null);
__d("WeakMentionSpan.react",["React","cx"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i=g.createClass({displayName:"WeakMentionSpan",render:function(){return (g.createElement("span",{"data-offset-key":this.props.offsetKey,className:"_whq",spellCheck:false},this.props.children));}});e.exports=i;},null);
__d("getEntityMatcher",["DocumentEntity"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h=g.get;function i(j,k){var l=k||h;return function(m,n){m.findEntityRanges(function(o){var p=o.getEntity();return typeof p==='string'&&j(l(p));},n);};}e.exports=i;},null);
__d("getHashtagMatches",["getHashtagRegex"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h=g();function i(j,k){var l=j.getText(),m,n,o,p;while((m=h.exec(l))!==null){n=m.index+m[1].length;o=m[2];p=m[3];k(n,n+o.length+p.length);}}e.exports=i;},null);
__d("getMentionsInputDecorator",["ComposedEntityType","DocumentCompositeDecorator","DocumentDecorator","EmoticonSpan.react","HashtagSpan.react","MentionSpan.react","WeakMentionSpan.react","getEntityMatcher","getHashtagMatches"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){b.__markCompiled&&b.__markCompiled();var p=g.EMOTICON,q=g.MENTION,r;function s(){if(!r)r=new h([new i(n(function(t){var u=t.getData();return t.getType()===q&&u&&u.isWeak;}),m),new i(n(function(t){return t.getType()===q;}),l),new i(n(function(t){return t.getType()===p;}),j),new i(o,k)]);return r;}e.exports=s;},null);
__d("findRangesImmutable",["immutable"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h=g,i=h.List;i;function j(k,l,m,n){if(!k.size)return;var o=0;k.reduce(function(p,q,r){if(!l(p,q)){if(m(p))n(o,r);o=r;}return q;});m(k.last())&&n(o,k.count());}e.exports=j;},null);
__d("BlockTree",["immutable","emptyFunction","findRangesImmutable"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();'use strict';var j=g,k=j.List,l=j.Repeat,m=j.Record,n=h.thatReturnsTrue,o='-',p={start:null,end:null},q=m(p),r={start:null,end:null,decoratorKey:null,leaves:null},s=m(r),t={generate:function(w,x){var y=w.getLength();if(!y)return k.of(new s({start:0,end:0,decoratorKey:null,leaves:k.of(new q({start:0,end:0}))}));var z=[],aa=x?x.getDecorations(w):k(l(null,y)),ba=w.getCharacterList();i(aa,v,n,function(ca,da){z.push(new s({start:ca,end:da,decoratorKey:aa.get(ca),leaves:u(ba.slice(ca,da).toList(),ca)}));});return k(z);},getFingerprint:function(w){return w.map(function(x){var y=x.get('decoratorKey'),z=y!==null?y+'.'+(x.get('end')-x.get('start')):'';return ''+z+'.'+x.get('leaves').size;}).join(o);}};function u(w,x){var y=[],z=w.map(function(aa){return aa.getStyle();});i(z,v,n,function(aa,ba){y.push(new q({start:aa+x,end:ba+x}));});return k(y);}function v(w,x){return w===x;}e.exports=t;},null);
__d("UnicodeBidiService",["UnicodeBidi","UnicodeBidiDirection","invariant"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();'use strict';function j(k){if(!k)k=h.getGlobalDir();i(h.isStrong(k));this.defaultDir=k;this.reset();}j.prototype.reset=function(){this.lastDir=this.defaultDir;};j.prototype.getDirection=function(k){this.lastDir=g.getDirection(k,this.lastDir);return this.lastDir;};e.exports=j;},null);
__d("EditorBidiService",["immutable","UnicodeBidiService","nullthrows"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();'use strict';var j=g,k=j.OrderedMap,l,m={getDirectionMap:function(n,o){if(!l){l=new h();}else l.reset();var p=n.getBlockMap(),q=p.valueSeq().map(function(s){return i(l).getDirection(s.getText());}),r=k(p.keySeq().zip(q));return g.is(o,r)?o:r;}};e.exports=m;},null);
__d("EditorChangeType",["keyMirror"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();'use strict';var h=g({UNDO:true,REDO:true,CHANGE_SELECTION:true,INSERT_CHARACTERS:true,BACKSPACE_CHARACTER:true,DELETE_CHARACTER:true,REMOVE_RANGE:true,SPLIT_BLOCK:true,INSERT_FRAGMENT:true,CHANGE_INLINE_STYLE:true,CHANGE_BLOCK_TYPE:true,APPLY_ENTITY:true,RESET_BLOCK:true,ADJUST_DEPTH:true});e.exports=h;},null);
__d("EditorState",["BlockTree","ComposedInlineStyle","EditorBidiService","EditorChangeType","immutable","SelectionState"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();'use strict';var m=k,n=m.List,o=m.OrderedMap,p=m.Record,q=m.Stack;n;o;p;var r={allowUndo:true,currentContent:null,decorator:null,directionMap:null,forceSelection:false,inCompositionMode:false,inlineStyleOverride:null,lastChangeType:null,nativelyRenderedContent:null,redoStack:q(),selection:null,treeMap:null,undoStack:q()},s=k.Record(r);t.create=function(ca){ca.treeMap=v(ca.currentContent,ca.decorator);ca.directionMap=i.getDirectionMap(ca.currentContent);return new t(new s(ca));};t.set=function(ca,da){var ea=ca.getImmutable().withMutations(function(fa){var ga=fa.get('decorator'),ha=ga;if(da.decorator===null){ha=null;}else if(da.decorator)ha=da.decorator;var ia=da.currentContent||ca.getCurrentContent();if(ha!==ga){var ja=fa.get('treeMap'),ka;if(ha&&ga){ka=x(ia.getBlockMap(),ja,ha,ga);}else ka=v(ia,ha);fa.merge({decorator:ha,treeMap:ka,nativelyRenderedContent:null});return;}var la=ca.getCurrentContent();if(ia!==la)fa.set('treeMap',w(ca,ia.getBlockMap(),ha));fa.merge(da);});return new t(ea);};t.prototype.toJS=function(){return this.getImmutable().toJS();};t.prototype.getAllowUndo=function(){return this.getImmutable().get('allowUndo');};t.prototype.getCurrentContent=function(){return this.getImmutable().get('currentContent');};t.prototype.getUndoStack=function(){return this.getImmutable().get('undoStack');};t.prototype.getRedoStack=function(){return this.getImmutable().get('redoStack');};t.prototype.getSelection=function(){return this.getImmutable().get('selection');};t.prototype.getDecorator=function(){return this.getImmutable().get('decorator');};t.prototype.isInCompositionMode=function(){return this.getImmutable().get('inCompositionMode');};t.prototype.mustForceSelection=function(){return this.getImmutable().get('forceSelection');};t.prototype.getNativelyRenderedContent=function(){return this.getImmutable().get('nativelyRenderedContent');};t.prototype.getLastChangeType=function(){return this.getImmutable().get('lastChangeType');};t.prototype.getInlineStyleOverride=function(){return this.getImmutable().get('inlineStyleOverride');};t.prototype.getCurrentInlineStyle=function(){var ca=this.getInlineStyleOverride();if(ca!=null)return ca;var da=this.getCurrentContent(),ea=this.getSelection();if(ea.isCollapsed())return z(da,ea);return aa(da,ea);};t.prototype.getBlockTree=function(ca){return this.getImmutable().getIn(['treeMap',ca]);};t.prototype.isAtDocumentStart=function(){var ca=this.getCurrentContent().getBlockMap().first().getKey();return this.getSelection().hasEdgeWithin(ca,0,0);};t.prototype.isAtDocumentEnd=function(){var ca=this.getCurrentContent(),da=ca.getBlockMap(),ea=da.last(),fa=ea.getLength();return this.getSelection().hasEdgeWithin(ea.getKey(),fa,fa);};t.prototype.getDirectionMap=function(){return this.getImmutable().get('directionMap');};t.acceptSelection=function(ca,da){return u(ca,da,false);};t.forceSelection=function(ca,da){if(!da.getHasFocus())da=da.set('hasFocus',true);return u(ca,da,true);};t.moveSelectionToEnd=function(ca){var da=ca.getCurrentContent(),ea=da.getLastBlock(),fa=ea.getKey(),ga=ea.getLength();return t.acceptSelection(ca,new l({anchorKey:fa,anchorOffset:ga,focusKey:fa,focusOffset:ga,isBackward:false}));};t.moveFocusToEnd=function(ca){var da=t.moveSelectionToEnd(ca);return t.forceSelection(da,da.getSelection());};t.push=function(ca,da,ea){if(ca.getCurrentContent()===da)return ca;var fa=ea!==j.INSERT_CHARACTERS,ga=i.getDirectionMap(da,ca.getDirectionMap());if(!ca.getAllowUndo())return t.set(ca,{currentContent:da,directionMap:ga,lastChangeType:ea,selection:da.getSelectionAfter(),forceSelection:fa,inlineStyleOverride:null});var ha=ca.getSelection(),ia=ca.getCurrentContent(),ja=ca.getUndoStack(),ka=da;if(ha!==ia.getSelectionAfter()||y(ca,ea)){ja=ja.push(ia);ka=ka.set('selectionBefore',ha);}else if(ea===j.INSERT_CHARACTERS||ea===j.BACKSPACE_CHARACTER||ea===j.DELETE_CHARACTER)ka=ka.set('selectionBefore',ia.getSelectionBefore());return t.set(ca,{currentContent:ka,directionMap:ga,undoStack:ja,redoStack:k.Stack(),lastChangeType:ea,selection:da.getSelectionAfter(),forceSelection:fa,inlineStyleOverride:null});};t.undo=function(ca){if(!ca.getAllowUndo())return ca;var da=ca.getUndoStack(),ea=da.peek();if(!ea)return ca;var fa=ca.getCurrentContent(),ga=i.getDirectionMap(ea,ca.getDirectionMap());return t.set(ca,{currentContent:ea,directionMap:ga,undoStack:da.shift(),redoStack:ca.getRedoStack().push(fa),forceSelection:true,inlineStyleOverride:null,lastChangeType:j.UNDO,nativelyRenderedContent:null,selection:fa.getSelectionBefore()});};t.redo=function(ca){if(!ca.getAllowUndo())return ca;var da=ca.getRedoStack(),ea=da.peek();if(!ea)return ca;var fa=ca.getCurrentContent(),ga=i.getDirectionMap(ea,ca.getDirectionMap());return t.set(ca,{currentContent:ea,directionMap:ga,undoStack:ca.getUndoStack().push(fa),redoStack:da.shift(),forceSelection:true,inlineStyleOverride:null,lastChangeType:j.REDO,nativelyRenderedContent:null,selection:ea.getSelectionAfter()});};function t(ca){this.$EditorState0=ca;}t.prototype.getImmutable=function(){return this.$EditorState0;};function u(ca,da,ea){return t.set(ca,{selection:da,forceSelection:ea,nativelyRenderedContent:null,inlineStyleOverride:null});}function v(ca,da){return ca.getBlockMap().map(function(ea){return g.generate(ea,da);});}function w(ca,da,ea){var fa=ca.getCurrentContent().getBlockMap(),ga=ca.getImmutable().get('treeMap');return ga.merge(da.toSeq().filter(function(ha,ia){return ha!==fa.get(ia);}).map(function(ha){return g.generate(ha,ea);}));}function x(ca,da,ea,fa){return da.merge(ca.toSeq().filter(function(ga){return (ea.getDecorations(ga)!==fa.getDecorations(ga));}).map(function(ga){return g.generate(ga,ea);}));}function y(ca,da){var ea=ca.getLastChangeType();return (da!==ea||(da!==j.INSERT_CHARACTERS&&da!==j.BACKSPACE_CHARACTER&&da!==j.DELETE_CHARACTER));}function z(ca,da){var ea=da.getStartKey(),fa=da.getStartOffset(),ga=ca.getBlockForKey(ea);if(fa>0)return ga.getInlineStyleAt(fa-1);if(ga.getLength())return ga.getInlineStyleAt(0);return ba(ca,ea);}function aa(ca,da){var ea=da.getStartKey(),fa=da.getStartOffset(),ga=ca.getBlockForKey(ea);if(fa<ga.getLength())return ga.getInlineStyleAt(fa);if(fa>0)return ga.getInlineStyleAt(fa-1);return ba(ca,ea);}function ba(ca,da){var ea=ca.getBlockBefore(da),fa;while(ea){fa=ea.getLength();if(fa)return ea.getInlineStyleAt(fa-1);ea=ca.getBlockBefore(ea.getKey());}return h.NONE;}e.exports=t;},null);
__d("AbstractTextEditorPlaceholder.react",["EditorState","React","cx"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j=h,k=j.PropTypes,l=h.createClass({displayName:"AbstractTextEditorPlaceholder",propTypes:{editorState:k.instanceOf(g).isRequired,text:k.string.isRequired},shouldComponentUpdate:function(m,n){if(this.props.text!==m.text)return true;var o=this.props.editorState,p=m.editorState,q=o.getSelection(),r=p.getSelection();return (q.getHasFocus()!==r.getHasFocus());},render:function(){var m=this.props.editorState.getSelection().getHasFocus(),n=(("_5ywb")+(m?' '+"_5ywc":''));return (h.createElement("div",{className:n},h.createElement("div",{className:"_3br6"},this.props.text)));}});e.exports=l;},null);
__d("DocumentCommands",["keyMirror"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h=g({UNDO:true,REDO:true,DELETE:true,DELETE_WORD:true,BACKSPACE:true,BACKSPACE_WORD:true,BACKSPACE_TO_END_OF_BLOCK:true,BOLD:true,ITALIC:true,UNDERLINE:true,CODE:true,INSERT_BLOCK_DELIMITER:true,TRANSPOSE_CHARACTERS:true,MOVE_SELECTION_TO_START_OF_BLOCK:true,MOVE_SELECTION_TO_END_OF_BLOCK:true,SECONDARY_CUT:true,SECONDARY_PASTE:true});e.exports=h;},null);
__d("KeyBindingUtil",["UserAgent"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h=g.isPlatform('Mac OS X'),i={isCtrlKeyCommand:function(j){return !!j.ctrlKey&&!j.altKey;},hasCommandModifier:function(j){return h?(!!j.metaKey&&!j.altKey):i.isCtrlKeyCommand(j);}};e.exports=i;},null);
__d("getDefaultKeyBinding",["DocumentCommands","KeyBindingUtil","Keys","UserAgent"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();'use strict';var k=j.isPlatform('Mac OS X'),l=j.isPlatform('Windows'),m=j.isBrowser('Firefox'),n=k&&m&&m<29,o=h,p=o.hasCommandModifier,q=o.isCtrlKeyCommand;function r(w){return (k&&w.altKey)||q(w);}function s(w){if(p(w))return w.shiftKey?g.REDO:g.UNDO;}function t(w){if(l&&w.shiftKey)return null;return r(w)?g.DELETE_WORD:g.DELETE;}function u(w){if(p(w)&&k)return g.BACKSPACE_TO_END_OF_BLOCK;return r(w)?g.BACKSPACE_WORD:g.BACKSPACE;}function v(w){switch(w.keyCode){case 66:return p(w)?g.BOLD:null;case 68:return q(w)?g.DELETE:null;case 72:return q(w)?g.BACKSPACE:null;case 73:return p(w)?g.ITALIC:null;case 74:return p(w)?g.CODE:null;case 75:if(!l&&q(w))return g.SECONDARY_CUT;return null;case 79:return q(w)?g.INSERT_BLOCK_DELIMITER:null;case 84:return k&&q(w)?g.TRANSPOSE_CHARACTERS:null;case 85:if(k&&q(w))return g.BACKSPACE_TO_END_OF_BLOCK;return p(w)?g.UNDERLINE:null;case 87:return k&&q(w)?g.BACKSPACE_WORD:null;case 89:if(q(w))return l?g.REDO:g.SECONDARY_PASTE;return null;case 90:return s(w)||null;case i.DELETE:return t(w);case i.BACKSPACE:return u(w);case i.LEFT:return (n&&p(w)?g.MOVE_SELECTION_TO_START_OF_BLOCK:null);case i.RIGHT:return (n&&p(w)?g.MOVE_SELECTION_TO_END_OF_BLOCK:null);default:return null;}}e.exports=v;},null);
__d("AbstractTextEditorProps",["EditorState","React","emptyFunction","getDefaultKeyBinding"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k=h,l=k.PropTypes,m=i.thatReturns(''),n=i.thatReturns(null),o={propTypes:{editorState:l.instanceOf(g).isRequired,placeholder:l.string,textAlignment:l.oneOf(['left','center','right']),blockRendererFn:l.func,blockStyleFn:l.func,inlineStyleFn:l.func,keyBindingFn:l.func,readOnly:l.bool,spellCheck:l.bool,stripPastedStyles:l.bool,handleReturn:l.func,handleKeyCommand:l.func,handleBeforeInput:l.func,handlePastedFiles:l.func,onEscape:l.func,onTab:l.func,onUpArrow:l.func,onDownArrow:l.func,onPasteRawText:l.func,onBlur:l.func,onFocus:l.func},getDefaultProps:function(){return {blockRendererFn:n,blockStyleFn:m,inlineStyleFn:m,keyBindingFn:j,readOnly:false,spellCheck:false,stripPastedStyles:false};}};e.exports=o;},null);
__d("CharacterMetadata",["ComposedInlineStyle","immutable"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();'use strict';var i=g,j=i.NONE,k=h,l=k.Record,m=k.is,n={style:j,entity:null},o=l(n);for(var p in o)if(o.hasOwnProperty(p))r[p]=o[p];var q=o===null?null:o.prototype;r.prototype=Object.create(q);r.prototype.constructor=r;r.__superConstructor__=o;function r(){if(o!==null)o.apply(this,arguments);}r.prototype.getStyle=function(){return this.get('style');};r.prototype.getEntity=function(){return this.get('entity');};r.prototype.hasStyle=function(t){return !!(this.getStyle()&t);};r.applyStyle=function(t,u){return t.set('style',t.getStyle()|u);};r.removeStyle=function(t,u){var v=t.set('style',t.getStyle()&(~u));return m(v,s)?s:v;};r.applyEntity=function(t,u){var v=t.getEntity()===u?t:t.set('entity',u);return m(v,s)?s:v;};var s=new r();r.EMPTY=s;e.exports=r;},null);
__d("ContentStateInlineStyle",["CharacterMetadata","immutable"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();'use strict';var i={add:function(k,l,m){return j(k,l,m,true);},remove:function(k,l,m){return j(k,l,m,false);}};function j(k,l,m,n){var o=k.getBlockMap(),p=l.getStartKey(),q=l.getStartOffset(),r=l.getEndKey(),s=l.getEndOffset(),t=o.skipUntil(function(u,v){return v===p;}).takeUntil(function(u,v){return v===r;}).concat(h.Map([[r,o.get(r)]])).map(function(u,v){var w,x;if(p===r){w=q;x=s;}else{w=v===p?q:0;x=v===r?s:u.getLength();}var y=u.getCharacterList(),z;while(w<x){z=y.get(w);y=y.set(w,n?g.applyStyle(z,m):g.removeStyle(z,m));w++;}return u.set('characterList',y);});return k.merge({blockMap:o.merge(t),selectionBefore:l,selectionAfter:l});}e.exports=i;},null);
__d("DocumentRemovalDirection",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g={BACKWARD:0,FORWARD:1};e.exports=g;},null);
__d("applyEntityToContentBlock",["CharacterMetadata"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();'use strict';function h(i,j,k,l){var m=i.getCharacterList();while(j<k){m=m.set(j,g.applyEntity(m.get(j),l));j++;}return i.set('characterList',m);}e.exports=h;},null);
__d("applyEntityToContentState",["immutable","applyEntityToContentBlock"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();'use strict';function i(j,k,l){var m=j.getBlockMap(),n=k.getStartKey(),o=k.getStartOffset(),p=k.getEndKey(),q=k.getEndOffset(),r=m.skipUntil(function(s,t){return t===n;}).takeUntil(function(s,t){return t===p;}).merge(g.OrderedMap([[p,m.get(p)]])).map(function(s,t){var u,v;if(n===p){u=o;v=q;}else{u=t===n?o:0;v=t===p?0:s.getLength();}return h(s,u,v,l);});return j.merge({blockMap:m.merge(r),selectionBefore:k,selectionAfter:k});}e.exports=i;},null);
__d("DocumentEntitySegments",["DocumentRemovalDirection"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h=g,i=h.FORWARD,j={getRemovalRange:function(k,l,m,n,o){var p=m.split(' ');p=p.map(function(z,aa){if(o===i){if(aa>0)return ' '+z;}else if(aa<p.length-1)return z+' ';return z;});var q=n,r,s,t=null,u=null;for(var v=0;v<p.length;v++){s=p[v];r=q+s.length;if(k<r&&q<l){if(t!==null){u=r;}else{t=q;u=r;}}else if(t!==null)break;q=r;}var w=n+m.length,x=t===n,y=u===w;if((!x&&y)||(x&&!y))if(o===i){if(u!==w)u++;}else if(t!==n)t--;return {start:t,end:u};}};e.exports=j;},null);
__d("checkRangeOverlap",["invariant"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();function h(i,j,k,l){g(i<=j&&k<=l);return (i<l&&j>k);}e.exports=h;},null);
__d("getRangesForDocumentEntity",["invariant"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();function h(i,j){var k=[];i.findEntityRanges(function(l){return l.getEntity()===j;},function(l,m){k.push({start:l,end:m});});g(!!k.length);return k;}e.exports=h;},null);
__d("getCharacterRemovalRange",["ComposedEntityMutability","DocumentEntity","DocumentEntitySegments","checkRangeOverlap","getRangesForDocumentEntity","invariant"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();var m=g,n=m.MUTABLE,o=m.IMMUTABLE;function p(q,r,s){var t=r.getStartOffset(),u=r.getEndOffset(),v=q.getEntityAt(t);if(!v)return r;var w=h.get(v),x=w.getMutability();if(x===n)return r;var y=k(q,v).filter(function(ba){return j(t,u,ba.start,ba.end);});l(y.length==1);var z=y[0];if(x===o)return r.merge({anchorOffset:z.start,focusOffset:z.end,isBackward:false});var aa=i.getRemovalRange(t,u,q.getText().slice(z.start,z.end),z.start,s);return r.merge({anchorOffset:aa.start,focusOffset:aa.end,isBackward:false});}e.exports=p;},null);
__d("generateBlockKey",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g={},h=Math.pow(2,24);function i(){var j;while(j===(void 0)||g.hasOwnProperty(j)||!isNaN(+j))j=Math.floor(Math.random()*h).toString(32);g[j]=true;return j;}e.exports=i;},null);
__d("removeEntitiesAtEdges",["CharacterMetadata","ComposedEntityMutability","DocumentEntity","immutable","findRangesImmutable","invariant"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();'use strict';var m=j,n=m.List,o=h,p=o.MUTABLE;n;function q(t,u){var v=t.getBlockMap(),w={},x=u.getStartKey(),y=u.getStartOffset(),z=v.get(x),aa=s(z,y);if(aa!==z)w[x]=aa;var ba=u.getEndKey(),ca=u.getEndOffset(),da=v.get(ba);if(x===ba)da=aa;var ea=s(da,ca);if(ea!==da)w[ba]=ea;if(!Object.keys(w).length)return t.set('selectionAfter',u);return t.merge({blockMap:v.merge(w),selectionAfter:u});}function r(t,u,v){var w;k(t,function(x,y){return x.getEntity()===y.getEntity();},function(x){return x.getEntity()===u;},function(x,y){if(x<=v&&y>=v)w={start:x,end:y};});l(typeof w==='object');return w;}function s(t,u){var v=t.getCharacterList(),w=u>0?v.get(u-1):undefined,x=u<v.count()?v.get(u):undefined,y=w?w.getEntity():undefined,z=x?x.getEntity():undefined;if(z&&z===y){var aa=i.get(z);if(aa.getMutability()!==p){var ba=r(v,z,u),ca=ba.start,da=ba.end,ea;while(ca<da){ea=v.get(ca);v=v.set(ca,g.applyEntity(ea,null));ca++;}return t.set('characterList',v);}}return t;}e.exports=q;},null);
__d("getContentStateFragment",["immutable","generateBlockKey","removeEntitiesAtEdges"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();'use strict';var j=g,k=j.OrderedMap;k;function l(m,n){var o=n.getStartKey(),p=n.getStartOffset(),q=n.getEndKey(),r=n.getEndOffset(),s=i(m,n),t=s.getBlockMap(),u=t.keySeq(),v=u.indexOf(o),w=u.indexOf(q)+1;return t.slice(v,w).map(function(x,y){var z=h(),aa=x.getText(),ba=x.getCharacterList();if(o===q)return x.merge({key:z,text:aa.slice(p,r),characterList:ba.slice(p,r)});if(y===o)return x.merge({key:z,text:aa.slice(p),characterList:ba.slice(p)});if(y===q)return x.merge({key:z,text:aa.slice(0,r),characterList:ba.slice(0,r)});return x.set('key',z);});}e.exports=l;},null);
__d("createOrderedMapFromBlockArray",["immutable"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h=g,i=h.OrderedMap;function j(k){return i(k.map(function(l){return [l.getKey(),l];}));}e.exports=j;},null);
__d("insertIntoList",["immutable"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();'use strict';var h=g,i=h.List;i;function j(k,l,m){if(m===k.count()){l.forEach(function(n){k=k.push(n);});}else if(m===0){l.reverse().forEach(function(n){k=k.unshift(n);});}else k=k.slice(0,m).concat(l,k.slice(m));return k;}e.exports=j;},null);
__d("insertFragmentIntoContentState",["immutable","createOrderedMapFromBlockArray","generateBlockKey","insertIntoList","invariant"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();'use strict';var l=g,m=l.OrderedMap;m;function n(o,p,q){k(p.isCollapsed());var r=p.getStartKey(),s=p.getStartOffset(),t=o.getBlockMap(),u=q.size,v,w;if(u===1){var x=t.get(r),y=q.first(),z=x.getText(),aa=x.getCharacterList(),ba=x.merge({text:(z.slice(0,s)+y.getText()+z.slice(s)),characterList:j(aa,y.getCharacterList(),s)});t=t.set(r,ba);v=r;w=s+y.getText().length;return o.merge({blockMap:t.set(r,ba),selectionBefore:p,selectionAfter:p.merge({anchorKey:v,anchorOffset:w,focusKey:v,focusOffset:w,isBackward:false})});}var ca=[];o.getBlockMap().forEach(function(da,ea){if(ea!==r){ca.push(da);return;}var fa=da.getText(),ga=da.getCharacterList(),ha=fa.length,ia=fa.slice(0,s),ja=ga.slice(0,s),ka=q.first(),la=da.merge({text:ia+ka.getText(),characterList:ja.concat(ka.getCharacterList())});ca.push(la);q.slice(1,u-1).forEach(function(qa){ca.push(qa.set('key',i()));});var ma=fa.slice(s,ha),na=ga.slice(s,ha),oa=q.last();v=i();var pa=oa.merge({key:v,text:oa.getText()+ma,characterList:oa.getCharacterList().concat(na)});ca.push(pa);});w=q.last().getLength();return o.merge({blockMap:h(ca),selectionBefore:p,selectionAfter:p.merge({anchorKey:v,anchorOffset:w,focusKey:v,focusOffset:w,isBackward:false})});}e.exports=n;},null);
__d("insertTextIntoContentState",["immutable","insertIntoList","invariant"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();'use strict';var j=g,k=j.Repeat;function l(m,n,o,p){i(n.isCollapsed());var q=o.length;if(!q)return m;var r=m.getBlockMap(),s=n.getStartKey(),t=n.getStartOffset(),u=r.get(s),v=u.getText(),w=u.merge({text:(v.slice(0,t)+o+v.slice(t,u.getLength())),characterList:h(u.getCharacterList(),k(p,q),t)}),x=t+q;return m.merge({blockMap:r.set(s,w),selectionAfter:n.merge({anchorOffset:x,focusOffset:x})});}e.exports=l;},null);
__d("removeRangeFromContentState",["immutable"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();'use strict';var h=g,i=h.List;i;function j(l,m){if(m.isCollapsed())return l;var n=l.getBlockMap(),o=m.getStartKey(),p=m.getStartOffset(),q=m.getEndKey(),r=m.getEndOffset(),s=n.get(o),t=n.get(q),u;if(s===t){u=k(s.getCharacterList(),p,r);}else u=s.getCharacterList().slice(0,p).concat(t.getCharacterList().slice(r));var v=s.merge({text:(s.getText().slice(0,p)+t.getText().slice(r)),characterList:u}),w=n.toSeq().skipUntil(function(x,y){return y===o;}).takeUntil(function(x,y){return y===q;}).concat(g.Map([[q,null]])).map(function(x,y){return y===o?v:null;});n=n.merge(w).filter(function(x){return !!x;});return l.merge({blockMap:n,selectionBefore:m,selectionAfter:m.merge({anchorKey:o,anchorOffset:p,focusKey:o,focusOffset:p,isBackward:false})});}function k(l,m,n){if(m===0){while(m<n){l=l.shift();m++;}}else if(n===l.count()){while(n>m){l=l.pop();n--;}}else l=l.slice(0,m).concat(l.slice(n));return l;}e.exports=j;},null);
__d("setBlockTypeForContentState",["immutable"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();'use strict';function h(i,j,k){var l=j.getStartKey(),m=j.getEndKey(),n=i.getBlockMap(),o=n.toSeq().skipUntil(function(p,q){return q===l;}).takeUntil(function(p,q){return q===m;}).concat(g.Map([[m,n.get(m)]])).map(function(p){return p.merge({type:k,depth:0});});return i.merge({blockMap:n.merge(o),selectionBefore:j,selectionAfter:j});}e.exports=h;},null);
__d("splitBlockInContentState",["generateBlockKey","invariant"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();'use strict';function i(j,k){h(k.isCollapsed());var l=k.getAnchorKey(),m=k.getAnchorOffset(),n=j.getBlockMap(),o=n.get(l),p=o.getText(),q=o.getCharacterList(),r=o.merge({text:p.slice(0,m),characterList:q.slice(0,m)}),s=g(),t=r.merge({key:s,text:p.slice(m),characterList:q.slice(m)}),u=n.toSeq().takeUntil(function(x){return x===o;}),v=n.toSeq().skipUntil(function(x){return x===o;}).rest(),w=u.concat([[r.getKey(),r],[t.getKey(),t]],v).toOrderedMap();return j.merge({blockMap:w,selectionBefore:k,selectionAfter:k.merge({anchorKey:s,anchorOffset:0,focusKey:s,focusOffset:0,isBackward:false})});}e.exports=i;},null);
__d("DocumentModifier",["CharacterMetadata","ComposedInlineStyle","ContentStateInlineStyle","DocumentRemovalDirection","immutable","applyEntityToContentState","getCharacterRemovalRange","getContentStateFragment","insertFragmentIntoContentState","insertTextIntoContentState","invariant","removeEntitiesAtEdges","removeRangeFromContentState","setBlockTypeForContentState","splitBlockInContentState"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){b.__markCompiled&&b.__markCompiled();'use strict';var v=k,w=v.OrderedMap,x=h,y=x.NONE;w;var z={replaceText:function(aa,ba,ca,da,ea){if(da===undefined)da=y;if(ea===undefined)ea=null;var fa=r(aa,ba),ga=s(fa,ba),ha;if(da===y&&ea===null){ha=g.EMPTY;}else ha=new g({style:da,entity:ea});return p(ga,ga.getSelectionAfter(),ca,ha);},insertText:function(aa,ba,ca,da,ea){q(ba.isCollapsed());if(da===undefined)da=y;if(ea===undefined)ea=null;var fa;if(da===y&&ea===null){fa=g.EMPTY;}else fa=new g({style:da,entity:ea});var ga=r(aa,ba);return p(ga,ga.getSelectionAfter(),ca,fa);},moveText:function(aa,ba,ca){var da=n(aa,ba),ea=z.removeRange(aa,ba,j.BACKWARD);return z.replaceWithFragment(ea,ca,da);},replaceWithFragment:function(aa,ba,ca){var da=r(aa,ba),ea=s(da,ba);return o(ea,ea.getSelectionAfter(),ca);},removeRange:function(aa,ba,ca){if(ba.getAnchorKey()===ba.getFocusKey()){var da=ba.getAnchorKey(),ea=ba.getStartOffset(),fa=ba.getEndOffset(),ga=aa.getBlockForKey(da),ha=ga.getEntityAt(ea),ia=ga.getEntityAt(fa-1);if(ha&&ha===ia){var ja=m(ga,ba,ca);return s(aa,ja);}}var ka=r(aa,ba);return s(ka,ba);},splitBlock:function(aa,ba){var ca=r(aa,ba),da=s(ca,ba);return u(da,da.getSelectionAfter());},applyInlineStyle:function(aa,ba,ca){return i.add(aa,ba,ca);},removeInlineStyle:function(aa,ba,ca){return i.remove(aa,ba,ca);},setBlockType:function(aa,ba,ca){return t(aa,ba,ca);},applyEntity:function(aa,ba,ca){var da=r(aa,ba);return l(da,ba,ca);}};e.exports=z;},null);
__d("isSelectionAtLeafStart",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();'use strict';function g(h){var i=h.getSelection(),j=i.getAnchorKey(),k=h.getBlockTree(j),l=i.getStartOffset(),m=false;k.some(function(n){if(l===n.get('start')){m=true;return true;}if(l<n.get('end'))return n.get('leaves').some(function(o){var p=o.get('start');if(l===p){m=true;return true;}if(l<p)return false;});});return m;}e.exports=g;},null);
__d("TextEditorCompositionHandler",["ComposedInlineStyle","DocumentModifier","EditorChangeType","EditorState","Keys","isSelectionAtLeafStart"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();var m=g.NONE,n=20,o={onBeforeInput:function(p){this._textInputData=(this._textInputData||'')+p.data;},onCompositionStart:function(){this._stillComposing=true;},onCompositionEnd:function(p){this._resolved=false;this._stillComposing=false;setTimeout(function(){if(!this._resolved)o.resolveComposition.call(this);}.bind(this),n);},onKeyDown:function(p){if(p.which===k.RIGHT||p.which===k.LEFT)p.preventDefault();},onKeyPress:function(p){if(p.which===k.RETURN)p.preventDefault();},resolveComposition:function(){if(this._stillComposing)return;this._resolved=true;var p=this._textInputData;this._textInputData='';var q=j.set(this.props.editorState,{inCompositionMode:false}),r=!p||l(q);if(r)this.restoreEditorDOM();this.exitCurrentMode();this.removeRenderGuard();if(p){var s=h.replaceText(q.getCurrentContent(),q.getSelection(),p,m,null);this.update(j.push(q,s,i.INSERT_CHARACTERS));return;}if(r)this.update(j.set(q,{nativelyRenderedContent:null,forceSelection:true}));}};e.exports=o;},null);
__d("DocumentOffsetKey",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g='-',h={encode:function(i,j,k){return i+g+j+g+k;},decode:function(i){var j=i.split(g),k=j[0],l=j[1],m=j[2];return {blockKey:k,decoratorKey:parseInt(l,10),leafKey:parseInt(m,10)};}};e.exports=h;},null);
__d("ElementForBlockType",["ComposedBlockType"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h={getElement:function(i){switch(i){case g.HEADER_ONE:return 'h2';case g.HEADER_TWO:return 'h3';case g.UNORDERED_LIST_ITEM:case g.ORDERED_LIST_ITEM:return 'li';case g.BLOCKQUOTE:return 'blockquote';case g.MEDIA:return 'figure';default:return 'div';}},getWrapperElement:function(i){switch(i){case g.UNORDERED_LIST_ITEM:case g.ORDERED_LIST_ITEM:return 'ul';case g.CODE:return 'pre';default:return null;}}};e.exports=h;},null);
__d("ContentBlock",["ComposedBlockType","ComposedInlineStyle","immutable","findRangesImmutable"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();'use strict';var k=g,l=k.UNSTYLED,m=h,n=m.NONE,o=i,p=o.List,q=o.Record,r={key:'',type:l,text:'',characterList:p(),depth:0},s=q(r);for(var t in s)if(s.hasOwnProperty(t))v[t]=s[t];var u=s===null?null:s.prototype;v.prototype=Object.create(u);v.prototype.constructor=v;v.__superConstructor__=s;function v(){if(s!==null)s.apply(this,arguments);}v.prototype.getKey=function(){return this.get('key');};v.prototype.getType=function(){return this.get('type');};v.prototype.getText=function(){return this.get('text');};v.prototype.getCharacterList=function(){return this.get('characterList');};v.prototype.getLength=function(){return this.getText().length;};v.prototype.getDepth=function(){return this.get('depth');};v.prototype.getInlineStyleAt=function(y){var z=this.getCharacterList().get(y);return z?z.getStyle():n;};v.prototype.getEntityAt=function(y){var z=this.getCharacterList().get(y);return z?z.getEntity():null;};v.prototype.findStyleRanges=function(y,z){j(this.getCharacterList(),w,y,z);};v.prototype.findEntityRanges=function(y,z){j(this.getCharacterList(),x,y,z);};function w(y,z){return y.getStyle()===z.getStyle();}function x(y,z){return y.getEntity()===z.getEntity();}e.exports=v;},null);
__d("TextEditorTextNode.react",["React","UserAgent","getTextContentAccessor"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();'use strict';var j=h.isBrowser('IE <= 11'),k=i();function l(p){return j?p[k]==='\n':p.tagName==='BR';}var m=j?g.createElement("span",{key:"A"},'\n'):g.createElement("br",{key:"A"}),n=j?g.createElement("span",{key:"B"},'\n'):g.createElement("br",{key:"B"}),o=g.createClass({displayName:"TextEditorTextNode",shouldComponentUpdate:function(p){var q=g.findDOMNode(this),r=p.children==='';if(r)return !l(q);return q[k]!==p.children;},componentWillUpdate:function(){this.forceFlag=!this.forceFlag;},render:function(){if(this.props.children==='')return this.forceFlag?m:n;return g.createElement("span",{key:this.forceFlag?'A':'B'},this.props.children);}});e.exports=o;},null);
__d("DocumentStringKey",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();'use strict';var g={stringify:function(h){return '_'+String(h);},unstringify:function(h){return h.slice(1);}};e.exports=g;},null);
__d("encodeEntityRanges",["DocumentStringKey","UnicodeUtils"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();'use strict';var i=h,j=i.strlen;function k(l,m){var n=[];l.findEntityRanges(function(o){return !!o.getEntity();},function(o,p){var q=l.getText(),r=l.getEntityAt(o);n.push({offset:j(q.slice(0,o)),length:j(q.slice(o,p)),key:Number(m[g.stringify(r)])});});return n;}e.exports=k;},null);
__d("encodeInlineStyleRanges",["ComposedInlineStyle","immutable","UnicodeUtils","findRangesImmutable","getObjectValues"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();'use strict';var l=h,m=l.List,n=function(s,t){return s===t;},o=function(s){return !!s;},p=[];m;function q(s,t,u){var v=[],w=t.map(function(x){return x&u;});j(w,n,o,function(x,y){var z=s.getText();v.push({offset:i.strlen(z.slice(0,x)),length:i.strlen(z.slice(x,y)),style:u});});return v;}function r(s){var t=s.getCharacterList().map(function(v){return v.getStyle();}),u=k(g).filter(function(v){return !!v;});return Array.prototype.concat.apply(p,u.map(function(v){return q(s,t,v);}));}e.exports=r;},null);
__d("encodeBlocks",["ComposedBlockType","DocumentEntity","DocumentStringKey","encodeEntityRanges","encodeInlineStyleRanges","mapObject"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();'use strict';var m=g,n=m.ORDERED_LIST_ITEM,o=m.UNORDERED_LIST_ITEM;function p(r){var s=r.getBlockMap(),t=0,u={},v=[];s.forEach(function(y,z){y.findEntityRanges(function(aa){return aa.getEntity()!==null;},function(aa,ba){var ca=i.stringify(y.getEntityAt(aa));if(!u.hasOwnProperty(ca))u[ca]=''+(t++);});v.push({key:z,text:y.getText(),type:y.getType(),depth:q(y)?y.getDepth():0,inlineStyleRanges:k(y),entityRanges:j(y,u)});});var w=Object.keys(u),x={};w.forEach(function(y,z){var aa=h.get(i.unstringify(y)),ba=null,ca=null,da=aa.getData();if(da){ba=da.id||null;ca=l(da,function(ea){return ''+ea;});delete ca.id;}x[z]={id:ba,type:aa.getType(),data:ca&&Object.keys(ca).length?ca:undefined};});return {entityMap:x,blocks:v};}function q(r){var s=r.getType();return s===n||s===o;}e.exports=p;},null);
__d("TextEditorBanzai",["BanzaiScuba","containsNode","encodeBlocks","invariant"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k=3,l={logSetSelectionError:function(r,s){var t=o();t.addNormal('error_type','setSelection');var u=s,v=u[0],w=u[1],x=u[2],y=u[3],z=u[4];t.addNormal('selection_state',v.serialize());var aa=m(w);t.addNormal('node_html',aa);t.addNormal('selection_params','Key: '+x+', Start: '+y+', End: '+z);t.addNormal('error_text',r.message);t.post();},logGetSelectionError:function(r,s){var t=o();t.addNormal('error_type','getSelection');var u=s,v=u[0],w=u[1],x=v.getCurrentContent(),y=i(x),z=y.blocks;z=z.map(function(da){var ea=da,fa=ea.text,ga=(function(ha,ia){var ja={},ka=Object.prototype.hasOwnProperty;if(ha==null)throw new TypeError();for(var la in ha)if(ka.call(ha,la)&&!ka.call(ia,la))ja[la]=ha[la];return ja;})(ea,{text:1});return Object.assign({},ga,{length:fa.length});});var aa=v.getSelection();t.addNormal('content_state',JSON.stringify(z));t.addNormal('selection_state',aa.serialize());t.addNormal('error_text',r.message);var ba=m(w);t.addNormal('node_html',ba);var ca=p(w);t.addNormal('dom_selection',ca);t.post();}};function m(r){if(!r)return '[empty]';var s=n(r);if(s.nodeType===k)return s.textContent;j(s instanceof Element);return s.innerHTML;}function n(r){if(r.nodeType===k){var s=r.textContent.length;return document.createTextNode('[text '+s+']');}var t=r.cloneNode(),u=r.childNodes;for(var v=0;v<u.length;v++)t.appendChild(n(u[v]));return t;}function o(){return new g('text_editor_error_log',null,{addBrowserFields:true});}function p(r){if(!a.getSelection)return '[not available]';var s=a.getSelection(),t=s.anchorNode,u=s.anchorOffset,v=s.focusNode,w=s.focusOffset;t=q(t,r);v=q(v,r);return JSON.stringify({anchorNode:t,anchorOffset:u,focusNode:v,focusOffset:w});}function q(r,s){if(!r)return '[none]';if(!h(s,r))return '[outside root]';return m(r);}e.exports=l;},null);
__d("setDocumentSelection",["ErrorUtils","TextEditorBanzai","containsNode"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();'use strict';function j(n,o,p,q,r){var s=[n,o,p,q,r];return g.applyWithGuard(k,null,s,function(t){return h.logSetSelectionError(t,s);},'TextEditor:setSelection');}function k(n,o,p,q,r){if(!i(document.documentElement,o))return;var s=a.getSelection(),t=n.getAnchorKey(),u=n.getAnchorOffset(),v=n.getFocusKey(),w=n.getFocusOffset(),x=n.getIsBackward();if(!s.extend&&x){var y=t,z=u;t=v;u=w;v=y;w=z;x=false;}var aa=(t===p&&q<=u&&r>=u),ba=(v===p&&q<=w&&r>=w);if(aa&&ba){s.removeAllRanges();m(s,o,u-q);l(s,o,w-q);return;}if(!x){if(aa){s.removeAllRanges();m(s,o,u-q);}if(ba)l(s,o,w-q);}else{if(ba){s.removeAllRanges();m(s,o,w-q);}if(aa){var ca=s.focusNode,da=s.focusOffset;s.removeAllRanges();m(s,o,u-q);l(s,ca,da);}}}function l(n,o,p){if(n.extend){n.extend(o,p);}else{var q=n.getRangeAt(0);q.setEnd(o,p);n.addRange(q.cloneRange());}}function m(n,o,p){var q=document.createRange();q.setStart(o,p);n.addRange(q);}e.exports=j;},null);
__d("TextEditorLeaf.react",["DocumentCharacters","React","SelectionState","TextEditorTextNode.react","setDocumentSelection"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();'use strict';var l=h,m=l.PropTypes,n=g.SOFT_NEWLINE,o=3,p=h.createClass({displayName:"TextEditorLeaf",propTypes:{selection:m.instanceOf(i),start:m.number.isRequired,blockKey:m.string.isRequired,text:m.string.isRequired,style:m.number,inlineStyleFn:m.func.isRequired,isLast:m.bool.isRequired},_setSelection:function(){var q=this.props.selection;if(q==null||!q.getHasFocus())return;var r=this.props.start,s=r+this.props.text.length,t=this.props.blockKey;if(!q.hasEdgeWithin(t,r,s))return;var u=h.findDOMNode(this),v=u.firstChild,w;if(v.nodeType===o){w=v;}else if(v.tagName==='BR'){w=u;}else w=v.firstChild;k(q,w,t,r,s);},shouldComponentUpdate:function(q){return (h.findDOMNode(this.refs.leaf).textContent!==q.text||q.forceSelection);},componentDidUpdate:function(){this._setSelection();},componentDidMount:function(){this._setSelection();},render:function(){var q=this.props.text;if(q.endsWith(n)&&this.props.isLast)q+=n;var r;if(this.props.style)r=this.props.inlineStyleFn(this.props.style);return (h.createElement("span",{"data-offset-key":this.props.offsetKey,className:r,ref:"leaf"},h.createElement(j,null,q)));}});e.exports=p;},null);
__d("TextEditorBlock.react",["ContentBlock","DocumentOffsetKey","ElementForBlockType","React","Scroll","SelectionState","Style","TextEditorLeaf.react","UnicodeBidiDirection","cx","getElementPosition","getScrollPosition","getViewportDimensions","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){b.__markCompiled&&b.__markCompiled();var u=j,v=u.PropTypes,w=o.LTR,x=o.RTL,y=10,z=j.createClass({displayName:"TextEditorBlock",propTypes:{block:v.instanceOf(g).isRequired,tree:v.object.isRequired,selection:v.instanceOf(l).isRequired,decorator:v.object,forceSelection:v.bool.isRequired,direction:v.string.isRequired,blockProps:v.object,startIndent:v.bool,blockStyleFn:v.func.isRequired,inlineStyleFn:v.func.isRequired},shouldComponentUpdate:function(ba){return (this.props.block!==ba.block||this.props.tree!==ba.tree||this.props.direction!==ba.direction||(aa(ba.selection,ba.block.getKey())&&ba.forceSelection));},componentDidMount:function(){var ba=this.props.selection,ca=ba.getEndKey();if(!ba.getHasFocus()||ca!==this.props.block.getKey())return;var da=j.findDOMNode(this),ea=m.getScrollParent(da),fa=r(ea),ga;if(ea===window){var ha=q(da),ia=ha.y+ha.height,ja=s().height;ga=ia-ja;if(ga>0)window.scrollTo(fa.x,fa.y+ga+y);}else{var ka=da.offsetHeight+da.offsetTop,la=ea.offsetHeight+fa.y;ga=ka-la;if(ga>0)k.setTop(ea,k.getTop(ea)+ga+y);}},_renderChildren:function(){var ba=this.props.block,ca=ba.getKey(),da=ba.getText(),ea=this.props.tree.size-1,fa=aa(this.props.selection,ca);return this.props.tree.map(function(ga,ha){var ia=ga.get('leaves'),ja=ia.size-1,ka=ia.map(function(pa,qa){var ra=h.encode(ca,ha,qa),sa=pa.get('start'),ta=pa.get('end');return (j.createElement(n,{key:ra,offsetKey:ra,blockKey:ca,start:sa,selection:fa?this.props.selection:null,forceSelection:this.props.forceSelection,text:da.slice(sa,ta),style:ba.getInlineStyleAt(sa),inlineStyleFn:this.props.inlineStyleFn,isLast:ha===ea&&qa===ja}));}.bind(this)).toArray(),la=ga.get('decoratorKey');if(la==null)return ka;var ma=this.props.decorator.getComponentForKey(la);if(!ma)return ka;var na=this.props.decorator.getPropsForKey(la),oa=h.encode(ca,ha,0);return (j.createElement(ma,j.__spread({},na,{key:oa,entityKey:ba.getEntityAt(ga.get('start')),offsetKey:oa}),ka));}.bind(this)).toArray();},render:function(){var ba=this.props.block,ca=ba.getKey(),da=ba.getDepth(),ea=i.getElement(ba.getType()),fa=t(this.props.blockStyleFn(ba.getType()),(("_209g")+(this.props.direction===w?' '+"_2vxa":'')+(this.props.direction===x?' '+"_2vxb":'')));if(ea==='li'){var ga=this.props.startIndent;fa=t(fa,((ga&&da===0?"_2yj9":'')+(ga&&da===1?' '+"_2yja":'')+(ga&&da===2?' '+"_2yjb":'')+(ga&&da===3?' '+"_2yje":'')+(ga&&da===4?' '+"_2yjf":'')+(da===0?' '+"_2yjg":'')+(da===1?' '+"_2yjh":'')+(da===2?' '+"_2yji":'')+(da===3?' '+"_2yjj":'')+(da===4?' '+"_2yjn":'')));}var ha=Object.assign({'data-block':true,'data-offset-key':h.encode(ca,0,0),className:fa},this.props.blockProps);return (j.createElement(ea,j.__spread({},ha),this._renderChildren()));}});function aa(ba,ca){return (ba.getAnchorKey()===ca||ba.getFocusKey()===ca);}e.exports=z;},null);
__d("TextEditorContents.react",["DocumentOffsetKey","EditorState","ElementForBlockType","React","TextEditorBlock.react","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();'use strict';var m=j,n=m.PropTypes,o=j.createClass({displayName:"TextEditorContents",propTypes:{blockRendererFn:n.func,blockStyleFn:n.func.isRequired,editorState:n.instanceOf(h).isRequired,inlineStyleFn:n.func.isRequired},shouldComponentUpdate:function(q){var r=this.props.editorState,s=q.editorState,t=r.getDirectionMap(),u=s.getDirectionMap();if(t!==u)return true;var v=r.getSelection().getHasFocus(),w=s.getSelection().getHasFocus();if(v!==w)return true;var x=s.getNativelyRenderedContent(),y=r.isInCompositionMode(),z=s.isInCompositionMode();if(r===s||(x!==null&&s.getCurrentContent()===x)||(y&&z))return false;var aa=r.getCurrentContent(),ba=s.getCurrentContent(),ca=r.getDecorator(),da=s.getDecorator();return (y!==z||aa!==ba||ca!==da||s.mustForceSelection());},render:function(){var q=this.props.editorState,r=q.getCurrentContent(),s=q.getSelection(),t=q.mustForceSelection(),u=q.getDirectionMap(),v=r.getBlocksAsArray(),w=[],x=null,y=null,z=null,aa,ba,ca,da,ea,fa,ga,ha;for(var ia=0;ia<v.length;ia++){ca=v[ia];da=ca.getKey();ea=ca.getText();fa=ca.getType();var ja=this.props.blockRendererFn(ca)||p,ka=ja.component,la=ja.props;aa=ka;ga=j.createElement(aa,{key:da,tree:q.getBlockTree(da),decorator:q.getDecorator(),block:ca,selection:s,forceSelection:t,direction:u.get(da),blockProps:la,startIndent:z===null||ca.getDepth()>z,blockStyleFn:this.props.blockStyleFn,inlineStyleFn:this.props.inlineStyleFn});ha=i.getWrapperElement(fa);if(ha){if(y!==ha){ba=[];x=j.createElement(ha,{className:"_4noe",key:da+'-wrap',"data-offset-key":g.encode(da,0,0)},ba);y=ha;w.push(x);}z=ca.getDepth();ba.push(ga);}else{ba=null;x=null;y=null;z=null;w.push(ga);}}return j.createElement("div",{"data-contents":"true"},w);}}),p={component:k,props:null};e.exports=o;},null);
__d("DocumentRemovableWord",["TokenizeUtil"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();'use strict';var h=g.getPunctuation();h=h.replace("\'","").slice(1,-1);var i='\\s'+h,j='^('+'['+i+']*'+'[^'+i+']+'+'|['+i+']+'+')',k=new RegExp(j),l='('+'[^'+i+']+'+'['+i+']*'+'|['+i+']+'+')$',m=new RegExp(l);function n(p,q){var r=q?m.exec(p):k.exec(p);return r?r[0]:null;}var o={getBackward:function(p){return n(p,true);},getForward:function(p){return n(p,false);}};e.exports=o;},null);
__d("TextEditorModes",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g={EDIT:0,COMPOSITE:1,DRAG:2,RENDER:3,CUT:4};e.exports=g;},null);
__d("TextEditorPasteHandler",["CharacterMetadata","ComposedBlockType","ComposedEntityMutability","ComposedLinkEntityProperties","ComposedEntityType","ComposedInlineStyle","ContentBlock","DocumentCharacters","DocumentEntity","immutable","URI","arrayContains","fillArray","generateBlockKey","getSafeBodyFromHTML"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){b.__markCompiled&&b.__markCompiled();var v=h,w=v.HEADER_ONE,x=v.HEADER_TWO,y=v.ORDERED_LIST_ITEM,z=v.UNORDERED_LIST_ITEM,aa=v.BLOCKQUOTE,ba=v.UNSTYLED,ca=l,da=ca.BOLD,ea=ca.ITALIC,fa=ca.UNDERLINE,ga=ca.CODE,ha=ca.STRIKETHROUGH,ia=ca.NONE,ja=g,ka=ja.EMPTY,la=i,ma=la.MUTABLE,na=j,oa=na.URL,pa=k,qa=pa.LINK,ra=n,sa=ra.BLOCK_DELIMITER,ta=ra.SOFT_NEWLINE,ua=p,va=ua.List,wa=ua.Repeat,xa='&nbsp;',ya=' ',za=4,ab=new RegExp(sa,'g'),bb=new RegExp(ta,'g'),cb=new RegExp(xa,'g'),db=['p','h1','h2','h3','li','blockquote','pre'],eb={b:da,code:ga,del:ha,em:ea,i:ea,s:ha,strike:ha,strong:da,u:fa};function fb(){return {text:'',inlines:[],entities:[],blocks:[]};}function gb(rb){var sb=new Array(1);if(rb)sb[0]=rb;return {text:ya,inlines:[ia],entities:sb,blocks:[]};}function hb(){return {text:ta,inlines:[ia],entities:new Array(1),blocks:[]};}function ib(rb,sb){return {text:sa,inlines:[ia],entities:new Array(1),blocks:[{type:rb,depth:Math.max(0,Math.min(za,sb))}]};}function jb(rb,sb){switch(rb){case 'h1':return w;case 'h2':return x;case 'li':if(sb==='ol')return y;return z;case 'blockquote':return aa;case 'pre':return h.CODE;default:return ba;}}function kb(rb,sb,tb){var ub=eb[rb];if(ub){tb|=ub;}else if(sb.style){tb|=sb.style.fontWeight==='bold'?da:0;tb|=sb.style.fontStyle==='italic'?ea:0;tb|=sb.style.textDecoration==='underline'?fa:0;tb|=(sb.style.textDecoration==='line-through'?ha:0);}return tb;}function lb(rb,sb){if(rb.text.slice(-1)===sa&&sb.text.slice(0,1)===sa){rb.text=rb.text.slice(0,-1);rb.inlines.pop();rb.entities.pop();rb.blocks.pop();}if(rb.text.slice(-1)===sa&&(sb.text===ya||sb.text===ta))return rb;return {text:rb.text+sb.text,inlines:rb.inlines.concat(sb.inlines),entities:rb.entities.concat(sb.entities),blocks:rb.blocks.concat(sb.blocks)};}function mb(rb){return db.some(function(sb){return rb.indexOf('<'+sb)!==-1;});}function nb(rb){var sb=new q(rb),tb=sb.getProtocol();return (tb==='http'||tb==='https');}function ob(rb,sb,tb,ub,vb,wb,xb){var yb=rb.nodeName.toLowerCase(),zb=false,ac=ba;if(yb==='#text'){var bc=rb.textContent;if(bc.trim()===''&&ub!=='pre')return gb(xb);if(ub!=='pre')bc=bc.replace(bb,ya);return {text:bc,inlines:s(bc.length,sb),entities:s(bc.length,xb),blocks:[]};}if(yb==='br')return hb();var cc=fb(),dc;sb=kb(yb,rb,sb);if(yb==='ul'||yb==='ol'){if(tb)wb+=1;tb=yb;}if(!ub&&r(vb,yb)){cc=ib(jb(yb,tb),wb);ub=yb;zb=true;}else if(tb&&ub==='li'&&yb==='li'){cc=ib(jb(yb,tb),wb);ub=yb;zb=true;ac=tb==='ul'?z:y;}rb=rb.firstChild;yb=rb&&rb.nodeName.toLowerCase();var ec,fc,gc;while(rb){if(yb==='a'&&rb.href&&nb(rb.href)){fc=new q(rb.href).toString();gc={};gc[oa]=fc;ec=o.create(qa,ma,gc);}else ec=undefined;dc=ob(rb,sb,tb,ub,vb,wb,ec||xb);cc=lb(cc,dc);rb=rb.nextSibling;if(rb&&vb.indexOf(yb)>=0&&ub)cc=lb(cc,hb());yb=rb&&rb.nodeName.toLowerCase();}if(zb)cc=lb(cc,ib(ac,wb));return cc;}function pb(rb){rb=rb.trim().replace(ab,'').replace(cb,ya);var sb=u(rb);if(!sb)return null;var tb=mb(rb)?db:['div'],ub=ob(sb,ia,'ul',null,tb,-1);if(ub.text.indexOf(sa)===0)ub={text:ub.text.slice(1),inlines:ub.inlines.slice(1),entities:ub.entities.slice(1),blocks:ub.blocks};if(ub.text.slice(-1)===sa){ub.text=ub.text.slice(0,-1);ub.inlines=ub.inlines.slice(0,-1);ub.entities=ub.entities.slice(0,-1);ub.blocks.pop();}if(ub.blocks.length===0)ub.blocks.push({type:ba,depth:0});if(ub.text.split(sa).length===ub.blocks.length+1)ub.blocks.unshift({type:ba,depth:0});return ub;}var qb={processHTML:function(rb){var sb=pb(rb);if(!sb)return null;var tb=0;return sb.text.split(sa).map(function(ub,vb){var wb=tb+ub.length,xb=sb.inlines.slice(tb,wb),yb=sb.entities.slice(tb,wb),zb=va(xb.map(function(ac,bc){var cc={style:ac};if(yb[bc])cc.entity=yb[bc];return new g(cc);}));tb=wb+1;return new m({key:t(),type:sb.blocks[vb].type,depth:sb.blocks[vb].depth,text:ub,characterList:zb});});},processText:function(rb){return rb.map(function(sb){return new m({key:t(),type:ba,text:sb,characterList:va(wa(ka,sb.length))});});}};e.exports=qb;},null);
__d("getSelectionOffsetKeyForNode",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();'use strict';function g(h){return h instanceof Element?h.getAttribute('data-offset-key'):null;}e.exports=g;},null);
__d("findAncestorOffsetKey",["getSelectionOffsetKeyForNode"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();'use strict';function h(i){while(i&&i!==document.documentElement){var j=g(i);if(j!=null)return j;i=i.parentNode;}return null;}e.exports=h;},null);
__d("getUpdatedSelectionState",["DocumentOffsetKey"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();function h(i,j,k,l,m){var n=i.getSelection(),o=g.decode(j),p=o.blockKey,q=i.getBlockTree(p).getIn([o.decoratorKey,'leaves',o.leafKey]),r=g.decode(l),s=r.blockKey,t=i.getBlockTree(s).getIn([r.decoratorKey,'leaves',r.leafKey]),u=q.get('start'),v=t.get('start'),w=q?u+k:null,x=t?v+m:null,y=(n.getAnchorKey()===p&&n.getAnchorOffset()===w&&n.getFocusKey()===s&&n.getFocusOffset()===x);if(y)return n;var z=false;if(p===s){var aa=q.get('end'),ba=t.get('end');if(v===u&&ba===aa){z=m<k;}else z=v<u;}else{var ca=i.getCurrentContent().getBlockMap().keySeq().skipUntil(function(da){return da===p||da===s;}).first();z=ca===s;}return n.merge({anchorKey:p,anchorOffset:w,focusKey:s,focusOffset:x,isBackward:z});}e.exports=h;},null);
__d("getDocumentSelection",["DocumentCharacters","ErrorUtils","TextEditorBanzai","findAncestorOffsetKey","getSelectionOffsetKeyForNode","getUpdatedSelectionState","invariant","nullthrows"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){b.__markCompiled&&b.__markCompiled();'use strict';var o=g,p=o.SOFT_NEWLINE;function q(w,x){var y=[w,x];return h.applyWithGuard(r,null,y,function(z){return i.logGetSelectionError(z,y);},'TextEditor:getSelection');}function r(w,x){var y=a.getSelection();if(y.rangeCount===0)return {selectionState:w.getSelection().set('hasFocus',false),needsRecovery:false};var z=y.anchorNode,aa=y.focusNode,ba=y.anchorOffset,ca=y.focusOffset,da=z.nodeType===Node.TEXT_NODE,ea=aa.nodeType===Node.TEXT_NODE;if(da&&ea)return {selectionState:l(w,n(j(z)),ba,n(j(aa)),ca),needsRecovery:false};var fa=null,ga=null;if(da){fa={key:n(j(z)),offset:ba};ga=u(x,aa,ca);}else if(ea){ga={key:n(j(aa)),offset:ca};fa=u(x,z,ba);}else{fa=u(x,z,ba);ga=u(x,aa,ca);}return {selectionState:l(w,fa.key,fa.offset,ga.key,ga.offset),needsRecovery:true};}function s(w){while(w.firstChild&&k(w.firstChild))w=w.firstChild;return w;}function t(w){while(w.lastChild&&k(w.lastChild))w=w.lastChild;return w;}function u(w,x,y){var z=j(x);m(z!=null||w===x||w.firstChild===x);if(w===x){x=x.firstChild;m(x instanceof Element&&x.getAttribute('data-contents')==='true');if(y>0)y=x.childNodes.length;}if(y===0)return {key:z||k(s(x)),offset:0};var aa=x.childNodes[y-1],ba,ca;if(!k(aa)){ba=z;ca=v(aa);}else{var da=t(aa);ba=k(da);ca=v(da);}return {key:ba,offset:ca};}function v(w){var x=w.textContent;return x===p?0:x.length;}e.exports=q;},null);
__d("getEntityKeyForSelection",["ComposedEntityMutability","DocumentEntity"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i=g,j=i.MUTABLE;function k(m,n){var o;if(n.isCollapsed()){var p=n.getAnchorKey(),q=n.getAnchorOffset();if(q>0){o=m.getBlockForKey(p).getEntityAt(q-1);return l(o);}return null;}var r=n.getStartKey(),s=n.getStartOffset(),t=m.getBlockForKey(r);o=s===t.getLength()?null:t.getEntityAt(s);return l(o);}function l(m){if(m){var n=h.get(m);return n.getMutability()===j?m:null;}return null;}e.exports=k;},null);
__d("getTextContentFromFiles",["DocumentCharacters"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h=g.BLOCK_DELIMITER,i=/\.textClipping$/,j={'text/plain':true,'text/html':true,'text/rtf':true};function k(m,n){var o=0,p=[];m.forEach(function(q){l(q,function(r){o++;r&&p.push(r);if(o==m.length)n(p.join(h));});});}function l(m,n){if(!a.FileReader||(m.type&&!(m.type in j))){n('');return;}if(m.type===''&&i.test(m.name)){n(m.name.replace(i,''));return;}var o=new FileReader();o.onload=function(){n(o.result);};o.onerror=function(){n('');};o.readAsText(m);}e.exports=k;},null);
__d("TextEditorEditHandler",["BlockTree","DataTransfer","DocumentCharacters","DocumentCommands","DocumentModifier","DocumentOffsetKey","DocumentRemovableWord","DocumentRemovalDirection","EditorChangeType","EditorState","Keys","React","TextEditorModes","TextEditorPasteHandler","UnicodeUtils","UserAgent","areEqual","createOrderedMapFromBlockArray","findAncestorOffsetKey","getActiveElement","getContentStateFragment","getDocumentSelection","getEntityKeyForSelection","getTextContentFromFiles","isSelectionAtLeafStart"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea){b.__markCompiled&&b.__markCompiled();'use strict';var fa=i.SOFT_NEWLINE,ga=v.isEngine('WebKit'),ha=null,ia={onFocus:function(jb){var kb=this.props.editorState,lb=kb.getSelection();if(lb.getHasFocus())return;var mb=lb.set('hasFocus',true);this.props.onFocus&&this.props.onFocus(jb);this.update(p.acceptSelection(kb,mb));},onBlur:function(jb){if(ga&&z()===document.body)a.getSelection().removeAllRanges();var kb=this.props.editorState,lb=kb.getSelection();if(!lb.getHasFocus())return;var mb=lb.set('hasFocus',false);this.props.onBlur&&this.props.onBlur(jb);this.update(p.acceptSelection(kb,mb));},onBeforeInput:function(jb){var kb=jb.data;if(!kb)return;if(this.props.handleBeforeInput&&this.props.handleBeforeInput(kb)){jb.preventDefault();return;}var lb=this.props.editorState,mb=lb.getSelection();if(!mb.isCollapsed()){jb.preventDefault();this.update(ma(lb,kb,lb.getCurrentInlineStyle(),ca(lb.getCurrentContent(),lb.getSelection())));return;}var nb=!ea(lb),ob=ma(lb,kb,lb.getCurrentInlineStyle(),ca(lb.getCurrentContent(),lb.getSelection()));if(!nb){jb.preventDefault();this.update(ob);return;}var pb=mb.getAnchorKey(),qb=lb.getBlockTree(pb),rb=g.getFingerprint(qb),sb=g.getFingerprint(ob.getBlockTree(pb));if(ib(kb)||rb!==sb||(ob.getDirectionMap().get(pb)!==lb.getDirectionMap().get(pb))){jb.preventDefault();}else ob=p.set(ob,{nativelyRenderedContent:ob.getCurrentContent()});this.update(ob);},onSelect:function(jb){if(this._blockSelectEvents)return;var kb=this.props.editorState,lb=ba(kb,r.findDOMNode(this.refs.editorContainer).firstChild),mb=lb.selectionState;if(mb!==kb.getSelection()){if(!!lb.needsRecovery){kb=p.forceSelection(kb,mb);}else kb=p.acceptSelection(kb,mb);this.update(kb);}},onKeyDown:function(jb){var kb=jb.which,lb=this.props.editorState;switch(kb){case q.RETURN:jb.preventDefault();if(!this.props.handleReturn||!this.props.handleReturn(jb))this.update(xa(lb));return;case q.ESC:jb.preventDefault();this.props.onEscape&&this.props.onEscape(jb);return;case q.TAB:this.props.onTab&&this.props.onTab(jb);return;case q.UP:this.props.onUpArrow&&this.props.onUpArrow(jb);return;case q.DOWN:this.props.onDownArrow&&this.props.onDownArrow(jb);return;}var mb=this.props.keyBindingFn(jb);if(!mb)return;jb.preventDefault();if(this.props.handleKeyCommand&&this.props.handleKeyCommand(mb))return;if(mb===j.UNDO){ka(lb,this.update);return;}var nb=ja(mb,lb);if(nb!==lb)this.update(nb);},onCharacterData:function(jb){var kb=y(jb),lb=this.props.editorState,mb=lb.getSelection(),nb=lb.getCurrentContent(),ob=l.decode(kb),pb=ob.blockKey,qb=lb.getBlockTree(pb),rb=qb.getIn([ob.decoratorKey,'leaves',ob.leafKey]),sb=nb.getBlockForKey(pb);if(sb.getText().slice(rb.start,rb.end)===jb.textContent)return;var tb=lb.getSelection().merge({anchorOffset:rb.start,focusOffset:rb.end,isBackward:false}),ub=k.replaceText(nb,tb,jb.textContent,sb.getInlineStyleAt(rb.start),null),vb=ba(this.props.editorState,r.findDOMNode(this.refs.editorContainer).firstChild),wb=ub.merge({selectionBefore:mb,selectionAfter:vb.selectionState});this.update(p.push(lb,wb,o.INSERT_FRAGMENT));},onDragStart:function(jb){this._internalDrag=true;this.setMode(s.DRAG);},onDragOver:function(jb){this._internalDrag=false;this.setMode(s.DRAG);jb.preventDefault();},onCompositionStart:function(jb){this.setRenderGuard();this.setMode(s.COMPOSITE);this.update(p.set(this.props.editorState,{inCompositionMode:true}));},onCut:function(jb){var kb=this.props.editorState,lb=kb.getSelection();if(lb.isCollapsed()){jb.preventDefault();return;}this.setRenderGuard();eb(kb,function(mb){this._clipboard=mb;this.setMode(s.CUT);setTimeout(function(){this.restoreEditorDOM();this.removeRenderGuard();this.exitCurrentMode();this.update(db(kb));}.bind(this),0);}.bind(this));},onCopy:function(){eb(this.props.editorState,function(jb){this._clipboard=jb;}.bind(this));},onPaste:function(jb){jb.preventDefault();var kb=new h(jb.clipboardData);if(!kb.isRichText()){var lb=kb.getFiles(),mb=kb.getText();if(lb.length>0){if(this.props.handlePastedFiles&&this.props.handlePastedFiles(lb))return;da(lb,function(xb){xb=xb||mb;if(!xb)return;var yb=xb.split(fa),zb=t.processText(yb),ac=this.props.editorState,bc=x(zb),cc=k.replaceWithFragment(ac.getCurrentContent(),ac.getSelection(),bc);this.update(p.push(ac,cc,o.INSERT_FRAGMENT));}.bind(this));return;}}var nb,ob=kb.getText();this.props.onPasteRawText&&this.props.onPasteRawText(ob);if(ob)nb=ob.split(fa);if(!this.props.stripPastedStyles){if(this._clipboard){var pb=nb.filter(bb),qb=this._clipboard.toSeq().map(function(xb){return xb.getText();}).filter(bb).toArray(),rb=w(pb,qb);if(rb){this.update(cb(this.props.editorState,this._clipboard));return;}}var sb=kb.getHTML();if(sb){var tb=t.processHTML(sb);if(tb){var ub=x(tb);this.update(cb(this.props.editorState,ub));return;}}this._clipboard=null;}if(nb){var vb=t.processText(nb),wb=x(vb);this.update(cb(this.props.editorState,wb));}}};function ja(jb,kb){switch(jb){case j.UNDO:return ka(kb);case j.REDO:return la(kb);case j.DELETE:return oa(kb);case j.DELETE_WORD:return pa(kb);case j.BACKSPACE:return sa(kb);case j.BACKSPACE_WORD:return va(kb);case j.BACKSPACE_TO_END_OF_BLOCK:return wa(kb);case j.INSERT_BLOCK_DELIMITER:return xa(kb);case j.TRANSPOSE_CHARACTERS:return ya(kb);case j.MOVE_SELECTION_TO_START_OF_BLOCK:return za(kb);case j.MOVE_SELECTION_TO_END_OF_BLOCK:return ab(kb);case j.SECONDARY_CUT:return qa(kb);case j.SECONDARY_PASTE:return ra(kb);default:return kb;}}function ka(jb,kb){var lb=p.undo(jb);if(!jb.getNativelyRenderedContent()){kb(lb);return;}kb(p.set(jb,{nativelyRenderedContent:null}));setTimeout(function(){kb(lb);});}function la(jb){return p.redo(jb);}function ma(jb,kb,lb,mb){var nb=k.replaceText(jb.getCurrentContent(),jb.getSelection(),kb,lb,mb||null);return p.push(jb,nb,o.INSERT_CHARACTERS);}function na(jb,kb,lb){var mb=jb.getSelection(),nb=jb.getCurrentContent(),ob=mb;if(mb.isCollapsed()){if(lb===n.FORWARD){if(jb.isAtDocumentEnd())return nb;}else if(jb.isAtDocumentStart())return nb;ob=kb(jb);if(ob===mb)return nb;}return k.removeRange(nb,ob,lb);}function oa(jb){var kb=na(jb,function(mb){var nb=mb.getSelection(),ob=mb.getCurrentContent(),pb=nb.getAnchorKey(),qb=nb.getAnchorOffset(),rb=ob.getBlockForKey(pb).getText()[qb];return ua(mb,rb?u.getUTF16Length(rb,0):1);},n.FORWARD);if(kb===jb.getCurrentContent())return jb;kb=kb.set('selectionBefore',jb.getSelection());var lb=jb.getSelection().isCollapsed()?o.DELETE_CHARACTER:o.REMOVE_RANGE;return p.push(jb,kb,lb);}function pa(jb){var kb=na(jb,function(lb){var mb=lb.getSelection(),nb=mb.getStartOffset(),ob=mb.getStartKey(),pb=lb.getCurrentContent(),qb=pb.getBlockForKey(ob).getText().slice(nb),rb=m.getForward(qb)||'';return ua(lb,rb.length||1);},n.FORWARD);if(kb===jb.getCurrentContent())return jb;return p.push(jb,kb,o.REMOVE_RANGE);}function qa(jb){var kb=jb.getCurrentContent(),lb=jb.getSelection(),mb;if(lb.isCollapsed()){var nb=lb.getAnchorKey(),ob=kb.getBlockForKey(nb).getLength();if(ob===lb.getAnchorOffset())return jb;mb=lb.set('focusOffset',ob);}else mb=lb;ha=aa(kb,mb);var pb=k.removeRange(kb,mb,n.FORWARD);if(pb===kb)return jb;return p.push(jb,pb,o.REMOVE_RANGE);}function ra(jb){return (ha?cb(jb,ha):jb);}function sa(jb){var kb=na(jb,function(mb){var nb=mb.getSelection(),ob=mb.getCurrentContent(),pb=nb.getAnchorKey(),qb=nb.getAnchorOffset(),rb=ob.getBlockForKey(pb).getText()[qb-1];return ta(mb,rb?u.getUTF16Length(rb,0):1);},n.BACKWARD);if(kb===jb.getCurrentContent())return jb;kb=kb.set('selectionBefore',jb.getSelection());var lb=jb.getSelection().isCollapsed()?o.BACKSPACE_CHARACTER:o.REMOVE_RANGE;return p.push(jb,kb,lb);}function ta(jb,kb){var lb=jb.getSelection(),mb=jb.getCurrentContent(),nb=lb.getStartKey(),ob=lb.getStartOffset(),pb=nb,qb;if(kb>ob){var rb=mb.getKeyBefore(nb);pb=rb;var sb=mb.getBlockForKey(rb);qb=sb.getText().length;}else qb=ob-kb;return lb.merge({focusKey:pb,focusOffset:qb,isBackward:true});}function ua(jb,kb){var lb=jb.getSelection(),mb=lb.getStartKey(),nb=lb.getStartOffset(),ob=jb.getCurrentContent(),pb=mb,qb,rb=ob.getBlockForKey(mb);if(kb>(rb.getText().length-nb)){pb=ob.getKeyAfter(mb);qb=0;}else qb=nb+kb;return lb.merge({focusKey:pb,focusOffset:qb});}function va(jb){var kb=na(jb,function(lb){var mb=lb.getSelection(),nb=mb.getStartOffset();if(nb===0)return ta(lb,1);var ob=mb.getStartKey(),pb=lb.getCurrentContent(),qb=pb.getBlockForKey(ob).getText().slice(0,nb),rb=m.getBackward(qb)||'';return ta(lb,rb.length||1);},n.BACKWARD);if(kb===jb.getCurrentContent())return jb;return p.push(jb,kb,o.REMOVE_RANGE);}function wa(jb){var kb=na(jb,function(lb){var mb=lb.getSelection();if(mb.getStartOffset()===0)return ta(lb,1);return mb.merge({focusOffset:0,isBackward:true});},n.BACKWARD);if(kb===jb.getCurrentContent())return jb;return p.push(jb,kb,o.REMOVE_RANGE);}function xa(jb){var kb=k.splitBlock(jb.getCurrentContent(),jb.getSelection());return p.push(jb,kb,o.SPLIT_BLOCK);}function ya(jb){var kb=jb.getSelection();if(!kb.isCollapsed())return jb;var lb=kb.getAnchorOffset();if(lb===0)return jb;var mb=kb.getAnchorKey(),nb=jb.getCurrentContent(),ob=nb.getBlockForKey(mb),pb=ob.getLength();if(pb<=1)return jb;var qb,rb;if(lb===pb){qb=kb.set('anchorOffset',lb-1);rb=kb;}else{qb=kb.set('focusOffset',lb+1);rb=qb.set('anchorOffset',lb+1);}var sb=aa(nb,qb),tb=k.removeRange(nb,qb,n.BACKWARD),ub=tb.getSelectionAfter(),vb=ub.getAnchorOffset()-1,wb=ub.merge({anchorOffset:vb,focusOffset:vb}),xb=k.replaceWithFragment(tb,wb,sb),yb=p.push(jb,xb,o.INSERT_FRAGMENT);return p.acceptSelection(yb,rb);}function za(jb){var kb=jb.getSelection(),lb=kb.getStartKey();return p.set(jb,{selection:kb.merge({anchorKey:lb,anchorOffset:0,focusKey:lb,focusOffset:0,isBackward:false}),forceSelection:true});}function ab(jb){var kb=jb.getSelection(),lb=kb.getEndKey(),mb=jb.getCurrentContent(),nb=mb.getBlockForKey(lb).getLength();return p.set(jb,{selection:kb.merge({anchorKey:lb,anchorOffset:nb,focusKey:lb,focusOffset:nb,isBackward:false}),forceSelection:true});}function bb(jb){return jb.length>0;}function cb(jb,kb){var lb=k.replaceWithFragment(jb.getCurrentContent(),jb.getSelection(),kb);return p.push(jb,lb,o.INSERT_FRAGMENT);}function db(jb){var kb=k.removeRange(jb.getCurrentContent(),jb.getSelection(),n.FORWARD);return p.push(jb,kb,o.REMOVE_RANGE);}function eb(jb,kb){var lb=jb.getSelection();if(!lb.isCollapsed())kb(aa(jb.getCurrentContent(),lb));}var fb='\'',gb='\/',hb=v.isBrowser('Firefox');function ib(jb){return (hb&&(jb==fb||jb==gb));}e.exports=ia;},null);
__d("TextEditorDragHandler",["DataTransfer","DocumentModifier","EditorState","EditorChangeType","ex","findAncestorOffsetKey","getTextContentFromFiles","getUpdatedSelectionState"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){b.__markCompiled&&b.__markCompiled();'use strict';function o(event,s){var t,u;if(document.caretRangeFromPoint){var v=document.caretRangeFromPoint(event.x,event.y);t=v.startContainer;u=v.startOffset;}else if(event.rangeParent){t=event.rangeParent;u=event.rangeOffset;}else return null;var w=l(t);if(w===null){var x='';if(t.dataset&&t.dataset.reactid)x=' Node ID: '+t.dataset.reactid;throw new Error(k('Invalid range for drop event.'+x+' Offset: '+u));}return n(s,w,u,w,u);}var p={onDragEnd:function(){this.exitCurrentMode();},onDrop:function(s){var t=new g(s.nativeEvent.dataTransfer),u=this.props.editorState,v=o(s.nativeEvent,u);s.preventDefault();this.exitCurrentMode();if(v===null)return;var w=t.getFiles();if(w.length>0){if(this.props.handleDroppedFiles&&this.props.handleDroppedFiles(v,w))return;m(w,function(x){x&&this.update(r(u,v,x));}.bind(this));return;}if(this._internalDrag){this.update(q(u,v));return;}this.update(r(u,v,t.getText()));}};function q(s,t){var u=h.moveText(s.getCurrentContent(),s.getSelection(),t);return i.push(s,u,j.INSERT_FRAGMENT);}function r(s,t,u){var v=h.insertText(s.getCurrentContent(),t,u,s.getCurrentInlineStyle());return i.push(s,v,j.INSERT_FRAGMENT);}e.exports=p;},null);
__d("AbstractTextEditor.react",["AbstractTextEditorPlaceholder.react","AbstractTextEditorProps","DOMVector","EditorState","React","TextEditorCompositionHandler","TextEditorContents.react","TextEditorEditHandler","TextEditorDragHandler","TextEditorModes","UserAgent","cx","requestAnimationFrame","setImmediate"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){b.__markCompiled&&b.__markCompiled();'use strict';var u=a.MutationObserver||a.WebKitMutationObserver,v=(q.isBrowser('Safari')||q.isBrowser('Mobile Safari')),w=q.isBrowser('IE'),x=!!u;function y(ba){return function(ca){if(!this.props.readOnly){var da=this._handler&&this._handler[ba];da&&da.call(this,ca);}};}function z(ba){switch(ba){case p.EDIT:return n;case p.COMPOSITE:return l;case p.DRAG:return o;case p.CUT:case p.RENDER:return null;}}var aa=k.createClass({displayName:"AbstractTextEditor",getDefaultProps:h.getDefaultProps,_onBlur:y('onBlur'),_onFocus:y('onFocus'),_onSelect:y('onSelect'),_onKeyDown:y('onKeyDown'),_onKeyUp:y('onKeyUp'),_onKeyPress:y('onKeyPress'),_onMouseDown:y('onMouseDown'),_onMouseUp:y('onMouseUp'),_onCharacterData:y('onCharacterData'),_onCompositionStart:y('onCompositionStart'),_onCompositionEnd:y('onCompositionEnd'),_onDragStart:y('onDragStart'),_onDragOver:y('onDragOver'),_onDragEnd:y('onDragEnd'),_onDrop:y('onDrop'),_onCut:y('onCut'),_onCopy:y('onCopy'),_onPaste:y('onPaste'),_onBeforeInput:y('onBeforeInput'),_attachMutationObserver:function(){if(!u)return;var ba=[],ca=function(){if(ba.length>1){var da=ba[0],ea=da.target;t(function(){if(this.isMounted()&&ea.parentNode)this._onCharacterData(ea);}.bind(this));}ba.length=0;}.bind(this);this._mutationObserver=new u(function(da){var ea;if(this._guardAgainstRender)return;if(v){if(ba.length===0)s(ca);(ea=ba).push.apply(ea,da);}else{ba=da;ca();}}.bind(this));this._mutationObserver.observe(k.findDOMNode(this.refs.editorContainer),{characterDataOldValue:true,characterData:true,subtree:true});},_disableIELinkDetection:function(){if(w)document.execCommand('AutoUrlDetect',false,false);},_renderPlaceholder:function(){var ba=this.props.editorState.getCurrentContent(),ca=(this.props.placeholder&&!this.props.editorState.isInCompositionMode()&&!ba.hasText());if(ca)return (k.createElement(g,{text:this.props.placeholder,editorState:this.props.editorState,textAlignment:this.props.textAlignment}));},getInitialState:function(){return {containerKey:0};},render:function(){var ba=this.props.textAlignment,ca=(("_5yw9")+(ba==='left'?' '+"_48yc":'')+(ba==='right'?' '+"_48yd":'')+(ba==='center'?' '+"_48ye":'')),da=this.props.editorState.getCurrentContent().hasText();return (k.createElement("div",{className:ca},this._renderPlaceholder(),k.createElement("div",{className:"_5ywa",ref:"editorContainer",key:'editor'+this.state.containerKey},k.createElement("div",{ref:"editor",title:da?null:this.props.placeholder,role:this.props.role||"textbox","aria-label":this.props.ariaLabel,"aria-activedescendant":this.props.ariaActiveDescendantID,"aria-autocomplete":this.props.ariaAutoComplete,"aria-expanded":this.props.ariaExpanded,"aria-owns":this.props.ariaOwneeID,"aria-haspopup":this.props.ariaHasPopup,className:"_54-z","data-testid":this.props.webDriverTestID,onBlur:this._onBlur,onFocus:this._onFocus,onSelect:this._onSelect,onMouseUp:this._onMouseUp,onKeyDown:this._onKeyDown,onKeyUp:this._onKeyUp,onKeyPress:this._onKeyPress,onCut:this._onCut,onCopy:this._onCopy,onPaste:this._onPaste,onDragStart:this._onDragStart,onDragOver:this._onDragOver,onDragEnd:this._onDragEnd,onDrop:this._onDrop,onCompositionStart:this._onCompositionStart,onCompositionEnd:this._onCompositionEnd,onBeforeInput:this._onBeforeInput,spellCheck:x&&this.props.spellCheck,tabIndex:this.props.tabIndex,contentEditable:!this.props.readOnly},k.createElement(m,{blockRendererFn:this.props.blockRendererFn,blockStyleFn:this.props.blockStyleFn,editorState:this.props.editorState,inlineStyleFn:this.props.inlineStyleFn})))));},focus:function(){var ba=this.props.editorState,ca=ba.getSelection().getHasFocus(),da=i.getScrollPosition();this.refs.editor.focus();window.scrollTo(da.x,da.y);if(ca)return;this.update(j.forceSelection(ba,ba.getSelection()));},blur:function(){k.findDOMNode(this.refs.editor).blur();},componentDidMount:function(){this._clipboard=null;this._guardAgainstRender=false;this._handler=n;this._attachMutationObserver();this._disableIELinkDetection();},componentWillUpdate:function(ba){this._blockSelectEvents=true;},componentDidUpdate:function(){this._blockSelectEvents=false;},componentWillUnmount:function(){if(this._mutationObserver){this._mutationObserver.disconnect();this._mutationObserver=null;}},setMode:function(ba){this._handler=z(ba);},exitCurrentMode:function(){this.setMode(p.EDIT);},restoreEditorDOM:function(){this.setState({containerKey:this.state.containerKey+1},this.focus);},setRenderGuard:function(){this._guardAgainstRender=true;},removeRenderGuard:function(){this._guardAgainstRender=false;},update:function(ba){this.props.onChange(ba);}});e.exports=aa;},null);
__d("AbstractMentionsTextEditor.react",["AbstractTextEditor.react","AbstractTextEditorProps","DocumentModifier","EditorChangeType","EditorState","React","TypeaheadNavigation","clearImmediate","getOrCreateDOMID","setImmediate","uniqueID"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){b.__markCompiled&&b.__markCompiled();var r=l,s=r.PropTypes,t=5,u=l.createClass({displayName:"AbstractMentionsTextEditor",propTypes:Object.assign({},h.propTypes,{mentionsSource:s.object,mentionCreationFn:s.func.isRequired,mentionResultsComponent:s.func.isRequired,mentionResultsProps:s.object,excludedEntries:s.object,handleContentReturn:s.func,onAddMention:s.func,onShowMentions:s.func,maxResults:s.number}),getDefaultProps:function(){var w=g.getDefaultProps();return Object.assign({},w,{maxResults:t});},componentWillMount:function(){this._viewID=q();this._searchTimeouts=[];},componentWillUnmount:function(){this._searchTimeouts.forEach(function(w){return n(w);});this._searchTimeouts=null;},getInitialState:function(){return {highlightedMentionable:null,ariaActiveDescendantID:null,mentionableEntries:null,characterOffset:0};},_onShowMentions:function(w,x){if(!this.isMounted())return;var y=w&&w.length;if(!y){this.setState({highlightedMentionable:null,activeDescendantID:null,mentionableEntries:null,characterOffset:0});return;}var z=w.slice(0,this.props.maxResults),aa=this.props.typeaheadViewProps;if(aa&&aa.mentionSortFn)z.sort(aa.mentionSortFn);this.setState({highlightedMentionable:w[0],mentionableEntries:z,characterOffset:x});if(this.props.onShowMentions)this.props.onShowMentions(z,x);},_onBlur:function(w){this.setState(this.getInitialState());this.props.onBlur&&this.props.onBlur(w);},_onFocus:function(w){this.props.mentionsSource&&this.props.mentionsSource.bootstrap();this.props.onFocus&&this.props.onFocus(w);},_handleReturn:function(w){if(this.state.highlightedMentionable){this._onMentionSelect(this.state.highlightedMentionable,w);return true;}else if(this.props.handleContentReturn&&this.props.handleContentReturn(w))return true;return false;},_onTab:function(w){if(this.state.highlightedMentionable){w.preventDefault();this._onMentionSelect(this.state.highlightedMentionable,w);}else if(this.props.onTab)this.props.onTab(w);},_onEscape:function(w){if(this.props.onEscape)this.props.onEscape(w);if(this.state.mentionableEntries){w.stopPropagation();this.setState(this.getInitialState());}},_onUpArrow:function(w){if(this.state.mentionableEntries){w.preventDefault();m.moveUp(this.state.mentionableEntries,this.state.highlightedMentionable,this._onMentionHighlight);}else this.props.onUpArrow&&this.props.onUpArrow(w);},_onDownArrow:function(w){if(this.state.mentionableEntries){w.preventDefault();m.moveDown(this.state.mentionableEntries,this.state.highlightedMentionable,this._onMentionHighlight);}else this.props.onDownArrow&&this.props.onDownArrow(w);},_onMentionHighlight:function(w){this.setState({highlightedMentionable:w});},_onMentionRenderHighlight:function(w){var x=o(w);this.setState({ariaActiveDescendantID:x});},_onMentionSelect:function(w,x){var y=this.props.editorState,z=y.getSelection(),aa=y.getCurrentContent(),ba=z.getAnchorKey(),ca=z.getAnchorOffset(),da=aa.getBlockMap().get(ba),ea=ca-v(da.getText().substr(0,ca),w.getTitle(),this.state.characterOffset),fa=i.replaceText(aa,z.set('anchorOffset',ea),w.getTitle(),y.getCurrentInlineStyle(),this.props.mentionCreationFn(w)),ga=k.push(y,fa,j.INSERT_FRAGMENT);this.props.onChange(ga);this.setState(this.getInitialState());if(this.props.onAddMention){var ha=this.state.mentionableEntries.indexOf(w);this.props.onAddMention(w,ha,x);}},shouldComponentUpdate:function(w,x){return (this.props.editorState!==w.editorState||this.props.placeholder!==w.placeholder||this.props.readOnly!==w.readOnly||this.state.mentionableEntries!==x.mentionableEntries||this.state.highlightedMentionable!==x.highlightedMentionable||this.state.ariaActiveDescendantID!==x.ariaActiveDescendantID);},componentDidUpdate:function(w){var x=this.props.editorState;if(x===w.editorState)return;var y=x.getSelection();if(y.getHasFocus()&&y.isCollapsed()){var z=x.getCurrentContent();if(this.props.mentionsSource)this._searchTimeouts.push(p(function(){this.props.mentionsSource.search(z,y,this._onShowMentions);}.bind(this)));}},blur:function(){this.refs.abstractTextEditor.blur();},focus:function(){this.refs.abstractTextEditor.focus();},_renderMentionables:function(){var w=this.state.mentionableEntries;if(!w||!w.length)return null;var x=this.props.mentionResultsComponent;return (l.createElement(x,l.__spread({},this.props.mentionResultsProps,{viewID:this._viewID,selection:this.props.editorState.getSelection(),contextComponent:this,characterOffset:this.state.characterOffset,mentionableEntries:w||[],highlightedMentionable:this.state.highlightedMentionable,onMentionSelect:this._onMentionSelect,onMentionHighlight:this._onMentionHighlight,onMentionRenderHighlight:this._onMentionRenderHighlight})));},render:function(){var w=this.state.mentionableEntries,x=!!(w&&w.length),y=this.props.readOnly?null:'-2';return (l.createElement("div",{ref:"container",className:this.props.className,tabIndex:y},l.createElement(g,l.__spread({},this.props,{ref:"abstractTextEditor",role:"combobox",ariaActiveDescendantID:this.state.ariaActiveDescendantID,ariaAutoComplete:"list",ariaOwneeID:this._viewID,ariaExpanded:x,ariaHasPopup:x,onBlur:this._onBlur,onFocus:this._onFocus,onTab:this._onTab,onEscape:this._onEscape,onDownArrow:this._onDownArrow,onUpArrow:this._onUpArrow,handleReturn:this._handleReturn})),this._renderMentionables()));}});function v(w,x,y){for(var z=y;z<=x.length;z++)if(w.substr(-z)==x.substr(0,z))y=z;return y;}e.exports=u;},null);
__d("createMentionEntity",["ComposedEntityMutability","ComposedEntityType","DocumentEntity"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();function j(k){if(k.getType().toLowerCase()==='hashtag')return i.create(h.HASHTAG,g.IMMUTABLE);var l=k.getType().toLowerCase()==='user'?g.SEGMENTED:g.IMMUTABLE,m=k.getAuxiliaryData();return i.create(h.MENTION,l,{id:k.getUniqueID(),isWeak:m&&m.renderType==='non_member',type:k.getType()});}e.exports=j;},null);
__d("MentionsInput.react",["AbstractMentionsTextEditor.react","EditorState","MentionsLayer.react","React","createMentionEntity","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();var n=j,o=n.PropTypes,p=j.createClass({displayName:"MentionsInput",propTypes:{editorState:o.instanceOf(h).isRequired,mentionsSource:o.object,typeaheadView:o.func.isRequired,typeaheadViewPropTypes:o.object,spellCheck:o.bool,placeholder:o.string,className:o.string,autoflip:o.bool,position:o.oneOf(['above','below']),handleContentReturn:o.func,handleDroppedFiles:o.func,handlePastedFiles:o.func,onAddMention:o.func,onShowMentions:o.func,onChange:o.func,onInputFocus:o.func,onInputBlur:o.func},blur:function(){this.refs.textEditor.blur();},focus:function(){clearTimeout(this._focusTimer);this._focusTimer=setTimeout(function(){this.refs.textEditor.focus();}.bind(this),0);},componentWillUnmount:function(){clearTimeout(this._focusTimer);},render:function(){var q=m(this.props.className,"_5yk1");return (j.createElement("div",{className:q,onClick:this.focus,onFocus:this.focus},j.createElement(g,j.__spread({},this.props,{mentionResultsComponent:i,mentionResultsProps:{typeaheadView:this.props.typeaheadView,typeaheadViewProps:this.props.typeaheadViewProps,autoflip:this.props.autoflip,position:this.props.position},mentionCreationFn:k,ref:"textEditor",className:"_5yk2",stripPastedStyles:true}))));}});e.exports=p;},null);
__d("DevxFluxDispatcher",["Dispatcher"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();'use strict';for(var h in g)if(g.hasOwnProperty(h))j[h]=g[h];var i=g===null?null:g.prototype;j.prototype=Object.create(i);j.prototype.constructor=j;j.__superConstructor__=g;function j(){if(g!==null)g.apply(this,arguments);}j.prototype.handleServerAction=function(k){this.$DevxFluxDispatcher0('serverAction',k);};j.prototype.handleViewAction=function(k){this.$DevxFluxDispatcher0('viewAction',k);};j.prototype.$DevxFluxDispatcher0=function(k,l){this.dispatch(Object.assign({source:k},l));};e.exports=new j();},null);
__d("DevxProxyActions",["DevxFluxDispatcher"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();'use strict';function h(i){Object.keys(i.ActionHandler).forEach(function(j){this[j]=function(){for(var k=[],l=0,m=arguments.length;l<m;l++)k.push(arguments[l]);g.handleViewAction({action:j,args:k});};}.bind(this));}e.exports=h;},null);
__d("ContentState",["DocumentCharacters","immutable"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();'use strict';var i=h,j=i.OrderedMap,k=i.Record;j;var l=g,m=l.SOFT_NEWLINE,n={blockMap:null,selectionBefore:null,selectionAfter:null},o=k(n);for(var p in o)if(o.hasOwnProperty(p))r[p]=o[p];var q=o===null?null:o.prototype;r.prototype=Object.create(q);r.prototype.constructor=r;r.__superConstructor__=o;function r(){if(o!==null)o.apply(this,arguments);}r.prototype.getBlockMap=function(){return this.blockMap;};r.prototype.getSelectionBefore=function(){return this.selectionBefore;};r.prototype.getSelectionAfter=function(){return this.selectionAfter;};r.prototype.getBlockForKey=function(s){var t=this.getBlockMap().get(s);return t;};r.prototype.getKeyBefore=function(s){return this.getBlockMap().reverse().keySeq().skipUntil(function(t){return t===s;}).skip(1).first();};r.prototype.getKeyAfter=function(s){return this.getBlockMap().keySeq().skipUntil(function(t){return t===s;}).skip(1).first();};r.prototype.getBlockAfter=function(s){return this.getBlockMap().skipUntil(function(t,u){return u===s;}).skip(1).first();};r.prototype.getBlockBefore=function(s){return this.getBlockMap().reverse().skipUntil(function(t,u){return u===s;}).skip(1).first();};r.prototype.getBlocksAsArray=function(){return this.getBlockMap().toArray();};r.prototype.getLastBlock=function(){return this.getBlockMap().last();};r.prototype.getPlainText=function(s){return this.getBlockMap().map(function(t){return t?t.getText():'';}).join(s||m);};r.prototype.hasText=function(){var s=this.getBlockMap();return (s.size>1||s.first().getLength()>0);};e.exports=r;},null);
__d("createEmptySelectionState",["SelectionState"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();'use strict';function h(i){return new g({anchorKey:i,anchorOffset:0,focusKey:i,focusOffset:0,isBackward:false,hasFocus:false});}e.exports=h;},null);
__d("createContentStateFromBlocks",["ContentState","createEmptySelectionState","createOrderedMapFromBlockArray"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();'use strict';function j(k){var l=i(k),m=h(l.first().getKey());return new g({blockMap:l,selectionBefore:m,selectionAfter:m});}e.exports=j;},null);
__d("createInitialEditorState",["EditorState","immutable","createEmptySelectionState"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();'use strict';var j=h,k=j.Stack;function l(m,n){var o=m.getBlockMap().first().getKey();return g.create({currentContent:m,undoStack:k(),redoStack:k(),decorator:n||null,selection:i(o)});}e.exports=l;},null);
__d("createPlainBlocksFromText",["CharacterMetadata","ComposedBlockType","ContentBlock","immutable","generateBlockKey"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l=j,m=l.List,n=l.Repeat,o=g,p=o.EMPTY,q=h,r=q.UNSTYLED;function s(t){return t.map(function(u){var v=u.length;return new i({key:k(),text:u,type:r,characterList:m(n(p,v))});});}e.exports=s;},null);
__d("createEditorStateWithEntities",["DocumentCharacters","EditorState","applyEntityToContentBlock","createContentStateFromBlocks","createInitialEditorState","createPlainBlocksFromText"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();var m=new RegExp(g.SOFT_NEWLINE,'ig');function n(o){var p=o,q=p.text,r=p.ranges,s=p.decorator,t=p.entityCreationFn,u=p.splitIntoBlocks,v=p.allowUndo,w,x;if(u===undefined)u=true;if(q){w=u?q.split(m):[q];x=[];var y=0;w.forEach(function(ba){x.push(y);y+=ba.length+1;});}else w=[''];var z=l(w);if(r&&r.length&&t)r.forEach(function(ba){var ca=t(ba.entity);if(ca===null)return;var da=ba.offset,ea,fa;for(var ga=0;ga<x.length;ga++){var ha=x[ga],ia=x[ga+1];if(ia===undefined||(da>=ha&&da<ia)){ea=z[ga];fa=da-ha;break;}}z[ga]=i(ea,fa,fa+ba.length,ca);});var aa=k(j(z),s);if(v===false)aa=h.set(aa,{allowUndo:false});return aa;}e.exports=n;},null);
__d("createEmptyEditorState",["createContentStateFromBlocks","createInitialEditorState","createPlainBlocksFromText"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();'use strict';function j(k){var l=i(['']),m=g(l);return h(m,k);}e.exports=j;},null);
__d("getVisibleValueForContentState",["ComposedEntityType","DocumentCharacters","DocumentEntity","emptyFunction"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k=g.EMOTICON,l=h.SOFT_NEWLINE;function m(n){var o=n.getBlockMap().map(function(p){var q=p.getText(),r='';p.findEntityRanges(j.thatReturnsTrue,function(s,t){var u=p.getEntityAt(s);if(u===null){r+=q.slice(s,t);}else{var v=i.get(u);if(v.getType()===k){r+=v.getData().originalEmoticon;}else r+=q.slice(s,t);}});return r;});return o.join(l);}e.exports=m;},null);
__d("XDeveloperDocumentationController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/docs\/{?path1}\/{?path2}\/{?path3}\/{?path4}\/{?path5}\/{?path6}\/",{path:{type:"String"},preview:{type:"Exists",defaultValue:false},revisionid:{type:"Int"},locale:{type:"String"},path1:{type:"String"},path2:{type:"String"},path3:{type:"String"},path4:{type:"String"},path5:{type:"String"},path6:{type:"String"}});},null);
__d("CommentsPluginFooter.react",["ImageBlock.react","React","XDeveloperDocumentationController","cx"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();'use strict';var k=h.Component;for(var l in k)if(k.hasOwnProperty(l))n[l]=k[l];var m=k===null?null:k.prototype;n.prototype=Object.create(m);n.prototype.constructor=n;n.__superConstructor__=k;function n(){if(k!==null)k.apply(this,arguments);}n.prototype.render=function(){return (h.createElement("div",{className:"_5lm5 _2pi3 _3-8y"},h.createElement(g,null,h.createElement("img",{src:"/images/like/icons/fav.png"}),h.createElement("a",{target:"_blank",href:i.getURIBuilder().setString('path1','plugins').setString('path2','comments').getURI().setSubdomain('developers')},"Facebook Comments Plugin"))));};e.exports=n;},null);
__d("XPluginCommentsBanAuthorAsyncController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/plugins\/comments\/moderate\/ban\/{comment_id}\/",{comment_id:{type:"String",required:true}});},null);
__d("XPluginCommentsCreateCommentAsyncController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/plugins\/comments\/async\/createComment\/{target_id}\/",{target_id:{type:"Int",required:true}});},null);
__d("XPluginCommentsCreateReplyAsyncController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/plugins\/comments\/async\/createReply\/{parent_comment_id}\/",{parent_comment_id:{type:"String",required:true}});},null);
__d("XPluginCommentsDeleteCommentAsyncController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/plugins\/comments\/async\/delete\/",{});},null);
__d("XPluginCommentsEditCommentAsyncController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/plugins\/comments\/async\/edit\/",{});},null);
__d("XPluginCommentsFlagCommentAsyncController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/plugins\/comments\/async\/flag\/",{});},null);
__d("XPluginCommentsLikeCommentAsyncController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/plugins\/comments\/async\/like\/",{action_like:{type:"Bool",defaultValue:false}});},null);
__d("XPluginCommentsHideCommentAsyncController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/plugins\/comments\/moderate\/hide\/{url_id}\/",{url_id:{type:"Int",required:true},action:{type:"Enum",required:true,enumType:1},type:{type:"Enum",required:true,enumType:1}});},null);
__d("XPluginCommentsPagerAsyncController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/plugins\/comments\/async\/{target_id}\/pager\/{ordering}\/",{target_id:{type:"Int",required:true},ordering:{type:"Enum",required:true,enumType:1}});},null);
__d("XPluginCommentsRepliesPagerAsyncController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/plugins\/comments\/async\/comment\/{comment_id}\/pager\/",{comment_id:{type:"String",required:true}});},null);
__d("CommentsPluginStore",["AsyncRequest","XPluginCommentsBanAuthorAsyncController","XPluginCommentsCreateCommentAsyncController","XPluginCommentsCreateReplyAsyncController","XPluginCommentsDeleteCommentAsyncController","DeveloperCommentsModerationAction","DeveloperCommentsModerationSource","DeveloperCommentsModerationType","DevxFluxDispatcher","DTSG","XPluginCommentsEditCommentAsyncController","XPluginCommentsFlagCommentAsyncController","XPluginCommentsLikeCommentAsyncController","XPluginCommentsHideCommentAsyncController","MultiLoginPopup","XPluginCommentsPagerAsyncController","XPluginCommentsRepliesPagerAsyncController","UnverifiedXD","fbt","getMentionsTextForContentState","getVisibleValueForContentState","invariant","mixInEventEmitter","nullthrows","uniqueID"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea){b.__markCompiled&&b.__markCompiled();'use strict';var fa=10,ga='__DEVX__',ha={visibleValue:'',encodedValue:''},ia={change:true,composerChange:true,composerCommentAdded:true,login:true,moreCommentsCompleted:true,moreRepliesCompleted:true,postError:true,sortingCompleted:true,sentryAction:true},ja={maxLines:10,maxLength:1000},ka=[],la={},ma={userID:null,actors:{},appID:null,afterCursor:null,beforeCursor:null,channelURL:null,composerSearchSource:{},deeplinkedCommentID:null,href:'',iframeReferer:null,isMobile:false,isModerator:false,mirroredPage:null,moderateURL:null,targetFBID:null,totalCount:0,user:{}},na=false,oa={ordering:null},pa={},qa={},ra={setPostToFeed:true,sort:true,showMoreComments:true,showMoreReplies:true,toggleVisibility:true},sa={addComment:true};function ta(bb){ba(ab.hasOwnProperty(bb));}function ua(){ba(Array.isArray(ka));ba(la instanceof Object);}function va(bb,cb){if(!ra[bb]&&!za.isLoggedIn()){var db=sa[bb]?null:cb;u.login(null,null,y._("Please Login to Comment"),{},wa.bind(null,db));return;}cb.call();}function wa(bb,cb){ma.user.id=cb.user;ma.user.uri=cb.profileUrl;ma.user.thumbSrc=cb.profilePic;ma.user.actorIDs=cb.actorIDs;if(cb.fbDtsg)p.setToken(cb.fbDtsg);bb&&bb.call();za.emit('change');za.emit('login');}function xa(bb,cb,db){return db.indexOf(bb)===cb;}function ya(bb,cb){if(!ma.channelURL)return;Object.assign(cb,{type:bb,href:ma.href});x.send(cb,ma.channelURL);}var za={LOGGED_OUT_USER:"0",getCommentIDs:function(){return ka;},getByID:function(bb){ua();return da(la)[bb];},isOptimisticComment:function(bb){return bb.id.startsWith(ga);},getCurrentSorting:function(){return da(oa.ordering);},getTargetFBID:function(){return da(ma.targetFBID);},getCommentsCount:function(){ua();return ma.totalCount;},getUser:function(){return ma.user;},getIframeReferer:function(){return ma.iframeReferer;},getAuthor:function(bb){return this.getByID(this.getByID(bb).authorID);},getPageSize:function(){return fa;},getCommentBodyTruncationLimits:function(){return ja;},getComposerSearchSource:function(){return ma.composerSearchSource;},getMirroredPage:function(){return ma.mirroredPage;},isMirrored:function(){return this.getMirroredPage()!=null;},isReply:function(bb){var cb=this.getByID(bb);return cb.targetID!==this.getTargetFBID();},setActor:function(bb){ma.user=ma.actors[bb];},getPostToFeed:function(){return na;},setPostToFeed:function(bb){na=bb;},setCreateComposerState:function(bb,cb){pa[cb||ga]=bb;this.emit('composerChange');},getCreateComposerState:function(bb){return pa[bb||ga];},getCreateComposerContent:function(bb){return this._editorStateToComposerPayload(this.getCreateComposerState(bb));},isEmptyCreateComposer:function(bb){return this.getCreateComposerContent(bb).visibleValue.trim()==='';},setEditComposerState:function(bb,cb){qa[cb]=bb;this.emit('composerChange');},getEditComposerState:function(bb){return qa[bb];},getEditComposerContent:function(bb){return this._editorStateToComposerPayload(this.getEditComposerState(bb));},isEmptyEditComposer:function(bb){return this.getEditComposerContent(bb).visibleValue.trim()==='';},_editorStateToComposerPayload:function(bb){if(!bb)return ha;var cb=bb.getCurrentContent(),db=aa(cb),eb=z(cb);return {visibleValue:db,encodedValue:eb};},getActorIDs:function(){return Object.keys(ma.actors);},getModerateURL:function(){return ma.moderateURL;},isLoggedIn:function(){return ma.user.id!==za.LOGGED_OUT_USER;},isMobile:function(){return ma.isMobile;},isViewerModerator:function(){return ma.isModerator;},hasUnloadedComments:function(){return !!ma.afterCursor;},hasUnloadedReplies:function(bb){var cb=this.getByID(bb).public_replies;if(!cb)return false;if(cb.afterCursor)return true;if((!cb.commentIDs||cb.commentIDs.length===0)&&cb.totalCount>0)return true;return false;},getUnloadedCommentsCount:function(){return ma.totalCount-ka.length;},dispatcherIndex:o.register(function(bb){var cb;ta(bb.action);va(bb.action,(cb=ab[bb.action]).bind.apply(cb,[ab].concat(bb.args)));}),init:function(bb,cb,db){ma=cb;this.updateCommentData(bb,db);Object.keys(ma.actors).forEach(function(eb){return la[eb]=ma.actors[eb];});this.setActor(ma.userID);},updateCommentData:function(bb,cb){ka=bb.commentIDs;la=this.initComments(ka,bb.idMap);oa.ordering=cb;},initComment:function(bb){bb.collapsed=false;bb.editor=false;bb.composer=false;bb.deleted=false;bb.flagged=false;return bb;},initComments:function(bb,cb){bb.forEach(function(db){return cb[db]=this.initComment(cb[db]);}.bind(this));return cb;},emit:((void 0)),addListener:((void 0)),removeCurrentListener:((void 0)),ActionHandler:((void 0))};ca(za,ia);var ab={ban:function(bb){var cb=za.getByID(bb);cb.deleted=true;za.emit('change');var db=h.getURIBuilder().setString('comment_id',bb).getURI();new g(db).setMethod('POST').setData({ban:true,source:m.URL}).send();},hide:function(bb){var cb=za.getByID(bb);cb.deleted=true;za.emit('change');var db=t.getURIBuilder().setInt('url_id',ma.targetFBID).setEnum('action',l.DELETE).setEnum('type',n.APPROVED).getURI();new g(db).setData({comment_ids:[bb]}).setMethod('POST').send();},addComment:function(){var bb=za.getCreateComposerContent(),cb=i.getURIBuilder().setInt('target_id',ma.targetFBID).getURI();new g(cb).setData({app_id:ma.appID,av:za.getUser().id,text:bb.encodedValue,post_to_feed:za.getPostToFeed(),iframe_referer:ma.iframeReferer}).setMethod('POST').setHandler(function(db){var eb=db.payload,fb=eb.commentID;this._prependComment(eb.idMap[fb]);delete pa[ga];za.emit('composerCommentAdded',{});ya('commentCreated',{commentID:fb,message:bb.visibleValue});if(eb.sentryAction)za.emit('sentryAction',eb.sentryAction,fb);}.bind(this)).setErrorHandler(function(db){delete la[ga];ka.shift();za.emit('change');za.emit('postError',db);}).send();this._prependComment({authorID:ma.user.id,targetID:ma.targetFBID,body:{text:bb.visibleValue}});},addReply:function(bb){var cb=za.getCreateComposerContent(bb),db=j.getURIBuilder().setString('parent_comment_id',bb).getURI(),eb=ga+ea();new g(db).setData({app_id:ma.appID,av:za.getUser().id,text:cb.encodedValue,iframe_referer:ma.iframeReferer,replied_to:za.getByID(bb).replyToCommentID}).setMethod('POST').setHandler(function(hb){var ib=za.getByID(bb),jb=Object.assign({},ib.public_replies);Object.assign(la,hb.payload.idMap);ib=za.getByID(bb);ib.public_replies=jb;delete la[eb];delete pa[bb];ka.splice(ka.indexOf(eb),1);ib.composer=false;delete ib.replyToCommentID;ib.public_replies.commentIDs.pop();ib.public_replies.commentIDs.push(hb.payload.commentID);ya('commentCreated',{commentID:hb.payload.commentID,parentCommentID:bb,message:cb.visibleValue});za.emit('change');}).setErrorHandler(function(hb){delete la[eb];ka.splice(ka.indexOf(eb),1);fb=za.getByID(bb);fb.public_replies.commentIDs.pop();fb.public_replies.totalCount--;fb.composer=false;delete fb.replyToCommentID;za.emit('change');za.emit('postError',hb);}).send();var fb=za.getByID(bb),gb=Object.assign({},fb.public_replies);if(!gb.commentIDs)gb.commentIDs=[];if(!gb.totalCount)gb.totalCount=0;gb.totalCount++;gb.commentIDs.push(eb);fb.public_replies=gb;la[eb]={authorID:ma.user.id,body:{text:cb.visibleValue},targetID:bb,id:eb};ka.push(eb);za.emit('change');},_prependComment:function(bb){if(!bb.id){bb.id=ga;}else{ka.shift();delete la[ga];}ka.unshift(bb.id);la[bb.id]=za.initComment(bb);za.emit('change');},edit:function(bb){za.getByID(bb).editor=true;za.emit('change');},saveEdit:function(bb){var cb=JSON.parse(JSON.stringify(za.getByID(bb))),db=q.getURIBuilder().getURI(),eb=za.getEditComposerContent(bb);new g(db).setMethod('POST').setData({app_id:ma.appID,text:eb.encodedValue,comment_id:bb,av:za.getAuthor(bb).id,iframe_referer:ma.iframeReferer}).setHandler(function(gb){var hb=gb.payload;la[hb.commentID]=za.initComment(hb.idMap[hb.commentID]);delete qa[bb];za.emit('change');}).setErrorHandler(function(gb){cb.editor=false;Object.assign(za.getByID(bb),cb);za.emit('change');za.emit('postError',gb);}).send();var fb=za.getByID(bb);fb.editor=false;fb.body.text=eb.visibleValue;delete fb.ranges;za.emit('change');},cancelEdit:function(bb){var cb=za.getByID(bb);cb.editor=false;za.emit('change');},"delete":function(bb){var cb=za.getByID(bb);cb.deleted=true;var db=k.getURIBuilder().getURI();new g(db).setData({app_id:ma.appID,comment_id:bb,av:za.getAuthor(bb).id,iframe_referer:ma.iframeReferer}).setMethod('POST').setHandler(function(){return ya('commentRemoved',{commentID:bb});}).setErrorHandler(function(eb){var fb=za.getByID(bb);fb.deleted=false;za.emit('change');}).send();za.emit('change');},like:function(bb){var cb=za.getByID(bb),db=s.getURIBuilder().setBool('action_like',!cb.hasLiked).getURI();new g(db).setData({app_id:ma.appID,comment_id:cb.id,iframe_referer:ma.iframeReferer}).setMethod('POST').setHandler(function(eb){var fb=eb.payload;Object.assign(la[fb.commentID],za.initComment(fb.idMap[fb.commentID]));za.emit('change');}).setErrorHandler(function(eb){cb.likeCount--;cb.hasLiked=false;za.emit('postError',eb);}).send();cb.hasLiked=!cb.hasLiked;if(cb.hasLiked){cb.likeCount++;}else if(cb.likeCount>0)cb.likeCount--;la[cb.id]=cb;za.emit('change');},sort:function(bb){var cb=v.getURIBuilder().setInt('target_id',ma.targetFBID).setEnum('ordering',bb).getURI();new g(cb).setMethod('POST').setData({app_id:ma.appID,limit:za.getPageSize(),iframe_referer:ma.iframeReferer}).setHandler(function(db){var eb=db.payload;ma.afterCursor=eb.afterCursor;za.updateCommentData(eb,bb);za.emit('sortingCompleted');za.emit('change');}).send();},showMoreComments:function(){var bb=v.getURIBuilder().setInt('target_id',ma.targetFBID).setEnum('ordering',za.getCurrentSorting()).getURI();new g(bb).setMethod('POST').setData({app_id:ma.appID,after_cursor:ma.afterCursor,limit:za.getPageSize(),deeplinked_comment_id:ma.deeplinkedCommentID,iframe_referer:ma.iframeReferer}).setHandler(function(cb){var db=cb.payload;ma.afterCursor=db.afterCursor;ka=ka.concat(db.commentIDs).filter(xa);la=Object.assign(la,za.initComments(db.commentIDs,db.idMap));za.emit('moreCommentsCompleted');za.emit('change');}).setErrorHandler(function(cb){za.emit('postError',cb);za.emit('moreCommentsCompleted');}).send();},setUser:function(bb){za.setActor(bb);za.emit('composerChange');},setPostToFeed:function(bb){za.setPostToFeed(bb);},showMoreReplies:function(bb){var cb=w.getURIBuilder().setString('comment_id',bb).getURI(),db=za.getByID(bb).public_replies;new g(cb).setMethod('POST').setData({app_id:ma.appID,after_cursor:db.afterCursor,limit:za.getPageSize(),iframe_referer:ma.iframeReferer}).setHandler(function(eb){var fb=eb.payload;la=Object.assign(za.initComments(fb.commentIDs,fb.idMap),la);db.afterCursor=fb.afterCursor;db.commentIDs=db.commentIDs.concat(fb.commentIDs).filter(xa);za.emit('moreRepliesCompleted',{commentID:bb});za.emit('change');}).setErrorHandler(function(eb){za.emit('postError',eb);za.emit('moreRepliesCompleted',{commentID:bb});}).send();},toggleVisibility:function(bb){var cb=za.getByID(bb);cb.collapsed=!cb.collapsed;za.emit('change');},flag:function(bb){la[bb].flagged=true;this._sendFlagOrUnflagRequest(bb,'flag');za.emit('change');},unflag:function(bb){la[bb].flagged=false;this._sendFlagOrUnflagRequest(bb,'unflag');za.emit('change');},_sendFlagOrUnflagRequest:function(bb,cb){var db=r.getURIBuilder().getURI();new g(db).setData({app_id:ma.appID,comment_id:bb,iframe_referer:ma.iframeReferer,unflag:cb==='unflag'}).setMethod('POST').setErrorHandler(function(eb){la[bb].flagged=!la[bb].flagged;za.emit('postError',eb);}).send();},report:function(bb){window.open(za.getByID(bb).reportURI,'_blank');},showReplyComposer:function(bb){var cb=za.getByID(bb);if(za.isReply(bb)){var db=bb;cb=za.getByID(cb.targetID);cb.replyToCommentID=db;}cb.composer=true;za.emit('change');},cancelReply:function(bb){var cb=za.getByID(bb);cb.composer=false;delete cb.replyToCommentID;za.emit('change');}};za.ActionHandler=ab;e.exports=za;},null);
__d("CommentsPluginActions",["CommentsPluginStore","DevxProxyActions"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();'use strict';e.exports=new h(g);},null);
__d("CommentsPluginHeader.react",["CommentsPluginActions","CommentsPluginStore","DeveloperCommentsPluginOrdering","LeftRight.react","Link.react","React","XUISelector.react","XUISpinner.react","XUIText.react","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){b.__markCompiled&&b.__markCompiled();'use strict';var r=m.Option,s=l.Component;for(var t in s)if(s.hasOwnProperty(t))v[t]=s[t];var u=s===null?null:s.prototype;v.prototype=Object.create(u);v.prototype.constructor=v;v.__superConstructor__=s;function v(w){s.call(this,w);this.state={sorting:false};var x=this;x.$CommentsPluginHeader0=this.$CommentsPluginHeader0.bind(this);}v.prototype.$CommentsPluginHeader0=function(event){this.setState({sorting:true});h.addListener('sortingCompleted',function(){this.setState({sorting:false});h.removeCurrentListener();}.bind(this));g.sort(event.value);};v.prototype.render=function(){var w=null;if(h.getModerateURL())w=l.createElement("span",null,l.createElement("span",{className:"_52bm"},"|"),l.createElement(k,{href:h.getModerateURL(),target:"_blank"},q._("Moderation Tool")));return (l.createElement(j,{className:"_491z"},l.createElement("span",null,l.createElement(o,{weight:"bold"},h.getCommentsCount()!==1?q._("{count} Comments",[q.param("count",h.getCommentsCount())]):q._("1 Comment")),w),l.createElement("div",null,this.state.sorting?l.createElement(n,{size:"small",className:"_3-90"}):null,l.createElement("span",{className:"_pup"},q._("Sort by")),' ',l.createElement(m,{alignh:"right",className:"_3-8_",initialValue:h.getCurrentSorting(),onChange:this.$CommentsPluginHeader0},i.__types.map(function(x){return l.createElement(r,{value:x,key:x},i.__labels[x]);})))));};e.exports=v;},null);
__d("CommentsPluginAction",["fbt"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();'use strict';var h={EDIT:'edit',DELETE:'delete',FLAG:'flag',UNFLAG:'unflag',BAN:'ban',HIDE:'hide',REPORT:'report',COLLAPSE:'collapse',SHOW:'show',getLabel:function(i){switch(i){case h.COLLAPSE:return g._("Collapse comment");case h.SHOW:return g._("Show comment");case h.EDIT:return g._("Edit comment");case h.DELETE:return g._("Delete comment");case h.FLAG:return g._("Flag comment");case h.UNFLAG:return g._("Unflag comment");case h.BAN:return g._("Ban user");case h.HIDE:return g._("Hide comment");case h.REPORT:return g._("Report to Facebook");}},getMenuActions:function(){return [h.COLLAPSE,h.SHOW,h.EDIT,h.DELETE,h.FLAG,h.UNFLAG,h.BAN,h.HIDE,h.REPORT];}};e.exports=h;},null);
__d("MixinCommentsPluginConfirmAction",["CommentsPluginAction","CommentsPluginActions","React","Set","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogCancelButton.react","XUIDialogFooter.react","XUIDialogTitle.react","fbt","invariant"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){b.__markCompiled&&b.__markCompiled();'use strict';var s={requiresConfirmation:function(t){var u=new j([g.DELETE,g.BAN,g.HIDE]);return u.has(t);},confirmAction:function(t){this.setState({actionConfirmationShown:true,action:t});},_onActionConfirmed:function(){h[this.state.action](this.props.commentID);this.setState({actionConfirmationShown:false});},_onActionCancelled:function(){this.setState({actionConfirmationShown:false});},_getActionMetadata:function(t){switch(t){case g.DELETE:return {body:q._("Are you sure you want to delete this comment?"),button_label:q._("Confirm Delete")};case g.BAN:return {body:q._("Are you sure you want to ban this user?"),button_label:q._("Confirm Ban")};case g.HIDE:return {body:q._("Are you sure you want to hide this comment?"),button_label:q._("Confirm Hide")};default:r(false);}},renderActionConfirmationDialog:function(t){var u=this.state.action;if(!u)return null;var v=this._getActionMetadata(u);return (i.createElement(k,{shown:this.state.actionConfirmationShown,width:t},i.createElement(p,{showCloseButton:false},g.getLabel(u)),i.createElement(l,null,v.body),i.createElement(o,null,i.createElement(n,{onClick:this._onActionCancelled}),i.createElement(m,{use:"confirm",label:v.button_label,onClick:this._onActionConfirmed}))));}};e.exports=s;},null);
__d("CommentsPluginCommentActions.react",["ActionList.react","CommentsPluginAction","CommentsPluginActions","CommentsPluginStore","Image.react","Link.react","MixinCommentsPluginConfirmAction","React","UFICommentMetadata.react","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){b.__markCompiled&&b.__markCompiled();'use strict';var r=n,s=r.PropTypes,t=n.createClass({displayName:"CommentsPluginCommentActions",mixins:[m],propTypes:{commentID:s.string.isRequired},getInitialState:function(){return {deleteConfirmationShown:false,action:null};},_onLikeAction:function(){i.like(this.props.commentID);},_onReply:function(){i.showReplyComposer(this.props.commentID);},_onFlag:function(){i.flag(this.props.commentID);},_getLikeActionElem:function(u){if(!u.canLike&&j.isLoggedIn())return null;return (n.createElement(l,{onClick:this._onLikeAction},u.hasLiked?q._("Unlike"):q._("Like")));},render:function(){var u=j.getByID(this.props.commentID);return (n.createElement(g,{className:"_2vq9"},this._getLikeActionElem(u),n.createElement(l,{onClick:this._onReply},q._("Reply")),j.isMobile()?u.canEdit?n.createElement(l,{onClick:this.confirmAction.bind(this,h.DELETE)},q._("Delete")):n.createElement(l,{onClick:this._onFlag},q._("Flag")):null,u.likeCount?n.createElement("span",null,n.createElement(k,{src:"/images/ufi/fbfeed/like.png",className:"_3-8_ _4iy4"}),u.likeCount):null,n.createElement(o,{comment:u,permalink:u.permalink,shortenTimestamp:true,showPermalink:!j.isReply(this.props.commentID),permalinkTarget:"_parent"}),j.isMobile()?this.renderActionConfirmationDialog(320):null));}});e.exports=t;},null);
__d("CommentsPluginComposerMirroringNotice.react",["CommentsPluginStore","React","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();'use strict';var k=h,l=k.PropTypes,m=h.Component;for(var n in m)if(m.hasOwnProperty(n))p[n]=m[n];var o=m===null?null:m.prototype;p.prototype=Object.create(o);p.prototype.constructor=p;p.__superConstructor__=m;function p(){if(m!==null)m.apply(this,arguments);}p.prototype.render=function(){var q=g.getMirroredPage();if(!q)return null;return (h.createElement("div",{className:"_5sge _2ph-"},q.name?this.props.isReply?j._("Your reply may also appear on {page name}'s Facebook Page.",[j.param("page name",h.createElement("a",{href:q.uri,target:"blank"},q.name))]):j._("Your comment may also appear on {page name}'s Facebook Page.",[j.param("page name",h.createElement("a",{href:q.uri,target:"blank"},q.name))]):this.props.isReply?j._("Your reply may also appear on Facebook."):j._("Your comment may also appear on Facebook.")));};p.propTypes={isReply:l.bool};e.exports=p;},null);
__d("CommentsPluginProfilePicture.react",["React","cx"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();'use strict';var i=g,j=i.PropTypes,k=g.Component;for(var l in k)if(k.hasOwnProperty(l))n[l]=k[l];var m=k===null?null:k.prototype;n.prototype=Object.create(m);n.prototype.constructor=n;n.__superConstructor__=k;function n(){if(k!==null)k.apply(this,arguments);}n.prototype.render=function(){return (g.createElement("a",g.__spread({},this.props,{href:this.props.href}),g.createElement("img",{className:((!this.props.isReply?"_1ci":'')+(this.props.isReply?' '+"_1cj":'')),src:this.props.src})));};n.propTypes={href:j.string.isRequired,src:j.string.isRequired,isReply:j.bool};e.exports=n;},null);
__d("CommentsPluginComposer.react",["CommentsPluginStore","CommentsPluginComposerMirroringNotice.react","CommentsPluginProfilePicture.react","ComposedEntityMutability","ComposedEntityType","DocumentEntity","EditorState","MentionsInput.react","React","UFIImageBlock.react","UFICommentUtils.react","XUITypeaheadView.react","createEditorStateWithEntities","createEmptyEditorState","cx","fbt","getMentionsInputDecorator","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x){b.__markCompiled&&b.__markCompiled();'use strict';var y=o,z=y.PropTypes;function aa(fa){return l.create(k.MENTION,j.IMMUTABLE,{id:fa.id});}var ba=o.Component;for(var ca in ba)if(ba.hasOwnProperty(ca))ea[ca]=ba[ca];var da=ba===null?null:ba.prototype;ea.prototype=Object.create(da);ea.prototype.constructor=ea;ea.__superConstructor__=ba;function ea(fa,ga){ba.call(this,fa,ga);this.state=this.$CommentsPluginComposer0();var ha=this;ha.$CommentsPluginComposer1=this.$CommentsPluginComposer1.bind(this);ha.$CommentsPluginComposer2=this.$CommentsPluginComposer2.bind(this);}ea.prototype.$CommentsPluginComposer0=function(){var fa=null,ga=null;if(this.props.editCommentID){ga=g.getByID(this.props.editCommentID);fa=s({text:ga.body.text,ranges:q.shallowCopyRanges(ga.ranges).filter(function(ja){return !ja.entity.external;}),decorator:w(),entityCreationFn:aa});}else if(this.props.parentCommentIDOfNewReply){ga=g.getByID(this.props.parentCommentIDOfNewReply);if(ga.replyToCommentID&&g.getAuthor(ga.replyToCommentID).id!==g.getUser().id){var ha=g.getAuthor(ga.replyToCommentID),ia={id:ha.id,text:ha.name,offset:0,length:ha.name.length,entity:{id:ha.id}};fa=m.moveFocusToEnd(s({text:ha.name+' ',ranges:[ia],decorator:w(),entityCreationFn:aa}));}}if(!fa)fa=t(w());return {editorState:fa,expanded:!!this.props.alwaysExpanded};};ea.prototype.$CommentsPluginComposer3=function(){return !this.props.editCommentID&&!this.props.parentCommentIDOfNewReply;};ea.prototype.componentDidMount=function(){g.addListener('composerCommentAdded',function(event){if(this.$CommentsPluginComposer3()){var fa=this.$CommentsPluginComposer0();fa.expanded=true;this.setState(fa);}}.bind(this));if(!this.$CommentsPluginComposer3())this.refs.composer.focus();};ea.prototype.$CommentsPluginComposer1=function(fa){this.setState({editorState:fa});if(this.props.editCommentID){g.setEditComposerState(fa,this.props.editCommentID);}else g.setCreateComposerState(fa,this.props.parentCommentIDOfNewReply);};ea.prototype.$CommentsPluginComposer4=function(){if(this.props.editCommentID)return g.isReply(this.props.editCommentID);return !!this.props.parentCommentIDOfNewReply;};ea.prototype.$CommentsPluginComposer2=function(){this.setState({expanded:true});};ea.prototype.render=function(){var fa=this.props.editCommentID?g.getAuthor(this.props.editCommentID):fa=g.getUser(),ga=this.props.placeholder||v._("Add a comment..."),ha=this.$CommentsPluginComposer4();return (o.createElement(p,{spacing:"medium",className:x((("_4uyl")+(ha?' '+"_1zz6":'')+(!this.state.expanded?' '+"_1zz7":'')+(!!this.state.expanded?' '+"_1zz8":'')),this.props.className)},g.isMobile()?o.createElement("div",null):o.createElement(i,{href:fa.uri,src:fa.thumbSrc,isReply:ha,target:"_blank"}),o.createElement("div",null,o.createElement(n,{className:(("_1cb")+(this.props.readOnly?' '+"_5pu_":'')),editorState:this.state.editorState,mentionsSource:g.getComposerSearchSource(),onChange:this.$CommentsPluginComposer1,onFocus:this.$CommentsPluginComposer2,placeholder:ga,readOnly:this.props.readOnly,typeaheadView:r,ref:"composer"}),this.state.expanded?o.createElement("div",{className:"_4uym"},o.createElement(h,{isReply:ha}),this.props.children):null)));};ea.propTypes={editCommentID:z.string,parentCommentIDOfNewReply:z.string,readOnly:z.bool,placeholder:z.node,alwaysExpanded:z.bool};e.exports=ea;},null);
__d("CommentsPluginComposerEdit.react",["CommentsPluginActions","CommentsPluginComposer.react","CommentsPluginStore","React","XUIButton.react","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();'use strict';var n=j,o=n.PropTypes,p=j.Component;for(var q in p)if(p.hasOwnProperty(q))s[q]=p[q];var r=p===null?null:p.prototype;s.prototype=Object.create(r);s.prototype.constructor=s;s.__superConstructor__=p;function s(t,u){p.call(this,t,u);this.state={waitingAsyncResponse:false};var v=this;v.$CommentsPluginComposerEdit0=this.$CommentsPluginComposerEdit0.bind(this);v.$CommentsPluginComposerEdit1=this.$CommentsPluginComposerEdit1.bind(this);this.$CommentsPluginComposerEdit2=null;}s.prototype.componentDidMount=function(){this.$CommentsPluginComposerEdit2=i.addListener('composerChange',function(){return this.forceUpdate();}.bind(this));};s.prototype.componentWillUnmount=function(){if(this.$CommentsPluginComposerEdit2)this.$CommentsPluginComposerEdit2.remove();};s.prototype.$CommentsPluginComposerEdit0=function(){this.setState({waitingAsyncResponse:true});g.saveEdit(this.props.commentID);};s.prototype.$CommentsPluginComposerEdit1=function(){g.cancelEdit(this.props.commentID);};s.prototype.$CommentsPluginComposerEdit3=function(){return (this.state.waitingAsyncResponse||i.isEmptyEditComposer(this.props.commentID));};s.prototype.render=function(){return (j.createElement(h,{alwaysExpanded:true,readOnly:this.state.waitingAsyncResponse,editCommentID:this.props.commentID},j.createElement("div",{className:"_5tr6 clearfix _2ph_"},j.createElement(k,{disabled:this.$CommentsPluginComposerEdit3(),label:m._("Save"),use:"confirm",className:"rfloat _3-99",onClick:this.$CommentsPluginComposerEdit0}),j.createElement(k,{disabled:this.state.waitingAsyncResponse,label:m._("Cancel"),use:"default",className:"rfloat _3-99",onClick:this.$CommentsPluginComposerEdit1})),this.props.children));};s.propTypes={commentID:o.string.isRequired};e.exports=s;},null);
__d("CommentsPluginMenu.react",["CommentsPluginAction","CommentsPluginActions","CommentsPluginStore","Image.react","MixinCommentsPluginConfirmAction","ReactXUIMenu","PopoverMenu.react","React","Tooltip","fbt","ix"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){b.__markCompiled&&b.__markCompiled();'use strict';var r=n,s=r.PropTypes,t=l.Item,u=n.createClass({displayName:"CommentsPluginMenu",mixins:[k],propTypes:{commentID:s.string.isRequired},getInitialState:function(){return {opened:false,actionConfirmationShown:false,action:null};},_onMenuShow:function(){this.setState({opened:true});},_onMenuHide:function(){this.setState({opened:false});},_toggleVisibility:function(){h.toggleVisibility(this.props.commentID);},_onAction:function(v,event){var w=event.item.getValue();if(this.requiresConfirmation(w)){this.confirmAction(w);}else if(w===g.SHOW||w===g.COLLAPSE){this._toggleVisibility();}else h[w](this.props.commentID);},_getMenuItem:function(v,w){var x=i.isReply(w.id);switch(v){case g.DELETE:case g.EDIT:if(!w.canEdit)return null;break;case g.FLAG:if(w.canEdit||w.collapsed||w.flagged)return null;break;case g.UNFLAG:if(w.canEdit||!w.flagged)return null;break;case g.SHOW:if(x||!w.collapsed)return null;break;case g.COLLAPSE:if(x||w.collapsed||w.flagged)return null;break;case g.BAN:case g.HIDE:if(!i.isViewerModerator())return null;break;case g.REPORT:if(!w.reportURI)return null;break;default:break;}return (n.createElement(t,{value:v,key:v},g.getLabel(v)));},render:function(){var v=i.getByID(this.props.commentID);return (n.createElement("div",null,n.createElement(m,{alignh:"right",onShow:this._onMenuShow,onHide:this._onMenuHide,menu:n.createElement(l,{onItemClick:this._onAction},g.getMenuActions().map(function(w){return this._getMenuItem(w,v);}.bind(this)))},n.createElement("a",null,n.createElement(j,n.__spread({},o.propsFor(p._("Menu")),{src:q('/images/plugins/comments/chevron-down.png')})))),this.renderActionConfirmationDialog(400)));},isOpen:function(){return this.state.opened;}});e.exports=u;},null);
__d("CommentsPluginAuthorSelector.react",["ActorSelector.react","CommentsPluginActions","CommentsPluginStore","React","fbt"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();'use strict';var l=j.Component;for(var m in l)if(l.hasOwnProperty(m))o[m]=l[m];var n=l===null?null:l.prototype;o.prototype=Object.create(n);o.prototype.constructor=o;o.__superConstructor__=l;function o(p){l.call(this,p);this.state={selectedActorID:i.getUser().id};var q=this;q.$CommentsPluginAuthorSelector0=this.$CommentsPluginAuthorSelector0.bind(this);}o.prototype.$CommentsPluginAuthorSelector0=function(p){this.setState({selectedActorID:p.value});h.setUser(p.value);};o.prototype.$CommentsPluginAuthorSelector1=function(p){return (k._("Commenting as {actorName}",[k.param("actorName",p)]));};o.prototype.render=function(){var p=i.getActorIDs();return (p.length>1?j.createElement("div",{className:this.props.className},j.createElement(g,{actorIDs:p,coverEnabled:false,selectedActorID:this.state.selectedActorID,onChange:this.$CommentsPluginAuthorSelector0,tooltipConstructor:this.$CommentsPluginAuthorSelector1})):null);};e.exports=o;},null);
__d("CommentsPluginComment.react",["ActorBio.react","CenteredContainer.react","CommentsPluginActions","CommentsPluginCommentActions.react","CommentsPluginComposerEdit.react","CommentsPluginProfilePicture.react","CommentsPluginMenu.react","CommentsPluginComposerReply.react","CommentsPluginStore","HovercardLinkInterpolator","Link.react","Image.react","React","TruncatedTextWithEntities.react","UFIActor.react","UFICommentUtils.react","UFIImageBlock.react","XUIGrayText.react","XUISpinner.react","XUIText.react","cx","fbt","joinClasses","nullthrows","xuiglyph"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea){b.__markCompiled&&b.__markCompiled();'use strict';var fa=s,ga=fa.PropTypes,ha=s.Component;for(var ia in ha)if(ha.hasOwnProperty(ia))ka[ia]=ha[ia];var ja=ha===null?null:ha.prototype;ka.prototype=Object.create(ja);ka.prototype.constructor=ka;ka.__superConstructor__=ha;function ka(pa,qa){ha.call(this,pa,qa);this.state={showMenu:false};var ra=this;ra.$CommentsPluginComment0=this.$CommentsPluginComment0.bind(this);ra.$CommentsPluginComment1=this.$CommentsPluginComment1.bind(this);}ka.prototype.$CommentsPluginComment0=function(){this.setState({showMenu:true});};ka.prototype.$CommentsPluginComment1=function(){if(!this.refs.menu||!this.refs.menu.isOpen())this.setState({showMenu:false});};ka.prototype.render=function(){var pa=da(o.getByID(this.props.commentID));if(pa.deleted)return null;if(pa.editor)return (s.createElement("div",{className:"_3-8y"},s.createElement(k,{commentID:this.props.commentID}),s.createElement(oa,{commentID:this.props.commentID,className:"_3j_p"})));var qa=v.shallowCopyRanges(pa.ranges),ra=v.getCommentTextWithTruncatedURIs(qa,pa.body.text),sa=null;if(pa.collapsed||pa.flagged){sa=s.createElement("div",{className:"_5mlf"},s.createElement(x,{shade:"light"},ba._("This comment is {action}",[ba.param("action",pa.collapsed?'collapsed':'flagged')])));}else sa=ra?s.createElement(t,s.__spread({className:"_5mdd",text:ra,ranges:qa,interpolator:function(xa,ya){return p(xa,ya,'_blank');}},o.getCommentBodyTruncationLimits(),{renderEmoticons:true,renderEmoji:true})):null;var ta=da(o.getByID(pa.authorID)),ua=o.isOptimisticComment(pa),va=o.isReply(this.props.commentID),wa=o.isMobile();return (s.createElement(w,{className:(("_3-8y")+(!va?' '+"_5nz1":'')),spacing:"medium",onMouseEnter:this.$CommentsPluginComment0,onMouseLeave:this.$CommentsPluginComment1},s.createElement(l,{href:ta.uri,src:ta.thumbSrc,isReply:va,target:"_blank"}),s.createElement("div",null,s.createElement(u,{author:ta,delimiter:wa?' ':undefined,key:"author",showHovercard:!wa,target:"_blank"},ta.bio?s.createElement("div",{className:"_4q1v"},s.createElement(g,{target:"_blank",preferredTypes:ta.bio.preferredTypes,stats:ta.bio.stats})):null),s.createElement("div",{className:"_3-8m"},sa),ua||pa.collapsed||pa.flagged?null:s.createElement(j,{commentID:this.props.commentID}),s.createElement(oa,{commentID:this.props.commentID})),s.createElement("div",null,this.state.showMenu&&!ua&&!wa?s.createElement(m,{ref:"menu",commentID:this.props.commentID}):null)));};ka.propTypes={commentID:ga.string.isRequired};var la=s.Component;for(var ma in la)if(la.hasOwnProperty(ma))oa[ma]=la[ma];var na=la===null?null:la.prototype;oa.prototype=Object.create(na);oa.prototype.constructor=oa;oa.__superConstructor__=la;function oa(pa,qa){la.call(this,pa,qa);this.state={loading:false};var ra=this;ra.$CommentsPluginCommentReplies0=this.$CommentsPluginCommentReplies0.bind(this);}oa.prototype.$CommentsPluginCommentReplies0=function(){this.setState({loading:true});o.addListener('moreRepliesCompleted',function(event){if(this.props.commentID===event.commentID){this.setState({loading:false});o.removeCurrentListener();}}.bind(this));i.showMoreReplies(this.props.commentID);};oa.prototype.render=function(){var pa=o.getByID(this.props.commentID),qa=pa.public_replies;if(qa===undefined||pa.collapsed===true||pa.flagged)return pa.composer?s.createElement("div",{className:ca("_44ri _2pis _3-8y",this.props.className)},s.createElement(n,{commentID:this.props.commentID})):null;if(!qa.commentIDs)qa.commentIDs=[];var ra=qa.totalCount-qa.commentIDs.length,sa=o.getPageSize(),ta=ra<sa?ra:sa;return (s.createElement("div",{className:ca("_44ri _2pis",this.props.className)},qa.commentIDs.map(function(ua){if(ua===this.props.commentID)return null;return s.createElement(ka,{commentID:ua,key:ua});}.bind(this)),o.hasUnloadedReplies(this.props.commentID)&&ra>0?s.createElement("div",{className:"_5yct _3-8y _3-96 _2ph-"},this.state.loading?s.createElement(h,null,s.createElement(y,{size:"small"})):s.createElement(q,{onClick:this.$CommentsPluginCommentReplies0},s.createElement(z,{size:"small",weight:"bold"},ta===1?ba._("Show 1 more reply in this thread"):ba._("Show {number of replies} more replies in this thread",[ba.param("number of replies",ta)])),s.createElement(r,{src:ea({name:'triangle-down'})}))):null,pa.composer?s.createElement("div",{className:"_3-8y"},s.createElement(n,{commentID:this.props.commentID})):null));};oa.propTypes={commentID:ga.string.isRequired};e.exports=ka;},null);
__d("CommentsPluginLoadMore.react",["CenteredContainer.react","CommentsPluginActions","CommentsPluginStore","React","XUIButton.react","XUISpinner.react","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){b.__markCompiled&&b.__markCompiled();'use strict';var o=j.Component;for(var p in o)if(o.hasOwnProperty(p))r[p]=o[p];var q=o===null?null:o.prototype;r.prototype=Object.create(q);r.prototype.constructor=r;r.__superConstructor__=o;function r(s,t){o.call(this,s,t);this.state={loading:false};var u=this;u.$CommentsPluginLoadMore0=this.$CommentsPluginLoadMore0.bind(this);}r.prototype.$CommentsPluginLoadMore0=function(){h.showMoreComments();this.setState({loading:true});i.addListener('moreCommentsCompleted',function(){this.setState({loading:false});i.removeCurrentListener();}.bind(this));};r.prototype.render=function(){var s=i.getUnloadedCommentsCount();if(!i.hasUnloadedComments()||s<1)return null;if(this.state.loading)return (j.createElement(g,{className:"_ndl"},j.createElement(l,{size:"large"})));var t=i.getPageSize(),u=s<t?s:t;return (j.createElement("div",{className:"_5o4h"},j.createElement(k,{className:"_1gl3",role:"button",onClick:this.$CommentsPluginLoadMore0,label:u===1?n._("Load 1 more comment"):n._("Load {pagesize} more comments",[n.param("pagesize",u)])})));};e.exports=r;},null);
__d("CommentsPluginListing.react",["CommentsPluginComment.react","CommentsPluginLoadMore.react","CommentsPluginStore","React","cx"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();'use strict';var l=j.Component;for(var m in l)if(l.hasOwnProperty(m))o[m]=l[m];var n=l===null?null:l.prototype;o.prototype=Object.create(n);o.prototype.constructor=o;o.__superConstructor__=l;function o(){if(l!==null)l.apply(this,arguments);}o.prototype.render=function(){var p=i.getCommentIDs(),q=p.map(function(r){return j.createElement(g,{commentID:r,key:r});});return (j.createElement("div",{className:"_4k-6"},q,j.createElement(h,null)));};e.exports=o;},null);
__d("CommentsPluginComposerComment.react",["CommentsPluginActions","CommentsPluginAuthorSelector.react","CommentsPluginComposer.react","CommentsPluginStore","InputLabel.react","LeftRight.react","React","XUIButton.react","XUICheckboxInput.react","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){b.__markCompiled&&b.__markCompiled();'use strict';var r=m.Component;for(var s in r)if(r.hasOwnProperty(s))u[s]=r[s];var t=r===null?null:r.prototype;u.prototype=Object.create(t);u.prototype.constructor=u;u.__superConstructor__=r;function u(v){r.call(this,v);this.state={selectedActorID:j.getUser().id,postToFeed:false,waitingAsyncResponse:false};var w=this;w.$CommentsPluginComposerComment0=this.$CommentsPluginComposerComment0.bind(this);w.$CommentsPluginComposerComment1=this.$CommentsPluginComposerComment1.bind(this);}u.prototype.componentDidMount=function(){j.addListener('composerChange',function(){return this.forceUpdate();}.bind(this));j.addListener('composerCommentAdded',function(){this.setState({waitingAsyncResponse:false});}.bind(this));j.addListener('login',function(){this.setState({waitingAsyncResponse:false});}.bind(this));};u.prototype.$CommentsPluginComposerComment1=function(event){var v=!this.state.postToFeed;this.setState({postToFeed:v});g.setPostToFeed(v);};u.prototype.$CommentsPluginComposerComment2=function(){var v=this.state.selectedActorID;if(v!==j.LOGGED_OUT_USER)return v;return j.getUser().id;};u.prototype.$CommentsPluginComposerComment0=function(){this.setState({waitingAsyncResponse:true});g.setPostToFeed(this.state.postToFeed);g.addComment();};u.prototype.$CommentsPluginComposerComment3=function(){return (this.state.waitingAsyncResponse||j.isEmptyCreateComposer());};u.prototype.render=function(){var v=j.isLoggedIn()?q._("Post"):q._("Log In to Post");return (m.createElement(i,{className:"_2392",readOnly:this.state.waitingAsyncResponse},m.createElement(l,{className:"_5tr6 clearfix _2ph-"},!j.isMirrored()?m.createElement(k,{className:"_1u0n"},m.createElement(o,{checked:this.state.postToFeed,onChange:this.$CommentsPluginComposerComment1}),m.createElement("label",{className:"_3-99 _2ern _50f8 _5kx5"},q._("Also post on Facebook"))):m.createElement("span",null),m.createElement("span",null,m.createElement(n,{disabled:this.$CommentsPluginComposerComment3(),label:v,use:"confirm",className:"rfloat _3-99",onClick:this.$CommentsPluginComposerComment0}),m.createElement(h,{className:"rfloat"})))));};e.exports=u;},null);
__d("XPluginCommentsConfirmPostToFacebookAsyncDialogController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/plugins\/comments\/{comment_id}\/async\/confirm\/publish\/dialog\/",{comment_id:{type:"String",required:true},__asyncDialog:{type:"Int"}});},null);
__d("CommentsPlugin.react",["AsyncDialog","AsyncRequest","CommentsPluginFooter.react","CommentsPluginHeader.react","CommentsPluginListing.react","CommentsPluginComposerComment.react","CommentsPluginStore","XPluginCommentsConfirmPostToFacebookAsyncDialogController","DOMQuery","PluginResize","React","CommentsPluginSentryAction","SimpleXUIDialog","cx","fbt","getElementPosition","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){b.__markCompiled&&b.__markCompiled();'use strict';var x=q,y=x.PropTypes,z=q.Component;for(var aa in z)if(z.hasOwnProperty(aa))ca[aa]=z[aa];var ba=z===null?null:z.prototype;ca.prototype=Object.create(ba);ca.prototype.constructor=ca;ca.__superConstructor__=z;function ca(){if(z!==null)z.apply(this,arguments);}ca.prototype.componentWillMount=function(){m.init(this.props.comments,this.props.meta,this.props.initialOrdering);m.addListener('postError',function(da){s.show(!!da.errorSummary?da.errorSummary:u._("Sorry, something went wrong. Please try again later."));});m.addListener('sentryAction',function(da,ea){switch(da){case r.CONFIRM_POST_TO_PROFILE:var fa=n.getURIBuilder().setString('comment_id',ea).getURI();g.send(new h(fa).setData({iframe_referer:m.getIframeReferer()}));break;default:break;}});};ca.prototype.componentDidMount=function(){p.auto(q.findDOMNode(this));var da=q.findDOMNode(this);new p(function(){return da.offsetWidth;},function(){var ea=da.offsetHeight;if(m.getCommentsCount()>1)return ea;var fa=o.scry(document.body,'.uiLayer:not(.hidden_elem) .uiContextualLayer');if(fa.length===0)return ea;var ga=v(fa[0]);return Math.max(ea,ga.y+ga.height+1);},'resize.iframe',false).resize().auto();m.addListener('change',function(){this.forceUpdate();}.bind(this));};ca.prototype.render=function(){return (q.createElement("div",{className:w("_56q9",this.props.className)},q.createElement("div",{className:"_2pi8"},q.createElement(j,null),q.createElement(l,null),q.createElement(k,null),q.createElement(i,null))));};ca.propTypes={comments:y.object.isRequired,meta:y.object.isRequired,initialOrdering:y.string.isRequired};e.exports=ca;},null);