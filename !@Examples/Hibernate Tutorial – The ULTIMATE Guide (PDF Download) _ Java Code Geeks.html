<!DOCTYPE html>
<!-- saved from url=(0146)http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer -->
<html lang="en-US" prefix="og: http://ogp.me/ns#"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><link rel="stylesheet" type="text/css" href="./Hibernate Tutorial – The ULTIMATE Guide (PDF Download) _ Java Code Geeks_files/single.include.96e557.css" media="all"><script async="" src="./Hibernate Tutorial – The ULTIMATE Guide (PDF Download) _ Java Code Geeks_files/analytics.js"></script><script async="" type="text/javascript" src="./Hibernate Tutorial – The ULTIMATE Guide (PDF Download) _ Java Code Geeks_files/gpt.js"></script><script type="text/javascript" src="./Hibernate Tutorial – The ULTIMATE Guide (PDF Download) _ Java Code Geeks_files/default.include.f80fc5.js"></script><style type="text/css"></style><meta charset="UTF-8"><title>Hibernate Tutorial – The ULTIMATE Guide (PDF Download) | Java Code Geeks</title><link rel="profile" href="http://gmpg.org/xfn/11"><link rel="pingback" href="http://www.javacodegeeks.com/xmlrpc.php"><script type="text/javascript">var googletag=googletag||{};googletag.cmd=googletag.cmd||[];(function(){var gads=document.createElement('script');gads.async=true;gads.type='text/javascript';var useSSL='https:'==document.location.protocol;gads.src=(useSSL?'https:':'http:')+'//www.googletagservices.com/tag/js/gpt.js';var node=document.getElementsByTagName('script')[0];node.parentNode.insertBefore(gads,node);})();</script><script type="text/javascript">googletag.cmd.push(function(){googletag.defineSlot('/70432299/JCG_Header',[728,90],'div-gpt-ad-1415445260332-0').addService(googletag.pubads());googletag.defineSlot('/70432299/JCG_In-post',[300,250],'div-gpt-ad-1415445260332-2').addService(googletag.pubads());googletag.defineSlot('/70432299/JCG_Side',[300,250],'div-gpt-ad-1415445260332-3').addService(googletag.pubads());googletag.defineSlot('/70432299/JCG_Side_1',[300,250],'div-gpt-ad-1415445260332-4').addService(googletag.pubads());googletag.defineSlot('/70432299/JCG_Under-post',[300,250],'div-gpt-ad-1415445260332-5').addService(googletag.pubads());googletag.defineSlot('/70432299/JCG_Side_2',[300,600],'div-gpt-ad-1415445260332-6').addService(googletag.pubads());googletag.defineSlot('/70432299/JCG_NotifBar',[1220,50],'div-gpt-ad-1431445244472-0').addService(googletag.pubads());googletag.pubads().setTargeting("PostID","38731");googletag.pubads().setTargeting("PostCAT","8");googletag.pubads().enableSingleRequest();googletag.enableServices();});</script><meta name="description" content="In this ULTIMATE Hibernate example all major aspects like entity manager, session factory, inheritance and more are explained to quickly get started!"><link rel="canonical" href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html"><link rel="publisher" href="https://plus.google.com/+JavaCodeGeeks/"><meta name="twitter:card" content="summary"><meta name="twitter:description" content="In this ULTIMATE Hibernate example all major aspects like entity manager, session factory, inheritance and more are explained to quickly get started!"><meta name="twitter:title" content="Hibernate Tutorial – The ULTIMATE Guide (PDF Download) | Java Code Geeks"><meta name="twitter:site" content="@javacodegeeks"><meta name="twitter:domain" content="Java Code Geeks"><meta name="twitter:image:src" content="http://a3ab771892fd198a96736e50.javacodegeeks.netdna-cdn.com/wp-content/uploads/2012/10/jboss-hibernate-logo.jpg"><meta name="twitter:creator" content="@javacodegeeks"><link rel="alternate" type="application/rss+xml" title="Java Code Geeks » Feed" href="http://www.javacodegeeks.com/feed/"><link rel="alternate" type="application/rss+xml" title="Java Code Geeks » Comments Feed" href="http://www.javacodegeeks.com/comments/feed/"><link rel="alternate" type="application/rss+xml" title="Java Code Geeks » Hibernate Tutorial – The ULTIMATE Guide (PDF Download) Comments Feed" href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html/feed/"><script type="text/javascript">/*<![CDATA[*/window._wpemojiSettings={"baseUrl":"http:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":"http:\/\/www.javacodegeeks.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.3"}};!function(a,b,c){function d(a){var c=b.createElement("canvas"),d=c.getContext&&c.getContext("2d");return d&&d.fillText?(d.textBaseline="top",d.font="600 32px Arial","flag"===a?(d.fillText(String.fromCharCode(55356,56812,55356,56807),0,0),c.toDataURL().length>3e3):(d.fillText(String.fromCharCode(55357,56835),0,0),0!==d.getImageData(16,16,1,1).data[0])):!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g;c.supports={simple:d("simple"),flag:d("flag")},c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.simple&&c.supports.flag||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);/*]]>*/</script><script src="./Hibernate Tutorial – The ULTIMATE Guide (PDF Download) _ Java Code Geeks_files/wp-emoji-release.min.js" type="text/javascript"></script><style type="text/css">img.wp-smiley,img.emoji{display:inline !important;border:none !important;box-shadow:none !important;height:1em !important;width:1em !important;margin:0
.07em !important;vertical-align:-0.1em !important;background:none !important;padding:0
!important}</style><link rel="stylesheet" id="snp_styles_newtheme7-css" href="./Hibernate Tutorial – The ULTIMATE Guide (PDF Download) _ Java Code Geeks_files/newtheme7.css" type="text/css" media="all"><link rel="stylesheet" id="Oswald-css" href="./Hibernate Tutorial – The ULTIMATE Guide (PDF Download) _ Java Code Geeks_files/css" type="text/css" media="all"><script type="text/javascript" src="./Hibernate Tutorial – The ULTIMATE Guide (PDF Download) _ Java Code Geeks_files/class.js"></script><script type="text/javascript" src="./Hibernate Tutorial – The ULTIMATE Guide (PDF Download) _ Java Code Geeks_files/xdn.js"></script><script type="text/javascript">var adminNoticeGlobalVars={"notice_class":"wprss_admin-notice","nonce_class":"wprss_admin-notice-nonce","btn_close_class":"wprss_admin-notice-btn-close","action_code":"wprss_admin_notice_hide"};</script><script type="text/javascript" src="./Hibernate Tutorial – The ULTIMATE Guide (PDF Download) _ Java Code Geeks_files/aventura.js"></script><link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://www.javacodegeeks.com/xmlrpc.php?rsd"><link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://a3ab771892fd198a96736e50.javacodegeeks.netdna-cdn.com/wp-includes/wlwmanifest.xml"><meta name="generator" content="WordPress 4.3"><link rel="shortlink" href="http://www.javacodegeeks.com/?p=38731"><link rel="shortcut icon" href="http://a3ab771892fd198a96736e50.javacodegeeks.netdna-cdn.com/wp-content/uploads/2012/12/JavaCodeGeeks-favIcon.png" title="Favicon"><meta property="og:title" content="Hibernate Tutorial – The ULTIMATE Guide (PDF Download)"><meta property="og:type" content="article"><meta property="og:description" content="EDITORIAL NOTE: Hibernate ORM (Hibernate in short) is an object-relational mapping framework, facili..."><meta property="og:url" content="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html"><meta property="og:site_name" content="Java Code Geeks"><meta property="og:image" content="http://a3ab771892fd198a96736e50.javacodegeeks.netdna-cdn.com/wp-content/uploads/2012/10/jboss-hibernate-logo.jpg"> <!--[if IE]><script type="text/javascript">jQuery(document).ready(function(){jQuery(".menu-item").has("ul").children("a").attr("aria-haspopup","true");});</script><![endif]--> <!--[if lt IE 9]><script src="http://a3ab771892fd198a96736e50.javacodegeeks.netdna-cdn.com/wp-content/themes/jarida/js/html5.js"></script><script src="http://a3ab771892fd198a96736e50.javacodegeeks.netdna-cdn.com/wp-content/themes/jarida/js/selectivizr-min.js"></script><![endif]--> <!--[if IE 8]><link rel="stylesheet" type="text/css" media="all" href="http://a3ab771892fd198a96736e50.javacodegeeks.netdna-cdn.com/wp-content/themes/jarida/css/ie8.css" /> <![endif]--><script type="text/javascript">var tievar={'go_to':'Go to...'};var tie={"ajaxurl":"http://www.javacodegeeks.com/wp-admin/admin-ajax.php","your_rating":"Your Rating:"};</script><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"><style type="text/css" media="screen">body{background-image:url(http://a3ab771892fd198a96736e50.javacodegeeks.netdna-cdn.com/wp-content/themes/jarida/images/patterns/body-bg1.png);background-position:top center}body.single .entry, body.page
.entry{font-size:15px !important}#main-nav ul li.current-menu-item a,
#main-nav ul li.current-menu-item a:hover,
#main-nav ul li.current-menu-parent a,
#main-nav ul li.current-menu-parent a:hover,
#main-nav ul li.current-page-ancestor a,
#main-nav ul li.current-page-ancestor a:hover,
.pagination span.current,
.ei-slider-thumbs li.ei-slider-element,
.breaking-news span,
.ei-title h2,h2.cat-box-title,
a.more-link,.scroll-nav a,
.flex-direction-nav a,
.tagcloud a:hover,
#tabbed-widget ul.tabs li.active a,
.slider-caption h2, .full-width .content .slider-caption h2,
.review-percentage .review-item span span,.review-final-score,
.woocommerce span.onsale, .woocommerce-page span.onsale ,
.woocommerce .widget_price_filter .ui-slider .ui-slider-handle, .woocommerce-page .widget_price_filter .ui-slider .ui-slider-handle,
.button,a.button,#main-content input[type="submit"],#main-content input[type="submit"]:focus,span.onsale{background-color:#326693 !important}::-webkit-scrollbar-thumb{background-color:#326693 !important}#main-nav,.top-nav{border-bottom-color:#326693}.cat-box , .footer-bottom
.container{border-top-color:#326693}body.single .post .entry a, body.page .post .entry
a{color:#326693}body.single .post .entry a:hover, body.page .post .entry a:hover{color:#478cc4;text-decoration:underline}#main-nav ul
li{text-transform:none}.toc
dl{display:block}.toc
dt{display:block}.toc
dd{display:block;-webkit-margin-start:20px;-moz-margin-start:20px}.toc{line-height:1.4;font-size:90%;border-bottom:1px solid #eee;padding:20px;border:1px
solid #e1e1e1;background:#f1f1f1;border-radius:9px;-moz-border-radius:9px;-webkit-border-radius:9px;width:80%;display:inline-block;margin:20px
0}code{display:inline}.tip{background:url(http://a3ab771892fd198a96736e50.javacodegeeks.netdna-cdn.com/wp-content/uploads/sprites.png) -201px -72px no-repeat;padding:10px
20px 25px 80px;margin:2.5em 1em;border-color:#dedede #d8d8d8 #d3d3d3;text-shadow:0 1px 0 #fff;-webkit-box-shadow:0 1px 1px #eaeaea, inset 0 1px 0 #fbfbfb;-moz-box-shadow:0 1px 1px #eaeaea, inset 0 1px 0 #fbfbfb;box-shadow:0 1px 1px #eaeaea, inset 0 1px 0 #fbfbfb;background-color:#FAFAFA;color:#555;border:1px
solid #DEDEDE;-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px}.download{background:url(http://a3ab771892fd198a96736e50.javacodegeeks.netdna-cdn.com/wp-content/uploads/sprites.png) -266px 0px no-repeat;padding:10px
20px 25px 80px;margin:2.5em 1em;border-color:#dedede #d8d8d8 #d3d3d3;text-shadow:0 1px 0 #fff;-webkit-box-shadow:0 1px 1px #eaeaea, inset 0 1px 0 #fbfbfb;-moz-box-shadow:0 1px 1px #eaeaea, inset 0 1px 0 #fbfbfb;box-shadow:0 1px 1px #eaeaea, inset 0 1px 0 #fbfbfb;background-color:#FAFAFA;color:#555;border:1px
solid #DEDEDE;-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px}.nlbox{background:#E2ECFA;margin:15px
0px 15px;padding:10px;-webkit-border-radius:3px;-mozilla-border-radius:3px;-o-border-radius:3px;border-radius:3px;-moz-box-shadow:0px 2px 2px 1px #d7e1eb;-webkit-box-shadow:0px 2px 2px 1px #d7e1eb;box-shadow:0px 2px 2px 1px #d7e1eb;border:solid 1px #D8D8D8;display:inline-block}.nlbox1{background:#E2ECFA;margin:-10px 0 25px;width:auto;max-width:798px;padding:10px;-webkit-border-radius:3px;-mozilla-border-radius:3px;-o-border-radius:3px;border-radius:3px;-moz-box-shadow:0px 2px 2px 1px #d7e1eb;-webkit-box-shadow:0px 2px 2px 1px #d7e1eb;box-shadow:0px 2px 2px 1px #d7e1eb;border:solid 1px #D8D8D8}.button-gw{border-top:1px solid #96d1f8;background:#65a9d7;background:-webkit-gradient(linear, left top, left bottom, from(#3e779d), to(#65a9d7));background:-webkit-linear-gradient(top, #3e779d, #65a9d7);background:-moz-linear-gradient(top, #3e779d, #65a9d7);background:-ms-linear-gradient(top, #3e779d, #65a9d7);background:-o-linear-gradient(top, #3e779d, #65a9d7);padding:20px
40px;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;-webkit-box-shadow:rgba(0,0,0,1) 0 1px 0;-moz-box-shadow:rgba(0,0,0,1) 0 1px 0;box-shadow:rgba(0,0,0,1) 0 1px 0;text-shadow:rgba(0,0,0,.4) 0 1px 0;color:white;font-size:34px;font-family:Georgia,Serif;text-decoration:none !important;vertical-align:middle}.button-gw:hover{border-top-color:#28597a;background:#28597a;color:#ccc}.button-gw:active{border-top-color:#1b435e;background:#1b435e}.widget_wpjb-recent-jobs .wpjb-grid-compact{margin-left:5%;margin-right:5%}.attribution{border-color:#dedede #d8d8d8 #d3d3d3;text-shadow:0 1px 0 #fff;-webkit-box-shadow:0 1px 1px #eaeaea, inset 0 1px 0 #fbfbfb;-moz-box-shadow:0 1px 1px #eaeaea, inset 0 1px 0 #fbfbfb;box-shadow:0 1px 1px #eaeaea, inset 0 1px 0 #fbfbfb;background:#fff;background:-moz-linear-gradient(top, #fff 0%, #f6f6f6 47%, #ededed 100%);background:-webkit-gradient(linear, left top, left bottom, color-stop(0%,#ffffff), color-stop(47%,#f6f6f6), color-stop(100%,#ededed));background:-webkit-linear-gradient(top, #fff 0%,#f6f6f6 47%,#ededed 100%);background:-o-linear-gradient(top, #fff 0%,#f6f6f6 47%,#ededed 100%);background:-ms-linear-gradient(top, #fff 0%,#f6f6f6 47%,#ededed 100%);background:linear-gradient(top, #fff 0%,#f6f6f6 47%,#ededed 100%);padding:3px
8px;line-height:20px;color:#555;border:1px
solid #DEDEDE;-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px;margin-top:20px;display:inline-block}.attribution
.reference{font-weight:bold}.attribution
table{border:none;background-color:inherit}.attribution table
td{vertical-align:top;padding:0px
5px;border-bottom:none;font-size:inherit}a.TPbutton_w_cnd01lb:hover{background-color:#fc0;background:url(http://a3ab771892fd198a96736e50.javacodegeeks.netdna-cdn.com/wp-content/uploads/sprites.png) 0 -102px;color:#fff;text-decoration:none;transition:none}a.TPbutton_w_cnd01lb{-webkit-border-radius:7px;-mozilla-border-radius:7px;-o-border-radius:7px;border-radius:7px;text-decoration:none;color:#fff;font-family:'lucida sans','lucida grande',arial,helvetica,sans-serif;letter-spacing:-1px;font-weight:bold;background-color:#f90;background:url(http://a3ab771892fd198a96736e50.javacodegeeks.netdna-cdn.com/wp-content/uploads/sprites.png) 0 -73px;padding:4px
10px 4px 10px;font-size:16px;-moz-box-shadow:0px 3px 3px 2px #d7e1eb;-webkit-box-shadow:0px 3px 3px 2px #d7e1eb;box-shadow:0px 3px 3px 2px #d7e1eb;border:solid 2px #fff;width:200px;height:56px;transition:none}.TPbutton_w_cnd01lb_arrow{position:relative;display:inline-block;overflow:hidden;vertical-align:bottom;width:30px;height:20px;background:url(http://a3ab771892fd198a96736e50.javacodegeeks.netdna-cdn.com/wp-content/uploads/sprites.png) -146px 0px}#commentform
input{width:inherit}#author-box .post-listing{margin-bottom:0px}#author-box .block-head
h3{text-transform:none}header#theme-header{margin:0
0 0}blockquote{display:inline-block;margin:20px
0 10px 40px;font-size:14px}blockquote:before{font-size:25px;line-height:inherit}.syntaxhighlighter{display:inline-block}@media (max-width: 767px){#div-gpt-ad-1415445260332-0{display:none}}@media (max-width: 479px){#div-gpt-ad-1415445260332-3{margin-left:-10px}#div-gpt-ad-1415445260332-4{margin-left:-10px}#div-gpt-ad-1415445260332-6{margin-left:-10px}}.wpjb div, body .wpjb p, body .wpjb ul, body .wpjb li, body .wpjb ol, body .wpjb span, body .wpjb img, body .wpjb form, body .wpjb fieldset, body .wpjb label, body .wpjb table, body .wpjb thead, body .wpjb tfoot, body .wpjb tbody, body .wpjb tr, body .wpjb td, body .wpjb strong, body .wpjb b, body .wpjb em, body .wpjb i, body .wpjb
center{margin:0;padding:0;border:0;box-shadow:none;box-sizing:border-box;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;list-style-type:none}.wpjb .wpjb-grid{margin:0% 0% 0% 0%}.wpjb-grid .wpjb-grid-row{clear:both;overflow:hidden;padding:0.75em 0 0.75em 0;margin:0
0 0 0;border-bottom:1px solid whitesmoke}.wpjb-grid .wpjb-grid-row>div{padding:0
1% 0 1%}.wpjb-grid .wpjb-grid-col-right{text-align:right}.wpjb .wpjb-grid .wpjb-sub{display:block;margin:0
0 0 0;padding:2px
0 0 0;line-height:1.3em;font-size:0.95em}.wpjb-col-title{width:40%}[class*='wpjb-col-']{float:left}#wpjb-top-search{margin:0
0 15px 0;padding:8px
2% 2px 2%;clear:both;overflow:hidden}.wpjb .wpjb-layer-inside{border:1px
solid whitesmoke;border-radius:2px;background-color:#fcfcfc;box-shadow:0 1px 1px rgba(0,0,0,.04)}#wpjb-top-search input[type=text]{width:49%;display:inline}.wpjb select, .wpjb textarea, .wpjb input[type=password], .wpjb input[type=text]{margin:2px;padding:6px;box-sizing:border-box;-webkit-box-sizing:border-box;-moz-box-sizing:border-box}#wpjb-top-search ul
li{display:inline-block;line-height:1.2em;margin:2% 1% 1% 1%;float:left}.wpjb input[type=checkbox], .wpjb input[type=radio]{display:inline;margin:0;padding:0;box-sizing:border-box;-webkit-box-sizing:border-box;-moz-box-sizing:border-box}#wpjb-top-search
label{display:inline !important;width:auto;float:none}#wpjb-top-search .wpjb-top-search-submit{float:right;margin:4px
0 4px 0}</style><script type="text/javascript">window.cookieconsent_options={"message":"This website uses cookies to ensure you get the best experience on our website. By using our website, you agree to our use of cookies.","dismiss":"Got it!","learnMore":"More info","link":"http://www.javacodegeeks.com/about/privacy-policy/","theme":"light-floating"};</script><script type="text/javascript" src="./Hibernate Tutorial – The ULTIMATE Guide (PDF Download) _ Java Code Geeks_files/cookieconsent.latest.min.js"></script><script src="http://partner.googleadservices.com/gpt/pubads_impl_69r.js" async=""></script><link rel="stylesheet" type="text/css" href="./Hibernate Tutorial – The ULTIMATE Guide (PDF Download) _ Java Code Geeks_files/light-floating.css"></head><body id="top" class="single single-post postid-38731 single-format-standard"><div class="cc_banner-wrapper "><div class="cc_banner cc_container cc_container--open"><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#null" data-cc-event="click:dismiss" class="cc_btn cc_btn_accept_all">Got it!</a><p class="cc_message">This website uses cookies to ensure you get the best experience on our website. By using our website, you agree to our use of cookies. <a data-cc-if="options.link" class="cc_more_info" href="http://www.javacodegeeks.com/about/privacy-policy/">More info</a></p><a class="cc_logo" target="_blank" href="http://silktide.com/cookieconsent">Cookie Consent plugin for the EU cookie law</a></div></div><div class="x-white foobar-wrapper shadow fb-top" style="height: 58px; bottom: auto; top: 0px;"><table cellpadding="0" cellspacing="0" class="foobar-container" style="border-style: none none solid; border-bottom-width: 3px; border-bottom-color: rgb(255, 255, 255); height: 50px; display: table; background-color: rgb(50, 102, 147);"><tbody><tr class="foobar-container-row"><td class="foobar-container-left" style="height: 50px; width: 0px;"><div class="foobar-container-inner" style="max-height: 50px;"></div></td><td class="foobar-close-button-spacer" style="width: 80px;"></td><td class="foobar-container-center" style="height: 50px; width: 0px;"><div class="foobar-container-inner" style="max-height: 50px;"><div class="foobar-message" style="opacity: 100;"></div><div class="x-white foobar-prev-button" style="height: 50px; margin-top: -25px; display: block; background-color: rgb(50, 102, 147);"></div><div class="x-white foobar-next-button" style="height: 50px; margin-top: -25px; display: block; background-color: rgb(50, 102, 147);"></div></div></td><td class="foobar-container-right" style="height: 50px; width: auto;"><div class="foobar-container-inner" style="max-height: 50px;"><!-- /70432299/JCG_NotifBar --><div id="div-gpt-ad-1431445244472-0" style="height:50px; width:1220px; margin-left: auto; margin-right: auto;"><script src="./Hibernate Tutorial – The ULTIMATE Guide (PDF Download) _ Java Code Geeks_files/fbDFP.js"></script></div></div></td><td class="foobar-close-button-container" style="width: 80px;"><span class="foobar-close-button" style="height: 50px;"></span></td></tr></tbody></table><div class="foobar-shadow"></div><div class="foobar-open-button-container hidden" style="height: 0px; bottom: auto; top: 0px; width: 80px; left: auto; right: 0px; display: block;"><span class="foobar-open-button" style="border-style: none solid solid; border-right-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-color: rgb(255, 255, 255); border-bottom-color: rgb(255, 255, 255); border-left-color: rgb(255, 255, 255); height: 0px; margin-left: -17px; display: none; background-color: rgb(50, 102, 147);"></span></div></div><div class="background-cover"></div><div class="wrapper"><div class="top-nav fade-in animated1 head_menu"><div class="container"><div class="search-block"><form method="get" id="searchform" action="http://www.javacodegeeks.com/"> <button class="search-button" type="submit" value="Search"></button> <input type="text" id="s" name="s" value="Search..." onfocus="if (this.value == &#39;Search...&#39;) {this.value = &#39;&#39;;}" onblur="if (this.value == &#39;&#39;) {this.value = &#39;Search...&#39;;}"></form></div><div class="social-icons icon_flat"> <a class="tooldown ext-link" href="http://feeds.feedburner.com/JavaCodeGeeks" rel="external nofollow" data-wpel-target="_blank" original-title="Rss"><i class="tieicon-rss"></i></a><a class="tooldown ext-link" href="https://plus.google.com/+JavaCodeGeeks/" rel="external nofollow" data-wpel-target="_blank" original-title="Google+"><i class="tieicon-gplus"></i></a><a class="tooldown ext-link" href="https://www.facebook.com/javacodegeeks" rel="external nofollow" data-wpel-target="_blank" original-title="Facebook"><i class="tieicon-facebook"></i></a><a class="tooldown ext-link" href="https://twitter.com/javacodegeeks" rel="external nofollow" data-wpel-target="_blank" original-title="Twitter"><i class="tieicon-twitter"></i></a><a class="tooldown ext-link" href="https://www.linkedin.com/groups/Java-Code-Geeks-3810709" rel="external nofollow" data-wpel-target="_blank" original-title="LinkedIn"><i class="tieicon-linkedin"></i></a></div><div class="top-menu"><ul id="menu-pages" class="menu"><li id="menu-item-38541" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-has-children menu-item-38541 parent-list"><a href="http://www.javacodegeeks.com/#">Knowledge Base <span class="sub-indicator"></span></a><ul class="sub-menu"><li id="menu-item-38217" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-38217 parent-list"><a href="http://www.javacodegeeks.com/tutorials/">Tutorials <span class="sub-indicator"></span></a><ul class="sub-menu"><li id="menu-item-38218" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-38218 parent-list"><a href="http://www.javacodegeeks.com/tutorials/java-tutorials/">Java Tutorials <span class="sub-indicator"></span></a><ul class="sub-menu"><li id="menu-item-38219" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-38219"><a href="http://www.javacodegeeks.com/tutorials/java-tutorials/core-java-tutorials/">Core Java Tutorials</a></li><li id="menu-item-38220" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-38220 parent-list"><a href="http://www.javacodegeeks.com/tutorials/java-tutorials/enterprise-java-tutorials/">Enterprise Java Tutorials <span class="sub-indicator"></span></a><ul class="sub-menu"><li id="menu-item-38221" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-38221"><a href="http://www.javacodegeeks.com/tutorials/java-tutorials/enterprise-java-tutorials/spring-tutorials/">Spring Tutorials</a></li></ul></li><li id="menu-item-38222" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-38222"><a href="http://www.javacodegeeks.com/tutorials/java-tutorials/desktop-java-tutorials/">Desktop Java Tutorials</a></li></ul></li><li id="menu-item-38223" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-38223 parent-list"><a href="http://www.javacodegeeks.com/tutorials/android-tutorials/">Android Tutorials <span class="sub-indicator"></span></a><ul class="sub-menu"><li id="menu-item-38224" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-38224"><a href="http://www.javacodegeeks.com/tutorials/android-tutorials/android-core-tutorials/">Android Core Tutorials</a></li><li id="menu-item-38225" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-38225"><a href="http://www.javacodegeeks.com/tutorials/android-tutorials/android-game-tutorials/">Android Game Tutorials</a></li></ul></li><li id="menu-item-38226" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-38226"><a href="http://www.javacodegeeks.com/tutorials/scala-tutorials/">Scala Tutorials</a></li><li id="menu-item-38227" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-38227"><a href="http://www.javacodegeeks.com/tutorials/devops-tutorials/">DevOps Tutorials</a></li><li id="menu-item-38228" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-38228"><a href="http://www.javacodegeeks.com/tutorials/nosql-tutorials/">NoSQL Tutorials</a></li><li id="menu-item-38229" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-38229"><a href="http://www.javacodegeeks.com/tutorials/groovy-grails-tutorials/">Groovy/Grails Tutorials</a></li></ul></li><li id="menu-item-38243" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-38243 parent-list"><a href="http://www.javacodegeeks.com/resources/">Resources <span class="sub-indicator"></span></a><ul class="sub-menu"><li id="menu-item-38244" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-38244"><a href="http://www.javacodegeeks.com/resources/software/">Software</a></li><li id="menu-item-38245" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-38245"><a href="http://www.javacodegeeks.com/resources/our-projects/">Our Projects</a></li></ul></li><li id="menu-item-38273" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-38273"><a href="http://examples.javacodegeeks.com/" data-wpel-ignored="true">Examples</a></li><li id="menu-item-38275" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-38275"><a href="http://academy.javacodegeeks.com/" data-wpel-ignored="true">Academy</a></li><li id="menu-item-38274" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-38274"><a href="http://www.javacodegeeks.com/whitepaper/">Whitepapers</a></li><li id="menu-item-38276" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-38276"><a href="http://library.javacodegeeks.com/" rel="external nofollow" title="" class="ext-link" data-wpel-target="_blank">Library</a></li></ul></li><li id="menu-item-38240" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-38240 parent-list"><a href="http://www.javacodegeeks.com/job-board/">Job Board <span class="sub-indicator"></span></a><ul class="sub-menu"><li id="menu-item-38241" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-38241"><a href="http://www.javacodegeeks.com/job-board/jobs/">Jobs</a></li></ul></li><li id="menu-item-38230" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-38230 parent-list"><a href="http://www.javacodegeeks.com/join-us/">Join Us <span class="sub-indicator"></span></a><ul class="sub-menu"><li id="menu-item-38231" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-38231"><a href="http://www.javacodegeeks.com/join-us/jcg/">JCG</a></li><li id="menu-item-38232" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-38232 parent-list"><a href="http://www.javacodegeeks.com/join-us/w4g/">W4G <span class="sub-indicator"></span></a><ul class="sub-menu"><li id="menu-item-38233" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-38233"><a href="http://www.javacodegeeks.com/join-us/w4g/submission-guidelines/">Submission Guidelines</a></li><li id="menu-item-38234" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-38234"><a href="http://www.javacodegeeks.com/join-us/w4g/terms-conditions/">Terms &amp; Conditions</a></li></ul></li></ul></li><li id="menu-item-38235" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-38235 parent-list"><a href="http://www.javacodegeeks.com/about/">About <span class="sub-indicator"></span></a><ul class="sub-menu"><li id="menu-item-38236" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-38236"><a href="http://www.javacodegeeks.com/about/about-jcgs/">About JCGs</a></li><li id="menu-item-38237" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-38237"><a href="http://www.javacodegeeks.com/about/advertising/">Advertising</a></li><li id="menu-item-38238" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-38238"><a href="http://www.javacodegeeks.com/about/terms-of-use/">Terms of Use</a></li><li id="menu-item-38239" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-38239"><a href="http://www.javacodegeeks.com/about/privacy-policy/">Privacy Policy</a></li></ul></li></ul><select id="top-menu-mob"><option value="#">Go to...</option><option value="http://www.javacodegeeks.com/#">&nbsp;Knowledge Base </option><option value="http://www.javacodegeeks.com/tutorials/">&nbsp; &nbsp; –&nbsp;Tutorials </option><option value="http://www.javacodegeeks.com/tutorials/java-tutorials/">&nbsp; &nbsp; –&nbsp; &nbsp; –&nbsp;Java Tutorials </option><option value="http://www.javacodegeeks.com/tutorials/java-tutorials/core-java-tutorials/">&nbsp; &nbsp; –&nbsp; &nbsp; –&nbsp; &nbsp; –&nbsp;Core Java Tutorials</option><option value="http://www.javacodegeeks.com/tutorials/java-tutorials/enterprise-java-tutorials/">&nbsp; &nbsp; –&nbsp; &nbsp; –&nbsp; &nbsp; –&nbsp;Enterprise Java Tutorials </option><option value="http://www.javacodegeeks.com/tutorials/java-tutorials/enterprise-java-tutorials/spring-tutorials/">&nbsp; &nbsp; –&nbsp; &nbsp; –&nbsp; &nbsp; –&nbsp; &nbsp; –&nbsp;Spring Tutorials</option><option value="http://www.javacodegeeks.com/tutorials/java-tutorials/desktop-java-tutorials/">&nbsp; &nbsp; –&nbsp; &nbsp; –&nbsp; &nbsp; –&nbsp;Desktop Java Tutorials</option><option value="http://www.javacodegeeks.com/tutorials/android-tutorials/">&nbsp; &nbsp; –&nbsp; &nbsp; –&nbsp;Android Tutorials </option><option value="http://www.javacodegeeks.com/tutorials/android-tutorials/android-core-tutorials/">&nbsp; &nbsp; –&nbsp; &nbsp; –&nbsp; &nbsp; –&nbsp;Android Core Tutorials</option><option value="http://www.javacodegeeks.com/tutorials/android-tutorials/android-game-tutorials/">&nbsp; &nbsp; –&nbsp; &nbsp; –&nbsp; &nbsp; –&nbsp;Android Game Tutorials</option><option value="http://www.javacodegeeks.com/tutorials/scala-tutorials/">&nbsp; &nbsp; –&nbsp; &nbsp; –&nbsp;Scala Tutorials</option><option value="http://www.javacodegeeks.com/tutorials/devops-tutorials/">&nbsp; &nbsp; –&nbsp; &nbsp; –&nbsp;DevOps Tutorials</option><option value="http://www.javacodegeeks.com/tutorials/nosql-tutorials/">&nbsp; &nbsp; –&nbsp; &nbsp; –&nbsp;NoSQL Tutorials</option><option value="http://www.javacodegeeks.com/tutorials/groovy-grails-tutorials/">&nbsp; &nbsp; –&nbsp; &nbsp; –&nbsp;Groovy/Grails Tutorials</option><option value="http://www.javacodegeeks.com/resources/">&nbsp; &nbsp; –&nbsp;Resources </option><option value="http://www.javacodegeeks.com/resources/software/">&nbsp; &nbsp; –&nbsp; &nbsp; –&nbsp;Software</option><option value="http://www.javacodegeeks.com/resources/our-projects/">&nbsp; &nbsp; –&nbsp; &nbsp; –&nbsp;Our Projects</option><option value="http://examples.javacodegeeks.com/">&nbsp; &nbsp; –&nbsp;Examples</option><option value="http://academy.javacodegeeks.com/">&nbsp; &nbsp; –&nbsp;Academy</option><option value="http://www.javacodegeeks.com/whitepaper/">&nbsp; &nbsp; –&nbsp;Whitepapers</option><option value="http://library.javacodegeeks.com/">&nbsp; &nbsp; –&nbsp;Library</option><option value="http://www.javacodegeeks.com/job-board/">&nbsp;Job Board </option><option value="http://www.javacodegeeks.com/job-board/jobs/">&nbsp; &nbsp; –&nbsp;Jobs</option><option value="http://www.javacodegeeks.com/join-us/">&nbsp;Join Us </option><option value="http://www.javacodegeeks.com/join-us/jcg/">&nbsp; &nbsp; –&nbsp;JCG</option><option value="http://www.javacodegeeks.com/join-us/w4g/">&nbsp; &nbsp; –&nbsp;W4G </option><option value="http://www.javacodegeeks.com/join-us/w4g/submission-guidelines/">&nbsp; &nbsp; –&nbsp; &nbsp; –&nbsp;Submission Guidelines</option><option value="http://www.javacodegeeks.com/join-us/w4g/terms-conditions/">&nbsp; &nbsp; –&nbsp; &nbsp; –&nbsp;Terms &amp; Conditions</option><option value="http://www.javacodegeeks.com/about/">&nbsp;About </option><option value="http://www.javacodegeeks.com/about/about-jcgs/">&nbsp; &nbsp; –&nbsp;About JCGs</option><option value="http://www.javacodegeeks.com/about/advertising/">&nbsp; &nbsp; –&nbsp;Advertising</option><option value="http://www.javacodegeeks.com/about/terms-of-use/">&nbsp; &nbsp; –&nbsp;Terms of Use</option><option value="http://www.javacodegeeks.com/about/privacy-policy/">&nbsp; &nbsp; –&nbsp;Privacy Policy</option></select></div></div></div><div class="container"> <header id="theme-header"><div class="header-content fade-in animated1"><div class="logo"><h2> <a title="Java Code Geeks" href="http://www.javacodegeeks.com/"> <img src="./Hibernate Tutorial – The ULTIMATE Guide (PDF Download) _ Java Code Geeks_files/JavaCodeGeeks-logo.png" alt="Java Code Geeks"><strong>Java Code Geeks Java 2 Java Developers Resource Center</strong> </a></h2></div><div class="ads-top"><div id="div-gpt-ad-1415445260332-0" style="width:728px; height:90px;"><script type="text/javascript">googletag.cmd.push(function(){googletag.display('div-gpt-ad-1415445260332-0');});</script></div></div><div class="clear"></div></div> <nav id="main-nav" class="fade-in animated2"><div class="container"><div class="main-menu"><ul id="menu-categories" class="menu"><li id="menu-item-38251" class="menu-item  menu-item-type-taxonomy  menu-item-object-category  menu-item-has-children parent-list"><a href="http://www.javacodegeeks.com/category/android/">Android <span class="sub-indicator"></span></a><ul class="sub-menu"><li id="menu-item-38252" class="menu-item  menu-item-type-taxonomy  menu-item-object-category"><a href="http://www.javacodegeeks.com/category/android/android-core/">Android Core</a></li><li id="menu-item-38253" class="menu-item  menu-item-type-taxonomy  menu-item-object-category"><a href="http://www.javacodegeeks.com/category/android/android-games/">Android Games</a></li></ul></li><li id="menu-item-38257" class="menu-item  menu-item-type-taxonomy  menu-item-object-category  current-post-ancestor  menu-item-has-children parent-list"><a href="http://www.javacodegeeks.com/category/java/">Java <span class="sub-indicator"></span></a><ul class="sub-menu"><li id="menu-item-38258" class="menu-item  menu-item-type-taxonomy  menu-item-object-category"><a href="http://www.javacodegeeks.com/category/java/core-java/">Core Java</a></li><li id="menu-item-38259" class="menu-item  menu-item-type-taxonomy  menu-item-object-category"><a href="http://www.javacodegeeks.com/category/java/desktop-java/">Desktop Java</a></li><li id="menu-item-38260" class="menu-item  menu-item-type-taxonomy  menu-item-object-category  current-post-ancestor  current-menu-parent  current-post-parent"><a href="http://www.javacodegeeks.com/category/java/enterprise-java/">Enterprise Java</a></li></ul></li><li id="menu-item-38261" class="menu-item  menu-item-type-taxonomy  menu-item-object-category  menu-item-has-children parent-list"><a href="http://www.javacodegeeks.com/category/jvm-languages/">JVM Languages <span class="sub-indicator"></span></a><ul class="sub-menu"><li id="menu-item-38262" class="menu-item  menu-item-type-taxonomy  menu-item-object-category"><a href="http://www.javacodegeeks.com/category/jvm-languages/ceylon/">Ceylon</a></li><li id="menu-item-38263" class="menu-item  menu-item-type-taxonomy  menu-item-object-category"><a href="http://www.javacodegeeks.com/category/jvm-languages/clojure/">Clojure</a></li><li id="menu-item-38264" class="menu-item  menu-item-type-taxonomy  menu-item-object-category"><a href="http://www.javacodegeeks.com/category/jvm-languages/groovy/">Groovy</a></li><li id="menu-item-38265" class="menu-item  menu-item-type-taxonomy  menu-item-object-category"><a href="http://www.javacodegeeks.com/category/jvm-languages/jruby/">JRuby</a></li><li id="menu-item-38266" class="menu-item  menu-item-type-taxonomy  menu-item-object-category"><a href="http://www.javacodegeeks.com/category/jvm-languages/kotlin/">Kotlin</a></li><li id="menu-item-38267" class="menu-item  menu-item-type-taxonomy  menu-item-object-category"><a href="http://www.javacodegeeks.com/category/jvm-languages/scala/">Scala</a></li></ul></li><li id="menu-item-38271" class="menu-item  menu-item-type-taxonomy  menu-item-object-category"><a href="http://www.javacodegeeks.com/category/software-development/">Software Development</a></li><li id="menu-item-38250" class="menu-item  menu-item-type-taxonomy  menu-item-object-category"><a href="http://www.javacodegeeks.com/category/agile/">Agile</a></li><li id="menu-item-38254" class="menu-item  menu-item-type-taxonomy  menu-item-object-category"><a href="http://www.javacodegeeks.com/category/career/">Career</a></li><li id="menu-item-38255" class="menu-item  menu-item-type-taxonomy  menu-item-object-category"><a href="http://www.javacodegeeks.com/category/communications/">Communications</a></li><li id="menu-item-38256" class="menu-item  menu-item-type-taxonomy  menu-item-object-category"><a href="http://www.javacodegeeks.com/category/devops/">DevOps</a></li><li id="menu-item-38268" class="menu-item  menu-item-type-taxonomy  menu-item-object-category  menu-item-has-children parent-list"><a href="http://www.javacodegeeks.com/category/meta-jcg/">Meta JCG <span class="sub-indicator"></span></a><ul class="sub-menu"><li id="menu-item-38269" class="menu-item  menu-item-type-taxonomy  menu-item-object-category"><a href="http://www.javacodegeeks.com/category/meta-jcg/best-of-the-week/">Best Of The Week</a></li><li id="menu-item-38270" class="menu-item  menu-item-type-taxonomy  menu-item-object-category"><a href="http://www.javacodegeeks.com/category/misc/">Misc</a></li></ul></li></ul><select id="main-menu-mob"><option value="#">Go to...</option><option value="http://www.javacodegeeks.com/category/android/">&nbsp;Android </option><option value="http://www.javacodegeeks.com/category/android/android-core/">&nbsp; &nbsp; –&nbsp;Android Core</option><option value="http://www.javacodegeeks.com/category/android/android-games/">&nbsp; &nbsp; –&nbsp;Android Games</option><option value="http://www.javacodegeeks.com/category/java/">&nbsp;Java </option><option value="http://www.javacodegeeks.com/category/java/core-java/">&nbsp; &nbsp; –&nbsp;Core Java</option><option value="http://www.javacodegeeks.com/category/java/desktop-java/">&nbsp; &nbsp; –&nbsp;Desktop Java</option><option value="http://www.javacodegeeks.com/category/java/enterprise-java/">&nbsp; &nbsp; –&nbsp;Enterprise Java</option><option value="http://www.javacodegeeks.com/category/jvm-languages/">&nbsp;JVM Languages </option><option value="http://www.javacodegeeks.com/category/jvm-languages/ceylon/">&nbsp; &nbsp; –&nbsp;Ceylon</option><option value="http://www.javacodegeeks.com/category/jvm-languages/clojure/">&nbsp; &nbsp; –&nbsp;Clojure</option><option value="http://www.javacodegeeks.com/category/jvm-languages/groovy/">&nbsp; &nbsp; –&nbsp;Groovy</option><option value="http://www.javacodegeeks.com/category/jvm-languages/jruby/">&nbsp; &nbsp; –&nbsp;JRuby</option><option value="http://www.javacodegeeks.com/category/jvm-languages/kotlin/">&nbsp; &nbsp; –&nbsp;Kotlin</option><option value="http://www.javacodegeeks.com/category/jvm-languages/scala/">&nbsp; &nbsp; –&nbsp;Scala</option><option value="http://www.javacodegeeks.com/category/software-development/">&nbsp;Software Development</option><option value="http://www.javacodegeeks.com/category/agile/">&nbsp;Agile</option><option value="http://www.javacodegeeks.com/category/career/">&nbsp;Career</option><option value="http://www.javacodegeeks.com/category/communications/">&nbsp;Communications</option><option value="http://www.javacodegeeks.com/category/devops/">&nbsp;DevOps</option><option value="http://www.javacodegeeks.com/category/meta-jcg/">&nbsp;Meta JCG </option><option value="http://www.javacodegeeks.com/category/meta-jcg/best-of-the-week/">&nbsp; &nbsp; –&nbsp;Best Of The Week</option><option value="http://www.javacodegeeks.com/category/misc/">&nbsp; &nbsp; –&nbsp;Misc</option></select></div></div> </nav> </header><div id="main-content" class="container fade-in animated3 sidebar-narrow-left"><div class="content-wrap-wide"><div class="content"><div xmlns:v="http://rdf.data-vocabulary.org/#" id="crumbs"><span typeof="v:Breadcrumb"><a rel="v:url" property="v:title" class="crumbs-home" href="http://www.javacodegeeks.com/"><i class="tieicon-home"></i>Home</a></span> » <span typeof="v:Breadcrumb"><a rel="v:url" property="v:title" href="http://www.javacodegeeks.com/category/java/">Java</a></span> » <span typeof="v:Breadcrumb"><a rel="v:url" property="v:title" href="http://www.javacodegeeks.com/category/java/enterprise-java/">Enterprise Java</a></span> » <span class="current">Hibernate Tutorial – The ULTIMATE Guide (PDF Download)</span></div> <section id="author-box"><div class="block-head"><h3>About Martin Mois</h3></div><div class="post-listing"><div class="author-avatar"> <img alt="" src="./Hibernate Tutorial – The ULTIMATE Guide (PDF Download) _ Java Code Geeks_files/623d489d25fc1ad017a2ed2b417fddd8" srcset="http://0.gravatar.com/avatar/623d489d25fc1ad017a2ed2b417fddd8?s=120&amp;d=mm&amp;r=g 2x" class="avatar avatar-60 photo" height="60" width="60"></div><div class="author-description"> Martin is a Java EE enthusiast and works for an international operating company. He is interested in clean code and the software craftsmanship approach. He also strongly believes in automated testing and continuous integration.</div><div class="author-social"> <a class="ttip ext-link" href="http://martinsdeveloperworld.wordpress.com/" rel="external nofollow" data-wpel-target="_blank" original-title="Martin Mois &#39;s site"><img src="./Hibernate Tutorial – The ULTIMATE Guide (PDF Download) _ Java Code Geeks_files/author_site.png" width="18" height="18" alt=""></a></div><div class="clear"></div></div> </section> <article class="post-listing post-38731 post type-post status-publish format-standard has-post-thumbnail hentry category-enterprise-java tag-jboss-hibernate tag-ultimate"><div class="post-inner"><h1 class="name post-title entry-title" itemprop="itemReviewed" itemscope="" itemtype="http://schema.org/Thing"><span itemprop="name">Hibernate Tutorial – The ULTIMATE Guide (PDF Download)</span></h1><p class="post-meta"> <span class="post-meta-author">Posted by: <a href="http://www.javacodegeeks.com/author/martin-mois/" title="">Martin Mois </a></span> <span class="post-cats">in <a href="http://www.javacodegeeks.com/category/java/enterprise-java/" rel="category tag">Enterprise Java</a></span> <span class="tie-date">March 31st, 2015</span></p><div class="clear"></div><div class="entry"><div class="ads-post"><div id="div-gpt-ad-1415445260332-2" style="width:300px; height:250px;float:left; margin-right:20px;"><script type="text/javascript">googletag.cmd.push(function(){googletag.display('div-gpt-ad-1415445260332-2');});</script></div></div><p><em><strong>EDITORIAL NOTE:</strong> Hibernate ORM (Hibernate in short) is an object-relational mapping framework, facilitating the conversion of an object-oriented domain model to a traditional relational database. Hibernate solves the object-relational impedance mismatch problems by replacing direct persistence-related database accesses with high-level object handling functions.</em></p><p><em>Hibernate is one of the most popular Java frameworks out there. For this reason we have provided an abundance of tutorials here at Java Code Geeks, most of which can be found <a href="http://www.javacodegeeks.com/tutorials/java-tutorials/enterprise-java-tutorials/#Hibernate">here</a>.</em></p><p><em>Now, we wanted to create a standalone, reference post to provide a framework on how to work with Hibernate and help you quickly kick-start your Hibernate applications. Enjoy!</em><br></p><div id="mc4wp-form-1" class="form mc4wp-form mc4wp-form-39801 mc4wp-ajax"><form method="post"><div class="nlbox" style="font-family: Tahoma,Arial,Verdana,sans-serif; font-size: 13px;"><h1 style="font-family: inherit; font-size: 2em; margin: 0; text-align: center;">Want to be a Hibernate Master ?</h1><div style="background: url(&#39;http://a3ab771892fd198a96736e50.javacodegeeks.netdna-cdn.com/wp-content/uploads/2015/05/hibernate-tutorial_book.png&#39;) no-repeat; float:left; padding: 75px 120px 240px; margin-top: -10px;"></div><table style="margin-top: 20px; border: none; background-color: inherit; width: inherit; font-family: inherit; padding-left: 20px;"><tbody><tr><td style="vertical-align:top; border: none; padding: 0; font-size: inherit;"><h2 style="font-family: inherit; font-size: 1.5em; margin: 0;">Subscribe to our newsletter and download the Hibernate <span style="color: #CAB43D; text-shadow: 1px 1px #835D5D;">Ultimate</span> Guide <span style="text-decoration: underline;">right now!</span></h2><h5>In order to help you master JPA and database programming with Hibernate, we have compiled a kick-ass guide with all the major Hibernate features and use cases! Besides studying them online you may download the eBook in PDF format!</h5><p>&nbsp;</p><p> <label for="mc4wp_email"><span style="font-weight: bold; font-size: 13pt;">Email address: </span></label> <input type="email" id="mc4wp_email" name="EMAIL" required="" placeholder="Your email address"></p> <input type="submit" value="Sign up"></td></tr></tbody></table></div><span class="mc4wp-ajax-loader" style="display: none;"></span><div style="position: absolute; left: -5000px;"><input type="text" name="_mc4wp_required_but_not_really" value="" tabindex="-1"></div><input type="hidden" name="_mc4wp_timestamp" value="1440253454"><input type="hidden" name="_mc4wp_form_id" value="39801"><input type="hidden" name="_mc4wp_form_element_id" value="mc4wp-form-1"><input type="hidden" name="_mc4wp_form_submit" value="1"><input type="hidden" name="_mc4wp_form_nonce" value="3b766b82db"></form><div class="mc4wp-response"></div></div><div class="toc"><h3>Table Of Contents</h3><dl><dt><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#introduction">1. Introduction</a></dt><dt><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#setup">2. Project setup</a></dt><dt><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#basics">3. Basics</a></dt><dd><dl><dt><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#sessionmanager">3.1. SessionFactory and Session</a></dt><dt><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#transactions">3.2. Transactions</a></dt><dt><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#tables">3.3. Tables</a></dt></dl></dd><dt><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#intheritance">4. Inheritance</a></dt><dt><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#relationships">5. Relationships</a></dt><dd><dl><dt><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#relationships_onetoone">5.1. OneToOne</a></dt><dt><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#relationships_onetomany">5.2. OneToMany</a></dt><dt><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#relationships_manytomany">5.3. ManyToMany</a></dt><dt><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#relationships_components">5.4. Components</a></dt></dl></dd><dt><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#dataTypes">6. User-defined Data Types</a></dt><dt><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#interceptors">7. Interceptors</a></dt><dt><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#download">8. Download</a></dt></dl></div><h2><a name="introduction"></a>Introduction</h2><p>Hibernate is one of the most popular Object/Relational Mapping (ORM) framework in the Java world. It allows developers to map the object structures of normal Java classes to the relational structure of a database. With the help of an ORM framework the work to store data from object instances in memory to a persistent data store and load them back into the same object structure becomes significantly easier.</p><p>At the same time ORM solutions like Hibernate aim to abstract from the specific product used to store the data. This allows using the same Java code with different database products without the need to write code that handles the subtle differences between the supported products.</p><p>Hibernate is also a JPA provider, that means it implements the <a href="http://www.javacodegeeks.com/2015/02/jpa-tutorial.html">Java Persistence API (JPA)</a>. JPA is a vendor independent specification for mapping Java objects to the tables of relational databases. As another article of the Ultimate series already addresses the JPA, this article focuses on Hibernate and therefore does not use the JPA annotations but rather the Hibernate specific configuration files.</p><p>Hibernate consists of three different components:</p><ul><li><strong>Entities</strong>: The classes that are mapped by Hibernate to the tables of a relational database system are simple Java classes (Plain Old Java Objects).</li><li><strong>Object-relational metadata</strong>: The information how to map the entities to the relational database is either provided by annotations (since Java 1.5) or by legacy XML-based configuration files. The information in these files is used at runtime to perform the mapping to the data store and back to the Java objects.</li><li><strong>Hibernate Query Language (HQL)</strong>: When using Hibernate, queries send to the database do not have to be formulated in native SQL but can be specified using Hibernate’s query language. As these queries are translated at runtime into the currently used dialect of the chose product, queries formulated in HQL are independent from the SQL dialect of a specific vendor.</li></ul><p>In this tutorial we are going through different aspects of the framework and will develop a simple Java SE application that stores and retrieves data in/from a relational database. We will use the following libraries/environments:</p><ul><li>maven &gt;= 3.0 as build environment</li><li>Hibernate(4.3.8.Final)</li><li>H2 as relational database (1.3.176)</li></ul><h2><a name="setup"></a>Project setup</h2><p>As a first step we will create a simple maven project on the command line:</p><div id="highlighter_634171" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>1</code></td><td class="content"><code class="plain">mvn archetype:create -DgroupId=com.javacodegeeks.ultimate -DartifactId=hibernate</code></td></tr></tbody></table></div></div></div><p>This command will create the following structure in the file system:</p><div id="highlighter_320069" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>01</code></td><td class="content"><code class="plain">|-- src</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>02</code></td><td class="content"><code class="plain">|&nbsp;&nbsp; |-- main</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>03</code></td><td class="content"><code class="plain">|&nbsp;&nbsp; |&nbsp;&nbsp; `-- java</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>04</code></td><td class="content"><code class="plain">|&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; `-- com </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>05</code></td><td class="content"><code class="plain">|&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; `-- javacodegeeks</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>06</code></td><td class="content"><code class="plain">|&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; `-- ultimate</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>07</code></td><td class="content"><code class="plain">|&nbsp;&nbsp; `-- </code><code class="functions">test</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>08</code></td><td class="content"><code class="plain">|&nbsp;&nbsp; |&nbsp;&nbsp; `-- java</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>09</code></td><td class="content"><code class="plain">|&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; `-- com </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>10</code></td><td class="content"><code class="plain">|&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; `-- javacodegeeks</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>11</code></td><td class="content"><code class="plain">|&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; `-- ultimate</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>12</code></td><td class="content"><code class="plain">`-- pom.xml</code></td></tr></tbody></table></div></div></div><p>The libraries our implementation depends on are added to the dependencies section of the <code>pom.xml</code> file in the following way:</p><div id="highlighter_7000" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>01</code></td><td class="content"><code class="plain">&lt;</code><code class="keyword">properties</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>02</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">h2.version</code><code class="plain">&gt;1.3.176&lt;/</code><code class="keyword">h2.version</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>03</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">hibernate.version</code><code class="plain">&gt;4.3.8.Final&lt;/</code><code class="keyword">hibernate.version</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>04</code></td><td class="content"><code class="plain">&lt;/</code><code class="keyword">properties</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>05</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>06</code></td><td class="content"><code class="plain">&lt;</code><code class="keyword">dependencies</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>07</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">dependency</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>08</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">groupid</code><code class="plain">&gt;com.h2database&lt;/</code><code class="keyword">groupid</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>09</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">artifactid</code><code class="plain">&gt;h2&lt;/</code><code class="keyword">artifactid</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>10</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">version</code><code class="plain">&gt;${h2.version}&lt;/</code><code class="keyword">version</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>11</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;/</code><code class="keyword">dependency</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>12</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">dependency</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>13</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">groupid</code><code class="plain">&gt;org.hibernate&lt;/</code><code class="keyword">groupid</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>14</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">artifactid</code><code class="plain">&gt;hibernate-core&lt;/</code><code class="keyword">artifactid</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>15</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">version</code><code class="plain">&gt;${hibernate.version}&lt;/</code><code class="keyword">version</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>16</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;/</code><code class="keyword">dependency</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>17</code></td><td class="content"><code class="plain">&lt;/</code><code class="keyword">dependencies</code><code class="plain">&gt;</code></td></tr></tbody></table></div></div></div><p>To get a better overview of the separate versions, we define each version as a maven property and reference it later on in the dependencies section.</p><h2><a name="basics"></a>3. Basics</h2><h3><a name="sessionmanager"></a>3.1. SessionFactory and Session</h3><p>Now we cat start to implement our first O/R mapping. Let’s start with a simple class that provides a <code>run()</code> method that is invoked in the application’s <code>main</code> method:</p><div id="highlighter_91172" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>01</code></td><td class="content"><code class="keyword">public</code> <code class="keyword">class</code> <code class="plain">Main {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>02</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">private</code> <code class="keyword">static</code> <code class="keyword">final</code> <code class="plain">Logger LOGGER = Logger.getLogger(</code><code class="string">"Hibernate-Tutorial"</code><code class="plain">);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>03</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>04</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">public</code> <code class="keyword">static</code> <code class="keyword">void</code> <code class="plain">main(String[] args) {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>05</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">Main main = </code><code class="keyword">new</code> <code class="plain">Main();</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>06</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">main.run();</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>07</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>08</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>09</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">public</code> <code class="keyword">void</code> <code class="plain">run() {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>10</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">SessionFactory sessionFactory = </code><code class="keyword">null</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>11</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">Session session = </code><code class="keyword">null</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>12</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">try</code> <code class="plain">{</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>13</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">Configuration configuration = </code><code class="keyword">new</code> <code class="plain">Configuration();</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>14</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">configuration.configure(</code><code class="string">"hibernate.cfg.xml"</code><code class="plain">);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>15</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">ServiceRegistry serviceRegistry = </code><code class="keyword">new</code> <code class="plain">StandardServiceRegistryBuilder().applySettings(configuration.getProperties()).build();</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>16</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">sessionFactory = configuration.buildSessionFactory(serviceRegistry);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>17</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">session = sessionFactory.openSession();</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>18</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">persistPerson(session);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>19</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">} </code><code class="keyword">catch</code> <code class="plain">(Exception e) {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>20</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">LOGGER.log(Level.SEVERE, e.getMessage(), e);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>21</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">} </code><code class="keyword">finally</code> <code class="plain">{</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>22</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(session != </code><code class="keyword">null</code><code class="plain">) {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>23</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">session.close();</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>24</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>25</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(sessionFactory != </code><code class="keyword">null</code><code class="plain">) {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>26</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">sessionFactory.close();</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>27</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>28</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>29</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>30</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">...</code></td></tr></tbody></table></div></div></div><p>The <code>run()</code> method creates a new instance of the class <code>org.hibernate.cfg.Configuration</code> that is subsequently configured using the XML file <code>hibernate.cfg.xml</code>. Placing the configuration file in the folder <code>src/main/resources</code> of our project lets maven put it to the root of the created jar file. This way the file is found at runtime on the classpath.</p><p>As a second step the <code>run()</code> method constructs a <code>ServiceRegistry</code> that uses the previously loaded configuration. An instance of this <code>ServiceRegistry</code> can now be passed as an argument to the method <code>buildSessionFactroy()</code> of the <code>Configuration</code>. This <code>SessionFactory</code> can now be used to obtain the session needed to store and load entities to the underlying data store.</p><p>The configuration file <code>hibernate.cfg.xml</code> has the following content:</p><div id="highlighter_819838" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>01</code></td><td class="content"><code class="comments">&lt;!--?xml version='1.0' encoding='utf-8'?--&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>02</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>03</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>04</code></td><td class="content"><code class="plain">&lt;</code><code class="keyword">hibernate-configuration</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>05</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">session-factory</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>06</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">property</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"connection.driver_class"</code><code class="plain">&gt;org.h2.Driver&lt;/</code><code class="keyword">property</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>07</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">property</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"connection.url"</code><code class="plain">&gt;jdbc:h2:~/hibernate;AUTOCOMMIT=OFF&lt;/</code><code class="keyword">property</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>08</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">property</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"connection.username"</code><code class="plain">&gt;&lt;/</code><code class="keyword">property</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>09</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">property</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"connection.password"</code><code class="plain">&gt;&lt;/</code><code class="keyword">property</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>10</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">property</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"connection.pool_size"</code><code class="plain">&gt;1&lt;/</code><code class="keyword">property</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>11</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">property</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"dialect"</code><code class="plain">&gt;org.hibernate.dialect.H2Dialect&lt;/</code><code class="keyword">property</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>12</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">property</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"current_session_context_class"</code><code class="plain">&gt;thread&lt;/</code><code class="keyword">property</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>13</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">property</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"cache.provider_class"</code><code class="plain">&gt;org.hibernate.cache.internal.NoCacheProvider&lt;/</code><code class="keyword">property</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>14</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">property</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"show_sql"</code><code class="plain">&gt;true&lt;/</code><code class="keyword">property</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>15</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">property</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"format_sql"</code><code class="plain">&gt;true&lt;/</code><code class="keyword">property</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>16</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">property</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"hbm2ddl.auto"</code><code class="plain">&gt;create&lt;/</code><code class="keyword">property</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>17</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">mapping</code> <code class="color1">resource</code><code class="plain">=</code><code class="string">"Project.hbm.xml"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>18</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;/</code><code class="keyword">mapping</code><code class="plain">&gt;&lt;/</code><code class="keyword">session-factory</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>19</code></td><td class="content"><code class="plain">&lt;/</code><code class="keyword">hibernate-configuration</code><code class="plain">&gt;</code></td></tr></tbody></table></div></div></div><p>As we see from the example above, the configuration file defines a set of properties for the session factory. The first property <code>connection.driver_class</code> specifies the database driver that should be used. In our example this is the driver for the H2 database. Through the property <code>connection.url</code>, the JDBC-URL is specified. In our case defines that we want to use h2 and that the single database file where H2 stores its data should be located in the home directory of the user and should be named <code>hibernate</code> (<code>~/hibernate</code>). As we want to commit our transactions in the example code on our own, we also define the H2 specific configuration option <code>AUTOCOMMIT=OFF</code>.</p><p>Next the configuration file defines the username and password for the database connection as well as the size of the connection pool. Our sample application just executes code in one single thread, therefore we can set the pool size to one. In cases of an application that has to deal with multiple threads and users, an appropriate pool size has to be chosen.</p><p>The property <code>dialect</code> specifies a Java class that performs the translation into the database specific SQL dialect.</p><p>As of version 3.1, Hibernate provides a method named <code>SessionFactory.getCurrentSession()</code> that allows the developer to obtain a reference to the current session. With the configuration property <code>current_session_context_class</code> it can be configured where Hibernate should obtain this session from. The default value for this property is <code>jta</code> meaning that Hibernate obtains the session from the underlying Java Transaction API (JTA). As we are not using JTA in this sample, we instruct Hibernate with the configuration value <code>thread</code> to store and retrieve the session to/from the current thread.</p><p>For the sake of simplicity, we do not want to utilize an entity cache. Hence we set the property <code>cache.provider_class</code> to <code>org.hibernate.cache.internal.NoCacheProvider</code>.</p><p>The following two options tell Hibernate to print out each SQL statement to the console and to format it for better readability. In order to relieve us for development purposes from the burden to create the schema manually, we instruct Hibernate with the option <code>hbm2ddl.auto</code> set to <code>create</code> to create all tables during startup.</p><p>Last but not least we define a mapping resource file that contains all the mapping information for our application. The content of this file will be explained in the following sections.</p><p>As mentioned above, the session is used to communicate with the data store and actually represents a JDBC connection. This means all interaction with the connection is done through the session. It is single-threaded and provides a cache for all objects it has up to now worked with. Therefore each thread in the application should work with its own session that it obtains from the session factory.</p><p>In contrast to the session, the session factory is thread-safe and provides an immutable cache for the define mappings. For each database there is exactly one session factory. Optionally, the session factory can provide in addition to the session’s first level cache an application wide second level cache.</p><h3><a name="transactions"></a>3.2. Transactions</h3><p>In the <code>hibernate.cfg.xml</code> configuration file we have configured to manage transactions on our own. Hence we have to manually start and commit or rollback every transaction. The following code demonstrates how to obtain a new transaction from the session and how to start and commit it:</p><div id="highlighter_455747" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>01</code></td><td class="content"><code class="keyword">try</code> <code class="plain">{</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>02</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">Transaction transaction = session.getTransaction();</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>03</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">transaction.begin();</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>04</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">...</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>05</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">transaction.commit();</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>06</code></td><td class="content"><code class="plain">} </code><code class="keyword">catch</code> <code class="plain">(Exception e) {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>07</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(session.getTransaction().isActive()) {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>08</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">session.getTransaction().rollback();</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>09</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>10</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">throw</code> <code class="plain">e;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>11</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div></div></div><p>In the first step we call <code>getTransaction()</code> in order to retrieve a reference for a new transaction. This transaction is immediately started by invoking the method <code>begin()</code> on it. If the following code proceeds without any exception, the transaction gets committed. In case an exception occurred and the current transaction is active, the transaction is rolled back.</p><p>As the code shown above is the same for all upcoming examples, it is not repeated in the exact form again and again. The steps to refactor the code into a re-usable form, using for example the template pattern, are left for the reader.</p><h3><a name="entitymanager"></a>3.3. Tables</h3><p>Now that we have learned about session factories, sessions and transactions, it is time to start with the first class mapping. In order to have an easy start, we choose a simple class with only a few simple attributes:</p><div id="highlighter_114126" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>01</code></td><td class="content"><code class="keyword">public</code> <code class="keyword">class</code> <code class="plain">Person {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>02</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">private</code> <code class="plain">Long id;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>03</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">private</code> <code class="plain">String firstName;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>04</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">private</code> <code class="plain">String lastName;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>05</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>06</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">public</code> <code class="plain">Long getId() {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>07</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">return</code> <code class="plain">id;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>08</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>09</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>10</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">public</code> <code class="keyword">void</code> <code class="plain">setId(Long id) {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>11</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">this</code><code class="plain">.id = id;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>12</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>13</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>14</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">public</code> <code class="plain">String getFirstName() {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>15</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">return</code> <code class="plain">firstName;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>16</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>17</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>18</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">public</code> <code class="keyword">void</code> <code class="plain">setFirstName(String firstName) {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>19</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">this</code><code class="plain">.firstName = firstName;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>20</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>21</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>22</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">public</code> <code class="plain">String getLastName() {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>23</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">return</code> <code class="plain">lastName;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>24</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>25</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>26</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">public</code> <code class="keyword">void</code> <code class="plain">setLastName(String lastName) {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>27</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">this</code><code class="plain">.lastName = lastName;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>28</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>29</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div></div></div><p>The <code>Person</code> class comes with two attributes to store the name of a person (<code>firstName</code> and <code>lastName</code>). The field <code>id</code> is used to store the object’s unique identifier as a long value. In this tutorial we are going to use mapping files instead of annotations, hence we specify the mapping of this class to the table <code>T_PERSON</code> as follows:</p><div id="highlighter_717701" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>01</code></td><td class="content"><code class="comments">&lt;!--?xml version="1.0"?--&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>02</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>03</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>04</code></td><td class="content"><code class="plain">&lt;</code><code class="keyword">hibernate-mapping</code> <code class="color1">package</code><code class="plain">=</code><code class="string">"hibernate.entity"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>05</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">class</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"Person"</code> <code class="color1">table</code><code class="plain">=</code><code class="string">"T_PERSON"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>06</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">id</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"id"</code> <code class="color1">column</code><code class="plain">=</code><code class="string">"ID"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>07</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">generator</code> <code class="color1">class</code><code class="plain">=</code><code class="string">"native"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>08</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;/</code><code class="keyword">generator</code><code class="plain">&gt;&lt;/</code><code class="keyword">id</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>09</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">property</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"firstName"</code> <code class="color1">column</code><code class="plain">=</code><code class="string">"FIRST_NAME"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>10</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">property</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"lastName"</code> <code class="color1">column</code><code class="plain">=</code><code class="string">"LAST_NAME"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>11</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;/</code><code class="keyword">property</code><code class="plain">&gt;&lt;/</code><code class="keyword">property</code><code class="plain">&gt;&lt;/</code><code class="keyword">class</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>12</code></td><td class="content"><code class="plain">&lt;/</code><code class="keyword">hibernate-mapping</code><code class="plain">&gt;</code></td></tr></tbody></table></div></div></div><p>The XML element <code>hibernate-mapping</code> is used to define the package our entities reside in (here: <code>hibernate.entity</code>). Inside this element one <code>class</code> element is provided for each class that should be mapped to a table in the database.</p><p>The <code>id</code> element specifies the name (<code>name</code>) of the class’s field that holds the unique identifier and the name of the column this value is stored in (<code>ID</code>). With its child element <code>generator</code> Hibernate gets to know how to create the unique identifier for each entity. Next to the value <code>native</code> shown above, Hibernate supports a long list of different strategies.</p><p>The <code>native</code> strategy just chooses the best strategy for the used database product. Hence this strategy can be applied for different products. Other possible values are for example: <code>sequence</code> (uses a sequence in the database), <code>uuid</code> (generates a 128-bit UUID) and <code>assigned</code> (lets the application assign the value on its own). Beyond the pre-defined strategies it is possible to implement a custom strategy by implementing the interface <code>org.hibernate.id.IdentifierGenerator</code>.</p><p>The fields <code>firstName</code> and <code>lastName</code> are mapped to the columns <code>FIRST_NAME</code> and <code>LAST_NAME</code> by using the XML element <code>property</code>. The attributes <code>name</code> and <code>column</code> define the field’s name in the class and the column, respectively.</p><p>The following code shows exemplary how to store a person in the database:</p><div id="highlighter_110891" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>01</code></td><td class="content"><code class="keyword">private</code> <code class="keyword">void</code> <code class="plain">persistPerson(Session session) </code><code class="keyword">throws</code> <code class="plain">Exception {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>02</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">try</code> <code class="plain">{</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>03</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">Transaction transaction = session.getTransaction();</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>04</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">transaction.begin();</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>05</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">Person person = </code><code class="keyword">new</code> <code class="plain">Person();</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>06</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">person.setFirstName(</code><code class="string">"Homer"</code><code class="plain">);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>07</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">person.setLastName(</code><code class="string">"Simpson"</code><code class="plain">);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>08</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">session.save(person);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>09</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">transaction.commit();</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>10</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">} </code><code class="keyword">catch</code> <code class="plain">(Exception e) {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>11</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(session.getTransaction().isActive()) {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>12</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">session.getTransaction().rollback();</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>13</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>14</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">throw</code> <code class="plain">e;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>15</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>16</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div></div></div><p>Next to the code to handle the transaction it creates a new instance of the class <code>Person</code> and assigns two values to the fields <code>firstName</code> and <code>lastName</code>. Finally it stores the person in the database by invoking the session’s method <code>save()</code>.</p><p>When we execute the code above, the following SQL statements are printed on the console:</p><div id="highlighter_465193" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>01</code></td><td class="content"><code class="plain">Hibernate: </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>02</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">drop</code> <code class="keyword">table</code> <code class="plain">T_PERSON if exists</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>03</code></td><td class="content"><code class="plain">Hibernate: </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>04</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">create</code> <code class="keyword">table</code> <code class="plain">T_PERSON (</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>05</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">ID </code><code class="keyword">bigint</code> <code class="plain">generated </code><code class="keyword">by</code> <code class="keyword">default</code> <code class="keyword">as</code> <code class="plain">identity,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>06</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">FIRST_NAME </code><code class="keyword">varchar</code><code class="plain">(255),</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>07</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">LAST_NAME </code><code class="keyword">varchar</code><code class="plain">(255),</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>08</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">primary</code> <code class="keyword">key</code> <code class="plain">(ID)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>09</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>10</code></td><td class="content"><code class="plain">Hibernate: </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>11</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">insert</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>12</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">into</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>13</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">T_PERSON</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>14</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">(ID, firstName, lastName, ID_ID_CARD) </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>15</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">values</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>16</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">(</code><code class="color1">null</code><code class="plain">, ?, ?, ?)</code></td></tr></tbody></table></div></div></div><p>As we have chosen to let Hibernate drop and create the tables on startup, the first statements printed out are the <code>drop table</code> and <code>create table</code> statements. We can also see the three columns <code>ID</code>, <code>FIRST_NAME</code> and <code>LAST_NAME</code> of the table <code>T_PERSON</code> as well as the definition of the primary key (here: <code>ID</code>).</p><p>After the table has been created, the invocation of <code>session.save()</code> issues an <code>insert</code> statement to the database. As Hibernate internally uses a <code>PreparedStatement</code>, we do not see the values on the console. In case you also want to see the values that are bound to the parameters of the <code>PreparedStatement</code>, you can set the logging level for the logger <code>org.hibernate.type</code> to <code>FINEST</code>. This is done within a file called <code>logging.properties</code> with the following content (the path to the file can be given for example as a system property <code>-Djava.util.logging.config.file=src/main/resources/logging.properties</code>):</p><div id="highlighter_215880" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>1</code></td><td class="content"><code class="plain">.handlers = java.util.logging.ConsoleHandler</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>2</code></td><td class="content"><code class="plain">.level = INFO</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>3</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>4</code></td><td class="content"><code class="plain">java.util.logging.ConsoleHandler.level = ALL</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>5</code></td><td class="content"><code class="plain">java.util.logging.ConsoleHandler.formatter = java.util.logging.SimpleFormatter</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>6</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>7</code></td><td class="content"><code class="plain">org.hibernate.SQL.level = FINEST</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>8</code></td><td class="content"><code class="plain">org.hibernate.</code><code class="functions">type</code><code class="plain">.level = FINEST</code></td></tr></tbody></table></div></div></div><p>Setting the logger <code>org.hibernate.SQL</code> has the same effect as setting the property <code>show_sql</code> in the Hibernate configuration file to <code>true</code>.</p><p>Now you can see the following output and therewith the actual values on the console:</p><div id="highlighter_193563" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>01</code></td><td class="content"><code class="plain">DEBUG: </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>02</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">insert</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>03</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">into</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>04</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">T_PERSON</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>05</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">(ID, FIRST_NAME, LAST_NAME, ID_ID_CARD) </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>06</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">values</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>07</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">(</code><code class="color1">null</code><code class="plain">, ?, ?, ?)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>08</code></td><td class="content"><code class="plain">TRACE: binding parameter [1] </code><code class="keyword">as</code> <code class="plain">[</code><code class="keyword">VARCHAR</code><code class="plain">] - [Homer]</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>09</code></td><td class="content"><code class="plain">TRACE: binding parameter [2] </code><code class="keyword">as</code> <code class="plain">[</code><code class="keyword">VARCHAR</code><code class="plain">] - [Simpson]</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>10</code></td><td class="content"><code class="plain">TRACE: binding parameter [3] </code><code class="keyword">as</code> <code class="plain">[</code><code class="keyword">BIGINT</code><code class="plain">] - [</code><code class="color1">null</code><code class="plain">]</code></td></tr></tbody></table></div></div></div><h2><a name="intheritance"></a>4. Inheritance</h2><p>An interesting feature of O/R mapping solutions like Hibernate is the usage of inheritance. The user can chose how to map superclass and subclass to the tables of a relational database. Hibernate supports the following mapping strategies:</p><ul><li><strong>Single table per class</strong>: Both superclass and subclass are mapped to the same table. An additional column marks whether the row is an instance of the superclass or subclass and fields that are not present in the superclass are left empty.</li><li><strong>Joined subclass</strong>: This strategy uses a separate table for each class whereas the table for the subclass only stores the fields that are not present in the superclass. To retrieve all values for an instance of the subclass, a join between the two tables has to be performed.</li><li><strong>Table per class</strong>: This strategy also uses a separate table for each class but stores in the table for the subclass also the fields of the superclass. With this strategy one row in the subclass table contains all values and in order to retrieve all values no join statement is necessary.</li></ul><p>The approach we are going to investigate is the “Single Table per class” approach. As a subclass of person we choose the class <code>Geek</code>:</p><div id="highlighter_905429" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>01</code></td><td class="content"><code class="keyword">public</code> <code class="keyword">class</code> <code class="plain">Geek </code><code class="keyword">extends</code> <code class="plain">Person {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>02</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">private</code> <code class="plain">String favouriteProgrammingLanguage;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>03</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>04</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">public</code> <code class="plain">String getFavouriteProgrammingLanguage() {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>05</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">return</code> <code class="plain">favouriteProgrammingLanguage;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>06</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>07</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>08</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">public</code> <code class="keyword">void</code> <code class="plain">setFavouriteProgrammingLanguage(String favouriteProgrammingLanguage) {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>09</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">this</code><code class="plain">.favouriteProgrammingLanguage = favouriteProgrammingLanguage;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>10</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>11</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div></div></div><p>The class extends the already known class <code>Person</code> and adds an additional field named <code>favouriteProgrammingLanguage</code>. The mapping file for this use case looks like the following one:</p><div id="highlighter_884482" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>01</code></td><td class="content"><code class="comments">&lt;!--?xml version="1.0"?--&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>02</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>03</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>04</code></td><td class="content"><code class="plain">&lt;</code><code class="keyword">hibernate-mapping</code> <code class="color1">package</code><code class="plain">=</code><code class="string">"hibernate.entity"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>05</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">class</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"Person"</code> <code class="color1">table</code><code class="plain">=</code><code class="string">"T_PERSON"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>06</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">id</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"id"</code> <code class="color1">column</code><code class="plain">=</code><code class="string">"ID"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>07</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">generator</code> <code class="color1">class</code><code class="plain">=</code><code class="string">"native"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>08</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;/</code><code class="keyword">generator</code><code class="plain">&gt;&lt;/</code><code class="keyword">id</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>09</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">discriminator</code> <code class="color1">column</code><code class="plain">=</code><code class="string">"PERSON_TYPE"</code> <code class="color1">type</code><code class="plain">=</code><code class="string">"string"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>10</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">property</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"firstName"</code> <code class="color1">column</code><code class="plain">=</code><code class="string">"FIRST_NAME"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>11</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">property</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"lastName"</code> <code class="color1">column</code><code class="plain">=</code><code class="string">"LAST_NAME"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>12</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">subclass</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"Geek"</code> <code class="color1">extends</code><code class="plain">=</code><code class="string">"Person"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>13</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">property</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"favouriteProgrammingLanguage"</code> <code class="color1">column</code><code class="plain">=</code><code class="string">"FAV_PROG_LANG"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>14</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;/</code><code class="keyword">property</code><code class="plain">&gt;&lt;/</code><code class="keyword">subclass</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>15</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;/</code><code class="keyword">property</code><code class="plain">&gt;&lt;/</code><code class="keyword">property</code><code class="plain">&gt;&lt;/</code><code class="keyword">discriminator</code><code class="plain">&gt;&lt;/</code><code class="keyword">class</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>16</code></td><td class="content"><code class="plain">&lt;/</code><code class="keyword">hibernate-mapping</code><code class="plain">&gt;</code></td></tr></tbody></table></div></div></div><p>The first difference is the introduction of the <code>discriminator</code> column. As mentioned above this column stores the information of which type the current instance is. In our case we call it <code>PERSON_TYPE</code> and let for better readability a string denote the actual type. Per default Hibernate takes just the class name in this case. To save storage one can also use a column of type integer.</p><p>Beyond the discriminator we have also added the <code>subclass</code> element that informs Hibernate about the new Java class <code>Geek</code> and its field <code>favouriteProgrammingLanguage</code> which should be mapped to the column <code>FAV_PROG_LANG</code>.</p><p>The following sample codes shows how to store instances of type <code>Geek</code> in the database:</p><div id="highlighter_346114" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>01</code></td><td class="content"><code class="plain">session.getTransaction().begin();</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>02</code></td><td class="content"><code class="plain">Geek geek = </code><code class="keyword">new</code> <code class="plain">Geek();</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>03</code></td><td class="content"><code class="plain">geek.setFirstName(</code><code class="string">"Gavin"</code><code class="plain">);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>04</code></td><td class="content"><code class="plain">geek.setLastName(</code><code class="string">"Coffee"</code><code class="plain">);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>05</code></td><td class="content"><code class="plain">geek.setFavouriteProgrammingLanguage(</code><code class="string">"Java"</code><code class="plain">);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>06</code></td><td class="content"><code class="plain">session.save(geek);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>07</code></td><td class="content"><code class="plain">geek = </code><code class="keyword">new</code> <code class="plain">Geek();</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>08</code></td><td class="content"><code class="plain">geek.setFirstName(</code><code class="string">"Thomas"</code><code class="plain">);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>09</code></td><td class="content"><code class="plain">geek.setLastName(</code><code class="string">"Micro"</code><code class="plain">);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>10</code></td><td class="content"><code class="plain">geek.setFavouriteProgrammingLanguage(</code><code class="string">"C#"</code><code class="plain">);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>11</code></td><td class="content"><code class="plain">session.save(geek);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>12</code></td><td class="content"><code class="plain">geek = </code><code class="keyword">new</code> <code class="plain">Geek();</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>13</code></td><td class="content"><code class="plain">geek.setFirstName(</code><code class="string">"Christian"</code><code class="plain">);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>14</code></td><td class="content"><code class="plain">geek.setLastName(</code><code class="string">"Cup"</code><code class="plain">);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>15</code></td><td class="content"><code class="plain">geek.setFavouriteProgrammingLanguage(</code><code class="string">"Java"</code><code class="plain">);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>16</code></td><td class="content"><code class="plain">session.save(geek);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>17</code></td><td class="content"><code class="plain">session.getTransaction().commit();</code></td></tr></tbody></table></div></div></div><p>Executing the code shown above, leads to the following output:</p><div id="highlighter_423693" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>01</code></td><td class="content"><code class="plain">Hibernate: </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>02</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">drop</code> <code class="keyword">table</code> <code class="plain">T_PERSON if exists</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>03</code></td><td class="content"><code class="plain">Hibernate: </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>04</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">create</code> <code class="keyword">table</code> <code class="plain">T_PERSON (</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>05</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">ID </code><code class="keyword">bigint</code> <code class="plain">generated </code><code class="keyword">by</code> <code class="keyword">default</code> <code class="keyword">as</code> <code class="plain">identity,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>06</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">PERSON_TYPE </code><code class="keyword">varchar</code><code class="plain">(255) </code><code class="color1">not</code> <code class="color1">null</code><code class="plain">,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>07</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">FIRST_NAME </code><code class="keyword">varchar</code><code class="plain">(255),</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>08</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">LAST_NAME </code><code class="keyword">varchar</code><code class="plain">(255),</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>09</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">FAV_PROG_LANG </code><code class="keyword">varchar</code><code class="plain">(255),</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>10</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">primary</code> <code class="keyword">key</code> <code class="plain">(ID)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>11</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>12</code></td><td class="content"><code class="plain">Hibernate: </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>13</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">insert</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>14</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">into</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>15</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">T_PERSON</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>16</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">(ID, FIRST_NAME, LAST_NAME, FAV_PROG_LANG, PERSON_TYPE) </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>17</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">values</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>18</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">(</code><code class="color1">null</code><code class="plain">, ?, ?, ?, </code><code class="string">'hibernate.entity.Geek'</code><code class="plain">)</code></td></tr></tbody></table></div></div></div><p>In contrast to the previous example the table <code>T_PERSON</code> now contains the two new columns <code>PERSON_TYPE</code> and <code>FAV_PROG_LANG</code>. The column <code>PERSON_TYPE</code> contains the value <code>hibernate.entity.Geek</code> for geeks.</p><p>In order to investigate the content of the <code>T_PERSON</code> table, we can utilize the Shell application shipped within the H2 jar file:</p><div id="highlighter_240266" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>1</code></td><td class="content"><code class="plain">&gt; java -</code><code class="functions">cp</code> <code class="plain">h2-1.3.176.jar org.h2.tools.Shell -url jdbc:h2:~/hibernate</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>2</code></td><td class="content"><code class="plain">...</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>3</code></td><td class="content"><code class="plain">sql&gt; </code><code class="functions">select</code> <code class="plain">* from t_person;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>4</code></td><td class="content"><code class="plain">ID | PERSON_TYPE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | FIRST_NAME | LAST_NAME | FAV_PROG_LANG</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>5</code></td><td class="content"><code class="plain">1&nbsp; | hibernate.entity.Person | Homer&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | Simpson&nbsp;&nbsp; | null</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>6</code></td><td class="content"><code class="plain">2&nbsp; | hibernate.entity.Geek&nbsp;&nbsp; | Gavin&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | Coffee&nbsp;&nbsp;&nbsp; | Java</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>7</code></td><td class="content"><code class="plain">3&nbsp; | hibernate.entity.Geek&nbsp;&nbsp; | Thomas&nbsp;&nbsp;&nbsp;&nbsp; | Micro&nbsp;&nbsp;&nbsp;&nbsp; | C</code><code class="comments">#</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>8</code></td><td class="content"><code class="plain">4&nbsp; | hibernate.entity.Geek&nbsp;&nbsp; | Christian&nbsp; | Cup&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | Java</code></td></tr></tbody></table></div></div></div><p>As discussed above, the column <code>PERSON_TYPE</code> stores the type of the instance whereas the column <code>FAV_PROG_LANG</code> contains the value <code>null</code> for instances of the superclass <code>Person</code>.</p><p>Changing the mapping definition in a way that it looks like the following one, Hibernate will create for the superclass and the subclass a separate table:</p><div id="highlighter_92577" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>01</code></td><td class="content"><code class="comments">&lt;!--?xml version="1.0"?--&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>02</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>03</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>04</code></td><td class="content"><code class="plain">&lt;</code><code class="keyword">hibernate-mapping</code> <code class="color1">package</code><code class="plain">=</code><code class="string">"hibernate.entity"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>05</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">class</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"Person"</code> <code class="color1">table</code><code class="plain">=</code><code class="string">"T_PERSON"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>06</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">id</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"id"</code> <code class="color1">column</code><code class="plain">=</code><code class="string">"ID"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>07</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">generator</code> <code class="color1">class</code><code class="plain">=</code><code class="string">"native"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>08</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;/</code><code class="keyword">generator</code><code class="plain">&gt;&lt;/</code><code class="keyword">id</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>09</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">property</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"firstName"</code> <code class="color1">column</code><code class="plain">=</code><code class="string">"FIRST_NAME"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>10</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">property</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"lastName"</code> <code class="color1">column</code><code class="plain">=</code><code class="string">"LAST_NAME"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>11</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">joined-subclass</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"Geek"</code> <code class="color1">table</code><code class="plain">=</code><code class="string">"T_GEEK"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>12</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">key</code> <code class="color1">column</code><code class="plain">=</code><code class="string">"ID_PERSON"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>13</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">property</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"favouriteProgrammingLanguage"</code> <code class="color1">column</code><code class="plain">=</code><code class="string">"FAV_PROG_LANG"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>14</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;/</code><code class="keyword">property</code><code class="plain">&gt;&lt;/</code><code class="keyword">key</code><code class="plain">&gt;&lt;/</code><code class="keyword">joined-subclass</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>15</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;/</code><code class="keyword">property</code><code class="plain">&gt;&lt;/</code><code class="keyword">property</code><code class="plain">&gt;&lt;/</code><code class="keyword">class</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>16</code></td><td class="content"><code class="plain">&lt;/</code><code class="keyword">hibernate-mapping</code><code class="plain">&gt;</code></td></tr></tbody></table></div></div></div><p>The XML element <code>joined-subclass</code> tells Hibernate to create the table <code>T_GEEK</code> for the subclass <code>Geek</code> with the additional column <code>ID_PERSON</code>. This additional key column stores a foreign key to the table <code>T_PERSON</code> in order to assign each row in <code>T_GEEK</code> to its parent row in <code>T_PERSON</code>.</p><p>Using the Java code shown above to store a few geeks in the database, results in the following output on the console:</p><div id="highlighter_194680" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>01</code></td><td class="content"><code class="plain">Hibernate: </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>02</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">drop</code> <code class="keyword">table</code> <code class="plain">T_GEEK if exists</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>03</code></td><td class="content"><code class="plain">Hibernate: </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>04</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">drop</code> <code class="keyword">table</code> <code class="plain">T_PERSON if exists</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>05</code></td><td class="content"><code class="plain">Hibernate: </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>06</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">create</code> <code class="keyword">table</code> <code class="plain">T_GEEK (</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>07</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">ID_PERSON </code><code class="keyword">bigint</code> <code class="color1">not</code> <code class="color1">null</code><code class="plain">,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>08</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">FAV_PROG_LANG </code><code class="keyword">varchar</code><code class="plain">(255),</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>09</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">primary</code> <code class="keyword">key</code> <code class="plain">(ID_PERSON)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>10</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>11</code></td><td class="content"><code class="plain">Hibernate: </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>12</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">create</code> <code class="keyword">table</code> <code class="plain">T_PERSON (</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>13</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">ID </code><code class="keyword">bigint</code> <code class="plain">generated </code><code class="keyword">by</code> <code class="keyword">default</code> <code class="keyword">as</code> <code class="plain">identity,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>14</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">FIRST_NAME </code><code class="keyword">varchar</code><code class="plain">(255),</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>15</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">LAST_NAME </code><code class="keyword">varchar</code><code class="plain">(255),</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>16</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">primary</code> <code class="keyword">key</code> <code class="plain">(ID)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>17</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>18</code></td><td class="content"><code class="plain">Hibernate: </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>19</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">alter</code> <code class="keyword">table</code> <code class="plain">T_GEEK </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>20</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">add</code> <code class="keyword">constraint</code> <code class="plain">FK_p2ile8qooftvytnxnqtjkrbsa </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>21</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">foreign</code> <code class="keyword">key</code> <code class="plain">(ID_PERSON) </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>22</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">references</code> <code class="plain">T_PERSON</code></td></tr></tbody></table></div></div></div><p>Now Hibernate creates two tables instead of one and defines a foreign key for the table <code>T_GEEK</code> that references the table <code>T_PERSON</code>. The table <code>T_GEEK</code> consists of two columns: <code>ID_PERSON</code> to reference the corresponding person and <code>FAV_PROG_LANG</code> to store the favorite programming language.</p><p>Storing a geek in the database now consists of two insert statements:</p><div id="highlighter_954982" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>01</code></td><td class="content"><code class="plain">Hibernate: </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>02</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">insert</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>03</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">into</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>04</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">T_PERSON</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>05</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">(ID, FIRST_NAME, LAST_NAME, ID_ID_CARD) </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>06</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">values</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>07</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">(</code><code class="color1">null</code><code class="plain">, ?, ?, ?)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>08</code></td><td class="content"><code class="plain">Hibernate: </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>09</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">insert</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>10</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">into</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>11</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">T_GEEK</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>12</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">(FAV_PROG_LANG, ID_PERSON) </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>13</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">values</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>14</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">(?, ?)</code></td></tr></tbody></table></div></div></div><p>The first statement inserts a new row into the table <code>T_PERSON</code>, while the second one inserts a new row into the table <code>T_GEEK</code>. The content of these two tables look afterwards like this:</p><div id="highlighter_186333" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>01</code></td><td class="content"><code class="plain">sql&gt; </code><code class="functions">select</code> <code class="plain">* from t_person;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>02</code></td><td class="content"><code class="plain">ID | FIRST_NAME | LAST_NAME</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>03</code></td><td class="content"><code class="plain">1&nbsp; | Homer&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | Simpson&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>04</code></td><td class="content"><code class="plain">2&nbsp; | Gavin&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | Coffee&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>05</code></td><td class="content"><code class="plain">3&nbsp; | Thomas&nbsp;&nbsp;&nbsp;&nbsp; | Micro&nbsp;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>06</code></td><td class="content"><code class="plain">4&nbsp; | Christian&nbsp; | Cup&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>07</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>08</code></td><td class="content"><code class="plain">sql&gt; </code><code class="functions">select</code> <code class="plain">* from t_geek;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>09</code></td><td class="content"><code class="plain">ID_PERSON | FAV_PROG_LANG</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>10</code></td><td class="content"><code class="plain">2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | Java</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>11</code></td><td class="content"><code class="plain">3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | C</code><code class="comments">#</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>12</code></td><td class="content"><code class="plain">4&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | Java</code></td></tr></tbody></table></div></div></div><p>Obviously the table <code>T_PERSON</code> only stores the attributes of the superclass whereas the table <code>T_GEEK</code> only stores the field values for the subclass. The column <code>ID_PERSON</code> references the corresponding row from the parent table.</p><p>The next strategy under investigation is “table per class”. Similar to the last strategy this one also creates a separate table for each class, but in contrast the table for the subclass contains also all columns of the superclass. Therewith one row in such a table contains all values to construct an instance of this type without the need to join additional data from the parent table. On huge data set this can improve the performance of queries as joins need to find additionally the corresponding rows in the parent table. This additional lookup costs time that is circumvented with this approach.</p><p>To use this strategy for the above use case, the mapping file can be rewritten like the following one:</p><div id="highlighter_703803" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>01</code></td><td class="content"><code class="comments">&lt;!--?xml version="1.0"?--&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>02</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>03</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>04</code></td><td class="content"><code class="plain">&lt;</code><code class="keyword">hibernate-mapping</code> <code class="color1">package</code><code class="plain">=</code><code class="string">"hibernate.entity"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>05</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">class</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"Person"</code> <code class="color1">table</code><code class="plain">=</code><code class="string">"T_PERSON"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>06</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">id</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"id"</code> <code class="color1">column</code><code class="plain">=</code><code class="string">"ID"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>07</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">generator</code> <code class="color1">class</code><code class="plain">=</code><code class="string">"sequence"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>08</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;/</code><code class="keyword">generator</code><code class="plain">&gt;&lt;/</code><code class="keyword">id</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>09</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">property</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"firstName"</code> <code class="color1">column</code><code class="plain">=</code><code class="string">"FIRST_NAME"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>10</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">property</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"lastName"</code> <code class="color1">column</code><code class="plain">=</code><code class="string">"LAST_NAME"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>11</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">union-subclass</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"Geek"</code> <code class="color1">table</code><code class="plain">=</code><code class="string">"T_GEEK"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>12</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">property</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"favouriteProgrammingLanguage"</code> <code class="color1">column</code><code class="plain">=</code><code class="string">"FAV_PROG_LANG"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>13</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;/</code><code class="keyword">property</code><code class="plain">&gt;&lt;/</code><code class="keyword">union-subclass</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>14</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;/</code><code class="keyword">property</code><code class="plain">&gt;&lt;/</code><code class="keyword">property</code><code class="plain">&gt;&lt;/</code><code class="keyword">class</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>15</code></td><td class="content"><code class="plain">&lt;/</code><code class="keyword">hibernate-mapping</code><code class="plain">&gt;</code></td></tr></tbody></table></div></div></div><p>The XML element <code>union-subclass</code> provides the name of the entity (<code>Geek</code>) as well as the name of the separate table (<code>T_GEEK</code>) as attributes. As within the other approaches, the field <code>favouriteProgrammingLanguage</code> is declared as a property of the subclass.</p><p>Another important change with regard to the other approaches is contained in the line that defines the id generator. As the other approaches use a <code>native</code> generator, which falls back on H2 to an identity column, this approach requires an id generator that creates identities that are unique for both tables (<code>T_PERSON</code> and <code>T_GEEK</code>).</p><p>The identity column is just a special type of column that automatically creates for each row a new id. But with two tables we have also two identity columns and therewith the ids in the <code>T_PERSON</code> table can be the same as in the <code>T_GEEK</code> table. This conflicts with the requirement that an entity of type <code>Geek</code> can be created just by reading one row of the table <code>T_GEEK</code> and that the identifiers for all persons and geeks are unique. Therefore we are using a sequence instead of an identity column by switching the value for the <code>class</code> attribute from <code>native</code> to <code>sequence</code>.</p><p>Now the DDL statements created by Hibernate look like the following ones:</p><div id="highlighter_500115" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>01</code></td><td class="content"><code class="plain">Hibernate: </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>02</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">drop</code> <code class="keyword">table</code> <code class="plain">T_GEEK if exists</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>03</code></td><td class="content"><code class="plain">Hibernate: </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>04</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">drop</code> <code class="keyword">table</code> <code class="plain">T_PERSON if exists</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>05</code></td><td class="content"><code class="plain">Hibernate: </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>06</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">drop</code> <code class="keyword">sequence</code> <code class="plain">if exists hibernate_sequence</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>07</code></td><td class="content"><code class="plain">Hibernate: </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>08</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">create</code> <code class="keyword">table</code> <code class="plain">T_GEEK (</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>09</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">ID </code><code class="keyword">bigint</code> <code class="color1">not</code> <code class="color1">null</code><code class="plain">,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>10</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">FIRST_NAME </code><code class="keyword">varchar</code><code class="plain">(255),</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>11</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">LAST_NAME </code><code class="keyword">varchar</code><code class="plain">(255),</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>12</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">FAV_PROG_LANG </code><code class="keyword">varchar</code><code class="plain">(255),</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>13</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">primary</code> <code class="keyword">key</code> <code class="plain">(ID)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>14</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>15</code></td><td class="content"><code class="plain">Hibernate: </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>16</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">create</code> <code class="keyword">table</code> <code class="plain">T_PERSON (</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>17</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">ID </code><code class="keyword">bigint</code> <code class="color1">not</code> <code class="color1">null</code><code class="plain">,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>18</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">FIRST_NAME </code><code class="keyword">varchar</code><code class="plain">(255),</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>19</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">LAST_NAME </code><code class="keyword">varchar</code><code class="plain">(255),</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>20</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">primary</code> <code class="keyword">key</code> <code class="plain">(ID)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>21</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>22</code></td><td class="content"><code class="plain">Hibernate: </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>23</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">create</code> <code class="keyword">sequence</code> <code class="plain">hibernate_sequence</code></td></tr></tbody></table></div></div></div><p>The output above clearly demonstrates that the table <code>T_GEEK</code> now contains next to <code>FAV_PROG_LANG</code> also the columns for the superclass (<code>FIRST_NAME</code> and <code>LAST_NAME</code>). The statements do not create a foreign key between the two tables. Please also note that now the column <code>ID</code> is no longer an identity column but that instead a sequence is created.</p><p>The insertion of a person and a geek issues the following statements to the database:</p><div id="highlighter_119440" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>01</code></td><td class="content"><code class="plain">Hibernate: </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>02</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">call </code><code class="keyword">next</code> <code class="plain">value </code><code class="keyword">for</code> <code class="plain">hibernate_sequence</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>03</code></td><td class="content"><code class="plain">Hibernate: </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>04</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">insert</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>05</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">into</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>06</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">T_PERSON</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>07</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">(FIRST_NAME, LAST_NAME, ID) </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>08</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">values</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>09</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">(?, ?, ?, ?)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>10</code></td><td class="content"><code class="plain">Hibernate: </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>11</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">call </code><code class="keyword">next</code> <code class="plain">value </code><code class="keyword">for</code> <code class="plain">hibernate_sequence</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>12</code></td><td class="content"><code class="plain">Hibernate: </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>13</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">insert</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>14</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">into</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>15</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">T_GEEK</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>16</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">(FIRST_NAME, LAST_NAME, FAV_PROG_LANG, ID) </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>17</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">values</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>18</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">(?, ?, ?, ?, ?)</code></td></tr></tbody></table></div></div></div><p>For one person and one geek we have obviously only two insert statements. The table <code>T_GEEK</code> is completely filled by one insertion and contains all values of an instance of <code>Geek</code>:</p><div id="highlighter_470271" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>1</code></td><td class="content"><code class="plain">sql&gt; </code><code class="functions">select</code> <code class="plain">* from t_person;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>2</code></td><td class="content"><code class="plain">ID | FIRST_NAME | LAST_NAME </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>3</code></td><td class="content"><code class="plain">1&nbsp; | Homer&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | Simpson&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>4</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>5</code></td><td class="content"><code class="plain">sql&gt; </code><code class="functions">select</code> <code class="plain">* from t_geek;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>6</code></td><td class="content"><code class="plain">ID | FIRST_NAME | LAST_NAME | FAV_PROG_LANG</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>7</code></td><td class="content"><code class="plain">3&nbsp; | Gavin&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | Coffee&nbsp;&nbsp;&nbsp; | Java</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>8</code></td><td class="content"><code class="plain">4&nbsp; | Thomas&nbsp;&nbsp;&nbsp;&nbsp; | Micro&nbsp;&nbsp;&nbsp;&nbsp; | C</code><code class="comments">#</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>9</code></td><td class="content"><code class="plain">5&nbsp; | Christian&nbsp; | Cup&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | Java</code></td></tr></tbody></table></div></div></div><h2><a name="relationships"></a>5. Relationships</h2><p>Up to now the only relationship between two tables we have seen was the “extends” one. Next to the mere inheritance Hibernate can also map relationships that are based on lists where the one entity has a list of instances of another entity. The following types of relationships are distinguished:</p><li></li><li><strong>One to one</strong>: This denotes a simple relationship in which one entity of type A belongs exactly to one entity of type B.</li><li><strong>Many to one</strong>: As the name indicates, this relationship encompasses the case that an entity of type A has many child entities of type B.</li><li><strong>Many to many</strong>: In this case there can be many entities of type A that belong to many entities of type B.</li><p>To understand these different types of relationships a little better, we will investigate them in the following.</p><h2><a name="relationships_onetoone"></a>5.1. OneToOne</h2><p>As an example for the “one to one” case we add the following class to our entity model:</p><div id="highlighter_831834" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>01</code></td><td class="content"><code class="keyword">public</code> <code class="keyword">class</code> <code class="plain">IdCard {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>02</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">private</code> <code class="plain">Long id;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>03</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">private</code> <code class="plain">String idNumber;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>04</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">private</code> <code class="plain">Date issueDate;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>05</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">private</code> <code class="keyword">boolean</code> <code class="plain">valid;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>06</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>07</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">public</code> <code class="plain">Long getId() {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>08</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">return</code> <code class="plain">id;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>09</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>10</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>11</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">public</code> <code class="keyword">void</code> <code class="plain">setId(Long id) {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>12</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">this</code><code class="plain">.id = id;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>13</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>14</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>15</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">public</code> <code class="plain">String getIdNumber() {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>16</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">return</code> <code class="plain">idNumber;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>17</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>18</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>19</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">public</code> <code class="keyword">void</code> <code class="plain">setIdNumber(String idNumber) {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>20</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">this</code><code class="plain">.idNumber = idNumber;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>21</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>22</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>23</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">public</code> <code class="plain">Date getIssueDate() {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>24</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">return</code> <code class="plain">issueDate;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>25</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>26</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>27</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">public</code> <code class="keyword">void</code> <code class="plain">setIssueDate(Date issueDate) {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>28</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">this</code><code class="plain">.issueDate = issueDate;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>29</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>30</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>31</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">public</code> <code class="keyword">boolean</code> <code class="plain">isValid() {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>32</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">return</code> <code class="plain">valid;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>33</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>34</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>35</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">public</code> <code class="keyword">void</code> <code class="plain">setValid(</code><code class="keyword">boolean</code> <code class="plain">valid) {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>36</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">this</code><code class="plain">.valid = valid;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>37</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>38</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div></div></div><p>An identity card as an internal unique identifier as well as an external idNumber, an issue date and a boolean flag that indicates if the card is valid or not.</p><p>On the other side of the relation the person gets a new field named <code>idCard</code> that references the card of this person:</p><div id="highlighter_76302" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>01</code></td><td class="content"><code class="keyword">public</code> <code class="keyword">class</code> <code class="plain">Person {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>02</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">...</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>03</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">private</code> <code class="plain">IdCard idCard;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>04</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>05</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">...</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>06</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>07</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">public</code> <code class="plain">IdCard getIdCard() {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>08</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">return</code> <code class="plain">idCard;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>09</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>10</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>11</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">public</code> <code class="keyword">void</code> <code class="plain">setIdCard(IdCard idCard) {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>12</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">this</code><code class="plain">.idCard = idCard;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>13</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div></div></div><p>To map this relation using the Hibernate specific mapping file, we change it in the following way:</p><div id="highlighter_808696" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>01</code></td><td class="content"><code class="plain">&lt;</code><code class="keyword">hibernate-mapping</code> <code class="color1">package</code><code class="plain">=</code><code class="string">"hibernate.entity"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>02</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">class</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"IdCard"</code> <code class="color1">table</code><code class="plain">=</code><code class="string">"T_ID_CARD"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>03</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">id</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"id"</code> <code class="color1">column</code><code class="plain">=</code><code class="string">"ID"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>04</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">generator</code> <code class="color1">class</code><code class="plain">=</code><code class="string">"sequence"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>05</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;/</code><code class="keyword">generator</code><code class="plain">&gt;&lt;/</code><code class="keyword">id</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>06</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;/</code><code class="keyword">class</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>07</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">class</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"Person"</code> <code class="color1">table</code><code class="plain">=</code><code class="string">"T_PERSON"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>08</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">id</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"id"</code> <code class="color1">column</code><code class="plain">=</code><code class="string">"ID"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>09</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">generator</code> <code class="color1">class</code><code class="plain">=</code><code class="string">"sequence"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>10</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;/</code><code class="keyword">generator</code><code class="plain">&gt;&lt;/</code><code class="keyword">id</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>11</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">property</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"firstName"</code> <code class="color1">column</code><code class="plain">=</code><code class="string">"FIRST_NAME"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>12</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">property</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"lastName"</code> <code class="color1">column</code><code class="plain">=</code><code class="string">"LAST_NAME"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>13</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">many-to-one</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"idCard"</code> <code class="color1">column</code><code class="plain">=</code><code class="string">"ID_ID_CARD"</code> <code class="color1">unique</code><code class="plain">=</code><code class="string">"true"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>14</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">union-subclass</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"Geek"</code> <code class="color1">table</code><code class="plain">=</code><code class="string">"T_GEEK"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>15</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">property</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"favouriteProgrammingLanguage"</code> <code class="color1">column</code><code class="plain">=</code><code class="string">"FAV_PROG_LANG"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>16</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;/</code><code class="keyword">property</code><code class="plain">&gt;&lt;/</code><code class="keyword">union-subclass</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>17</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;/</code><code class="keyword">many-to-one</code><code class="plain">&gt;&lt;/</code><code class="keyword">property</code><code class="plain">&gt;&lt;/</code><code class="keyword">property</code><code class="plain">&gt;&lt;/</code><code class="keyword">class</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>18</code></td><td class="content"><code class="plain">&lt;/</code><code class="keyword">hibernate-mapping</code><code class="plain">&gt;</code></td></tr></tbody></table></div></div></div><p>First of all we add a new <code>class</code> element for the new class, specifying the name of the class and its corresponding table name (here: <code>T_ID_CARD</code>). The field <code>id</code> becomes the unique identifier and should be filled with the value of a sequence.</p><p>On the other hand the <code>Person</code> mapping now contains the new XML element <code>many-to-one</code> and references with its attribute <code>name</code> the field of the class <code>Person</code> that stores the reference to the <code>IdCard</code>. The optional attribute <code>column</code> lets us specify the exact name of the foreign key column in the table <code>T_PERSON</code> that links to the person’s id card. As this relation should be of type “one to one” we have to set the attribute <code>unique</code> to <code>true</code>.</p><p>Executing this configuration results in the following DDL statements (please note that in order to reduce the number of tables we have switched back to the “single table per class” approach where we have only one table for superclass and subclass):</p><div id="highlighter_617000" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>01</code></td><td class="content"><code class="plain">Hibernate: </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>02</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">drop</code> <code class="keyword">table</code> <code class="plain">T_ID_CARD if exists</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>03</code></td><td class="content"><code class="plain">Hibernate: </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>04</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">drop</code> <code class="keyword">table</code> <code class="plain">T_PERSON if exists</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>05</code></td><td class="content"><code class="plain">Hibernate: </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>06</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">drop</code> <code class="keyword">sequence</code> <code class="plain">if exists hibernate_sequence</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>07</code></td><td class="content"><code class="plain">Hibernate: </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>08</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">create</code> <code class="keyword">table</code> <code class="plain">T_ID_CARD (</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>09</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">ID </code><code class="keyword">bigint</code> <code class="color1">not</code> <code class="color1">null</code><code class="plain">,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>10</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">ID_NUMBER </code><code class="keyword">varchar</code><code class="plain">(255),</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>11</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">ISSUE_DATE </code><code class="keyword">timestamp</code><code class="plain">,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>12</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">VALID boolean,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>13</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">primary</code> <code class="keyword">key</code> <code class="plain">(ID)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>14</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>15</code></td><td class="content"><code class="plain">Hibernate: </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>16</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">create</code> <code class="keyword">table</code> <code class="plain">T_PERSON (</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>17</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">ID </code><code class="keyword">bigint</code> <code class="color1">not</code> <code class="color1">null</code><code class="plain">,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>18</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">PERSON_TYPE </code><code class="keyword">varchar</code><code class="plain">(255) </code><code class="color1">not</code> <code class="color1">null</code><code class="plain">,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>19</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">FIRST_NAME </code><code class="keyword">varchar</code><code class="plain">(255),</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>20</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">LAST_NAME </code><code class="keyword">varchar</code><code class="plain">(255),</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>21</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">ID_ID_CARD </code><code class="keyword">bigint</code><code class="plain">,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>22</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">FAV_PROG_LANG </code><code class="keyword">varchar</code><code class="plain">(255),</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>23</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">primary</code> <code class="keyword">key</code> <code class="plain">(ID)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>24</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>25</code></td><td class="content"><code class="plain">Hibernate: </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>26</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">alter</code> <code class="keyword">table</code> <code class="plain">T_PERSON </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>27</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">add</code> <code class="keyword">constraint</code> <code class="plain">UK_96axqtck4kc0be4ancejxtu0p&nbsp; </code><code class="keyword">unique</code> <code class="plain">(ID_ID_CARD)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>28</code></td><td class="content"><code class="plain">Hibernate: </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>29</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">alter</code> <code class="keyword">table</code> <code class="plain">T_PERSON </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>30</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">add</code> <code class="keyword">constraint</code> <code class="plain">FK_96axqtck4kc0be4ancejxtu0p </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>31</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">foreign</code> <code class="keyword">key</code> <code class="plain">(ID_ID_CARD) </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>32</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">references</code> <code class="plain">T_ID_CARD</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>33</code></td><td class="content"><code class="plain">Hibernate: </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>34</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">create</code> <code class="keyword">sequence</code> <code class="plain">hibernate_sequence</code></td></tr></tbody></table></div></div></div><p>What has changed with regard to the previous examples is that the table <code>T_PERSON</code> now contains an additional column <code>ID_ID_CARD</code> that is defined as foreign key to the table <code>T_ID_CARD</code>. The table <code>T_ID_CARD</code> itself contains as expected the three columns <code>ID_NUMBER</code>, <code>ISSUE_DATE</code> and <code>VALID</code>.</p><p>The Java code to insert a person together with its id card looks like the following one:</p><div id="highlighter_536601" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>1</code></td><td class="content"><code class="plain">Person person = </code><code class="keyword">new</code> <code class="plain">Person();</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>2</code></td><td class="content"><code class="plain">person.setFirstName(</code><code class="string">"Homer"</code><code class="plain">);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>3</code></td><td class="content"><code class="plain">person.setLastName(</code><code class="string">"Simpson"</code><code class="plain">);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>4</code></td><td class="content"><code class="plain">session.save(person);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>5</code></td><td class="content"><code class="plain">IdCard idCard = </code><code class="keyword">new</code> <code class="plain">IdCard();</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>6</code></td><td class="content"><code class="plain">idCard.setIdNumber(</code><code class="string">"4711"</code><code class="plain">);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>7</code></td><td class="content"><code class="plain">idCard.setIssueDate(</code><code class="keyword">new</code> <code class="plain">Date());</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>8</code></td><td class="content"><code class="plain">person.setIdCard(idCard);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>9</code></td><td class="content"><code class="plain">session.save(idCard);</code></td></tr></tbody></table></div></div></div><p>Creating an instance of <code>IdCard</code> is straight-forward, please also note that the reference from <code>Person</code> to <code>IdCard</code> is set in the last but one line. Both instances are passed to Hibernate’s <code>save()</code> method.</p><p>Looking at the code above in more detail, one might argue why we have to pass both instances to the <code>save()</code> method of the session. This point is justified, as Hibernate allows to define that certain operation should be “cascaded” when processing a complete entity graph. To enable cascading for the relationship to the <code>IdCard</code> we can simply add the attribute <code>cascade</code> to the <code>many-to-one</code> element in the mapping file:</p><div id="highlighter_897834" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>1</code></td><td class="content"><code class="plain">&lt;</code><code class="keyword">many-to-one</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"idCard"</code> <code class="color1">column</code><code class="plain">=</code><code class="string">"ID_ID_CARD"</code> <code class="color1">unique</code><code class="plain">=</code><code class="string">"true"</code> <code class="color1">cascade</code><code class="plain">=</code><code class="string">"all"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>2</code></td><td class="content"><code class="plain">&lt;/</code><code class="keyword">many-to-one</code><code class="plain">&gt;</code></td></tr></tbody></table></div></div></div><p>Using the value <code>all</code> tells Hibernate to cascade all types of operations. As this is not always the preferred way to handle relationships between entities, one can also select only specific operations:</p><div id="highlighter_971107" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>1</code></td><td class="content"><code class="plain">&lt;</code><code class="keyword">many-to-one</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"idCard"</code> <code class="color1">column</code><code class="plain">=</code><code class="string">"ID_ID_CARD"</code> <code class="color1">unique</code><code class="plain">=</code><code class="string">"true"</code> <code class="color1">cascade</code><code class="plain">=</code><code class="string">"save-update,refresh"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>2</code></td><td class="content"><code class="plain">&lt;/</code><code class="keyword">many-to-one</code><code class="plain">&gt;</code></td></tr></tbody></table></div></div></div><p>The example above demonstrates how to configure the mapping such that only calls to <code>save()</code>, <code>saveOrUpdate()</code> and <code>refresh</code> (re-reads the state of the given object from the database) are cascaded. Calls to the Hibernate methods <code>delete()</code> or <code>lock()</code> would for example not be forwarded.</p><p>Using on of the two configurations above, the code to store a person together with its id card can be rewritten to the following one:</p><div id="highlighter_177358" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>1</code></td><td class="content"><code class="plain">Person person = </code><code class="keyword">new</code> <code class="plain">Person();</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>2</code></td><td class="content"><code class="plain">person.setFirstName(</code><code class="string">"Homer"</code><code class="plain">);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>3</code></td><td class="content"><code class="plain">person.setLastName(</code><code class="string">"Simpson"</code><code class="plain">);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>4</code></td><td class="content"><code class="plain">IdCard idCard = </code><code class="keyword">new</code> <code class="plain">IdCard();</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>5</code></td><td class="content"><code class="plain">idCard.setIdNumber(</code><code class="string">"4711"</code><code class="plain">);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>6</code></td><td class="content"><code class="plain">idCard.setIssueDate(</code><code class="keyword">new</code> <code class="plain">Date());</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>7</code></td><td class="content"><code class="plain">person.setIdCard(idCard);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>8</code></td><td class="content"><code class="plain">session.save(person);</code></td></tr></tbody></table></div></div></div><p>Instead of using the method <code>save()</code> one could also use in this use case the method <code>saveOrUpdate()</code>. The purpose of the method <code>saveOrUpdate()</code> is that it can be also used to update an existing entity. A subtle difference between both implementations is the fact that the <code>save()</code> methods returns the created identifier of the new entity:</p><div id="highlighter_940050" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>1</code></td><td class="content"><code class="plain">Long personId = (Long) session.save(person);</code></td></tr></tbody></table></div></div></div><p>This is helpful when writing for example server side code that should return this identifier to the caller of the method. On the other hand the method <code>update()</code> does not return the identifier as it assumes that the entity has already been stored to the data store and therefore must have an identifier. Trying to update an entity without an identifier will throw an exception:</p><div id="highlighter_118153" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>1</code></td><td class="content"><code class="plain">org.hibernate.TransientObjectException: The given object has a </code><code class="keyword">null</code> <code class="plain">identifier: ...</code></td></tr></tbody></table></div></div></div><p>Therefore <code>saveOrUpdate()</code> helps in cases where one wants to omit code that decides whether the entity has already been stored or not.</p><h2><a name="relationships_onetoone"></a>5.2. OneToMany</h2><p>Another relation that appears frequently during O/R mappings is the “one to many” relation. In this case a set of entities belongs to one entity of another type. In order to model such a relation we add the class <code>Phone</code> to our model:</p><div id="highlighter_481554" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>01</code></td><td class="content"><code class="keyword">public</code> <code class="keyword">class</code> <code class="plain">Phone {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>02</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">private</code> <code class="plain">Long id;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>03</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">private</code> <code class="plain">String number;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>04</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">private</code> <code class="plain">Person person;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>05</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>06</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">public</code> <code class="plain">Long getId() {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>07</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">return</code> <code class="plain">id;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>08</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>09</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>10</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">public</code> <code class="keyword">void</code> <code class="plain">setId(Long id) {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>11</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">this</code><code class="plain">.id = id;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>12</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>13</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>14</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">public</code> <code class="plain">String getNumber() {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>15</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">return</code> <code class="plain">number;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>16</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>17</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>18</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">public</code> <code class="keyword">void</code> <code class="plain">setNumber(String number) {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>19</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">this</code><code class="plain">.number = number;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>20</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>21</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>22</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">public</code> <code class="plain">Person getPerson() {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>23</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">return</code> <code class="plain">person;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>24</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>25</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>26</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">public</code> <code class="keyword">void</code> <code class="plain">setPerson(Person person) {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>27</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">this</code><code class="plain">.person = person;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>28</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>29</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div></div></div><p>As usual the entity <code>Phone</code> has an internal identifier (<code>id</code>) and a field to store the actual phone number. The field <code>person</code> stores a reference back to the person who owns this phone. As one person can have more than one phone, we add a <code>Set</code> to the <code>Person</code> class that collects all phones of one person:</p><div id="highlighter_417307" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>01</code></td><td class="content"><code class="keyword">public</code> <code class="keyword">class</code> <code class="plain">Person {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>02</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">...</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>03</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">private</code> <code class="plain">Set&lt;phone&gt; phones = </code><code class="keyword">new</code> <code class="plain">HashSet&lt;phone&gt;();</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>04</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">...</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>05</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">public</code> <code class="plain">Set&lt;phone&gt; getPhones() {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>06</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">return</code> <code class="plain">phones;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>07</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>08</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>09</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">public</code> <code class="keyword">void</code> <code class="plain">setPhones(Set&lt;phone&gt; phones) {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>10</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">this</code><code class="plain">.phones = phones;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>11</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>12</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>13</code></td><td class="content"><code class="plain">&lt;/phone&gt;&lt;/phone&gt;&lt;/phone&gt;&lt;/phone&gt;</code></td></tr></tbody></table></div></div></div><p>The mapping file has to be updated accordingly:</p><div id="highlighter_3948" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>01</code></td><td class="content"><code class="plain">&lt;</code><code class="keyword">hibernate-mapping</code> <code class="color1">package</code><code class="plain">=</code><code class="string">"hibernate.entity"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>02</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">...</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>03</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">class</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"Phone"</code> <code class="color1">table</code><code class="plain">=</code><code class="string">"T_PHONE"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>04</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">id</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"id"</code> <code class="color1">column</code><code class="plain">=</code><code class="string">"ID"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>05</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">generator</code> <code class="color1">class</code><code class="plain">=</code><code class="string">"sequence"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>06</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;/</code><code class="keyword">generator</code><code class="plain">&gt;&lt;/</code><code class="keyword">id</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>07</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">property</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"number"</code> <code class="color1">column</code><code class="plain">=</code><code class="string">"NUMBER"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>08</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">many-to-one</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"person"</code> <code class="color1">column</code><code class="plain">=</code><code class="string">"ID_PERSON"</code> <code class="color1">unique</code><code class="plain">=</code><code class="string">"false"</code> <code class="color1">cascade</code><code class="plain">=</code><code class="string">"all"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>09</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;/</code><code class="keyword">many-to-one</code><code class="plain">&gt;&lt;/</code><code class="keyword">property</code><code class="plain">&gt;&lt;/</code><code class="keyword">class</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>10</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">class</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"Person"</code> <code class="color1">table</code><code class="plain">=</code><code class="string">"T_PERSON"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>11</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">id</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"id"</code> <code class="color1">column</code><code class="plain">=</code><code class="string">"ID"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>12</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">generator</code> <code class="color1">class</code><code class="plain">=</code><code class="string">"sequence"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>13</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;/</code><code class="keyword">generator</code><code class="plain">&gt;&lt;/</code><code class="keyword">id</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>14</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">discriminator</code> <code class="color1">column</code><code class="plain">=</code><code class="string">"PERSON_TYPE"</code> <code class="color1">type</code><code class="plain">=</code><code class="string">"string"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>15</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">property</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"firstName"</code> <code class="color1">column</code><code class="plain">=</code><code class="string">"FIRST_NAME"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>16</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">property</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"lastName"</code> <code class="color1">column</code><code class="plain">=</code><code class="string">"LAST_NAME"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>17</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">many-to-one</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"idCard"</code> <code class="color1">column</code><code class="plain">=</code><code class="string">"ID_ID_CARD"</code> <code class="color1">unique</code><code class="plain">=</code><code class="string">"true"</code> <code class="color1">cascade</code><code class="plain">=</code><code class="string">"all"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>18</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">subclass</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"Geek"</code> <code class="color1">extends</code><code class="plain">=</code><code class="string">"Person"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>19</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">property</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"favouriteProgrammingLanguage"</code> <code class="color1">column</code><code class="plain">=</code><code class="string">"FAV_PROG_LANG"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>20</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;/</code><code class="keyword">property</code><code class="plain">&gt;&lt;/</code><code class="keyword">subclass</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>21</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;/</code><code class="keyword">many-to-one</code><code class="plain">&gt;&lt;/</code><code class="keyword">property</code><code class="plain">&gt;&lt;/</code><code class="keyword">property</code><code class="plain">&gt;&lt;/</code><code class="keyword">discriminator</code><code class="plain">&gt;&lt;/</code><code class="keyword">class</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>22</code></td><td class="content"><code class="plain">&lt;/</code><code class="keyword">hibernate-mapping</code><code class="plain">&gt;</code></td></tr></tbody></table></div></div></div><p>The listing above shows the definition of the mapping for the class <code>Phone</code>. Next to the usual identifier (<code>id</code>) that is generated using a sequence and the field <code>number</code> this definition also contains out the <code>many-to-one</code> element. In contrast to the “one to one” relation we have seen before, the attribute <code>unique</code> is set to <code>false</code>. Beyond that the attribute <code>column</code> defines the name of the foreign key column and the value of the attribute <code>cascade</code> how Hibernate should cascade operations on this relation.</p><p>Having executed the above configuration will print out the following DDL statements:</p><div id="highlighter_94741" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>01</code></td><td class="content"><code class="plain">...</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>02</code></td><td class="content"><code class="plain">Hibernate: </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>03</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">drop</code> <code class="keyword">table</code> <code class="plain">T_PERSON if exists</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>04</code></td><td class="content"><code class="plain">Hibernate: </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>05</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">drop</code> <code class="keyword">table</code> <code class="plain">T_PHONE if exists</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>06</code></td><td class="content"><code class="plain">...</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>07</code></td><td class="content"><code class="plain">Hibernate: </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>08</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">create</code> <code class="keyword">table</code> <code class="plain">T_PERSON (</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>09</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">ID </code><code class="keyword">bigint</code> <code class="color1">not</code> <code class="color1">null</code><code class="plain">,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>10</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">PERSON_TYPE </code><code class="keyword">varchar</code><code class="plain">(255) </code><code class="color1">not</code> <code class="color1">null</code><code class="plain">,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>11</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">FIRST_NAME </code><code class="keyword">varchar</code><code class="plain">(255),</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>12</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">LAST_NAME </code><code class="keyword">varchar</code><code class="plain">(255),</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>13</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">ID_ID_CARD </code><code class="keyword">bigint</code><code class="plain">,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>14</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">FAV_PROG_LANG </code><code class="keyword">varchar</code><code class="plain">(255),</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>15</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">primary</code> <code class="keyword">key</code> <code class="plain">(ID)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>16</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>17</code></td><td class="content"><code class="plain">Hibernate: </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>18</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">create</code> <code class="keyword">table</code> <code class="plain">T_PHONE (</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>19</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">ID </code><code class="keyword">bigint</code> <code class="color1">not</code> <code class="color1">null</code><code class="plain">,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>20</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">NUMBER </code><code class="keyword">varchar</code><code class="plain">(255),</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>21</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">ID_PERSON </code><code class="keyword">bigint</code><code class="plain">,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>22</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">primary</code> <code class="keyword">key</code> <code class="plain">(ID)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>23</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>24</code></td><td class="content"><code class="plain">...</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>25</code></td><td class="content"><code class="plain">Hibernate: </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>26</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">alter</code> <code class="keyword">table</code> <code class="plain">T_PHONE </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>27</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">add</code> <code class="keyword">constraint</code> <code class="plain">FK_dvxwd55q1bax99ibyw4oxa8iy </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>28</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">foreign</code> <code class="keyword">key</code> <code class="plain">(ID_PERSON) </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>29</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">references</code> <code class="plain">T_PERSON</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>30</code></td><td class="content"><code class="plain">...</code></td></tr></tbody></table></div></div></div><p>Next to the table <code>T_PERSON</code> Hibernate now also creates the new table <code>T_PHONE</code> with its three columns <code>ID</code>, <code>NUMBER</code> and <code>ID_PERSON</code>. As the latter column stores the reference to the <code>Person</code>, Hibernate also adds a foreign key constraint to the table <code>T_PHONE</code> that points to the column <code>ID</code> of the table <code>T_PERSON</code>.</p><p>In order to add a phone number to one of the existing persons, we first load a specific person and then add the phone:</p><div id="highlighter_921008" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>01</code></td><td class="content"><code class="plain">session.getTransaction().begin();</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>02</code></td><td class="content"><code class="plain">List&lt;person&gt; resultList = session.createQuery(</code><code class="string">"from Person as person where person.firstName = ?"</code><code class="plain">).setString(</code><code class="value">0</code><code class="plain">, </code><code class="string">"Homer"</code><code class="plain">).list();</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>03</code></td><td class="content"><code class="keyword">for</code> <code class="plain">(Person person : resultList) {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>04</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">Phone phone = </code><code class="keyword">new</code> <code class="plain">Phone();</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>05</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">phone.setNumber(</code><code class="string">"+49 1234 456789"</code><code class="plain">);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>06</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">session.persist(phone);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>07</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">person.getPhones().add(phone);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>08</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">phone.setPerson(person);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>09</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>10</code></td><td class="content"><code class="plain">session.getTransaction().commit();</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>11</code></td><td class="content"><code class="plain">&lt;/person&gt;</code></td></tr></tbody></table></div></div></div><p>This example shows how to load a person from the data store by using Hibernate’s Query Language (HQL). Similarly to SQL this query consists of a from and a where clause. The column <code>FIRST_NAME</code> is not referenced by using its SQL name. Instead the name of the Java field/property is used. Parameters like the first name can be passed into the query by using the <code>setString()</code> method.</p><p>In the following the code iterates over the found persons (should be only one) and creates a new instance of <code>Phone</code> that is added to the set of phones of the found person. The link back from the phone to the person is also set before the transaction is committed. Having executed this code, the database looks like the following one:</p><div id="highlighter_750697" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>1</code></td><td class="content"><code class="plain">sql&gt; </code><code class="keyword">select</code> <code class="plain">* </code><code class="keyword">from</code> <code class="plain">t_person </code><code class="keyword">where</code> <code class="plain">first_name = </code><code class="string">'Homer'</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>2</code></td><td class="content"><code class="plain">ID | PERSON_TYPE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | FIRST_NAME | LAST_NAME | ID_ID_CARD | FAV_PROG_LANG</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>3</code></td><td class="content"><code class="plain">1&nbsp; | hibernate.entity.Person | Homer&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | Simpson&nbsp;&nbsp; | 2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | </code><code class="color1">null</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>4</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>5</code></td><td class="content"><code class="plain">sql&gt; </code><code class="keyword">select</code> <code class="plain">* </code><code class="keyword">from</code> <code class="plain">t_phone;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>6</code></td><td class="content"><code class="plain">ID | NUMBER&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | ID_PERSON</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>7</code></td><td class="content"><code class="plain">6&nbsp; | +49 1234 456789 | 1</code></td></tr></tbody></table></div></div></div><p>The result sets of the two select statements above shows that the row in <code>T_PHONE</code> is connected to the selected row in <code>T_PERSON</code> as it contains the id of the person with first name “Homer” in its column <code>ID_ID_PERSON</code>.</p><h2><a name="relationships_manytomany"></a>5.3. ManyToMany</h2><p>The next interesting relationship to look at is the “many to many” relation. In this case many entities of type A can belong to many entities of type B and vice versa. In practice this is for example the case with geeks and projects. One geek can work in multiple projects (either simultaneously or sequentially) and one project can consist of more than one geek. Therefore the new entity <code>Project</code> is introduced:</p><div id="highlighter_133597" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>01</code></td><td class="content"><code class="keyword">public</code> <code class="keyword">class</code> <code class="plain">Project {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>02</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">private</code> <code class="plain">Long id;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>03</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">private</code> <code class="plain">String title;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>04</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">private</code> <code class="plain">Set&lt;geek&gt; geeks = </code><code class="keyword">new</code> <code class="plain">HashSet&lt;geek&gt;();</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>05</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>06</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">public</code> <code class="plain">Long getId() {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>07</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">return</code> <code class="plain">id;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>08</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>09</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>10</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">public</code> <code class="keyword">void</code> <code class="plain">setId(Long id) {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>11</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">this</code><code class="plain">.id = id;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>12</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>13</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>14</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">public</code> <code class="plain">String getTitle() {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>15</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">return</code> <code class="plain">title;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>16</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>17</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>18</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">public</code> <code class="keyword">void</code> <code class="plain">setTitle(String title) {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>19</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">this</code><code class="plain">.title = title;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>20</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>21</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>22</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">public</code> <code class="plain">Set&lt;geek&gt; getGeeks() {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>23</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">return</code> <code class="plain">geeks;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>24</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>25</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>26</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">public</code> <code class="keyword">void</code> <code class="plain">setGeeks(Set&lt;geek&gt; geeks) {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>27</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">this</code><code class="plain">.geeks = geeks;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>28</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>29</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>30</code></td><td class="content"><code class="plain">&lt;/geek&gt;&lt;/geek&gt;&lt;/geek&gt;&lt;/geek&gt;</code></td></tr></tbody></table></div></div></div><p>It consists next to the identifier (<code>id</code>) of a title and a set of geeks. On the other side of the relation the class <code>Geek</code> has a set of projects:</p><div id="highlighter_846831" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>01</code></td><td class="content"><code class="keyword">public</code> <code class="keyword">class</code> <code class="plain">Geek </code><code class="keyword">extends</code> <code class="plain">Person {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>02</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">private</code> <code class="plain">String favouriteProgrammingLanguage;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>03</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">private</code> <code class="plain">Set&lt;project&gt; projects = </code><code class="keyword">new</code> <code class="plain">HashSet&lt;project&gt;();</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>04</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>05</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">public</code> <code class="plain">String getFavouriteProgrammingLanguage() {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>06</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">return</code> <code class="plain">favouriteProgrammingLanguage;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>07</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>08</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>09</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">public</code> <code class="keyword">void</code> <code class="plain">setFavouriteProgrammingLanguage(String favouriteProgrammingLanguage) {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>10</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">this</code><code class="plain">.favouriteProgrammingLanguage = favouriteProgrammingLanguage;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>11</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>12</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>13</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">public</code> <code class="plain">Set&lt;project&gt; getProjects() {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>14</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">return</code> <code class="plain">projects;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>15</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>16</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>17</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">public</code> <code class="keyword">void</code> <code class="plain">setProjects(Set&lt;project&gt; projects) {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>18</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">this</code><code class="plain">.projects = projects;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>19</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>20</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>21</code></td><td class="content"><code class="plain">&lt;/project&gt;&lt;/project&gt;&lt;/project&gt;&lt;/project&gt;</code></td></tr></tbody></table></div></div></div><p>To support this kind of relation the mapping file has to be changed in the following way:</p><div id="highlighter_147553" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>01</code></td><td class="content"><code class="plain">&lt;</code><code class="keyword">hibernate-mapping</code> <code class="color1">package</code><code class="plain">=</code><code class="string">"hibernate.entity"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>02</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">...</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>03</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">class</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"Project"</code> <code class="color1">table</code><code class="plain">=</code><code class="string">"T_PROJECT"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>04</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">id</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"id"</code> <code class="color1">column</code><code class="plain">=</code><code class="string">"ID"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>05</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">generator</code> <code class="color1">class</code><code class="plain">=</code><code class="string">"sequence"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>06</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;/</code><code class="keyword">generator</code><code class="plain">&gt;&lt;/</code><code class="keyword">id</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>07</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">property</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"title"</code> <code class="color1">column</code><code class="plain">=</code><code class="string">"TITLE"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>08</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">set</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"geeks"</code> <code class="color1">table</code><code class="plain">=</code><code class="string">"T_GEEKS_PROJECTS"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>09</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">key</code> <code class="color1">column</code><code class="plain">=</code><code class="string">"ID_PROJECT"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>10</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">many-to-many</code> <code class="color1">column</code><code class="plain">=</code><code class="string">"ID_GEEK"</code> <code class="color1">class</code><code class="plain">=</code><code class="string">"Geek"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>11</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;/</code><code class="keyword">many-to-many</code><code class="plain">&gt;&lt;/</code><code class="keyword">key</code><code class="plain">&gt;&lt;/</code><code class="keyword">set</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>12</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;/</code><code class="keyword">property</code><code class="plain">&gt;&lt;/</code><code class="keyword">class</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>13</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">class</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"Person"</code> <code class="color1">table</code><code class="plain">=</code><code class="string">"T_PERSON"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>14</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">id</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"id"</code> <code class="color1">column</code><code class="plain">=</code><code class="string">"ID"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>15</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">generator</code> <code class="color1">class</code><code class="plain">=</code><code class="string">"sequence"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>16</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;/</code><code class="keyword">generator</code><code class="plain">&gt;&lt;/</code><code class="keyword">id</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>17</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">discriminator</code> <code class="color1">column</code><code class="plain">=</code><code class="string">"PERSON_TYPE"</code> <code class="color1">type</code><code class="plain">=</code><code class="string">"string"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>18</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">property</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"firstName"</code> <code class="color1">column</code><code class="plain">=</code><code class="string">"FIRST_NAME"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>19</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">property</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"lastName"</code> <code class="color1">column</code><code class="plain">=</code><code class="string">"LAST_NAME"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>20</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">many-to-one</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"idCard"</code> <code class="color1">column</code><code class="plain">=</code><code class="string">"ID_ID_CARD"</code> <code class="color1">unique</code><code class="plain">=</code><code class="string">"true"</code> <code class="color1">cascade</code><code class="plain">=</code><code class="string">"all"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>21</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">subclass</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"Geek"</code> <code class="color1">extends</code><code class="plain">=</code><code class="string">"Person"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>22</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">property</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"favouriteProgrammingLanguage"</code> <code class="color1">column</code><code class="plain">=</code><code class="string">"FAV_PROG_LANG"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>23</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">set</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"projects"</code> <code class="color1">inverse</code><code class="plain">=</code><code class="string">"true"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>24</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">key</code> <code class="color1">column</code><code class="plain">=</code><code class="string">"ID_GEEK"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>25</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">many-to-many</code> <code class="color1">column</code><code class="plain">=</code><code class="string">"ID_PROJECT"</code> <code class="color1">class</code><code class="plain">=</code><code class="string">"Project"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>26</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;/</code><code class="keyword">many-to-many</code><code class="plain">&gt;&lt;/</code><code class="keyword">key</code><code class="plain">&gt;&lt;/</code><code class="keyword">set</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>27</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;/</code><code class="keyword">property</code><code class="plain">&gt;&lt;/</code><code class="keyword">subclass</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>28</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;/</code><code class="keyword">many-to-one</code><code class="plain">&gt;&lt;/</code><code class="keyword">property</code><code class="plain">&gt;&lt;/</code><code class="keyword">property</code><code class="plain">&gt;&lt;/</code><code class="keyword">discriminator</code><code class="plain">&gt;&lt;/</code><code class="keyword">class</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>29</code></td><td class="content"><code class="plain">&lt;/</code><code class="keyword">hibernate-mapping</code><code class="plain">&gt;</code></td></tr></tbody></table></div></div></div><p>First of all we see the new class <code>Project</code> that is mapped to the table <code>T_PROJECT</code>. Its unique identifier is stored in the field <code>id</code> and its field <code>title</code> is stored in the column <code>TITLE</code>. The XML element <code>set</code> defines the one side of the mapping: the items inside the set <code>geeks</code> should be stored in a separate table named <code>T_GEEKS_PROJECTS</code> with the columns <code>ID_PROJECT</code> and <code>ID_GEEK</code>. On the other side of the relation the XML element <code>set</code> inside the <code>subclass</code> for <code>Geek</code> defines the inverse relation (<code>inverse="true"</code>). On this side the field in the class <code>Geek</code> is called <code>projects</code> and the reference class is <code>Project</code>.</p><p>The resulting statements to create the tables look like this:</p><div id="highlighter_604376" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>01</code></td><td class="content"><code class="plain">...</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>02</code></td><td class="content"><code class="plain">Hibernate: </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>03</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">drop</code> <code class="keyword">table</code> <code class="plain">T_GEEKS_PROJECTS if exists</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>04</code></td><td class="content"><code class="plain">Hibernate: </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>05</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">drop</code> <code class="keyword">table</code> <code class="plain">T_PROJECT if exists</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>06</code></td><td class="content"><code class="plain">...</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>07</code></td><td class="content"><code class="plain">Hibernate: </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>08</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">create</code> <code class="keyword">table</code> <code class="plain">T_GEEKS_PROJECTS (</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>09</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">ID_PROJECT </code><code class="keyword">bigint</code> <code class="color1">not</code> <code class="color1">null</code><code class="plain">,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>10</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">ID_GEEK </code><code class="keyword">bigint</code> <code class="color1">not</code> <code class="color1">null</code><code class="plain">,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>11</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">primary</code> <code class="keyword">key</code> <code class="plain">(ID_PROJECT, ID_GEEK)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>12</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>13</code></td><td class="content"><code class="plain">Hibernate: </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>14</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">create</code> <code class="keyword">table</code> <code class="plain">T_PROJECT (</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>15</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">ID </code><code class="keyword">bigint</code> <code class="color1">not</code> <code class="color1">null</code><code class="plain">,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>16</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TITLE </code><code class="keyword">varchar</code><code class="plain">(255),</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>17</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">primary</code> <code class="keyword">key</code> <code class="plain">(ID)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>18</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>19</code></td><td class="content"><code class="plain">...</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>20</code></td><td class="content"><code class="plain">Hibernate: </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>21</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">alter</code> <code class="keyword">table</code> <code class="plain">T_GEEKS_PROJECTS </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>22</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">add</code> <code class="keyword">constraint</code> <code class="plain">FK_2kp3f3tq46ckky02pshvjngaq </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>23</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">foreign</code> <code class="keyword">key</code> <code class="plain">(ID_GEEK) </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>24</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">references</code> <code class="plain">T_PERSON</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>25</code></td><td class="content"><code class="plain">Hibernate: </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>26</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">alter</code> <code class="keyword">table</code> <code class="plain">T_GEEKS_PROJECTS </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>27</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">add</code> <code class="keyword">constraint</code> <code class="plain">FK_36tafu1nw9j5o51d21xm5rqne </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>28</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">foreign</code> <code class="keyword">key</code> <code class="plain">(ID_PROJECT) </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>29</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">references</code> <code class="plain">T_PROJECT</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>30</code></td><td class="content"><code class="plain">...</code></td></tr></tbody></table></div></div></div><p>These statements create the new tables <code>T_PROJECT</code> as well as <code>T_GEEKS_PROJECTS</code>. The table <code>T_PROJECT</code> consists of the columns <code>ID</code> and <code>TITLE</code> whereby the values in the column <code>ID</code> are referred to in the new table <code>T_GEEKS_PROJECTS</code> in its column <code>ID_PROJECT</code>. The second foreign key on this table points to the primary key of <code>T_PERSON</code>.</p><p>In order to insert a project with a few geeks that can program in Java into the data store, the following code can be used:</p><div id="highlighter_833802" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>01</code></td><td class="content"><code class="plain">session.getTransaction().begin();</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>02</code></td><td class="content"><code class="plain">List&lt;geek&gt; resultList = session.createQuery("from Geek as geek </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>03</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">where geek.favouriteProgrammingLanguage = ?</code><code class="string">").setString(0, "</code><code class="plain">Java").list();</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>04</code></td><td class="content"><code class="plain">Project project = </code><code class="keyword">new</code> <code class="plain">Project();</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>05</code></td><td class="content"><code class="plain">project.setTitle(</code><code class="string">"Java Project"</code><code class="plain">);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>06</code></td><td class="content"><code class="keyword">for</code> <code class="plain">(Geek geek : resultList) {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>07</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">project.getGeeks().add(geek);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>08</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">geek.getProjects().add(project);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>09</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>10</code></td><td class="content"><code class="plain">session.save(project);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>11</code></td><td class="content"><code class="plain">session.getTransaction().commit();</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>12</code></td><td class="content"><code class="plain">&lt;/geek&gt;</code></td></tr></tbody></table></div></div></div><p>The initial query selects all geeks that have “Java” as their favorite programming language. Then a new instance of <code>Project</code> is created and all geeks that are in the result set of the query are added to the project’s set of geeks. On the other side of the relation the project is added to the set of projects for the geek. Finally the project is stored and the transaction gets committed.</p><p>After having executed this code, the database looks like the following:</p><div id="highlighter_603155" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>01</code></td><td class="content"><code class="plain">sql&gt; </code><code class="functions">select</code> <code class="plain">* from t_person;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>02</code></td><td class="content"><code class="plain">ID | PERSON_TYPE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | FIRST_NAME | LAST_NAME | ID_ID_CARD | FAV_PROG_LANG</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>03</code></td><td class="content"><code class="plain">1&nbsp; | hibernate.entity.Person | Homer&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | Simpson&nbsp;&nbsp; | 2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | null</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>04</code></td><td class="content"><code class="plain">3&nbsp; | hibernate.entity.Geek&nbsp;&nbsp; | Gavin&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | Coffee&nbsp;&nbsp;&nbsp; | null&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | Java</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>05</code></td><td class="content"><code class="plain">4&nbsp; | hibernate.entity.Geek&nbsp;&nbsp; | Thomas&nbsp;&nbsp;&nbsp;&nbsp; | Micro&nbsp;&nbsp;&nbsp;&nbsp; | null&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | C</code><code class="comments">#</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>06</code></td><td class="content"><code class="plain">5&nbsp; | hibernate.entity.Geek&nbsp;&nbsp; | Christian&nbsp; | Cup&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | null&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | Java</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>07</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>08</code></td><td class="content"><code class="plain">sql&gt; </code><code class="functions">select</code> <code class="plain">* from t_project;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>09</code></td><td class="content"><code class="plain">ID | TITLE</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>10</code></td><td class="content"><code class="plain">7&nbsp; | Java Project</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>11</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>12</code></td><td class="content"><code class="plain">sql&gt; </code><code class="functions">select</code> <code class="plain">* from t_geeks_projects;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>13</code></td><td class="content"><code class="plain">ID_PROJECT | ID_GEEK</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>14</code></td><td class="content"><code class="plain">7&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | 5</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>15</code></td><td class="content"><code class="plain">7&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | 3</code></td></tr></tbody></table></div></div></div><p>The first select reveals that only the two geeks with id 3 and 5 have denoted that Java is their favorite programming language. Hence the project with title “Java Project” (id: 7) consist of the two geeks with ids 3 and 5 (last select statement).</p><h2><a name="relationships_components"></a>5.4. Component</h2><p>Object-Oriented design rules suggest to extract commonly used fields to a separate class. The <code>Project</code> class above for example misses still a start and end date. But as such a period of time can be used for other entities as well, we can create a new class called <code>Period</code> that encapsulates the two fields <code>startDate</code> and <code>endDate</code>:</p><div id="highlighter_13326" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>01</code></td><td class="content"><code class="keyword">public</code> <code class="keyword">class</code> <code class="plain">Period {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>02</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">private</code> <code class="plain">Date startDate;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>03</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">private</code> <code class="plain">Date endDate;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>04</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>05</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">public</code> <code class="plain">Date getStartDate() {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>06</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">return</code> <code class="plain">startDate;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>07</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>08</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>09</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">public</code> <code class="keyword">void</code> <code class="plain">setStartDate(Date startDate) {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>10</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">this</code><code class="plain">.startDate = startDate;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>11</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>12</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>13</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">public</code> <code class="plain">Date getEndDate() {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>14</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">return</code> <code class="plain">endDate;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>15</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>16</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>17</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">public</code> <code class="keyword">void</code> <code class="plain">setEndDate(Date endDate) {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>18</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">this</code><code class="plain">.endDate = endDate;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>19</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>20</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>21</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>22</code></td><td class="content"><code class="keyword">public</code> <code class="keyword">class</code> <code class="plain">Project {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>23</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">...</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>24</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">private</code> <code class="plain">Period period;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>25</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">...</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>26</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">public</code> <code class="plain">Period getPeriod() {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>27</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">return</code> <code class="plain">period;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>28</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>29</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>30</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">public</code> <code class="keyword">void</code> <code class="plain">setPeriod(Period period) {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>31</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">this</code><code class="plain">.period = period;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>32</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>33</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div></div></div><p>But we do not want that Hibernate creates a separate table for the period as each <code>Project</code> should only have exactly one start and end date and we want to circumvent the additional join. In this case Hibernate can map the two fields in the embedded class <code>Period</code> to the same table as the class <code>Project</code>:</p><div id="highlighter_342187" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>01</code></td><td class="content"><code class="plain">&lt;</code><code class="keyword">hibernate-mapping</code> <code class="color1">package</code><code class="plain">=</code><code class="string">"hibernate.entity"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>02</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">...</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>03</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">class</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"Project"</code> <code class="color1">table</code><code class="plain">=</code><code class="string">"T_PROJECT"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>04</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">id</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"id"</code> <code class="color1">column</code><code class="plain">=</code><code class="string">"ID"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>05</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">generator</code> <code class="color1">class</code><code class="plain">=</code><code class="string">"sequence"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>06</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;/</code><code class="keyword">generator</code><code class="plain">&gt;&lt;/</code><code class="keyword">id</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>07</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">property</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"title"</code> <code class="color1">column</code><code class="plain">=</code><code class="string">"TITLE"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>08</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">set</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"geeks"</code> <code class="color1">table</code><code class="plain">=</code><code class="string">"T_GEEKS_PROJECTS"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>09</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">key</code> <code class="color1">column</code><code class="plain">=</code><code class="string">"ID_PROJECT"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>10</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">many-to-many</code> <code class="color1">column</code><code class="plain">=</code><code class="string">"ID_GEEK"</code> <code class="color1">class</code><code class="plain">=</code><code class="string">"Geek"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>11</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;/</code><code class="keyword">many-to-many</code><code class="plain">&gt;&lt;/</code><code class="keyword">key</code><code class="plain">&gt;&lt;/</code><code class="keyword">set</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>12</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">component</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"period"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>13</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">property</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"startDate"</code> <code class="color1">column</code><code class="plain">=</code><code class="string">"START_DATE"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>14</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">property</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"endDate"</code> <code class="color1">column</code><code class="plain">=</code><code class="string">"END_DATE"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>15</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;/</code><code class="keyword">property</code><code class="plain">&gt;&lt;/</code><code class="keyword">property</code><code class="plain">&gt;&lt;/</code><code class="keyword">component</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>16</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;/</code><code class="keyword">property</code><code class="plain">&gt;&lt;/</code><code class="keyword">class</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>17</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">...</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>18</code></td><td class="content"><code class="plain">&lt;/</code><code class="keyword">hibernate-mapping</code><code class="plain">&gt;</code></td></tr></tbody></table></div></div></div><p>The way how to map this embedded class to fields of the table <code>T_PROJECT</code> is to use the <code>component</code> element and provide the name of the field in the <code>Project</code> class for the <code>name</code> attribute. The two fields of the class <code>Period</code> are then just declared as properties of the <code>component</code>.</p><p>This results in the following DDL statement:</p><div id="highlighter_479219" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>01</code></td><td class="content"><code class="plain">...</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>02</code></td><td class="content"><code class="plain">Hibernate: </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>03</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">create</code> <code class="keyword">table</code> <code class="plain">T_PROJECT (</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>04</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">ID </code><code class="keyword">bigint</code> <code class="color1">not</code> <code class="color1">null</code><code class="plain">,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>05</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TITLE </code><code class="keyword">varchar</code><code class="plain">(255),</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>06</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">START_DATE </code><code class="keyword">timestamp</code><code class="plain">,</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>07</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">END_DATE </code><code class="keyword">timestamp</code><code class="plain">,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>08</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">primary</code> <code class="keyword">key</code> <code class="plain">(ID)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>09</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>10</code></td><td class="content"><code class="plain">...</code></td></tr></tbody></table></div></div></div><p>Although the fields for <code>START_DATE</code> and <code>END_DATE</code> are located in a separate class, Hibernate adds them to the table <code>T_PROJECT</code>. The following code creates a new project and adds a period to it:</p><div id="highlighter_386189" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>1</code></td><td class="content"><code class="plain">Project project = </code><code class="keyword">new</code> <code class="plain">Project();</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>2</code></td><td class="content"><code class="plain">project.setTitle(</code><code class="string">"Java Project"</code><code class="plain">);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>3</code></td><td class="content"><code class="plain">Period period = </code><code class="keyword">new</code> <code class="plain">Period();</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>4</code></td><td class="content"><code class="plain">period.setStartDate(</code><code class="keyword">new</code> <code class="plain">Date());</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>5</code></td><td class="content"><code class="plain">project.setPeriod(period);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>6</code></td><td class="content"><code class="plain">...</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>7</code></td><td class="content"><code class="plain">session.save(project);</code></td></tr></tbody></table></div></div></div><p>This results in the following data situation:</p><div id="highlighter_41840" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>1</code></td><td class="content"><code class="plain">sql&gt; </code><code class="keyword">select</code> <code class="plain">* </code><code class="keyword">from</code> <code class="plain">t_project;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>2</code></td><td class="content"><code class="plain">ID | TITLE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | START_DATE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | END_DATE</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>3</code></td><td class="content"><code class="plain">7&nbsp; | Java Project | 2015-01-01 19:45:12.274 | </code><code class="color1">null</code></td></tr></tbody></table></div></div></div><p>To load the period together with the project no additional code has to be written, the period is automatically loaded and initialized:</p><div id="highlighter_474234" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>1</code></td><td class="content"><code class="plain">List&lt;project&gt; projects = session.createQuery(</code><code class="string">"from Project as p where p.title = ?"</code><code class="plain">)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>2</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">.setString(</code><code class="value">0</code><code class="plain">, </code><code class="string">"Java Project"</code><code class="plain">).list();</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>3</code></td><td class="content"><code class="keyword">for</code> <code class="plain">(Project project : projects) {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>4</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">System.out.println(</code><code class="string">"Project: "</code> <code class="plain">+ project.getTitle() + </code><code class="string">" starts at "</code> <code class="plain">+ project.getPeriod().getStartDate());</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>5</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>6</code></td><td class="content"><code class="plain">&lt;/project&gt;</code></td></tr></tbody></table></div></div></div><p>Just in case all fields of the period have been set to <code>NULL</code> in the database, Hibernate also sets the reference to <code>Period</code> to <code>null</code>.</p><h1><a name="dataTypes"></a>6. User-defined Data Types</h1><p>When working for example with a legacy database it can happen that certain columns are modelled in a different way than Hibernate would map them. The <code>Boolean</code> data type for example is mapped on an H2 database to the type <code>boolean</code>. If the original development team has decided to map boolean values using a string with the value “0” and “1”, Hibernate allows to implement user-defined types that are used for the mapping.</p><p>Hibernate defines the interface <code>org.hibernate.usertype.UserType</code> that has to be implemented:</p><div id="highlighter_340652" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>01</code></td><td class="content"><code class="keyword">public</code> <code class="keyword">interface</code> <code class="plain">UserType {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>02</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">int</code><code class="plain">[] sqlTypes();</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>03</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">Class returnedClass();</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>04</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">boolean</code> <code class="plain">equals(Object var1, Object var2) </code><code class="keyword">throws</code> <code class="plain">HibernateException;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>05</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">int</code> <code class="plain">hashCode(Object var1) </code><code class="keyword">throws</code> <code class="plain">HibernateException;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>06</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">Object nullSafeGet(ResultSet var1, String[] var2, SessionImplementor var3, Object var4) </code><code class="keyword">throws</code> <code class="plain">HibernateException, SQLException;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>07</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">void</code> <code class="plain">nullSafeSet(PreparedStatement var1, Object var2, </code><code class="keyword">int</code> <code class="plain">var3, SessionImplementor var4) </code><code class="keyword">throws</code> <code class="plain">HibernateException, SQLException;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>08</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">Object deepCopy(Object var1) </code><code class="keyword">throws</code> <code class="plain">HibernateException;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>09</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">boolean</code> <code class="plain">isMutable();</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>10</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">Serializable disassemble(Object var1) </code><code class="keyword">throws</code> <code class="plain">HibernateException;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>11</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">Object assemble(Serializable var1, Object var2) </code><code class="keyword">throws</code> <code class="plain">HibernateException;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>12</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">Object replace(Object var1, Object var2, Object var3) </code><code class="keyword">throws</code> <code class="plain">HibernateException;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>13</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div></div></div><p>Simple implementations for those methods that are not specific for our problem are shown below:</p><div id="highlighter_819309" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>01</code></td><td class="content"><code class="color1">@Override</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>02</code></td><td class="content"><code class="keyword">public</code> <code class="keyword">boolean</code> <code class="plain">equals(Object x, Object y) </code><code class="keyword">throws</code> <code class="plain">HibernateException {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>03</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(x == </code><code class="keyword">null</code><code class="plain">) {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>04</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">return</code> <code class="plain">y == </code><code class="keyword">null</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>05</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">} </code><code class="keyword">else</code> <code class="plain">{</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>06</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">return</code> <code class="plain">y != </code><code class="keyword">null</code> <code class="plain">&amp;&amp; x.equals(y);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>07</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>08</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>09</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>10</code></td><td class="content"><code class="color1">@Override</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>11</code></td><td class="content"><code class="keyword">public</code> <code class="keyword">int</code> <code class="plain">hashCode(Object o) </code><code class="keyword">throws</code> <code class="plain">HibernateException {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>12</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">return</code> <code class="plain">o.hashCode();</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>13</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>14</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>15</code></td><td class="content"><code class="color1">@Override</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>16</code></td><td class="content"><code class="keyword">public</code> <code class="plain">Object deepCopy(Object o) </code><code class="keyword">throws</code> <code class="plain">HibernateException {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>17</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">return</code> <code class="plain">o;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>18</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>19</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>20</code></td><td class="content"><code class="color1">@Override</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>21</code></td><td class="content"><code class="keyword">public</code> <code class="keyword">boolean</code> <code class="plain">isMutable() {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>22</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">return</code> <code class="keyword">false</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>23</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>24</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>25</code></td><td class="content"><code class="color1">@Override</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>26</code></td><td class="content"><code class="keyword">public</code> <code class="plain">Serializable disassemble(Object o) </code><code class="keyword">throws</code> <code class="plain">HibernateException {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>27</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">return</code> <code class="plain">(Serializable) o;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>28</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>29</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>30</code></td><td class="content"><code class="color1">@Override</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>31</code></td><td class="content"><code class="keyword">public</code> <code class="plain">Object assemble(Serializable cached, Object owner) </code><code class="keyword">throws</code> <code class="plain">HibernateException {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>32</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">return</code> <code class="plain">cached;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>33</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>34</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>35</code></td><td class="content"><code class="color1">@Override</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>36</code></td><td class="content"><code class="keyword">public</code> <code class="plain">Object replace(Object original, Object target, Object owner) </code><code class="keyword">throws</code> <code class="plain">HibernateException {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>37</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">return</code> <code class="plain">original;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>38</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div></div></div><p>The interesting part of the <code>UserType</code> are the methods <code>nullSafeGet()</code> and <code>nullSafeSet()</code>:</p><div id="highlighter_170434" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>01</code></td><td class="content"><code class="color1">@Override</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>02</code></td><td class="content"><code class="keyword">public</code> <code class="plain">Object nullSafeGet(ResultSet resultSet, String[] strings, </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>03</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">SessionImplementor sessionImplementor, Object o) </code><code class="keyword">throws</code> <code class="plain">HibernateException, SQLException {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>04</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">String str = (String) StringType.INSTANCE.nullSafeGet(resultSet, strings[</code><code class="value">0</code><code class="plain">], sessionImplementor, o);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>05</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(</code><code class="string">"1"</code><code class="plain">.equals(str)) {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>06</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">return</code> <code class="plain">Boolean.TRUE;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>07</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>08</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">return</code> <code class="plain">Boolean.FALSE;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>09</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>10</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>11</code></td><td class="content"><code class="color1">@Override</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>12</code></td><td class="content"><code class="keyword">public</code> <code class="keyword">void</code> <code class="plain">nullSafeSet(PreparedStatement preparedStatement, Object value, </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>13</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">int</code> <code class="plain">i, SessionImplementor sessionImplementor) </code><code class="keyword">throws</code> <code class="plain">HibernateException, SQLException {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>14</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">String valueToStore = </code><code class="string">"0"</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>15</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(value != </code><code class="keyword">null</code><code class="plain">) {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>16</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">Boolean booleanValue = (Boolean) value;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>17</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(booleanValue.equals(Boolean.TRUE)) {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>18</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">valueToStore = </code><code class="string">"1"</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>19</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>20</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>21</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">StringType.INSTANCE.nullSafeSet(preparedStatement,valueToStore, i, sessionImplementor);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>22</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div></div></div><p>The method <code>nullSafeGet()</code> uses Hibernate’s <code>StringType</code> implementation to extract the string representation of the boolean value from the <code>ResultSet</code> of the underlying query. If the returned string equals “1” the method returns “true”, otherwise it returns “false”.</p><p>Before an <code>insert</code> statement can be executed, the boolean value passed in as parameter <code>value</code> has to be “decoded” into either the string “1” or the string “0”. The method <code>nullSafeSet()</code> then uses Hibernate’s <code>StringType</code> implementation to set this string value on the <code>PreparedStatement</code>.</p><p>Finally we have to tell Hibernate which kind of object is returned from <code>nullSafeGet()</code> and which type of column it should use for this type:</p><div id="highlighter_995645" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>1</code></td><td class="content"><code class="color1">@Override</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>2</code></td><td class="content"><code class="keyword">public</code> <code class="keyword">int</code><code class="plain">[] sqlTypes() {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>3</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">return</code> <code class="keyword">new</code> <code class="keyword">int</code><code class="plain">[]{ Types.VARCHAR };</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>4</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>5</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>6</code></td><td class="content"><code class="color1">@Override</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>7</code></td><td class="content"><code class="keyword">public</code> <code class="plain">Class returnedClass() {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>8</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">return</code> <code class="plain">Boolean.</code><code class="keyword">class</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>9</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div></div></div><p>Having implemented the <code>UserType</code> interface, an instance of this class can now be given to the <code>Configuration</code>:</p><div id="highlighter_363718" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>1</code></td><td class="content"><code class="plain">Configuration configuration = </code><code class="keyword">new</code> <code class="plain">Configuration();</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>2</code></td><td class="content"><code class="plain">configuration.configure(</code><code class="string">"hibernate.cfg.xml"</code><code class="plain">);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>3</code></td><td class="content"><code class="plain">configuration.registerTypeOverride(</code><code class="keyword">new</code> <code class="plain">MyBooleanType(), </code><code class="keyword">new</code> <code class="plain">String[]{</code><code class="string">"MyBooleanType"</code><code class="plain">});</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>4</code></td><td class="content"><code class="plain">...</code></td></tr></tbody></table></div></div></div><p><code>MyBooleanType</code> is here our implementation of the <code>UserType</code> interface, whereas the <code>String</code> array defines how to reference this type in the mapping file:</p><div id="highlighter_938099" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>01</code></td><td class="content"><code class="plain">&lt;</code><code class="keyword">hibernate-mapping</code> <code class="color1">package</code><code class="plain">=</code><code class="string">"hibernate.entity"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>02</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">class</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"IdCard"</code> <code class="color1">table</code><code class="plain">=</code><code class="string">"T_ID_CARD"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>03</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">id</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"id"</code> <code class="color1">column</code><code class="plain">=</code><code class="string">"ID"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>04</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">generator</code> <code class="color1">class</code><code class="plain">=</code><code class="string">"sequence"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>05</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;/</code><code class="keyword">generator</code><code class="plain">&gt;&lt;/</code><code class="keyword">id</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>06</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">property</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"idNumber"</code> <code class="color1">column</code><code class="plain">=</code><code class="string">"ID_NUMBER"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>07</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">property</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"issueDate"</code> <code class="color1">column</code><code class="plain">=</code><code class="string">"ISSUE_DATE"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>08</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">property</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"valid"</code> <code class="color1">column</code><code class="plain">=</code><code class="string">"VALID"</code> <code class="color1">type</code><code class="plain">=</code><code class="string">"MyBooleanType"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>09</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;/</code><code class="keyword">property</code><code class="plain">&gt;&lt;/</code><code class="keyword">property</code><code class="plain">&gt;&lt;/</code><code class="keyword">property</code><code class="plain">&gt;&lt;/</code><code class="keyword">class</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>10</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">...</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>11</code></td><td class="content"><code class="plain">&lt;/</code><code class="keyword">hibernate-mapping</code><code class="plain">&gt;</code></td></tr></tbody></table></div></div></div><p>As can be seen from the snippet above, the new type “MyBooleanType” is used for the boolean property of the table <code>T_ID_CARD</code>:</p><div id="highlighter_954577" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>1</code></td><td class="content"><code class="plain">sql&gt; </code><code class="functions">select</code> <code class="plain">* from t_id_card;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>2</code></td><td class="content"><code class="plain">ID | ID_NUMBER | ISSUE_DATE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | VALID</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>3</code></td><td class="content"><code class="plain">2&nbsp; | 4711&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | 2015-03-27 11:49:57.533 | 1</code></td></tr></tbody></table></div></div></div><h1><a name="interceptors"></a>7. Interceptors</h1><p>A project may come with the requirement that for each entity/table the timestamp of its creation and its last update should be tracked. Setting these two values for each entity on all insert and update operations is a fairly tedious task. Therefore Hibernate offers the ability to implement interceptors that are called before an insert or update operation is performed. This way the code to set the creation and update timestamp can be extracted to a single place in the code base and does not have to be copied to all locations where it would be necessary.</p><p>As an example we are going to implement an audit trail that tracks the creation and update of the <code>Project</code> entity. This can be done by extending the class <code>EmptyInterceptor</code>:</p><div id="highlighter_237849" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>01</code></td><td class="content"><code class="keyword">public</code> <code class="keyword">class</code> <code class="plain">AuditInterceptor </code><code class="keyword">extends</code> <code class="plain">EmptyInterceptor {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>02</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>03</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="color1">@Override</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>04</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">public</code> <code class="keyword">boolean</code> <code class="plain">onSave(Object entity, Serializable id, Object[] state, </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>05</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">String[] propertyNames, Type[] types) {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>06</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(entity </code><code class="keyword">instanceof</code> <code class="plain">Auditable) {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>07</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">for</code> <code class="plain">( </code><code class="keyword">int</code> <code class="plain">i=</code><code class="value">0</code><code class="plain">; i &lt; propertyNames.length; i++ ) {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>08</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">( </code><code class="string">"created"</code><code class="plain">.equals( propertyNames[i] ) ) {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>09</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">state[i] = </code><code class="keyword">new</code> <code class="plain">Date();</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>10</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">return</code> <code class="keyword">true</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>11</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>12</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>13</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">return</code> <code class="keyword">true</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>14</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>15</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">return</code> <code class="keyword">false</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>16</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>17</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>18</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="color1">@Override</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>19</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">public</code> <code class="keyword">boolean</code> <code class="plain">onFlushDirty(Object entity, Serializable id, Object[] currentState, </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>20</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">Object[] previousState, String[] propertyNames, Type[] types) {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>21</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(entity </code><code class="keyword">instanceof</code> <code class="plain">Auditable) {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>22</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">for</code> <code class="plain">( </code><code class="keyword">int</code> <code class="plain">i=</code><code class="value">0</code><code class="plain">; i &lt; propertyNames.length; i++ ) {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>23</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">( </code><code class="string">"lastUpdate"</code><code class="plain">.equals( propertyNames[i] ) ) {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>24</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">currentState[i] = </code><code class="keyword">new</code> <code class="plain">Date();</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>25</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">return</code> <code class="keyword">true</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>26</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>27</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>28</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">return</code> <code class="keyword">true</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>29</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>30</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">return</code> <code class="keyword">false</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>31</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>32</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div></div></div><p>As the class <code>EmptyInterceptor</code> already implements all methods defined in the interface <code>Interceptor</code>, we only have to override the methods <code>onSave()</code> and <code>onFlushDirty()</code>. In order to easily find all entities that have a field <code>created</code> and <code>lastUpdate</code> we extract the getter and setter methods for these entities into a separate interface called <code>Auditable</code>:</p><div id="highlighter_495202" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>1</code></td><td class="content"><code class="keyword">public</code> <code class="keyword">interface</code> <code class="plain">Auditable {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>2</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">Date getCreated();</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>3</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">void</code> <code class="plain">setCreated(Date created);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>4</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">Date getLastUpdate();</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>5</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">void</code> <code class="plain">setLastUpdate(Date lastUpdate);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>6</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div></div></div><p>With this interface it is easy to check whether the instance passed into the interceptor is of type <code>Auditable</code>. Unfortunately we cannot modify the entity directly through the getter and setter methods but we have to use the two arrays <code>propertyNames</code> and <code>state</code>. In the array <code>propertyNames</code> we have to find the property <code>created</code> (<code>lastUpdate</code>) and use its index to set the corresponding element in the array <code>state</code> (<code>currentState</code>).</p><p>Without the appropriate property definitions in the mapping file Hibernate will not create the columns in the tables. Hence the mapping file has to be updated:</p><div id="highlighter_403913" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>01</code></td><td class="content"><code class="plain">&lt;</code><code class="keyword">hibernate-mapping</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>02</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">...</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>03</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">class</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"Project"</code> <code class="color1">table</code><code class="plain">=</code><code class="string">"T_PROJECT"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>04</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">id</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"id"</code> <code class="color1">column</code><code class="plain">=</code><code class="string">"ID"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>05</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">generator</code> <code class="color1">class</code><code class="plain">=</code><code class="string">"sequence"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>06</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;/</code><code class="keyword">generator</code><code class="plain">&gt;&lt;/</code><code class="keyword">id</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>07</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">property</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"title"</code> <code class="color1">column</code><code class="plain">=</code><code class="string">"TITLE"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>08</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">set</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"geeks"</code> <code class="color1">table</code><code class="plain">=</code><code class="string">"T_GEEKS_PROJECTS"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>09</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">key</code> <code class="color1">column</code><code class="plain">=</code><code class="string">"ID_PROJECT"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>10</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">many-to-many</code> <code class="color1">column</code><code class="plain">=</code><code class="string">"ID_GEEK"</code> <code class="color1">class</code><code class="plain">=</code><code class="string">"Geek"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>11</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;/</code><code class="keyword">many-to-many</code><code class="plain">&gt;&lt;/</code><code class="keyword">key</code><code class="plain">&gt;&lt;/</code><code class="keyword">set</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>12</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">component</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"period"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>13</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">property</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"startDate"</code> <code class="color1">column</code><code class="plain">=</code><code class="string">"START_DATE"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>14</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">property</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"endDate"</code> <code class="color1">column</code><code class="plain">=</code><code class="string">"END_DATE"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>15</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;/</code><code class="keyword">property</code><code class="plain">&gt;&lt;/</code><code class="keyword">property</code><code class="plain">&gt;&lt;/</code><code class="keyword">component</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>16</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">property</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"created"</code> <code class="color1">column</code><code class="plain">=</code><code class="string">"CREATED"</code> <code class="color1">type</code><code class="plain">=</code><code class="string">"timestamp"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>17</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">property</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"lastUpdate"</code> <code class="color1">column</code><code class="plain">=</code><code class="string">"LAST_UPDATE"</code> <code class="color1">type</code><code class="plain">=</code><code class="string">"timestamp"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>18</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;/</code><code class="keyword">property</code><code class="plain">&gt;&lt;/</code><code class="keyword">property</code><code class="plain">&gt;&lt;/</code><code class="keyword">property</code><code class="plain">&gt;&lt;/</code><code class="keyword">class</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>19</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">...</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>20</code></td><td class="content"><code class="plain">&lt;/</code><code class="keyword">hibernate-mapping</code><code class="plain">&gt;</code></td></tr></tbody></table></div></div></div><p>As can be seen from the snippet above, the two new properties <code>created</code> and <code>lastUpdate</code> are of type <code>timestamp</code>:</p><div id="highlighter_455879" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>1</code></td><td class="content"><code class="plain">sql&gt; </code><code class="functions">select</code> <code class="plain">* from t_person;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>2</code></td><td class="content"><code class="plain">ID | PERSON_TYPE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | FIRST_NAME | LAST_NAME | CREATED&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | LAST_UPDATE | ID_ID_CARD | FAV_PROG_LANG</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>3</code></td><td class="content"><code class="plain">1&nbsp; | hibernate.entity.Person | Homer&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | Simpson&nbsp;&nbsp; | 2015-01-01 19:45:42.493 | null&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | 2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | null</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>4</code></td><td class="content"><code class="plain">3&nbsp; | hibernate.entity.Geek&nbsp;&nbsp; | Gavin&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | Coffee&nbsp;&nbsp;&nbsp; | 2015-01-01 19:45:42.506 | null&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | null&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | Java</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>5</code></td><td class="content"><code class="plain">4&nbsp; | hibernate.entity.Geek&nbsp;&nbsp; | Thomas&nbsp;&nbsp;&nbsp;&nbsp; | Micro&nbsp;&nbsp;&nbsp;&nbsp; | 2015-01-01 19:45:42.507 | null&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | null&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | C</code><code class="comments">#</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>6</code></td><td class="content"><code class="plain">5&nbsp; | hibernate.entity.Geek&nbsp;&nbsp; | Christian&nbsp; | Cup&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | 2015-01-01 19:45:42.507 | null&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | null&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | Java</code></td></tr></tbody></table></div></div></div><h1><a name="download"></a>8. Download</h1><p>This was a tutorial on JBoss Hibernate.</p><div class="download"><strong>Download</strong><br> You can download the full source code of this tutorial here: <a href="http://a3ab771892fd198a96736e50.javacodegeeks.netdna-cdn.com/wp-content/uploads/2015/03/hibernate-tutorial-sources.zip"><strong>hibernate-tutorial-sources</strong></a>.</div></div> <span style="display:none"><a href="http://www.javacodegeeks.com/tag/jboss-hibernate/" rel="tag">JBoss Hibernate</a> <a href="http://www.javacodegeeks.com/tag/ultimate/" rel="tag">Ultimate</a></span> <span style="display:none" class="updated">2015-03-31</span><div style="display:none" class="vcard author" itemprop="author" itemscope="" itemtype="http://schema.org/Person"><strong class="fn" itemprop="name"><a href="http://www.javacodegeeks.com/author/martin-mois/" title="Posts by Martin Mois" rel="author">Martin Mois</a></strong></div></div> </article><p class="post-tag">Tagged with: <a href="http://www.javacodegeeks.com/tag/jboss-hibernate/" rel="tag">JBoss Hibernate</a> <a href="http://www.javacodegeeks.com/tag/ultimate/" rel="tag">Ultimate</a></p><div id="mc4wp-form-2" class="form mc4wp-form mc4wp-form-29380 mc4wp-ajax"><form method="post"><div class="nlbox1"><h1>Do you want to know how to develop your skillset to become a <span style="color: #CAB43D; text-shadow: 1px 1px #835D5D;">Java Rockstar?</span></h1><div style="background: url(&#39;http://a3ab771892fd198a96736e50.javacodegeeks.netdna-cdn.com/wp-content/uploads/2015/01/books_promo.png&#39;) no-repeat; float:left; padding: 75px 145px 310px 170px; margin-top: -10px; margin-left: -35px;"></div><table style="margin-top: 20px; padding-left: 20px;"><tbody><tr><td style="vertical-align:top;"><h2>Subscribe to our newsletter to start Rocking <span style="text-decoration: underline;">right now!</span></h2><h3>To get you started we give you our best selling eBooks for <span style="color:#e01404; text-shadow: 1px 1px #C99924; font-size: 20px; line-height: 25px;">FREE!</span></h3><p></p><h3><strong>1.</strong> JPA Mini Book</h3><h3><strong>2.</strong> JVM Troubleshooting Guide</h3><h3><strong>3.</strong> JUnit Tutorial for Unit Testing</h3><h3><strong>4.</strong> Java Annotations Tutorial<!--3--></h3><h3><strong>5.</strong> Java Interview Questions</h3><h3><strong>6.</strong> Spring Interview Questions</h3><h3><strong>7.</strong> Android UI Design</h3><p></p><h3>and many more ....</h3><p>&nbsp;</p><p></p><p> <label for="mc4wp_email"><span style="font-weight: bold; font-size: 13pt;">Email address: </span></label> <input type="email" id="mc4wp_email" name="EMAIL" required="" placeholder="Your email address"></p> <input type="submit" value="Sign up"></td></tr></tbody></table></div><span class="mc4wp-ajax-loader" style="display: none;"></span><div style="position: absolute; left: -5000px;"><input type="text" name="_mc4wp_required_but_not_really" value="" tabindex="-1"></div><input type="hidden" name="_mc4wp_timestamp" value="1440253454"><input type="hidden" name="_mc4wp_form_id" value="29380"><input type="hidden" name="_mc4wp_form_element_id" value="mc4wp-form-2"><input type="hidden" name="_mc4wp_form_submit" value="1"><input type="hidden" name="_mc4wp_form_nonce" value="3b766b82db"></form><div class="mc4wp-response"></div></div><div class="ads-post"><div id="div-gpt-ad-1415445260332-5" style="width:300px; height:250px;"><script type="text/javascript">googletag.cmd.push(function(){googletag.display('div-gpt-ad-1415445260332-5');});</script></div></div><div id="comments"><div id="respond" class="comment-respond"><h3 id="reply-title" class="comment-reply-title">Leave a Reply <small><a rel="nofollow" id="cancel-comment-reply-link" href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#respond" style="display:none;">Cancel reply</a></small></h3><form action="http://www.javacodegeeks.com/wp-comments-post.php" method="post" id="commentform" class="comment-form"><p class="comment-notes">Your email address will not be published. Required fields are marked <span class="required">*</span></p><p class="comment-form-author"><label for="author">Name</label> <span class="required">*</span><input id="author" name="author" type="text" value="" size="30" aria-required="true" required="true"></p><p class="comment-form-email"><label for="email">Email</label> <span class="required">*</span><input id="email" name="email" type="text" value="" size="30" aria-required="true" required="true"></p><p class="comment-form-url"><label for="url">Website</label><input id="url" name="url" type="text" value="" size="30"></p><p class="cptch_block"><br> <input type="hidden" name="cptch_result" value="+wc="> <input type="hidden" name="cptch_time" value="1440253454"> <input type="hidden" value="Version: 4.1.4"> <label for="cptch_input" style="width: 100%;"><input id="cptch_input" class="cptch_input" type="text" autocomplete="off" name="cptch_number" value="" maxlength="2" size="2" aria-required="true" required="required" style="margin-bottom:0;display:inline;font-size: 12px;width: 40px;"> + seven = 11</label></p><p class="comment-form-comment"><label for="comment">Comment</label><textarea id="comment" name="comment" cols="45" rows="8" aria-required="true" required="required"></textarea></p><p class="form-submit"><input name="submit" type="submit" id="submit" class="submit" value="Post Comment"> <input type="hidden" name="comment_post_ID" value="38731" id="comment_post_ID"> <input type="hidden" name="comment_parent" id="comment_parent" value="0"></p><p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="0a2b8b56b3"></p><p class="comment-form-subscriptions"><label for="subscribe-reloaded"><input type="checkbox" name="subscribe-reloaded" id="subscribe-reloaded" value="yes"> Notify me of followup comments via e-mail. You can also <a href="http://www.javacodegeeks.com/comment-subscriptions/?srp=38731&srk=&sra=s">subscribe</a> without commenting.</label></p><p id="mc4wp-checkbox" class="mc4wp-checkbox-comment_form"><label><input type="checkbox" name="_mc4wp_subscribe_comment_form" value="1" checked=""> Sign me up for the newsletter!</label></p><div style="position: absolute; left: -5000px;"><input type="text" name="_mc4wp_required_but_not_really" value="" tabindex="-1"></div><p style="display: none;"></p><input type="hidden" id="ak_js" name="ak_js" value="1440253447605"></form></div></div></div></div> <aside class="sidebar"><div id="text-12" class="widget widget_text"><div class="widget-top"><h4></h4><div class="stripe-line"></div></div><div class="widget-container"><div class="textwidget"><div id="div-gpt-ad-1415445260332-3" style="width:300px; height:250px;"><script type="text/javascript">googletag.cmd.push(function(){googletag.display('div-gpt-ad-1415445260332-3');});</script></div></div></div></div><div id="text-13" class="widget widget_text"><div class="widget-top"><h4></h4><div class="stripe-line"></div></div><div class="widget-container"><div class="textwidget"><div id="div-gpt-ad-1415445260332-4" style="width:300px; height:250px;"><script type="text/javascript">googletag.cmd.push(function(){googletag.display('div-gpt-ad-1415445260332-4');});</script></div></div></div></div><div id="mc4wp_widget-3" class="widget widget_mc4wp_widget"><div class="widget-top"><h4>Newsletter</h4><div class="stripe-line"></div></div><div class="widget-container"><div id="mc4wp-form-3" class="form mc4wp-form mc4wp-form-28645 mc4wp-ajax"><form method="post"><div style="padding: 15px 15px 15px; background: url(&#39;http://a3ab771892fd198a96736e50.javacodegeeks.netdna-cdn.com/wp-content/uploads/2014/11/newsletter-bg.jpg&#39;) no-repeat; background-color: rgb(252, 252, 252);"><span style="text-shadow: 1px 1px #D0D0D0; font-weight: bold; font-size: 14pt; display: inline;">118498</span> insiders are already enjoying weekly updates and complimentary whitepapers!<p> <span style="text-shadow: 1px 1px #D0D0D0; font-weight: bold; font-size: 14pt; display: inline;">Join them now</span> to gain <span style="text-decoration: underline;  font-size: 14pt;">exclusive access</span> to the latest news in the Java world, as well as insights about Android, Scala, Groovy and other related technologies.</p><p> <label for="mc4wp_email"><span style="font-weight: bold; font-size: 13pt;">Email address: </span></label> <input type="email" id="mc4wp_email" name="EMAIL" required="" placeholder="Your email address"></p> <input type="submit" value="Sign up"></div><span class="mc4wp-ajax-loader" style="display: none;"></span><div style="position: absolute; left: -5000px;"><input type="text" name="_mc4wp_required_but_not_really" value="" tabindex="-1"></div><input type="hidden" name="_mc4wp_timestamp" value="1440253454"><input type="hidden" name="_mc4wp_form_id" value="28645"><input type="hidden" name="_mc4wp_form_element_id" value="mc4wp-form-3"><input type="hidden" name="_mc4wp_form_submit" value="1"><input type="hidden" name="_mc4wp_form_nonce" value="3b766b82db"></form><div class="mc4wp-response"></div></div></div></div><div id="text-6" class="widget widget_text"><div class="widget-top"><h4>Join Us</h4><div class="stripe-line"></div></div><div class="widget-container"><div class="textwidget"><div style="width:150px; height:150px; float:left; margin-top:-10px; margin-left:-10px;"> <img title="Join Us" alt="Join Us" src="./Hibernate Tutorial – The ULTIMATE Guide (PDF Download) _ Java Code Geeks_files/w4g-badge-150x150.png" width="150" height="150"></div> With <label style="border:1px solid #D8D8D8;background:#F0F0F0;border-radius:3px;-moz-border-radius:3px;text-shadow: 1px 1px #D0D0D0;text-align:center;font-weight:bold;padding-left:3px;padding-right:3px">1,240,600</label> monthly unique visitors and over <label style="border:1px solid #D8D8D8;background:#F0F0F0;border-radius:3px;-moz-border-radius:3px;text-shadow: 1px 1px #D0D0D0;text-align:center;font-weight:bold;padding-left:3px;padding-right:3px">500</label> authors we are placed among the top Java related sites around. Constantly being on the lookout for partners; we encourage you to join us. So If you have a blog with unique and interesting content then you should check out our <strong><a href="http://www.javacodegeeks.com/join-us/jcg">JCG</a></strong> partners program. You can also be a <strong><a href="http://www.javacodegeeks.com/join-us/w4g">guest writer</a></strong> for Java Code Geeks and hone your writing skills!</div></div></div><div id="text-14" class="widget widget_text"><div class="widget-top"><h4></h4><div class="stripe-line"></div></div><div class="widget-container"><div class="textwidget"><div id="div-gpt-ad-1415445260332-6" style="width:300px; height:600px;"><script type="text/javascript">googletag.cmd.push(function(){googletag.display('div-gpt-ad-1415445260332-6');});</script></div></div></div></div><div id="text-15" class="widget widget_text"><div class="widget-top"><h4>Career Opportunities</h4><div class="stripe-line"></div></div><div class="widget-container"><div class="textwidget"><style type="text/css">#indJobContent{line-height:18px;padding:0
10px 10px;background:-webkit-linear-gradient(#E0EAF6, #F6FBFE, #FCFCFC);background:-o-linear-gradient(#E0EAF6, #F6FBFE, #FCFCFC);background:-moz-linear-gradient(#E0EAF6, #F6FBFE, #FCFCFC);background:linear-gradient(#E0EAF6, #F6FBFE, #FCFCFC)}#indJobContent
.company_location{font-size:11px;overflow:hidden;display:block}#indJobContent.wide
.job{display:block;float:left;margin-right:5px;width:135px;overflow:hidden}#indeed_widget_wrapper{position:relative;font-family:'Helvetica Neue',Helvetica,Arial,sans-serif;font-size:13px;font-weight:normal;line-height:18px;height:auto;overflow:hidden}#indeed_widget_header{font-size:18px}#indeed_search_wrapper{clear:both;font-size:12px;margin-top:0px;padding:2px
10px 80px;background:url("http://a3ab771892fd198a96736e50.javacodegeeks.netdna-cdn.com/wp-content/uploads/2015/07/career-opportunities.jpg") no-repeat}#indeed_search_wrapper
label{font-size:12px;line-height:inherit;text-align:left;margin-right:5px}#indeed_search_wrapper input[type='text']{width:100px;font-size:11px}#indeed_search_wrapper
#qc{float:inherit}#indeed_search_wrapper
#lc{padding-top:5px}#indeed_search_wrapper.stacked #qc, #indeed_search_wrapper.stacked
#lc{float:none;clear:both}#indeed_search_wrapper.stacked input[type='text']{width:150px}#indeed_search_wrapper.stacked
label{display:block;padding-bottom:5px}#indeed_search_footer{max-width:300px;padding-top:5px;clear:both}#indeed_link{position:absolute;bottom:1px;right:5px;clear:both;font-size:11px}#indeed_link
a{text-decoration:none}#results
.job{padding:1px
0px}#pagination{clear:both;margin-top:10px}</style><style type="text/css">#indeed_widget_wrapper{max-width:300px;height:600px;background:#FFF}#indeed_widget_wrapper, #indeed_link
a{color:#000}#indJobContent,#indeed_search_wrapper{border-top:1px solid #DDD}#indJobContent
a{color:#00c}#indeed_widget_header{color:#000}</style><script type="text/javascript">var ind_pub='4110899194707815';var ind_el='indJobContent';var ind_pf='';var ind_q='java';var ind_l='';var ind_chnl='Jobroll-JCG';var ind_n=10;var ind_d='http://www.indeed.com';var ind_t=40;var ind_c=30;var ind_pgn=1;var ind_pgnCnt=10;</script><script type="text/javascript" src="http://www.indeed.com/ads/jobroll-widget-v3.js"></script><div id="indeed_widget_wrapper" style=""><div id="indeed_widget_header"></div><div id="indJobContent" class=""></div><div id="indeed_search_wrapper"><script type="text/javascript">/*<![CDATA[*/function clearDefaults(){var formInputs=document.getElementById('indeed_jobform').elements;for(var i=0;i<formInputs.length;i++){if(formInputs[i].value=='title, keywords'||formInputs[i].value=='city, state, or zip'){formInputs[i].value='';}}}/*]]>*/</script><form onsubmit="clearDefaults();" method="get" action="http://www.indeed.com/jobs" id="indeed_jobform" target="_new"><div id="qc"><label style="font-size: 16px; color: #F60"><b>what:</b></label><input type="text" onfocus="this.value=&quot;&quot;" value="title, keywords" name="q" id="q"></div><div id="lc"><label style="font-size: 16px; color: #F60"><b>where:</b></label><input type="text" onfocus="this.value=&quot;&quot;" value="city, state, or zip" name="l" id="l"></div><div id="indeed_search_footer"><div style="float:left;padding-top: 10px;"><input type="submit" value="Find Jobs" class="findjobs"></div></div> <input type="hidden" name="indpubnum" id="indpubnum" value="4110899194707815"></form></div><div id="indeed_link"> <a title="Job Search" href="http://www.indeed.com/" rel="external nofollow" class="ext-link" data-wpel-target="_blank">jobs by <img alt="Indeed" src="./Hibernate Tutorial – The ULTIMATE Guide (PDF Download) _ Java Code Geeks_files/jobsearch.gif" style="border: 0;vertical-align: bottom;"> </a></div></div></div></div></div></aside><div class="clear"></div><div class="clear"></div></div></div><footer class="fade-in animated4"><div id="footer-widget-area" class="wide-right-3c container"><div id="footer-first" class="footer-widgets-box"><div id="linkcat-4" class="footer-widget widget_links"><div class="footer-widget-top"><h4>Knowledge Base</h4></div><div class="footer-widget-container"><ul class="xoxo blogroll"><li><a href="http://academy.javacodegeeks.com/" data-wpel-ignored="true">Academy</a></li><li><a href="http://examples.javacodegeeks.com/" target="_blank" data-wpel-ignored="true">Examples</a></li><li><a href="http://library.javacodegeeks.com/" rel="external nofollow" title="" class="ext-link" data-wpel-target="_blank">Library</a></li><li><a href="http://www.javacodegeeks.com/p/resources.html" target="_blank">Resources</a></li><li><a href="http://www.javacodegeeks.com/tutorials/" target="_blank">Tutorials</a></li><li><a href="http://www.javacodegeeks.com/whitepaper/" target="_blank">Whitepapers</a></li></ul></div></div><div id="linkcat-3" class="footer-widget widget_links"><div class="footer-widget-top"><h4>Partners</h4></div><div class="footer-widget-container"><ul class="xoxo blogroll"><li><a href="http://www.mkyong.com/" target="_blank" data-wpel-ignored="true">Mkyong</a></li></ul></div></div><div id="linkcat-5" class="footer-widget widget_links"><div class="footer-widget-top"><h4>The Code Geeks Network</h4></div><div class="footer-widget-container"><ul class="xoxo blogroll"><li><a href="http://www.dotnetcodegeeks.com/" rel="external nofollow" title="" class="ext-link" data-wpel-target="_blank">.NET Code Geeks</a></li><li><a href="http://www.javacodegeeks.com/" target="_blank">Java Code Geeks</a></li><li><a href="http://www.webcodegeeks.com/" rel="external nofollow" title="" class="ext-link" data-wpel-target="_blank">Web Code Geeks</a></li></ul></div></div></div><div id="footer-second" class="footer-widgets-box"><div id="linkcat-652" class="footer-widget widget_links"><div class="footer-widget-top"><h4>Hall Of Fame</h4></div><div class="footer-widget-container"><ul class="xoxo blogroll"><li><a href="http://www.javacodegeeks.com/2010/10/android-full-application-tutorial.html" target="_blank">“Android Full Application Tutorial” series</a></li><li><a href="http://www.javacodegeeks.com/2013/01/15-online-learning-websites-that-you-should-check-out.html" target="_blank">11 Online Learning websites that you should check out</a></li><li><a href="http://www.javacodegeeks.com/2013/04/advantages-and-disadvantages-of-cloud-computing-cloud-computing-pros-and-cons.html" target="_blank">Advantages and Disadvantages of Cloud Computing – Cloud computing pros and cons</a></li><li><a href="http://www.javacodegeeks.com/2011/02/android-google-maps-tutorial.html" target="_blank">Android Google Maps Tutorial</a></li><li><a href="http://www.javacodegeeks.com/2011/01/android-json-parsing-gson-tutorial.html" target="_blank">Android JSON Parsing with Gson Tutorial</a></li><li><a href="http://www.javacodegeeks.com/2010/09/android-location-based-services.html" target="_blank">Android Location Based Services Application – GPS location</a></li><li><a href="http://www.javacodegeeks.com/2011/01/android-quick-preferences-tutorial.html" target="_blank">Android Quick Preferences Tutorial</a></li><li><a href="http://www.javacodegeeks.com/2013/03/difference-between-comparator-and-comparable-in-java.html" target="_blank">Difference between Comparator and Comparable in Java</a></li><li><a href="http://www.javacodegeeks.com/2010/05/gwt-2-spring-3-jpa-2-hibernate-35-2.html" target="_blank">GWT 2 Spring 3 JPA 2 Hibernate 3.5 Tutorial</a></li><li><a href="http://www.javacodegeeks.com/2010/08/java-best-practices-vector-arraylist.html" target="_blank">Java Best Practices – Vector vs ArrayList vs HashSet</a></li></ul></div></div></div><div id="footer-third" class="footer-widgets-box"><div id="text-16" class="footer-widget widget_text"><div class="footer-widget-top"><h4>About Java Code Geeks</h4></div><div class="footer-widget-container"><div class="textwidget">JCGs (Java Code Geeks) is an independent online community focused on creating the ultimate Java to Java developers resource center; targeted at the technical architect, technical team lead (senior developer), project manager and junior developers alike. JCGs serve the Java, SOA, Agile and Telecom communities with daily news written by domain experts, articles, tutorials, reviews, announcements, code snippets and open source projects.</div></div></div><div id="text-17" class="footer-widget widget_text"><div class="footer-widget-top"><h4>Disclaimer</h4></div><div class="footer-widget-container"><div class="textwidget">All trademarks and registered trademarks appearing on Examples Java Code Geeks are the property of their respective owners. Java is a trademark or registered trademark of Oracle Corporation in the United States and other countries. Examples Java Code Geeks is not connected to Oracle Corporation and is not sponsored by Oracle Corporation.</div></div></div></div></div><div class="clear"></div> </footer><div class="clear"></div><div class="footer-bottom fade-in animated4"><div class="container"><div class="social-icons icon_flat"> <a class="ttip ext-link" href="http://feeds.feedburner.com/JavaCodeGeeks" rel="external nofollow" data-wpel-target="_blank" original-title="Rss"><i class="tieicon-rss"></i></a><a class="ttip ext-link" href="https://plus.google.com/+JavaCodeGeeks/" rel="external nofollow" data-wpel-target="_blank" original-title="Google+"><i class="tieicon-gplus"></i></a><a class="ttip ext-link" href="https://www.facebook.com/javacodegeeks" rel="external nofollow" data-wpel-target="_blank" original-title="Facebook"><i class="tieicon-facebook"></i></a><a class="ttip ext-link" href="https://twitter.com/javacodegeeks" rel="external nofollow" data-wpel-target="_blank" original-title="Twitter"><i class="tieicon-twitter"></i></a><a class="ttip ext-link" href="https://www.linkedin.com/groups/Java-Code-Geeks-3810709" rel="external nofollow" data-wpel-target="_blank" original-title="LinkedIn"><i class="tieicon-linkedin"></i></a></div><div class="alignleft"> Java Code Geeks and all content copyright © 2010-2015, <a href="http://www.exelixismedia.com/" rel="external nofollow" title="" class="ext-link" data-wpel-target="_blank">Exelixis Media P.C.</a> | <a href="http://www.javacodegeeks.com/about/terms-of-use/">Terms of Use</a> | <a href="http://www.javacodegeeks.com/about/privacy-policy/">Privacy Policy</a> | <a href="mailto:support@javacodegeeks.com">Contact</a></div></div></div></div><div id="topcontrol" class="tieicon-up-open" title="Scroll To Top" style="bottom: 15px;"></div><div id="fb-root"></div> <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-12271632-2','auto');ga('send','pageview');</script><script>var snp_f=[];</script><div class="snp-root"> <input type="hidden" id="snp_popup" value=""> <input type="hidden" id="snp_popup_id" value=""> <input type="hidden" id="snp_popup_theme" value=""> <input type="hidden" id="snp_exithref" value=""> <input type="hidden" id="snp_exittarget" value=""><div id="snppopup-welcome" class="snp-pop-42061 snppopup"><input type="hidden" class="snp_open" value="load"><input type="hidden" class="snp_open_after" value="6"><input type="hidden" class="snp_open_scroll" value="10"><input type="hidden" class="snp_optin_redirect_url" value=""><input type="hidden" class="snp_show_cb_button" value="no"><input type="hidden" class="snp_popup_id" value="42061"><input type="hidden" class="snp_popup_theme" value="newtheme7"><input type="hidden" class="snp_overlay" value="default"><input type="hidden" class="snp_cookie_conversion" value="30"><input type="hidden" class="snp_cookie_close" value="5"><div class="snp-fb snp-newtheme7"><div class="snp-steps snp-step-1 snp-step-show"><div class="snp-media"><div class="snp-media__img"><img src="./Hibernate Tutorial – The ULTIMATE Guide (PDF Download) _ Java Code Geeks_files/books_promo_lp.png" alt=""></div><div class="snp-media__body"><div class="snp-h3 snp-delta">Want to take your Java Skills to the next level?</div><div class="snp-h1 snp-beta  snp-uppercase  snp-color--primary">Grab our programming books for FREE!</div><ul class="snp-list"><li>Save time by leveraging our field-tested solutions to common problems.</li><li>The books cover a wide range of topics, from JPA and JUnit, to JMeter and Android.</li><li>Each book comes as a standalone guide (with source code provided), so that you use it as reference.</li></ul></div></div> <footer class="snp-theme__footer snp-flush--top"><div class="snp-theme__choice"> <a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#" data-nextstep="2" class="snp_nextstep snp-btn snp-btn--primary">Gimme the FREE eBooks</a><span class="snp-theme__choice-or"> </span><a href="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#" data-nextstep="2" class="snp_nothanks snp-btn snp-btn--secondary">I reject the FREE eBooks</a></div> </footer></div><div class="snp-steps snp-step-2"><div class="snp-h3 snp-gamma">Last Step ...</div><form action="http://www.javacodegeeks.com/2015/03/hibernate-tutorial.html?utm_content=buffer74cd1&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer#" method="post" class="snp-push--ends snp-subscribeform snp_subscribeform"><p><span style="font-size:20px;">Where should we send the free eBooks?</span></p><ul class="snp-fields-list"><li><input type="text" name="email" id="snp_email" placeholder="Your Email..." class="snp-field snp-field-email"></li></ul> <footer class="snp-theme__footer"><p> <button class="snp-subscribe-button snp-submit snp-btn  snp-btn--primary  snp-btn--large" data-nextstep="3" data-loading="" data-success="" type="submit">Send me the FREE eBooks</button></p> </footer></form></div><div class="snp-steps snp-step-3"><div class="snp-h2 snp-gamma">Good Work!</div><div class="snp-h1 snp-alpha snp-uppercase  snp-color--primary"><span>To download the books, please <span style="text-decoration: underline;">verify</span> your email address by following the instructions found on the email we just sent you.</span></div><p class="snp-islet"><img src="./Hibernate Tutorial – The ULTIMATE Guide (PDF Download) _ Java Code Geeks_files/java_duke_thumbs_up.png" alt=""></p> <footer class="snp-theme__footer"><p><a href="" class=" snp-btn snp-btn--secondary">Close</a></p> </footer></div></div><style>/*<![CDATA[*/.snp-pop-42061 .snp-newtheme7{width:890px}.snp-pop-42061 .snp-newtheme7{background:#e5ffff}.snp-pop-42061 .snp-theme__footer{background:#ECFFE8}.snp-pop-42061 .snp-theme__footer{border-top:1px solid #16a126}.snp-pop-42061 .snp-newtheme7{color:#363636}.snp-pop-42061 .snp-newtheme7 .snp-step-1 .snp-h3{font-size:26px;color:#363636}.snp-pop-42061 .snp-newtheme7 .snp-step-1 .snp-h1{font-size:40px;color:#1678a1}.snp-pop-42061 .snp-newtheme7 .snp-color--primary{color:#1678a1}.snp-pop-42061 .snp-newtheme7 .snp-step-1 .snp-btn--primary{background:#16a126}.snp-pop-42061 .snp-newtheme7 .snp-step-1 .snp-btn--primary{color:#fff}.snp-pop-42061 .snp-newtheme7 .snp-step-1 .snp-btn--secondary{background:#e01404}.snp-pop-42061 .snp-newtheme7 .snp-step-1 .snp-btn--secondary{color:#fff}.snp-pop-42061 .snp-newtheme7 .snp-step-2 .snp-h3{font-size:30px;color:#363636}.snp-pop-42061 .snp-newtheme7 .snp-step-2 .snp-btn--primary{background:#16a126}.snp-pop-42061 .snp-newtheme7 .snp-step-2 .snp-btn--primary{color:#fff}.snp-pop-42061 .snp-newtheme7 .snp-step-3 .snp-btn--secondary{background:#e01404}.snp-pop-42061 .snp-newtheme7 .snp-step-3 .snp-btn--secondary{color:#fff}.snp-pop-42061 .snp-newtheme7 .snp-step-3 .snp-h2{font-size:40px;color:#1678a1}.snp-pop-42061 .snp-newtheme7 .snp-step-3 .snp-h1{font-size:30px;color:#363636}/*]]>*/</style><style>.snp-pop-42061 .snp-newtheme7 .snp-step-1 .snp-btn{width:30%}</style></div></div><script>/*<![CDATA[*/var snp_timer;var snp_timer_o;var snp_ajax_url='http://www.javacodegeeks.com/wp-admin/admin-ajax.php';var snp_ignore_cookies=false;var snp_is_interal_link;var snp_enable_analytics_events=true;var snp_enable_mobile=true;jQuery(document).ready(function(){jQuery('[placeholder]').placeholder();jQuery(".snp_nothanks, .snp_closelink, .snp-close-link").click(function(){snp_close();return false;});jQuery(".snp_subscribeform").submit(function(){return snp_onsubmit(jQuery(this));});var snp_open=jQuery('#snppopup-welcome .snp_open').val();var snp_open_after=jQuery('#snppopup-welcome .snp_open_after').val();var snp_open_inactivity=jQuery('#snppopup-welcome .snp_open_inactivity').val();var snp_open_scroll=jQuery('#snppopup-welcome .snp_open_scroll').val();var snp_op_welcome=false;if(snp_open=='inactivity')
{var snp_idletime=0;function snp_timerIncrement()
{snp_idletime++;if(snp_idletime>snp_open_inactivity)
{window.clearTimeout(snp_idleInterval);snp_open_popup('','','snppopup-welcome','welcome');}}
var snp_idleInterval=setInterval(snp_timerIncrement,1000);jQuery(this).mousemove(function(e){snp_idletime=0;});jQuery(this).keypress(function(e){snp_idletime=0;});}
else if(snp_open=='scroll')
{jQuery(window).scroll(function(){var h=jQuery(document).height()-jQuery(window).height();var sp=jQuery(window).scrollTop();var p=parseInt(sp/h*100);if(p>=snp_open_scroll&&snp_op_welcome==false){snp_open_popup('','','snppopup-welcome','welcome');snp_op_welcome=true;}});}
else
{if(snp_open_after)
{snp_timer_o=setTimeout("snp_open_popup('','','snppopup-welcome','welcome');",snp_open_after*1000);}
else
{snp_open_popup('','','snppopup-welcome','welcome');}}});/*]]>*/</script><script type="text/javascript" src="./Hibernate Tutorial – The ULTIMATE Guide (PDF Download) _ Java Code Geeks_files/admin-notifications.js"></script><script type="text/javascript">var qpprFrontData={"linkData":[],"siteURL":"http:\/\/www.javacodegeeks.com","siteURLq":"http:\/\/www.javacodegeeks.com"};</script><script type="text/javascript" src="./Hibernate Tutorial – The ULTIMATE Guide (PDF Download) _ Java Code Geeks_files/qppr_frontend_script.min.js"></script><script type="text/javascript">var mc4wp_vars={"ajaxurl":"http:\/\/www.javacodegeeks.com\/wp-admin\/admin-ajax.php?mc4wp_action=subscribe","ajaxloader":{"enabled":true,"imgurl":"http:\/\/www.javacodegeeks.com\/wp-content\/plugins\/mailchimp-for-wp-pro\/assets\/img\/ajax-loader.gif"}};</script><script type="text/javascript">/*<![CDATA[*/jQuery(function(){$foobar({"height":{"bar":50,"button":30},"width":{"left":"0px","center":"0px","right":"*","button":"80px"},"position":{"ignoreOffsetMargin":false,"bar":"top","button":"right","social":"left"},"display":{"type":"onscroll","delay":0,"speed":100,"backgroundColor":"#326693","border":"solid 3px #ffffff","theme":{"bar":"x-white"},"easing":"swing","shadow":true,"adjustPageHeight":false,"rtl":false,"button":{"type":"close"}},"message":{"delay":2000,"fadeDelay":500,"random":false,"navigation":false,"scroll":{"enabled":true,"speed":50,"delay":2000,"direction":"left"},"cssClass":"__none"},"rightHtml":"<!-- /70432299/JCG_NotifBar --><div id=\'div-gpt-ad-1431445244472-0\' style=\'height:50px; width:1220px; margin-left: auto; margin-right: auto;\'><script src=\'http://a3ab771892fd198a96736e50.javacodegeeks.netdna-cdn.com/wp-content/uploads/fbDFP.js\'/></div>"});jQuery(window).scroll(function(){if(jQuery(this).width()>1220){if(jQuery(this).scrollTop()>0){jQuery('.x-white').slideDown(100);}else{jQuery('.x-white').slideUp(100);}}});jQuery(window).resize(function(){if(jQuery(this).width()<1220){jQuery('.x-white').hide();}});});/*]]>*/</script><script type="text/javascript">/*<![CDATA[*/(function(){function addSubmittedClassToFormContainer(e){var form=e.target.form.parentNode;var className='mc4wp-form-submitted';(form.classList)?form.classList.add(className):form.className+=' '+className;}
var forms=document.querySelectorAll('.mc4wp-form');for(var i=0;i<forms.length;i++){(function(f){var b=f.querySelector('[type="submit"], [type="image"]');if(b.length>0){if(b.addEventListener){b.addEventListener('click',addSubmittedClassToFormContainer);}else{b.attachEvent('click',addSubmittedClassToFormContainer);}}})(forms[i]);}})();/*]]>*/</script><script type="text/javascript" src="./Hibernate Tutorial – The ULTIMATE Guide (PDF Download) _ Java Code Geeks_files/single.include-footer.84923a.js"></script><iframe frameborder="0" scrolling="no" style="border: 0px; display: none; background-color: transparent;"></iframe><div id="GOOGLE_INPUT_CHEXT_FLAG" input="null" input_stat="{&quot;tlang&quot;:true,&quot;tsbc&quot;:true,&quot;pun&quot;:true,&quot;mk&quot;:false,&quot;ss&quot;:true}" style="display: none;"></div></body></html>