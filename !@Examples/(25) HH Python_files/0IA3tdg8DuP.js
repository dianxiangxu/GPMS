/*!CK:3628968322!*//*1438294886,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["pXW23"]); }

__d("XAYMTPanelSaveSettingsController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/ads\/growth\/aymt\/homepage_panel\/save_settings\/",{time_range:{type:"Enum",enumType:1},ad_account_id:{type:"Int"},promoted_object:{type:"Int"},collapsed:{type:"Int"},dismiss_nux:{type:"Bool",defaultValue:false},flash_insights_dismiss_nux:{type:"Bool",defaultValue:false},refresh_panel:{type:"Bool",defaultValue:false}});},null);
__d("AdvertiserHomePagelet",["AsyncRequest","DOM","URI","XAYMTPanelSaveSettingsController","$"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l={init:function(m,n){var o=j.getURIBuilder().setBool('refresh_panel',true).getURI();o.addQueryData(i.getRequestURI().getQueryData());new g().setURI(o).setStatusElement(n).setErrorHandler(function(p){h.setContent(k('pagelet_advertiser_panel'),'');}).send();}};e.exports=l;},null);
__d("LeftNavItemClassicDraggableContainer.react",["React"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();'use strict';var h=g,i=h.PropTypes,j=g.createClass({displayName:"LeftNavItemClassicDraggableContainer",propTypes:{itemID:i.oneOfType([i.string,i.number]).isRequired,section:i.object.isRequired,draggableBound:i.object,ItemDraggableBehavior:i.func},render:function(){return (g.createElement("div",{"data-itemid":this.props.itemID},this.props.children));},componentDidMount:function(){var k=this.props,l=k.section,m=k.itemID,n=k.draggableBound,o=k.ItemDraggableBehavior;if(o&&!this.draggable)this.draggable=new o(g.findDOMNode(this),l,m,n);},componentWillUnmount:function(){this.draggable.destroy();this.draggable=null;}});e.exports=j;},null);
__d("LeftNavItem.react",["Arbiter","BootloadedComponent.react","DOMContainer.react","Image.react","LeftNavItemClassicDraggableContainer.react","Link.react","JSResource","PagesHighlanderGating","React","URI","XUIButton.react","XUISpinner.react","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){b.__markCompiled&&b.__markCompiled();'use strict';var u=o.createElement("span",{className:"_upa"}),v=o.createElement(r,{className:"uiSideNavSpinner"}),w=o.Component;for(var x in w)if(w.hasOwnProperty(x))z[x]=w[x];var y=w===null?null:w.prototype;z.prototype=Object.create(y);z.prototype.constructor=z;z.__superConstructor__=w;function z(aa){w.call(this,aa);this.state=this.$LeftNavItem0(aa);this.state.hasUsedPopoverMenu=false;this.state.showPopoverOnMount=false;}z.prototype.componentWillReceiveProps=function(aa){var ba=this.$LeftNavItem0(aa);if(aa.inEditMode)ba.showPopoverOnMount=false;this.setState(ba);};z.prototype.$LeftNavItem0=function(aa){var ba=aa.model,ca=aa.section.props.id,da=ba.count>0,ea=ca==='pinnedNav'&&ba.sortable,fa=ca==='bookmarksSeeAllEntSection',ga=ba.keys.some(function(ja){return ja===aa.selectedKey;}),ha=ba.keys.some(function(ja){return ja===aa.loadingKey;}),ia=ea&&aa.inEditMode;return {hasCount:da,hasSortableItems:ea,inSeeAllSection:fa,isSelected:ga,isLoading:ha,isSorting:ia};};z.prototype.render=function(){var aa=this.props.model,ba=this.state;return (o.createElement("li",{className:(("clearfix")+(' '+"sideNavItem")+(' '+"stat_elem")+(ba.isSelected?' '+"selectedItem":'')+(ba.isLoading?' '+"_5afd":'')),"data-sortable":ba.isSorting?aa.sortable:null,id:"navItem_"+aa.id},this.$LeftNavItem1(this.$LeftNavItem2())));};z.prototype.$LeftNavItem2=function(){var aa=this.props.model,ba=this.props.section,ca=this.state,da=(o.createElement("a",{key:"link","data-testid":'left_nav_item_'+aa.link.title,className:(("_5afe")+(ca.hasSortableItems?' '+"sortableItem":'')),"data-gt":aa.datagt,title:aa.link.title,rel:aa.link.rel,href:aa.link.href,ajaxify:aa.link.ajaxify,draggable:"false",onClick:function(){return g.inform('LeftNavController/setItemCount',{item:aa,count:0});}},this.$LeftNavItem3(aa),this.$LeftNavItem4(aa.image),o.createElement("div",{className:(("linkWrap")+(ca.hasCount?' '+"hasCount":'')+(!ca.hasCount?' '+"noCount":''))},aa.name,ca.inSeeAllSection?this.$LeftNavItem5(aa.count):null)));return [aa.auxcontent?o.createElement(i,{key:"auxpopover"},aa.auxcontent):null,this.$LeftNavItem6(aa,ba,this.props.loadDragDropModules,this.state.hasUsedPopoverMenu),this.$LeftNavItem7(da,aa)];};z.prototype.$LeftNavItem6=function(aa,ba,ca,da){if(!aa.editmenu)return null;var ea=function(){this.setState({hasUsedPopoverMenu:true,showPopoverOnMount:true});ca&&ca();}.bind(this),fa=t._("Edit {Link name} link",[t.param("Link name",aa.name)]),ga=(o.createElement(l,{href:"#",title:fa,"aria-label":fa,onClick:da?null:ea,className:"_1wc5 _26tg accessible_elem"}));if(da)ga=(o.createElement(h,{bootloadPlaceholder:ga,bootloadLoader:m('BookmarkPopoverMenu.react'),module:"BookmarkPopoverMenu.react",navSection:ba,model:aa,showOnMount:this.state.showPopoverOnMount},ga));var ha=this.state.inSeeAllSection?"bookmark_edit_button_see_all":"bookmark_edit_button";return (o.createElement("div",{className:"buttonWrap","data-testid":ha,key:"popover"},o.createElement("div",{className:"uiSideNavEditButton"},ga)));};z.prototype.$LeftNavItem4=function(aa){return (o.createElement("span",{className:"imgWrap","data-testid":"bookmark_icon_"+(this.state.inSeeAllSection?"see_all":"left_nav")},o.createElement(j,{src:aa,height:"16",width:"16",draggable:"false",alt:""})));};z.prototype.$LeftNavItem5=function(aa){if(!this.state.hasCount)return null;return (o.createElement("span",{className:(("countValue")+(' '+"_5aff"))},aa<=20?aa:'20+'));};z.prototype.$LeftNavItem3=function(aa){var ba=this.state;if(ba.inSeeAllSection)return null;var ca=ba.hasCount&&!ba.isSorting;if(ba.isLoading||ca||ba.isSorting)return (o.createElement("div",{className:"rfloat"},ba.isLoading?v:null,ca?this.$LeftNavItem5(aa.count):null,ba.isSorting?u:null));return null;};z.prototype.$LeftNavItem8=function(aa){if(aa.type!=='type_page'||n.isHighlanderDeprecated)return null;var ba=new p(aa.link.href),ca=new p("?ref=hl");ca.setDomain(ba.getDomain());ca.setProtocol(ba.getProtocol());ca.setPath(ba.getPath());return (o.createElement("form",{action:"/menu/identity_switch",method:"post",rel:"async"},o.createElement("input",{type:"hidden",name:"user_id",value:aa.id}),o.createElement("input",{type:"hidden",name:"url",value:ca.toString()}),o.createElement(q,{className:"_85u",use:"confirm",label:t._("Log in")})));};z.prototype.$LeftNavItem1=function(aa){if(!this.state.isSorting)return aa;return (o.createElement(k,{itemID:this.props.model.id,section:this.props.section,draggableBound:this.props.draggableBound,ItemDraggableBehavior:this.props.ItemDraggableBehavior},aa));};z.prototype.$LeftNavItem7=function(aa,ba){var ca=null;if(this.state.inSeeAllSection)ca=this.$LeftNavItem8(ba);if(!ca)return aa;return (o.createElement("div",{key:"link",className:"clearfix"},aa,ca));};e.exports=z;},null);
__d("LeftNavItemPlaceholder.react",["React","cx"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();'use strict';var i=g.createClass({displayName:"LeftNavItemPlaceholder",render:function(){return (g.createElement("li",{className:"sideNavItem stat_elem"},g.createElement("a",{className:"_5afe clearfix sortableItem"})));}});e.exports=i;},null);
__d("LeftNavSection.react",["Arbiter","Bootloader","InlineBlock.react","LeftNavItem.react","LeftNavItemPlaceholder.react","LeftRight.react","Link.react","React","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){b.__markCompiled&&b.__markCompiled();'use strict';var q='more',r=n.createClass({displayName:"LeftNavSection",getInitialState:function(){return {inEditMode:false,draggableBound:null,placeholderIdx:-1};},render:function(){var s=this,t=this.props,u=t.ItemDraggableBehavior,v=t.loadingKey,w=t.loadDragDropModules,x=t.model,y=t.selectedKey,z=x.items,aa=this.state,ba=aa.inEditMode,ca=aa.draggableBound;if(z.length===0)return null;var da=z.map(function(ha){ha.datagt=this._getDataGT('item',this.props,ha.datagt);return (n.createElement(j,{key:ha.id,model:ha,section:s,selectedKey:y,loadingKey:v,inEditMode:ba,draggableBound:ca,loadDragDropModules:w,ItemDraggableBehavior:u}));},this);if(this.state.placeholderIdx>=0)da.splice(this.state.placeholderIdx,0,n.createElement(k,{key:"itemplaceholder",ref:"placeholder"}));var ea=(("_bui")+(this._isPinnedSection()?' '+"droppableNav":'')+(!this._isPinnedSection()?' '+"nonDroppableNav":'')+(' '+"_3-8w")+(!ba?' '+"_3-96":'')),fa=this._isPinnedSection()?n.createElement("div",{className:"_3hge stat_elem"},n.createElement(m,{className:"navEditDone",ref:"Donelink",onClick:function(){h.loadModules(["LeftNavDragController"],function(){g.inform('LeftNavDragController/toggleEditMode',{section:s});});}},n.createElement("span",{className:"_3hgf"},p._("Done")))):null,ga=this._getDataGT(q,this.props);return (n.createElement("div",{id:this.props.id,className:"homeSideNav","data-ft":x.dataft,"data-testid":'left_nav_section_'+(x.title||'FAVORITES'),ref:"sectionBody"},this._renderHeader(ga),n.createElement("ul",{className:ea,"data-ft":x.dataft},da),fa));},componentDidUpdate:function(s,t){if(this.state.inEditMode)n.findDOMNode(this.refs.Donelink).focus();},_renderHeader:function(s){var t=this.props.model,u;if(t.title){var v=t.seeallhref?n.createElement(m,{href:t.seeallhref,"data-gt":s},n.createElement(l,null,n.createElement("span",{className:"sectionDragHandle"},t.title),t.remainingcount?n.createElement(i,{className:"_3-91"},n.createElement("div",{className:"_1cwg _5ol3"},t.seealltext)):null)):n.createElement("span",{className:"sectionDragHandle"},t.title);u=n.createElement("h4",{className:"navHeader"},v);}else u=null;return u;},_isPinnedSection:function(){return this.props.id==='pinnedNav';},_getDataGT:function(s,t,u){var v=t,w=v.id,x=v.model,y=v.total;u=u?JSON.parse(u):{};if(w!=="bookmarksSeeAllEntSection"){u.masher=s.toString();u.total=y.toString();}if(s===q){u.nav_section=x.id;u.nav_items_count=x.items?x.items.length:0;u.remaining_count=x.remainingcount;}u=JSON.stringify(u);return u;}});e.exports=r;},null);
__d("LeftNavSectionPlaceholder.react",["React","cx"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();'use strict';var i=g.createClass({displayName:"LeftNavSectionPlaceholder",render:function(){var j={height:this.props.height+'px',width:this.props.width+'px'};return (g.createElement("div",{className:"homeSideNav",style:j},g.createElement("ul",{className:"_bui"})));}});e.exports=i;},null);
__d("LeftNavContainer.react",["Bootloader","LeftNavSection.react","LeftNavSectionPlaceholder.react","React","emptyFunction","invariant"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();'use strict';function m(o){o.setState({loadDragDropModules:k});g.loadModules(["LeftNavDragController","LeftNavItemDraggableBehavior"],function(p,q){p.subscribe();o.setState({DragController:p,ItemDraggableBehavior:q});});}var n=j.createClass({displayName:"LeftNavContainer",getInitialState:function(){return {placeholderIdx:-1,placeholderWidth:0,placeholderHeight:0,loadDragDropModules:function(){return m(this);}.bind(this),DragController:null,ItemDraggableBehavior:null};},componentDidMount:function(){var o=this.state.DragController;if(o)o.subscribe();},componentWillUnmount:function(){var o=this.state.DragController;if(o)o.unsubscribe();},render:function(){var o=this.props.model,p=j.createElement(h,{selectedKey:o.selectedKey,loadingKey:o.loadingKey,model:o.pinnedSection,key:"pinnedNav",id:"pinnedNav",ref:"pinnedNav",loadDragDropModules:this.state.loadDragDropModules,ItemDraggableBehavior:this.state.ItemDraggableBehavior,total:o.total}),q=o.sections.map(function(r){return j.createElement(h,{selectedKey:o.selectedKey,loadingKey:o.loadingKey,model:r,key:r.id,id:r.id,loadDragDropModules:this.state.loadDragDropModules,ItemDraggableBehavior:this.state.ItemDraggableBehavior,total:o.total});}.bind(this));if(this.state.placeholderIdx>-1)q.splice(this.state.placeholderIdx,0,j.createElement(i,{key:"placeholder",width:this.state.placeholderWidth,height:this.state.placeholderHeight}));return (j.createElement("div",null,p,q));},getPinnedSection:function(){var o=this.refs.pinnedNav;l(o);return o;}});e.exports=n;},null);
__d("LeftNavModel",["URI"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();'use strict';var h,i=null,j={init:function(k){h=k;},initAdditionalItems:function(k){i=k.items;},setSelectedKey:function(k){h.loadingKey=null;h.selectedKey=k||h.defaultKey;},setLoadingKey:function(k){h.loadingKey=k;},setItemCount:function(k,l){k.count=l;},updateItemCounts:function(k,l){l.forEach(function(m){var n=j.findItemByKey(m.key);if(n)n.count=n.count+m.count;});},findItemByKey:function(k){return j.findItem(function(l){return l.keys.some(function(m){return m===k;});});},findItem:function(k){var l;for(var m=0;m<h.sections.length;m++){l=h.sections[m].items.find(k);if(l)return l;}if(i){l=i.find(k);if(l)return l;}return h.pinnedSection.items.find(k);},findItemByURI:function(k){var l=k.getQueryData().sk;if(l){return j.findItemByKey(l);}else if(j._isHomePath(k)){return j.findItemByKey(h.defaultKey);}else return j.findItem(function(m){return m.path&&m.path.some(function(n){if(typeof n==='object'&&n.regex)return k.getPath().match(n.regex);return n===k.getPath();});});},_isHomePath:function(k){var l=g.getRequestURI();return ((k.getDomain()===l.getDomain())&&(k.getPath()==='/'||k.getPath()==='/home.php'));}};e.exports=j;},null);
__d("LeftNavController",["Arbiter","BlueBar","Bootloader","ChannelConstants","DOMDimensions","LeftNavConfig","LeftNavModel","NavigationMessage","React","Run","SubscriptionsHandler","CSS","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){b.__markCompiled&&b.__markCompiled();'use strict';var t,u,v,w=null,x,y={init:function(ga,ha){u=ga;m.init(ha);var ia=function(la){i.loadModules(["LeftNavActions"],function(ma){ma.initModel(ha);la(ma);z();});};v=new q();v.addSubscriptions(g.subscribe('LeftNavController/toggleFavorite',function(la,ma){return ia(function(na){return na.toggleFavorite(la,ma,w);});}),g.subscribe('LeftNavController/updatePinnedSection',function(la,ma){var na=ma.idOrder;return ia(function(oa){return oa.updatePinnedSection(la,na);});}),g.subscribe('LeftNavController/setItemCount',function(la,ma){var na=ma.item,oa=ma.count;m.setItemCount(na,oa);z();}),g.subscribe(j.getArbiterType('nav_update_counts'),function(la,ma){var na=ma.obj,oa=na.items;m.updateItemCounts(la,oa);z();}),g.subscribeOnce('AsyncLayout/initialized',function(){return x=true;}),g.subscribe(n.NAVIGATION_ITEM_REMOVED,function(la,ma){return ia(function(na){return na.removeItemByKey(la,ma);});}),g.subscribe(n.NAVIGATION_COMPLETED,function(){m.setSelectedKey(ha.loadingKey);z();}),g.subscribe(n.NAVIGATION_FAILED,function(){m.setLoadingKey(null);z();}),g.subscribe(n.NAVIGATION_COUNT_UPDATE,function(la,ma){var na=m.findItemByKey(ma&&ma.key);if(na){m.setItemCount(na,ma.hide?0:na.count+ma.count);z();}}),g.subscribe(n.NAVIGATION_SELECT,function(la,ma){var na=ma.sk;if(ma.asLoading){m.setLoadingKey(na);}else m.setSelectedKey(na);}),g.subscribe('LeftNavDragController/toggleEditMode',function(){return r.toggleClass(u,"_2ryg");}));var ja=m.findItemByKey(ha.selectedKey);if(ja)ja.count=0;if(ha.dynamicBK)ha=fa(ga,ha);var ka=l.Container;t=o.render(o.createElement(ka,{model:ha}),u);p.onLeave(this.uninstall.bind(this));},uninstall:function(){x=false;v.release();if(t.componentWillUnmount)t.componentWillUnmount();},initAdditionalItems:function(ga){m.initAdditionalItems(ga);},initPageTransitions:function(ga){ga.registerHandler(function(ha){return x&&aa(ha);},6);},mountSeeAllPayload:function(ga){w=ga;}};function z(){t.forceUpdate();}function aa(ga){var ha=m.findItemByURI(ga);return ha&&ha.endpoint&&ba(ha,ga);}function ba(ga,ha){m.setLoadingKey(ga.keys[0]);m.setItemCount(ga,0);z();da(ga.endpoint,Object.assign({},ca(ga,ha),ha.getQueryData()));return true;}function ca(ga,ha){var ia={};ia.sidecol=true;ia.path=ha.getPath();var ja=ea(ga.keys);ja=ja.text?ja.text:ja.numeric;ia.sk=ja;ia.key=ja;return ia;}function da(ga,ha){ha.endpoint=ga;g.inform(n.NAVIGATION_BEGIN,{useAjaxPipe:true,params:ha});}function ea(ga){var ha=/^(app|group|fl)_/,ia={};for(var ja=0;ja<ga.length;ja++){var ka=ha.test(ga[ja]);if(ka&&!ia.numeric){ia.numeric=ga[ja];}else if(!ka&&!ia.text)ia.text=ga[ja];if(ia.numeric&&ia.text)break;}return ia;}function fa(ga,ha){var ia=k.getViewportDimensions().height,ja=h.getBar(),ka=ja?k.getElementDimensions(ja).height:50,la=24,ma=la+6,na=ha.sections.length+1,oa=ha.pinnedSection.items.length,pa=ia-ka-la*3,qa=Math.floor((pa-ma*na)/la-oa);if(qa<=0)qa=1;var ra=ha.rankedItems[qa-1];for(var sa in ra)if(ra[sa]===0)qa=qa>1?--qa:1;ra=ha.rankedItems[qa-1];var ta=0;for(sa in ra)ra[ta++]=ra[sa]>0?ra[sa]:1;for(ta=0;ta<ha.sections.length;ta++){var ua=ha.sections[ta].items;ha.sections[ta].items=ua.slice(0,ra[ta]);ha.sections[ta].remainingcount+=ua.length-ra[ta];}ha.rankedItems=[];return ha;}e.exports=y;},null);