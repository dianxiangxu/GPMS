if("undefined"==typeof window.console){window.console={};for(var types=["log","warn","dir","info","debug"],i=0;i<types.length;i++)window.console[types[i]]=function(){return!1}}Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){if(void 0===this||null===this)throw new TypeError('"this" is null or not defined');var n=this.length>>>0;for(t=+t||0,1/0===Math.abs(t)&&(t=0),0>t&&(t+=n,0>t&&(t=0));n>t;t++)if(this[t]===e)return t;return-1}),function(){function e(e){this.el=e;for(var t=e.className.replace(/^\s+|\s+$/g,"").split(/\s+/),n=0;n<t.length;n++)i.call(this,t[n])}function t(e,t,n){Object.defineProperty?Object.defineProperty(e,t,{get:n}):e.__defineGetter__(t,n)}if(!("undefined"==typeof window.Element||"classList"in document.documentElement)){var n=Array.prototype,i=n.push,r=n.splice,o=n.join;e.prototype={add:function(e){this.contains(e)||(i.call(this,e),this.el.className=this.toString())},contains:function(e){return-1!=this.el.className.indexOf(e)},item:function(e){return this[e]||null},remove:function(e){if(this.contains(e)){for(var t=0;t<this.length&&this[t]!=e;t++);r.call(this,t,1),this.el.className=this.toString()}},toString:function(){return o.call(this," ")},toggle:function(e){return this.contains(e)?this.remove(e):this.add(e),this.contains(e)}},window.DOMTokenList=e,t(Element.prototype,"classList",function(){return new e(this)})}}();var googletag=googletag||{};googletag.cmd=googletag.cmd||[],function(){window.SniAds=window.SniAds||{}}(),SniAds=function(){"use strict";var e=[],t=0,n=0,i={},r="staging";i.SniAdsError=function(e){this.message=e,this.name="SniAdsError",this.toString=function(){return this.name+": "+this.message}};var o="1.2.3",a={},s={},l="",d={},g=[],u="",p={},f=function(e){var t,n=0;for(t in e)e.hasOwnProperty(t)&&n++;return n},c=function(e,t){return t=t.toLowerCase(),"undefined"!=typeof e&&typeof e===t?!0:"array"===t&&e instanceof Array?!0:!1},h=function(e,t){var n=e.concat(t.filter(function(t){return e.indexOf(t)<0}));return n},m=function(){if("undefined"==typeof mdManager)return{};if(mdManager&&mdManager.getKeys){var e=mdManager.getKeys();for(var t in e){var n=t.toLowerCase(),i=mdManager.getParameterString(t).toLowerCase();n&&i&&(a[n]=i)}}else a={};return a},y=function(e,t){if(t)for(var n in t)null!==t[n]&&(e[n.toLowerCase()]="string"==typeof t[n]?t[n].toLowerCase():t[n]);return e},v=function(){if(window.crtg_content&&window.crtg_content.length){var e,t,n={};if(crtg_content.indexOf("&")>-1){t=crtg_content.toLowerCase().split("&");for(var i=0;i<t.length;i++)e=t[i].split("="),"1"==e[1]&&(n[e[0]]="1")}else{var r=SniAdsConfig.criteoFlags;crtg_content=crtg_content.toLowerCase();for(var i=0;i<r.length;i++){var o=crtg_content.indexOf(r[i]),a=o+r[i].length+2,s=crtg_content.substring(o,a);t=s.split("="),1==t[1]&&(n[t[0]]="1")}}return n}return!1},S=function(){var e={};return e.referrer=document.referrer?document.referrer:"",e.url=document.location.href?encodeURIComponent(document.location.href):"",e},b=function(){var e,t,n,i={};if(SniAdsConfig.hasOwnProperty("cookies"))for(var r=0;r<SniAdsConfig.cookies.length;r++)if(e=A(SniAdsConfig.cookies[r])){if("AMCV_BC501253513148ED0A490D45@AdobeOrg"===SniAdsConfig.cookies[r]){n=e.toLowerCase().split("|");var o=n.indexOf("mcmid")+1;i.mcid=n[o]}if("aam_fw"===SniAdsConfig.cookies[r]){e=e.split(";"),i.aam_fw=[];for(var a=0;a<=e.length-1;a++)e[a].length>0&&9>=a&&(t=e[a].split("="),2==t.length&&i.aam_fw.push(t[1]));e=i.aam_fw}i[SniAdsConfig.cookies[r]]=e}return i},w=function(e){e=e.replace(/\|/g,"_"),e=e.replace(/\ /g,"_"),e=e.replace(/\-/g,"_"),e=e.replace(/\;/g,""),e=e.replace(/\&/g,""),e=e.replace(/\\/g,""),e=e.replace(/\//g,"");for(var t,n=SniAdsConfig.invalidChars.split(""),i=SniAdsConfig.encodeChars.split(""),r=e.split(""),o=[],a=(r.length,0);a<r.length;a++)t=r[a],-1===n.indexOf(t)&&o.push(i.indexOf(t)>-1?escape(t):r[a]);return o.join("")},A=function(e){return decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||!1},_=function(){return window.innerHeight>window.innerWidth?"por":"lan"},C=function(e){var t=SniAdsConfig.siteValueMappings;for(var n in SniAdsConfig.siteValueMappings)if(t[n].indexOf(e)>-1)return n;return e},O=function(e){if("undefined"==typeof mdManager)return e;var t=SniAdsConfig.multiKeys||[],n="";if(!t.length)return e;for(var i=t.length-1;i>=0;i--){if(n=mdManager.getParameterString(t[i].mdKey),n&&n.indexOf(t[i].separator)>-1&&(n=n.split(t[i].separator)),t[i].clean)if(n instanceof Array){for(var r=n.length-1;r>=0;r--)n[r]=n[r].trim(),n[r]=w(n[r]);n=n.map(w)}else n=w(n.trim());e[t[i].dfpKey]=n}return e},E=function(e){var t,n,i=e.site,r=SniAdsConfig.keySettings;if("food"===e.site&&e.hasOwnProperty("section")&&(n=e.section,e.vgncontent=w(n)),e.site=C(e.site),n="",e.hasOwnProperty("ingredients")&&(n=e.ingredients),n.length>0){var o=n.split(",");e.ing=[];for(var a=0;a<o.length;a++)e.ing.push(w(o[a]))}if(n="",e.hasOwnProperty("glist")&&(n=e.glist),n.length>0&&n.indexOf(",")>-1){var s=n.split(",");e.glist=[];for(var a=0;a<s.length;a++)e.glist.push(w(s[a]))}if(n="",e.hasOwnProperty("dimensionvalues")&&SniAdsConfig.dynamicTargetSets.indexOf("dimensionvalues")>-1&&(n=e.dimensionvalues,n.length>0))for(var l=n.split(","),a=l.length-1;a>=0;a--){var d=l[a].split(":");d[0]&&d[1]&&"{$facetname}"!==d[0]&&"{$facetname}"!==d[1]&&(e["dim_"+d[0]]=w(d[1]),SniAdsConfig.targetingKeys.push("dim_"+d[0]))}n="",r.override_pagetype.hasOwnProperty(i)?e.hasOwnProperty(r.override_pagetype[i])&&(n=e[r.override_pagetype[i]]):e.hasOwnProperty("pagetype")?n=e.pagetype:e.hasOwnProperty("type")&&(n=e.type),e.pagetype=w(n),n="",r.override_adkey1.hasOwnProperty(i)?e.hasOwnProperty(r.override_adkey1[i])&&(n=e[r.override_adkey1[i]]):e.hasOwnProperty("adkey1")&&(n=e.adkey1),e.adkey1=w(n),n="",r.override_keywords.hasOwnProperty(i)?e.hasOwnProperty(r.override_keywords[i])&&(n=e[r.override_keywords[i]]):e.hasOwnProperty("keywords")&&(n=e.keywords);var g=n.split(",");e.keyword=[];for(var a=0;a<g.length;a++)e.keyword.push(w(g[a]));return n="",r.override_topic.hasOwnProperty(i)?e.hasOwnProperty(r.override_topic[i])&&(n=e[r.override_topic[i]]):e.hasOwnProperty("topic")?n=e.topic:e.hasOwnProperty("sponsorship")&&(n=e.sponsorship),e.topic=w(n),e.topic||(e.topic="tandyjj"),n="",r.override_talentname.hasOwnProperty(i)?e.hasOwnProperty(r.override_talentname[i])&&(n=e[r.override_talentname[i]]):e.hasOwnProperty("talentname")&&(n=e.talentname),e.talentname=w(n),e.talentName=e.talentname,n="",r.override_showname.hasOwnProperty(i)?e.hasOwnProperty(r.override_showname[i])&&(n=e[r.override_showname[i]]):n=e.hasOwnProperty("show_abbr")?e.show_abbr:e.hasOwnProperty("show_name")?e.show_name:"",e.showname=w(n),e.showName=e.showname,n="",r.override_uniqueid.hasOwnProperty(i)?e.hasOwnProperty(r.override_uniqueid[i])&&(n=e[r.override_uniqueid[i]]):e.hasOwnProperty("uniqueid")&&(n=e.uniqueid),e.uniqueid=w(n),e.keyterm&&(t=" ",r.keytermSplit.hasOwnProperty(i)&&(t=r.keytermSplit[i]),e.keyterm=e.keyterm.split(t),e.keyword=h(e.keyword,e.keyterm)),n="",e.source&&(n=e.source.split("/"),n=n[n.length-1],e.source=n),e},P=function(){g=[];for(var e,t=SniAdsConfig.adSlots,n=t.length,i=0;n>i;i++)e=document.getElementById(t[i].tag),null!==e&&"DIV"===e.tagName&&g.push(t[i]);return g},x=function(e,t){for(var n in t)n=n.toLowerCase(),SniAdsConfig.targetingKeys.indexOf(n)>-1&&t[n].length>0&&(googletag.cmd.push(function(){e.setTargeting(n,t[n])}),d[n]=t[n]);return SniAds.Event.publish("slotTargetingApplied","argument 1 data","argument 2 data"),e},k=function(e){for(var t,n=0;n<SniAdsConfig.targetingKeys.length;n++)t=SniAdsConfig.targetingKeys[n],"url"===!t&&"string"==typeof e[t]&&(e[t]=w(e[t]));googletag.cmd.push(function(){for(var t in e)"talentName"!==t&&"showName"!==t&&(t=t.toLowerCase()),"grdn"===e.site&&"category"===t&&(e.category=[e.category,"grdn_"+e.category]),SniAdsConfig.targetingKeys.indexOf(t)>-1&&e[t].length>0&&(googletag.pubads().setTargeting(t,e[t]),d[t]=e[t])})},T=function(){SniAds.Event.subscribe("_newSlotDefined",function(e,t){p.hasOwnProperty(e)||(p[e]=t)}),SniAds.Event.subscribe("amazon_ready",function(){}),SniAds.Event.subscribe("slot_define_complete",function(){SniAds.Sonobi.init()})},z=function(e){return e.hasOwnProperty("category")&&"store"===e.category&&"food"===e.site?"/food/store":e.hasOwnProperty("categorydspname")&&"blog"===e.categorydspname&&"food"===e.site?"/food/blog":e.hasOwnProperty("categorydspname")&&"blog"===e.categorydspname&&"cook"===e.site?"/cook/blog":e.hasOwnProperty("categorydspname")&&"myrecipebox"===e.categorydspname&&"food"===e.site?"/food/myrecipebox":e.hasOwnProperty("categorydspname")&&"blog"===e.categorydspname&&"travel"===e.site?"/travel/blog":e.hasOwnProperty("type")&&"blog"===e.type&&"hgtv"===e.site?"/hgtv/blog":e.hasOwnProperty("type")&&"blog"===e.type&&"hgrm"===e.site?"/hgrm/blog":null},I=function(e,t){var n="";if("undefined"==typeof e)throw new i.SniAdsError("Missing DFP network ID.");if("undefined"==typeof SniAdsConfig)throw new i.SniAdsError("SniAdsConfig missing.");var r=SniAdsConfig.hierarchy_sections;SniAdsConfig.hierarchy_overrides.hasOwnProperty(t.site)&&(r=SniAdsConfig.hierarchy_overrides[t.site]),l=e;var o=z(t);if(o)return l+=o;if(r.level1){if(t[r.level1])l+="/"+w(t[r.level1]);else{if(!SniAdsConfig.fillPartialHierarchy)return l;l+="/l1o"}n=t[r.level1]}if(r.level2&&t[r.level2]!==n){if(t[r.level2])l+="/"+w(t[r.level2]);else{if(!SniAdsConfig.fillPartialHierarchy)return l;l+="/l2o"}n=t[r.level2]}if(r.level3&&t[r.level3]!==n){if(t[r.level3])l+="/"+w(t[r.level3]);else{if(!SniAdsConfig.fillPartialHierarchy)return l;l+="/l3o"}n=t[r.level3]}if(r.level4&&t[r.level4]!==n){if(t[r.level4])l+="/"+w(t[r.level4]);else{if(!SniAdsConfig.fillPartialHierarchy)return l;l+="/l4o"}n=t[r.level4]}if(r.level5&&t[r.level5]!==n){if(t[r.level5])l+="/"+w(t[r.level5]);else{if(!SniAdsConfig.fillPartialHierarchy)return l;l+="/l5o"}n=t[r.level5]}return l},R=function(e,t){if(e.length!==t.length)return!1;for(var n=e.length-1;n>=0;n--)if(e[n]!==t[n])return!1;return!0},D=function(e,t){if(e instanceof Array&&t instanceof Array){for(var n=[],r=0;r<e.length;r++)R(e[r],t)||n.push(e[r]);return n}throw new i.SniAdsError("Invalid Arguments: sizeSetArray and targetArray must both be arrays.")},M=function(e,t){var n,i,r={};return googletag.cmd.push(function(){for(var o=0;o<t.length;o++)n=t[o],"undefined"!=typeof s.breakpoints&&n.hasOwnProperty("mapping")&&(r[n.tag]=googletag.sizeMapping().addSize(s.breakpoints.xlarge,n.mapping.xlarge).addSize(s.breakpoints.large,n.mapping.large).addSize(s.breakpoints.medium,n.mapping.medium).addSize(s.breakpoints.small,n.mapping.small).build()),SniAds.Restriction.isRestricted(n.tag)||(i=googletag.defineSlot(e,n.sizes,n.tag),"undefined"!=typeof r[n.tag]&&i.defineSizeMapping(r[n.tag]),i.addService(googletag.pubads()),googletag.display(n.tag),p[n.tag]=i);SniAds.Event.publish("slot_define_complete")}),p},B=function(){var e;return void googletag.cmd.push(function(){if(e=p,!(f(e)<1)){var t=[];for(var n in e)e.hasOwnProperty(n)&&SniAdsConfig.blockInitialLoad.indexOf(n)<0&&t.push(e[n]);googletag.pubads().refresh(t)}})},L=function(){googletag.cmd.push(function(){googletag.enableServices()})},N=function(){return SniAdsConfig.gptSettings.collapseEmptyDivs&&googletag.cmd.push(function(){googletag.pubads().collapseEmptyDivs(!0)}),SniAdsConfig.gptSettings.singleRequestMode&&googletag.cmd.push(function(){googletag.pubads().enableSingleRequest()}),SniAdsConfig.gptSettings.centerAds&&googletag.cmd.push(function(){googletag.pubads().setCentering(!0)}),googletag.cmd.push(function(){googletag.pubads().disableInitialLoad()}),1},$=function(){var e=document.createElement("script");e.async=!0,e.type="text/javascript";var t="https:"==document.location.protocol;e.src=(t?"https:":"http:")+"//www.googletagservices.com/tag/js/gpt.js";var n=document.getElementsByTagName("script")[0];return n.parentNode.insertBefore(e,n),1},K=function(e,t){googletag.cmd.push(function(){googletag.pubads().addEventListener(e,t)})},H=function(e){return e.hasOwnProperty("breakpoints")&&(s.breakpoints=e.breakpoints),e.hasOwnProperty("customKeys")&&(s.customKeys=e.customKeys),e.hasOwnProperty("dfpEnv")&&(s.dfpEnv=e.dfpEnv),e.hasOwnProperty("enableRepeatBigbox")&&(s.enableRepeatBigbox="object"==typeof e.enableRepeatBigbox?e.enableRepeatBigbox:!0),s},V=function(){var e=SniAdsConfig;e.hasOwnProperty("dynamicTargetSets")||(e.dynamicTargetSets=[]),e.hasOwnProperty("restrictedValues")||(e.restrictedValues=[]),e.hasOwnProperty("targetingKeys")||(e.targetingKeys=[]),e.hasOwnProperty("cookies")||(e.cookies=[]),e.hasOwnProperty("blockInitialLoad")||(e.blockInitialLoad=[])},j=function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)"),n=t.exec(location.search);return null==n?"":decodeURIComponent(n[1].replace(/\+/g," "))},U=function(e){return location.search.indexOf(e)>-1},F=function(){var t=e.length;if(t>0){for(var i=0;t>i;i++)e[i].call();e=[],n=1}},G=function(e){var t=l.split("/"),n="undefined"!=typeof t[2]?t[2]:"",i="undefined"!=typeof t[3]?t[3]:"";return n&&(e.category=n),i&&(e.vgncontent=i),e},q=function(e){var t="pdblock";return(e.hasOwnProperty("showname")&&"paula_deen"===e.showname||"pauladeen"===e.showname||"paula deen"===e.showname)&&(e.showname=t),(e.hasOwnProperty("showName")&&"paula_deen"===e.showName||"pauladeen"===e.showName||"paula deen"===e.showName)&&(e.showName=t),(e.hasOwnProperty("show_abbr")&&"paula_deen"===e.show_abbr||"pauladeen"===e.show_abbr||"paula deen"===e.show_abbr)&&(e.show_abbr=t),(e.hasOwnProperty("talentname")&&"paula_deen"===e.talentname||"pauladeen"===e.talentname||"paula deen"===e.talentname)&&(e.talentname=e.talentName=t),(e.hasOwnProperty("topic")&&"paula_deen"===e.topic||"pauladeen"===e.topic||"paula deen"===e.topic)&&(e.topic=t),(e.hasOwnProperty("sponsorship")&&"paula_deen"===e.sponsorship||"pauladeen"===e.sponsorship||"paula deen"===e.sponsorship)&&(e.sponsorship=t),(e.hasOwnProperty("chef")&&"paula_deen"===e.chef||"pauladeen"===e.chef||"paula deen"===e.chef)&&(e.chef=t),e},W=function(e){var t,n=e;return n=e.replace(".",""),n=n.replace("#",""),n=n.trim(),t=document.getElementsByClassName(n),t.length?t[0]:(t=document.getElementById(n),t?t:!1)},Q=function(e){r=SniAdsConfig.env;var t=!1;if("object"!=typeof e||!e.hasOwnProperty("site"))return r="staging","staging";var n=e.site;return SniAdsConfig.envSite.hasOwnProperty(n)&&(r=SniAdsConfig.envSite[n],0===r.indexOf("!")&&(r=r.substring(1,r.length),t=!0)),s.hasOwnProperty("dfpEnv")&&!t&&(r=s.dfpEnv),j("dfpenv")&&(r=j("dfpenv"),"production"!==r&&(r="staging")),u="production"===r?"109359770":"201823409",r},X=function(){B(),googletag.cmd.push(function(){SniAds.Event.publish("initComplete"),F()})};i.init=function(e){var n=!1;return $(),U("sniadsoff")?(SniAds=void 0,SniAdsConfig=void 0,dfpAdRestrictions=void 0,dfpSizeOverrides=void 0,!1):t&&"undefined"==typeof utFlag?!1:(t=1,SniAds.Event.publish("initStart"),V(),T(),void(-1===navigator.userAgent.indexOf("#sni-loadtest#")&&(e=e||{},s=H(e),"undefined"!=typeof s.dfpEnv&&(SniAdsConfig.env="production"===s.dfpEnv?"production":"staging"),"staging"===j("dfpenv")&&(SniAdsConfig.env="staging"),u="production"===SniAdsConfig.env?"109359770":"201823409",a=m(),a.orntn=_(),(window.sniads_regression_test||"active"===j("sniads_regression_test"))&&(SniAds.Event.publish("debug_log","Regression Testing mode enabled."),a.sniads_regression_test="active"),"active"===j("cs_debug")&&(SniAds.Event.publish("debug_log","Creative services debug mode on."),a.cs_debug="active"),j("adopstest")&&(SniAds.Event.publish("debug_log","Creative services debug mode on."),a.ops_test=j("ops_test")),"undefined"!=typeof s.customKeys&&(a=y(a,s.customKeys)),a=y(a,S()),a=y(a,b()),a=E(a),a=O(a),a=y(a,v()),a=q(a),Q(a),a.dfpenv="production"===i.getEnvironment()?"p":"s",l=I(u,a),a=G(a),SniAds.Restriction.init(a),g=P(),N(),L(),k(a),M(l,g),K("slotRenderEnded",function(e){SniAds.Event.publish("slotRenderComplete",e)}),"object"==typeof s.enableRepeatBigbox?SniAds.River.repeatBigbox(s.enableRepeatBigbox):s.enableRepeatBigbox&&SniAds.River.repeatBigbox(),googletag.cmd.push(function(){SniAds.Event.subscribe("trinity_ready",function(){return n?!1:(n=1,SniAds.Sonobi.setTrinityTargeting(window.sbi_trinity),void X(e))}),SniAds.Event.subscribe("trinity_timeout",function(){return n?!1:(n=1,void X(e))})}))))},i.getVersion=function(){return"string"==typeof o?o:""},i.getKeyValues=function(){return a},i.getValueByKey=function(e){return e=e.toLowerCase(),"undefined"!=typeof a[e]&&a[e].length>0?a[e]:null},i.getNetworkId=function(){return u},i.getEnvironment=function(){return r},i.getDfpHierarchy=function(){return l},i.getDefinedSlots=function(){return p},i.getSlotSizes=function(e){if("undefined"==typeof e)return"";var t=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,n=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,i=p.hasOwnProperty(e)?p[e]:0,r="";if(i){for(var o=[],a=i.getSizes(t,n),s=0;s<a.length;s++)o.push(a[s].getWidth()+"x"+a[s].getHeight());r=o.join(",")}return r},i.getTargetedKeyValues=function(){return d},i.getSlotConfig=function(e){if("string"!=typeof e)throw new i.SniAdsError("Invalid Argument: tagName must be a string.");for(var t=0;t<SniAdsConfig.adSlots.length;t++)if(SniAdsConfig.adSlots[t].tag===e)return SniAdsConfig.adSlots[t]},i.getCurrentPageTargeting=function(){throw new i.SniAdsError("This method is deprecated. Please use SniAds.getTargetedKeyValues() instead.")},i.ready=function(t){if("function"!=typeof t)throw new i.SniAdsError("Invalid or missing argument: SniAds.ready requires a single function as its argument.");n?t.call():e.push(t)},i.getSlot=function(e){return c(e,"String")?p.hasOwnProperty(e)?p[e]:void 0:!1},i.refreshSlot=function(e){if(!c(e,"String"))return!1;var t=i.getSlot(e);t&&googletag.cmd.push(function(){return googletag.pubads().refresh([t]),t})},i.getInitCfg=function(){return s};var Y={};return i.appendSlot=function(e,t,n,r){r=r||!1,3===arguments.length&&"boolean"==typeof n&&(r=n,n=null);var o,a,d=W(e),g=null;if(n=n||null,!d)return!1;o=Y.hasOwnProperty(t)?Y[t]:1,a=t+"_"+o;var u=document.createElement("div");return u.id=a,d.appendChild(u),n&&(g=E(n)),Y[t]=o+1,googletag.cmd.push(function(){var e=i.getSlotConfig(t),n=googletag.defineSlot(l,e.sizes,a).addService(googletag.pubads());if("undefined"!=typeof s.breakpoints&&e.hasOwnProperty("mapping")){var o=googletag.sizeMapping().addSize(s.breakpoints.xlarge,e.mapping.xlarge).addSize(s.breakpoints.large,e.mapping.large).addSize(s.breakpoints.medium,e.mapping.medium).addSize(s.breakpoints.small,e.mapping.small).build();n.defineSizeMapping(o)}g&&x(n,g),r||(googletag.display(a),googletag.pubads().refresh([n])),p[a]=n}),a},i._cleanValue=w,"undefined"!=typeof utFlag&&(i._objSize=f,i._isValid=c,i._buildSlotHierarchy=I,i._loadKeyValuesMdManager=m,i._getCriteoFlags=v,i._mergeCustomKeyValues=y,i._findPageTags=P,i._getCookieData=b,i._cleanValue=w,i._getCookieValue=A,i._setSlotTargeting=x,i._defineAdSlots=M,i._gptLoad=$,i._processKeyValue=E,i._compareArray=R,i._removeSize=D,i._mapSiteValue=C),i}(),SniAds.Utility=function(){var e=SniAds,t=function(t){var n=e.getKeyValues(),o={},a="https:"==document.location.protocol;url=(a?"https:":"http:")+"//pubads.g.doubleclick.net/gampad";var s="";return s+="iu=/"+e.getDfpHierarchy(),s+="&sz="+t,s+="&t="+r(n),s+="&c="+i(),o.ad=url+"/ad?"+s,o.jump=url+"/jump?"+s,o.click=url+"/click?"+s,o.adx=url+"/adx?"+s,o},n=function(t,n){var o=["ad","jump","click","adx"];if(-1==o.indexOf(n))throw new e.SniAdsError("Invalid argument: type must be one of 'ad', 'jump', 'click', or 'adx'.");var a=e.getKeyValues(),s="",l="https:"==document.location.protocol;url=(l?"https:":"http:")+"//pubads.g.doubleclick.net/gampad";var d="";return d+="iu=/"+e.getDfpHierarchy(),d+="&sz="+t,d+="&t="+r(a),d+="&c="+i(),s=url+"/"+n+"?"+d},i=function(){return Math.floor(1e6*Math.random())},r=function(){var t="",n=e.getTargetedKeyValues();for(var i in n)n.hasOwnProperty(i)&&(t+=encodeURIComponent(i)+"="+encodeURIComponent(n[i])+"&");return encodeURIComponent(t)};return{getSimplifiedUrlSet:t,getSimplifiedUrlSingle:n,getCacheBuster:i}}(),SniAds.Gallery=function(e){var t,n,i={},r=1,o=1,a=1,s=0,l=0,d=SniAdsConfig.Gallery.interstitialTimer||2,g=d,u=!1,p={},f="dfp_gallery_banner",c="dfp_gallery_banner",h={piSlot:0,viSlot:0,niSlot:0},m=!1,y={container:".photo-gallery",dismiss_elts:".dismiss-el",disable_elts:".disable-el",blockDelay:2,syncSlot:"dfp_bigbox",interstitialSlot:"dfp_photo_interstitial"},v="",S={},b=SniAds.getKeyValues(),w=(SniAds.getDfpHierarchy(),{}),A=function(e){var t=e.keys;for(var n in b)if(t.hasOwnProperty(n.toLowerCase())&&t[n]!==b[n])return!1;return e},_=function(){return"withCredentials"in new XMLHttpRequest?!0:window.XDomainRequest?!1:!1},C=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},O=function(){if(!_())return S;var e=SniAdsConfig.Gallery.photoDescriptorUrl,t=function(){if("OK"!==this.statusText)return!1;descriptorConfig=JSON.parse(this.responseText);for(var e=0;e<descriptorConfig.length;e++)A(descriptorConfig[e])&&(S=descriptorConfig[e].descriptor);return SniAds.Event.publish("galleryConfigLoaded",S),S},n=new XMLHttpRequest;n.onload=t,n.open("get",e,!0),n.send()},E=function(){var t="",n=mdManager&&mdManager.getParameterString("source")||"";return n&&(n=n.split("/"),t=n[n.length-1]),e._cleanValue(t)},P=function(){if(i.clearInterstitial(),u)return!1;googletag.cmd.push(function(){var e=E();e!==v&&(v=e,SniAds.Event.publish("_gallerySourceChanged",v),googletag.pubads().setTargeting("source",v)),googletag.pubads().setTargeting("photo_count",""+r),googletag.pubads().setTargeting("photo_index",""+a),SniAds.Event.publish("_pageTargetingUpdated",{photo_count:r,photo_index:a,gallery_increment:o})});var e=S.piSlot.concat(S.viSlot,S.niSlot);return e.indexOf(r)>-1?($("#"+c).hide(),B(),!1):(o%S.adhesionRate===0&&o>1&&f&&T(),void(r%S.refreshRate===0&&"true"===S.active&&k()))},x=function(){var e=SniAds.getDefinedSlots();return"hgtv"===b.site&&e.hasOwnProperty("dfp_smartphone_banner")?!0:"mobile"===SniAds.getValueByKey("delivery_channel")},k=function(){if(x())return!1;var e=SniAds.getDefinedSlots();return s++,googletag.pubads().refresh([e[y.syncSlot]]),1},T=function(){f&&googletag.pubads().refresh([_adhesionSlot])},z=function(e){if(!e||"undefined"==typeof e)return!1;var t,n=e;return n=e.replace(".",""),n=n.replace("#",""),n=n.trim(),t=document.getElementsByClassName(n),t.length?t[t.length-1]:(t=document.getElementById(n),t?t:!1)},I=function(e,t){var n=z(e);n&&n.classList.add(t)},R=function(e,t){var n=z(e);return n?(n.classList.remove(t),!0):!1},D=function(e,t){return target=z(e),new RegExp("(\\s|^)"+t+"(\\s|$)").test(target.className)},M=function(){var e="piSlot";return S.hasOwnProperty("piSlot")&&S.piSlot.indexOf(r)>-1&&(e="piSlot",h.piSlot++),S.hasOwnProperty("viSlot")&&S.viSlot.indexOf(r)>-1&&(e="viSlot",h.viSlot++),S.hasOwnProperty("niSlot")&&S.niSlot.indexOf(r)>-1&&(e="niSlot",h.niSlot++),e},B=function(){SniAds.Event.publish("interstitialStart");var e=M();d=S.hasOwnProperty(e+"Timer")?S[e+"Timer"]:SniAdsConfig.Gallery.interstitialTimer,googletag.cmd.push(function(){googletag.pubads().setTargeting("inttype",e.toLowerCase()),SniAds.Event.publish("_pageTargetingUpdated",{int_type:e.toLowerCase()})});SniAds.getSlotConfig("dfp_photo_interstitial");I(y.container,"interstitial-show");var t=z(y.container);t.style.display=(t.style.display="none")?"block":t.style.display,googletag.cmd.push(function(){SniAds.getSlotConfig("dfp_photo_interstitial");p[y.interstitialSlot]||(googletag.display(y.interstitialSlot),p[y.interstitialSlot]=!0),googletag.pubads().refresh(x()?[w[y.interstitialSlot]]:[w[y.interstitialSlot],w[y.syncSlot]]),l++,d>0&&(g=d,K(),L(d))})},L=function(e){function n(){g--,SniAds.Event.publish("interstitialTimerUpdate",g),0===g&&(SniAds.Event.publish("interstitialTimerEnd"),clearInterval(t))}g=e||SniAdsConfig.Gallery.interstitialTimer,SniAds.Event.publish("interstitialTimerStart",g),clearInterval(t),t=0,t=setInterval(n,1e3)},N=function(){clearInterval(t),t=g},K=function(){if($("#photo_interstitial_wrapper").length>0){var e=SniAdsConfig.Gallery.interstitialSkipMessage||"Advertisement: You may skip ad in {{TIMELEFT}} seconds.";e=e.replace(/\{\{TIMELEFT\}\}/,d);var t;$("#dfp_int_msg").length>0?(t=$("#dfp_int_msg"),t.show()):(t=$("<span id='dfp_int_msg'>"+e+"</span>"),$("#photo_interstitial_wrapper").append(t),$("#dfp_int_msg").css({top:21,color:"#ccc",position:"absolute"})),$("#dfp_int_msg span").text(d),$("#dfp_int_msg").text(e),$(".rsArrow").hide(),$(".rsArrowIcn").hide(),SniAds.Event.subscribe("interstitialTimerUpdate",function(e){var t=$("#dfp_int_msg").text();t=t.replace(/[0-9]+/,e),$("#dfp_int_msg").text(t)})}u=!0,n.attr("rel","gallery-blocked")},H=function(){$("#dfp_int_msg").length>0&&$("#dfp_int_msg").fadeOut(function(){$(".rsArrow").show(),$(".rsArrowIcn").show(),$("#dfp_int_msg").hide()}),u=!1,n.attr("rel","gallery-enabled")},V=function(){var e=S.piSlot;return S.hasOwnProperty("viSlot")&&(e=e.concat(S.viSlot)),S.hasOwnProperty("niSlot")&&(e=e.concat(S.niSlot)),e.length},j=function(){return $("#photo-gallery").css("padding-bottom",60),$("#photo-gallery").append("<div id='adhesion_hook'></div>"),$("#adhesion_hook").css({position:"fixed",bottom:0,zIndex:10001}),SniAds.appendSlot("#adhesion_hook","dfp_gallery_banner")};return i.init=function(e){$("#ad-gallery-control").length?n=$("#ad-gallery-control"):(n=$("<span id='ad-gallery-control'></span>").attr("rel","gallery-enabled").hide(),$("body").append(n)),_interstitialSlotDisplay=!1,_cfg=e||{},w=SniAds.getDefinedSlots(),S=SniAdsConfig.Gallery.photoDescriptorDefault,SniAdsConfig.allowMobileAdhesion&&SniAdsConfig.allowMobileAdhesion.indexOf(b.site)>-1&&parseInt(S.adhesionRate)>0&&(z(c)||(c=j()),_adhesionSlot=SniAds.getSlot(c)),_cfg.hasOwnProperty("descriptor")&&(S=_cfg.descriptor),O(),_cfg.hasOwnProperty("galleryCfg")&&(y.descriptor=null!==e.galleryCfg.descriptor?e.galleryCfg.descriptor:y.descriptor,y.container=null!==e.galleryCfg.container?e.galleryCfg.container:y.container,y.dismiss_elts=null!==e.galleryCfg.dismiss_elts?e.galleryCfg.dismiss_elts:y.dismiss_elts,y.disable_elts=null!==e.galleryCfg.disable_elts?e.galleryCfg.disable_elts:y.disable_elts,y.syncSlot=e.galleryCfg.syncSlot?e.galleryCfg.syncSlot:y.syncSlot,y.interstitialSlot=e.galleryCfg.interstitialSlot?e.galleryCfg.interstitialSlot:y.interstitialSlot),f=SniAds.getSlot(c)||0,SniAds.Event.subscribe("interstitialTimerEnd",function(){H()}),googletag.cmd.push(function(){m=!0,SniAds.Event.publish("galleryInitComplete")})},i.isInit=function(){return m},i.setSyncSlot=function(e){return"string"==typeof e?(y.syncSlot=e,!0):!1},i.setInterstitialSlot=function(e){return"string"==typeof e?(y.interstitialSlot=e,!0):!1},i.reset=function(){l>=V()&&(r=1,a=1,s=0,l=0,h.viSlot=0,h.niSlot=0,h.piSlot=0,N(),SniAds.Event.publish("galleryResetComplete")),o=1},i.resetGallerySlots=function(e){if(e=e||!1,!e){var t=SniAds.appendSlot("pickle-bigbox-ad","dfp_bigbox");SniAds.Gallery.setSyncSlot(t)}var n=SniAds.appendSlot("dfp_photo_interstitial_custom","dfp_photo_interstitial",!0);SniAds.Gallery.setInterstitialSlot(n),_interstitialSlotDisplay=!1,reset()},i.getState=function(){return{incrementCount:r,bigboxRefreshCount:s,interstitialRefreshCount:l,interstitialTypeRefreshCount:h,photoIndex:a}},i.clearInterstitial=function(){return m?(N(),H(),googletag.cmd.push(function(){googletag.pubads().clear([w[y.interstitialSlot]]),D(y.container,"interstitial-show")&&(R(y.container,"interstitial-show"),SniAds.Event.publish("interstitialClear"))}),$("#"+c).show(),!1):!1},i.next=function(){if(C(S)&&(S=SniAdsConfig.Gallery.photoDescriptorDefault,i.init()),!m)throw new SniAds.SniAdsError("SniAds Gallery module not initialized.");P(),r+=1,o+=1,a+=1},i.previous=function(){return C(S)&&(S=SniAdsConfig.Gallery.photoDescriptorDefault,i.init()),m?(P(),r+=1,o+=1,void(a-=1)):!1},i.getDescriptorData=function(){return S},i.getConfigData=function(){return y},"undefined"!=typeof utFlag&&(i._getPageSourceValue=E),i}(SniAds),SniAds.River=function(){var e={},t=0,n=0,i=SniAds.getKeyValues(),r=SniAdsConfig.River.refreshTimeDelay||1e3,o=SniAdsConfig.River._refreshRate||2e3,a=0,l=function(e){t++;var n=SniAds.getSlotConfig(e),i=n.tag+"_"+t;return i},d=function(e,t){for(var n in t)n=n.toLowerCase(),SniAdsConfig.targetingKeys.indexOf(n)>-1&&googletag.cmd.push(function(){e.setTargeting(n,t[n])});return e};return e.appendSlot=function(e,t){var n=SniAds.getSlotConfig(t),r=SniAds.getInitCfg();if(!n)throw new SniAds.SniAdsError("Invalid Ad Tag: Tag not configured in configurations.");var o=l(t),a=document.getElementById(e),s=SniAds.getDfpHierarchy();if(!a)throw new SniAds.SniAdsError("Invalid argument: Target element was not found.");var g=document.createElement("div");return g.id=o,a.appendChild(g),googletag.cmd.push(function(){var e=googletag.defineSlot(s,n.sizes,o).addService(googletag.pubads());if("undefined"!=typeof r.breakpoints&&n.hasOwnProperty("mapping")){var t=googletag.sizeMapping().addSize(r.breakpoints.xlarge,n.mapping.xlarge).addSize(r.breakpoints.large,n.mapping.large).addSize(r.breakpoints.medium,n.mapping.medium).addSize(r.breakpoints.small,n.mapping.small).build();e.defineSizeMapping(t)}d(e,i),googletag.display(o),googletag.pubads().refresh([e]),SniAds.Event.publish("_newSlotDefined",o,e)}),o},e.appendAutoSlot=function(t,s){if("string"!=typeof t)throw new SniAds.SniAdsError("Invalid argument: target value must be a string.");s=s||!1;var l=document.getElementById(t);if(!l)throw new SniAds.SniAdsError("Unfound: target div was not found in DOM.");var g=SniAdsConfig.River.refreshSlotName||"dfp_bigbox_auto";if(SniAds.Restriction.isRestricted(g))return 0;var u=document.documentElement,p=document.body,f=u&&u.scrollTop||p&&p.scrollTop||0,c=f+o,h=((new Date).getTime()+r,function(e,t){var n=null;return function(){var i=this,r=arguments;clearTimeout(n),n=setTimeout(function(){e.apply(i,r)},t)}}),m=function(){var e=document.getElementById(g);return e?e.offsetTop>=0&&e.offsetTop<=160?!0:f>e.offsetTop+160?!0:!1:!1},y=SniAds.getSlotConfig("dfp_bigbox"),v=document.createElement("div");v.id=g,l.appendChild(v);var S,b=SniAds.getDfpHierarchy();return googletag.cmd.push(function(){S=googletag.defineSlot(b,y.sizes,g).addService(googletag.pubads()),d(S,i),SniAds.Event.publish("_newSlotDefined",g,S),googletag.display(g),s&&e.refreshSlot(g)}),document.addEventListener("scroll",h(function(){f=u&&u.scrollTop||p&&p.scrollTop||0,f>c&&m()&&(e.refreshSlot(g),c+=o,a++,SniAds.Event.publish("river_autobigbox_refreshed",{refreshCount:n,slotName:g,nextRefreshPoint:c})),SniAds.Event.publish("debug_river",c,a,f)},50)),g},e.refreshSlot=function(e){var t=SniAds.getDefinedSlots();return googletag.cmd.push(function(){googletag.pubads().refresh([t[e]])}),n++,n},e.repeatBigbox=function(e){var t=jQuery&&jQuery.fn?jQuery:t&&t.fn?t:!1;if(t){var n,i={target:".container-aside",base:2e3,disable:!1,adHeight:250,adClass:!1,isMobile:window.cqMobile||!1,mobileBlock:".section",infiniteScroll:!1,mobile:{target:".article-body",base:3e3}},r=t.extend(!0,i,e||{}),o=!!r.isMobile,r=t.each(r,function(e){"mobile"!==e&&o&&r.mobile&&void 0!==r.mobile[e]&&(r[e]=r.mobile[e]),r.isMobile=o}),a=r.target,l=!!r.disable,d=0,g=0,u=0,p=!1,f=t(window),c=t(a),h=t(".header"),m=Math.floor(c&&c.length>0&&c.outerHeight()?c.outerHeight():r.adHeight),y=Math.floor(o&&h&&h.length>0&&h.outerHeight()>0?h.outerHeight():0),v=o?r.adHeight:m,S=!!r.infiniteScroll,b=function(){var e=!1,n=t(document).height(),i=t("<div />").height(r.base).appendTo(c);return t(document).height()>n&&(g--,e=!0,A("Ad not inserted to prevented page height from growing.")),i.remove(),e},w=function(e){var n=!1,i=t("#dfp_bigbox, #bigbox, .bigbox-ad"),o=e.offset().top;return i&&i.length>0&&i.each(function(){var e=t(this).offset().top;return o>e&&o-e<r.base?(n=!0,!1):void 0}),n&&A("Too close! not inserting in front of...",e.text().replace(/\s+/g," ").substring(0,40)||e),n
},A=function(){var e=["[SniAds Repeating Bigbox Debug]: "].concat(Array.prototype.slice.call(arguments));return-1!==window.location.href.indexOf("debug=true")?(window.console&&window.console.log&&window.console.log.apply&&arguments&&arguments.length>0&&window.console.log.apply(window.console,e),!0):!1},_=function(e){return A("Ad inserted in "+((new Date).getTime()-d)+" ms. "+e+" ads currently inserted dynamically.")};return A("options",r),l||0===c.length||o&&0===c.find(r.mobileBlock).length||!S&&t(document).height()<r.base?void A("Not initializing in this context."):void f.bind("scroll",function(){var e,i,l,h,m;if(!((new Date).getTime()<d+250)&&(m=f.scrollTop(),d=(new Date).getTime(),m>u&&(u=m,e=f.height(),e=e<document.body.clientHeight?e:document.body.clientHeight,i=m+(o?e/2+y:-c.offset().top+2*r.adHeight),l=Math.floor(i/r.base),h=l-g,A({scrollTop:m,scrollAdjusted:i,latestAdHeight:v,winHeight:e,adIncrement:l,diff:h}),l>g)))for(var S=0;h>S;S++){if(g++,o){var C,O=!1,E="mobile_rr_bigbox_"+g;if(a="#"+E,C=c.find(r.mobileBlock).filter(":visible").filter(function(){return i=h>1?g*r.base+e+y:i,!O&&t(this).offset().top>i&&!w(t(this))&&(O=!0),O}).first().before('<div id="'+E+'">'),0===C.length)return g--,void A("No mobile block ad candidates found.")}else if(b())return;n=SniAds.appendSlot(a,"dfp_bigbox"),SniAds.Event.publish("_newSlotDefined",n,SniAds.getDefinedSlots(n)),p=c.find("#"+n),!o&&r.base-v>0&&p.css({marginTop:r.base-v}),p.fadeIn().filter(function(){return r.adClass&&"string"==typeof r.adClass}).addClass(r.adClass),v=p&&p.length>0?Math.floor(p.height()):v,(!o||o&&O)&&S===h-1&&("object"==typeof s&&s.t&&(s.events="event1",s.t(),s.events=""),_(g))}}).trigger("scroll")}},e}(),SniAds.Iframe=function(){var e=SniAds,t=function(t,n,i){var r,o;if("string"!=typeof t)throw new e.SniAdsError("Invalid or missing argument: adId. Expected string.");if("number"!=typeof n)throw new e.SniAdsError("Invalid or missing argument: width. Expected number.");if("number"!=typeof i)throw new e.SniAdsError("Invalid or missing argument: height. Expected number.");return r=document.getElementById(t),r?(o=r.children[0].children[0],"IFRAME"===o.tagName?(n>0&&(o.width=n),i>0&&(o.height=i),o):void 0):!1},n=function(t,n,i){if("number"!=typeof n)throw new e.SniAdsError("Invalid or missing argument: width. Expected number.");if("number"!=typeof i)throw new e.SniAdsError("Invalid or missing argument: height. Expected number.");return adFrame=document.getElementById(t),adFrame?(adFrame.width=n,adFrame.height=i,!0):!1},i=function(t,n){var i;if(!t||"string"!=typeof t)throw new e.SniAdsError("Invalid or missing argument: adId. Expected string.");if(!n||"string"!=typeof n)throw new e.SniAdsError("Invalid or missing argument: content. Expected string.");return i=document.getElementById(t),i&&(adEl=document.createElement("div"),adEl.innerHTML=n,i.appendChild(adEl)),i};return{resize:t,resizeSlot:n,escape:i}}(),SniAds.Restriction=function(){var e,t,n,i={},r=function(e){var t,n=0;for(t in e)e.hasOwnProperty(t)&&n++;return n},o=function(t){var n=t.keys;if(r(n)<1)return!1;for(var i in n){if(i=i.toLowerCase(),!e.hasOwnProperty(i))return!1;if(n[i]!==e[i])return!1}return!0},a=function(){var e,t=[];if(dfpAdRestrictions)for(var n=0;n<dfpAdRestrictions.length;n++)if(e=dfpAdRestrictions[n],o(e))if("restrict"===e.action)t.push(e.tag);else{if("enable"!==e.action)throw new SniAds.SniAdsError("Invalid action setting in restrictions file.");var i=t.indexOf(e.tag);i>-1&&t.splice(i,1)}return t};_isValidSizeOverrideBlock=function(e){return e.hasOwnProperty("tag")&&e.hasOwnProperty("sizes")&&e.hasOwnProperty("keys")&&e.sizes.length>0&&"string"==typeof e.tag&&"object"==typeof e.keys?!0:!1};var s=function(){var e,t=[];if(dfpSizeOverrides)for(var n=0;n<dfpSizeOverrides.length;n++)if(e=dfpSizeOverrides[n],_isValidSizeOverrideBlock(e)&&o(e))for(var i=0;i<SniAdsConfig.adSlots.length;i++)SniAdsConfig.adSlots[i].tag===e.tag&&(SniAdsConfig.adSlots[i].sizes=e.sizes,t.push({tag:SniAdsConfig.adSlots[i].tag,sizes:SniAdsConfig.adSlots[i].sizes,mapping:u(SniAdsConfig.adSlots[i].mapping,e.sizes)}));return t},l=function(e,t){if(e.length!==t.length)return!1;for(var n=e.length-1;n>=0;n--)if(e[n]!==t[n])return!1;return!0},d=function(e){if("string"!=typeof e)return!1;for(var t=n.length-1;t>=0;t--)if(n[t].tag===e)return n[t].sizes;return!1},g=function(e){var t=[];return e instanceof Array?e.length>2?e:2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]?t=[[e[0],e[1]]]:e:!1},u=function(e,t){var n=e,i=[];t=g(t);for(var r in e){i=[],e[r]=g(e[r]);for(var o=0;o<t.length;o++)for(var a=0;a<e[r].length;a++)l(e[r][a],t[o])&&i.push(e[r][a]);n[r]=i}return n};return i.isRestricted=function(e){return t.indexOf(e)>-1?!0:!1},i.getRestricted=function(){return t},i.getSizeOverrides=function(){return n},i.init=function(i){e=i,t=a(e),n=s(e)},"undefined"!=typeof utFlag&&(i._getValidSizesBySlot=d,i._compareArray=l,i._applyMappingRestrictions=u,i._processSizeOverrides=s,i._processRestrictions=a,i._testBlock=o,i._normalizeSingleSizeSet=g),i}(),SniAds.Event=function(){var e={},t=[].slice,n={},i=[];return e.publish=function(e){if("string"!=typeof e)throw new SniAds.SniAdsError("You must provide a valid topic to publish.");i.push(e);var r,o,a,s,l=t.call(arguments,1),d=0;if(!n[e])return!0;for(r=n[e].slice(),a=r.length;a>d&&(o=r[d],s=o.callback.apply(o.context,l),s!==!1);d++);return s!==!1},e.subscribe=function(e,t,i,r){if("string"!=typeof e)throw new SniAds.SniAdsError("Must provide a valid topic to subscribe.");3===arguments.length&&"number"==typeof i&&(r=i,i=t,t=null),2===arguments.length&&(i=t,t=null),r=r||10;for(var o,a=0,s=e.split(/\s/),l=s.length;l>a;a++){e=s[a],o=!1,n[e]||(n[e]=[]);for(var d=n[e].length-1,g={callback:i,context:t,priority:r};d>=0;d--)if(n[e][d].priority<=r){n[e].splice(d+1,0,g),o=!0;break}o||n[e].unshift(g)}return i},e.unsubscribe=function(e,t,i){if("string"!=typeof e)throw new Error("You must provide a valid topic to remove a subscription.");if(2===arguments.length&&(i=t,t=null),n[e])for(var r=n[e].length,o=0;r>o;o++)n[e][o].callback===i&&(t&&n[e][o].context!==t||(n[e].splice(o,1),o--,r--))},e.getAllEvents=function(){return i},e}(),SniAds.Amazon=function(e){var t={};window.adsData=window.adsData||{},window.adsData.amazon_video_targeting=null,window.adsData.amazon_tokens=null;{var n;SniAdsConfig}return t.setTargeting=function(t){googletag.cmd.push(function(){googletag.pubads().setTargeting("amznslots",t),e.Event.publish("amazon_ready")})},t.loadAmazon=function(){function i(){e.Event.publish("amazon_script_loaded"),amznads.getAdsCallback("3043",function(){n=amznads.getTokens(),e.Event.publish("amazon_tokens_ready",n),t.setTargeting(n);var i=amznads.getTargeting(),r={};if(i)for(var o in i){var a=i[o];if(a instanceof Array)for(var s=0;s<a.length;s++)/vp[0-9]+/.test(a[s])&&(r[a[s]]="1");else r[o]=a}window.adsData.amazon_video_targeting=r,e.Event.publish("amazon_video_targeting_ready",r)},SniAdsConfig.Amazon.load_timeout||500)}var r=document.createElement("script");r.async=!0,r.type="text/javascript";var o="https:"==document.location.protocol;r.src=(o?"https:":"http:")+"//c.amazon-adsystem.com/aax2/amzn_ads.js";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(r,a),r.readyState?r.onreadystatechange=function(){("loaded"==r.readyState||"complete"==r.readyState)&&(r.onreadystatechange=null,i())}:r.onload=function(){i()}},t.loadAmazon(),t}(SniAds),SniAds.Sonobi=function(e){var t,n,i={},r=function(){var t="https:"==document.location.protocol,i={},r="";for(var o in n)n.hasOwnProperty(o)&&(r=e.getSlotSizes(o),r.length&&(i[o]=n[o]+"|"+r));return(t?"https:":"http:")+"//apex.go.sonobi.com/trinity.js?key_maker="+JSON.stringify(i)},o=function(e,t){var n,i="number"==typeof SniAdsConfig.Sonobi.trinity_timeout?SniAdsConfig.Sonobi.trinity_timeout:800,r=document.createElement("script");r.async=!0,r.type="text/javascript",r.src=e;var o=document.getElementsByTagName("script")[0];o.parentNode.insertBefore(r,o),n=setTimeout(function(){SniAds.Event.publish("trinity_timeout")},i),r.readyState?r.onreadystatechange=function(){("loaded"==r.readyState||"complete"==r.readyState)&&(r.onreadystatechange=null,t(n))}:r.onload=function(){t(n)}},a=function(t){clearTimeout(t),e.Event.publish("trinity_ready",window.sbi_trinity)};return i.setTrinityTargeting=function(t){var n=[];return googletag.cmd.push(function(){var i=e.getDefinedSlots();for(placement in t)if(t.hasOwnProperty(placement))for(key in t[placement])i.hasOwnProperty(placement)&&(i[placement].setTargeting(key,t[placement][key]),n.push(i[placement]))}),n},i.init=function(){t=SniAds.getKeyValues(),n=SniAdsConfig.Sonobi.placements[t.site]||SniAdsConfig.Sonobi.placements.food,n||SniAds.Event.publish("trinity_timeout");var e=r();o(e,a)},i}(SniAds);