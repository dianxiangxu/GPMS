var NGX=NGX||{};NGX.Embed=function(a,b){function h(a){return 0===a.data.indexOf("_NGX_")?!0:!1}function i(a){try{if(h(a)){var b=JSON.parse(a.data.substring(5)),c=j(b);c&&a.source.postMessage(c,"*")}}catch(a){}}function j(a){var d=function(){for(var a=[],c=b.getElementsByTagName("iframe"),d=0;d<c.length;d++)0===c[d].id.indexOf("ngxFrame")&&a.push(c[d]);return a[0]},e=function(a){var d,e,f,g,c=a.id;return c?(d=c.substring(8),e=d.split(":"),f=e[0],g=e[1],(guidFrame=b.getElementById("ngxFrame"+f))?guidFrame:(intFrame=b.getElementById("ngxFrame"+g))?intFrame:!1):!1},f=e(a)||d();if("event"===a.action)NGX.Embed.eventHandlers.hasOwnProperty(a.event.toLowerCase())&&NGX.Embed.eventHandlers[a.event.toLowerCase()].call(this,a.event,a.payload);else if(c.hasOwnProperty(a.action.toLowerCase()))return c[a.action.toLowerCase()].call(this,f,a)}function k(){NGX.Embed.listen()}var c={getpageinfo:function(a,b){var c=function(a){var b=0;if(a.offsetParent){do b+=a.offsetTop;while(a=a.offsetParent);return b}},d={action:"returnpageinfo",callbackId:b.msgId,payload:{clientHeight:Math.max(document.documentElement.clientHeight,window.innerHeight||0),scrollTop:void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop,offsetTop:c(a),url:window.location.href}};return"_NGX_"+JSON.stringify(d)},scrollto:function(a,b){window.scrollTo(b.payload.left||0,b.payload.top||0)},resize:function(a,b){b.payload.hasOwnProperty("height")&&(a.height=b.payload.height)},grow:function(a,b){b.payload.hasOwnProperty("height")&&a.height<b.payload.height&&(a.height=b.height)}},d=function(){a.addEventListener?a.addEventListener("message",i,!1):a.attachEvent("onmessage",i)},e=function(){a.removeEventListener?a.addEventListener("message",i,!1):a.detachEvent("onmessage",i)},f=function(a){if("object"==typeof a){var c=b.getElementById(a.id);return c.contentWindow.postMessage("_NGX_"+JSON.stringify(a),"*")}},g=function(a,b){"function"==typeof b&&(NGX.Embed.eventHandlers[a||"*"]=b)};return{eventHandlers:{},init:k,listen:d,ignore:e,actions:c,sendMessage:f,registerEventHandler:g}}(window,document),NGX.Embed.init();