function getURLParameter(e){return decodeURIComponent((RegExp(e+"=(.+?)(&|$)").exec(location.search)||[,null])[1])}$(function(){$('input[name="purchase[product_id]"], input[name="order[product_ids][]"], input[name="purchase[product_ids][]"]').on("click",function(){var e=$(this).parents("[data-cf-product-template=true]"),t=$(e).find("[data-cf-product-name='true']").html();$(".product-name").html(t);var i=$(e).find("[data-cf-product-price='true']").html();$(".product-price").html(i),$(".product-price").attr("taxamo-currency",$(e).find("[data-cf-product-price='true']").attr("taxamo-currency"));try{if($("#bump-offer").length>0&&$(".product-price").length>0&&"on"!=$("#bump-offer").val()){var r=$("#bump-offer").val(),s=$(".elOrderProductOptinProductName").find("input[value='"+r+"']").next(".elOrderProductOptinPrice").html().replace(/\D/g,""),a=$(".elOrderProductOptinProductName").find("input[value='"+r+"']").next(".elOrderProductOptinPrice").html(),p=$(".elOrderProductOptinProductName").find("input[value='"+r+"']").nextAll("label:first").text(),n=$(".product-price").html().replace(/\D/g,""),d=parseInt(s)+parseInt(n);$("#bump-offer").is(":checked")?(0==$("#product-price-with-bump").length?$("<div id='product-price-with-bump' style='display: none'>"+d+"</div>").insertAfter(".product-price"):$("#product-price-with-bump").html(d),0==$("#product-bump-name").length&&($("<div id='product-bump-name' class='pull-left elOrderProductOptinProductName'>"+p+"</div><div class='pull-right elOrderProductOptinPrice' id='product-bump-price'>"+a+"</div>").insertAfter(".product-price"),$("#product-bump-name").css("clear","both"),$("#product-bump-name").css("width","auto"))):($("#product-price-with-bump").length&&$("#product-price-with-bump").remove(),$("#product-bump-name").length&&$("#product-bump-name").remove(),$("#product-bump-price").length&&$("#product-bump-price").remove()),$("#product-price-original").html(i)}}catch(c){console.log(c)}try{calcTaxamo()}catch(c){console.log(c)}}),$('input[name="purchase[product_id]"], input[name="order[product_ids][]"], input[name="purchase[product_ids][]"]').on("change",function(){console.log($(this).attr("name")),console.log($(this).val()),console.log($(this).attr("checked")),$('input[name="purchase[product_id]"]:not(:checked), input[name="purchase[product_ids][]"]:not(:checked)').not("#cfAR input").each(function(){$('#cfAR input[name="purchase[product_ids][]"]:checkbox[value='+$(this).val()+"]").attr("checked",!1)}),$(this).attr("checked")&&($('#cfAR input[name="'+$(this).attr("name")+'"]:checkbox[value='+$(this).val()+"]").attr("checked",!0),$('#cfAR input[name="purchase[product_ids][]"]:checkbox[value='+$(this).val()+"]").attr("checked",!0))}),$('input[name="purchase[product_id]"], input[name="order[product_ids][]"], input[name="purchase[product_ids][]"]').first().click(),$('input[name="order_upsell[unique_order_token]"]').val(getURLParameter("unique_token"))}),jQuery(function(e){e("#cfAR").submit(function(){return console.log("copy of data stripe vals"),e(this).find("[data-stripe=number]").val(e("[data-stripe=number]").first().val()),e(this).find("[data-stripe=exp-month]").val(e("[data-stripe=exp-month]").first().val()),e(this).find("[data-stripe=exp-year]").val(e("[data-stripe=exp-year]").first().val()),e(this).find("[data-stripe=cvc]").val(e("[data-stripe=cvc]").first().val()),address_line1=e("[name=address],[name=shipping_address]").filter(":visible:first"),0==address_line1.size()&&(address_line1=e("[name=address],[name=shipping_address]")),e(this).find("[data-stripe=address_line1]").val(address_line1.val()),address_city=e("[name=city],[name=shipping_city]").filter(":visible:first"),0==address_city.size()&&(address_city=e("[name=city],[name=shipping_city]")),e(this).find("[data-stripe=address_city]").val(address_city.val()),address_state=e("[name=state],[name=shipping_state]").filter(":visible:first"),0==address_state.size()&&(address_state=e("[name=state],[name=shipping_state]")),e(this).find("[data-stripe=address_state]").val(address_state.val()),address_zip=e("[name=zip],[name=shipping_zip]").filter(":visible:first"),0==address_zip.size()&&(address_zip=e("[name=zip],[name=shipping_zip]")),e(this).find("[data-stripe=address_zip]").val(address_zip.val()),address_country=e("[name=country],[name=shipping_country]").filter(":visible:first"),0==address_country.size()&&(address_country=e("[name=country],[name=shipping_country]")),e(this).find("[data-stripe=address_country]").val(address_country.val()),shipping_address=e("[name=shipping_address]").filter(":visible:first"),0==shipping_address.size()&&(shipping_address=e("[name=shipping_address]")),e(this).find("[data-stripe=shipping_address]").val(shipping_address.val()),shipping_city=e("[name=shipping_city]").filter(":visible:first"),0==shipping_city.size()&&(shipping_city=e("[name=shipping_city]")),e(this).find("[data-stripe=shipping_city]").val(shipping_city.val()),shipping_state=e("[name=shipping_state]").filter(":visible:first"),0==shipping_state.size()&&(shipping_state=e("[name=shipping_state]")),e(this).find("[data-stripe=shipping_state]").val(shipping_state.val()),shipping_zip=e("[name=shipping_zip]").filter(":visible:first"),0==shipping_zip.size()&&(shipping_zip=e("[name=shipping_zip]")),e(this).find("[data-stripe=shipping_zip]").val(shipping_zip.val()),shipping_country=e("[name=shipping_country]").filter(":visible:first"),0==shipping_country.size()&&(shipping_country=e("[name=shipping_country]")),e(this).find("[data-stripe=shipping_country]").val(shipping_country.val()),e("button").prop("disabled",!0),e("[href=#submit-form], [href=#submit-form-2step-order]").text("Submitting..."),e("[href=#submit-form], [href=#submit-form-2step-order]").prop("disabled",!0),"undefined"!=typeof Stripe?("undefined"!=typeof stripeResponseHandler&&Stripe.card.createToken(e("#cfAR"),stripeResponseHandler),!1):e("#btform")[0]&&""==e("#cfAR").find('[name="purchase[payment_method_nonce]"]').val()?(e("#btform input[type=submit]").first().click(),setTimeout(function(){return e("#cfAR").find('[name="purchase[payment_method_nonce]"]').val(e('[name="purchase[payment_method_nonce]"]').first().val()),""==e("#cfAR").find('[name="purchase[payment_method_nonce]"]').val()?(e("[data-href-original]").each(function(){e(this).attr("href",e(this).data("href-original")),e(this).removeAttr("data-href-original")}),e("#order-declined-message").html("Error with card"),e("#order-declined-message").show(),window.location="#order-declined-message",e("button").prop("disabled",!1),e("[href=#submit-form], [href=#submit-form-2step-order]").text("Submit and Retry"),e("[href=#submit-form], [href=#submit-form-2step-order]").prop("disabled",!1),!1):(e("#cfAR").submit(),!0)},2e3),!1):!0})}),$(document).ready(function(){function e(){getVars=void 0,getVars=document.location.search.length>1?document.location.search.substring(1).split("&"):new Array(0);for(var e=0;e<getVars.length;e++)tempArray=getVars[e].split("="),getVars[tempArray[0]]=decodeURIComponent(tempArray[1]),delete tempArray}try{$("form").each(function(){$(this).parsley()})}catch(t){}e(),"true"==getVars.declined&&(location.href="#order-declined-message",$("#order-declined-message").show(),$("#add-to-cart-form").fadeIn(),$stepOrderWrapper=$("[href=#submit-form-2step]").closest(".elOrder2Step"),$stepOrderWrapper&&($stepOrderWrapper.find(".o2step_step1").hide(),$stepOrderWrapper.find(".o2step_step2").show(),$stepOrderWrapper.find(".order2Step-step").removeClass("order2StepActive"),$stepOrderWrapper.find(".order2Step-step-2").addClass("order2StepActive"),$stepOrderWrapper.find(".order2StepProgress").removeClass("order2Step25"),$stepOrderWrapper.find(".order2StepProgress").addClass("order2Step75"),$(".o2step_step2").prepend('<a href="#" class="goBacktoStepOneOrderBump" style="display: block; color: #888 !important; text-none: underline;font-size: 11px; color: #333; padding: 5px; padding-top: 0;padding-bottom: 15px; margin-top: 0;"><i class="fa fa-arrow-left" style="padding-right: 7px;"></i><span class="goBacktoStepOneOrderBumpSpan">Edit Shipping Details</span></a>')))}),$(function(){$('[href*="#yes-link"], [href*="#no-link"], [data-cf-id=yes-link], [data-cf-id=yes-link-2], [data-cf-id=no-link]').click(function(e){return $(this).data("clicked")?(e.preventDefault(),!1):($(this).data("clicked",!0),$(this).attr("disabled","disabled"),!0)})});