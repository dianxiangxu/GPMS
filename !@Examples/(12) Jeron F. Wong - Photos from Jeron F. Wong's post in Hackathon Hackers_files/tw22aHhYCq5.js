/*!CK:2109949972!*//*1438914180,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["npDya"]); }

__d("legacy:SubscribeButton",["SubscribeButton"],function(a,b,c,d){b.__markCompiled&&b.__markCompiled();a.SubscribeButton=b('SubscribeButton');},3);
__d("LayerHideOnSuccess",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();function g(h){"use strict";this._layer=h;}g.prototype.enable=function(){"use strict";this._subscription=this._layer.subscribe('success',this._layer.hide.bind(this._layer));};g.prototype.disable=function(){"use strict";if(this._subscription){this._subscription.unsubscribe();this._subscription=null;}};Object.assign(g.prototype,{_subscription:null});e.exports=g;},null);
__d("Overlay",["CSS","DataStore","DOM","Layer","LayerButtons","LayerDestroyOnHide","LayerFadeOnHide","LayerFadeOnShow","LayerFormHooks","LayerHideOnBlur","LayerHideOnEscape","LayerHideOnSuccess","LayerHideOnTransition","LayerMouseHooks","LayerTabIsolation"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){b.__markCompiled&&b.__markCompiled();for(var v in j)if(j.hasOwnProperty(v))x[v]=j[v];var w=j===null?null:j.prototype;x.prototype=Object.create(w);x.prototype.constructor=x;x.__superConstructor__=j;function x(y,z){"use strict";y=Object.assign({buildWrapper:true},y);j.call(this,y,z);}x.prototype._configure=function(y,z){"use strict";this._shouldBuildWrapper=y.buildWrapper;w._configure.call(this,y,z);var aa=this.getRoot();this._overlay=i.scry(aa,'div.uiOverlay')[0]||aa;g.hide(aa);i.appendContent(this.getInsertParent(),aa);h.set(this._overlay,'overlay',this);var ba=h.get(this._overlay,'width');ba&&this.setWidth(ba);if(this.setFixed)this.setFixed(h.get(this._overlay,'fixed')=='true');if(h.get(this._overlay,'fadeonshow')!='false')this.enableBehavior(n);if(h.get(this._overlay,'fadeonhide')!='false')this.enableBehavior(m);if(h.get(this._overlay,'hideonsuccess')!='false')this.enableBehavior(r);if(h.get(this._overlay,'hideonblur')=='true')this.enableBehavior(p);if(h.get(this._overlay,'destroyonhide')!='false')this.enableBehavior(l);return this;};x.prototype._getDefaultBehaviors=function(){"use strict";return w._getDefaultBehaviors.call(this).concat([k,o,t,q,s,u]);};x.prototype.initWithoutBuildingWrapper=function(){"use strict";this._shouldBuildWrapper=false;return this.init.apply(this,arguments);};x.prototype._buildWrapper=function(y,z){"use strict";z=w._buildWrapper.call(this,y,z);if(!this._shouldBuildWrapper){this._contentRoot=z;return z;}this._contentRoot=i.create('div',{className:'uiOverlayContent'},z);return i.create('div',{className:'uiOverlay'},this._contentRoot);};x.prototype.getContentRoot=function(){"use strict";return this._contentRoot;};x.prototype.destroy=function(){"use strict";h.remove(this.getRoot(),'overlay');w.destroy.call(this);};e.exports=x;},null);
__d("legacy:PageFanning",["PageFanning"],function(a,b,c,d){b.__markCompiled&&b.__markCompiled();a.PageFanning=b('PageFanning');},3);
__d("NAX2Callout",["Arbiter","AsyncRequest","CSS","DataStore","DOM","DOMScroll","LayerDestroyOnHide","Run","SubscriptionsHandler","$","ge","TourAutoPilot"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){b.__markCompiled&&b.__markCompiled();var r=b('TourAutoPilot').TourAutoPilot;for(var s in r)if(r.hasOwnProperty(s))u[s]=r[s];var t=r===null?null:r.prototype;u.prototype=Object.create(t);u.prototype.constructor=u;u.__superConstructor__=r;function u(v){"use strict";r.call(this);this.tourMode=v||false;this.modifiedButtons=[];this._subscriptionsHandler=new o();this._subscriptionsHandler.addSubscriptions(g.subscribe('CoverPhotoEdit',this.handlePauseStart.bind(this)));n.onLeave(this.handleTourStop);i.addClass(document.documentElement,'hideScroll');this.scrollToTop();}u.prototype.handleTransition=function(){"use strict";if(this.tourComplete)return;this.scrollToTop();if(this.tourMode)this.showContextualBlind(p('sideNav'));t.handleTransition.call(this);};u.prototype.handleTourComplete=function(){"use strict";this.handleTourStop();this.scrollToTop();this.restoreContextLinks();t.handleTourComplete.call(this);};u.prototype.handleShowDialog=function(v,w,x){"use strict";if(this.isAnimating)return;this.isAnimating=x!==false;if(w=='status'&&q('profile_stream_blankstate'))i.hide('profile_stream_blankstate');this.stepName=w||this.stepName;var y=this.steps[this.stepName],z=this.overrideContextLinks(y),aa=y.getContext();if(this.tourMode)this.showContextualBlind(aa,!z);l.scrollTo(aa,this.isAnimating,true,0,0,function(){this.isAnimating=false;g.inform('reflow');}.bind(this));};u.prototype.handlePauseStart=function(v,w){"use strict";if(w.state==="closed"){this.restartTour();}else if(w.state==="open")this.pauseTour();};u.prototype.logAction=function(v,w,x){"use strict";new h().setURI('/ajax/pages/nax2_callout.php').setData({action:w,step:x,pid:v}).send();};u.prototype.overrideContextLinks=function(v){"use strict";var w=v.getContext(),x=this.getButtonForOverride(v);if(x){var y=k.scry(w,x.tagName);if(y.length>0){var z=y[0],aa=k.create(x.tagName);this.copyClickHandlers(aa,z);j.set(z,'override_original',aa);this.modifiedButtons.push(z);this.copyClickHandlers(z,x);}}return !!x;};u.prototype.restoreContextLinks=function(){"use strict";for(var v=0;v<this.modifiedButtons.length;v++){var w=this.modifiedButtons[v],x=j.get(w,'override_original',false);this.copyClickHandlers(w,x);}this.modifiedButtons=[];};u.prototype.getButtonForOverride=function(v){"use strict";var w=j.get(v._root,'override');if(w){var x=q(w);if(x.tagName.toLowerCase()=='label')x=k.find(x,'input');return x;}return null;};u.prototype.copyClickHandlers=function(v,w){"use strict";var x;for(var y in {href:1,onclick:1,ajaxify:1})if((x=w.getAttribute(y))){v.setAttribute(y,x);}else if(v.getAttribute(y))v.removeAttribute(y);};u.prototype.registerStep=function(v,w){"use strict";v.disableBehavior(m);t.registerStep.call(this,v,w);};u.prototype.scrollToTop=function(){"use strict";l.scrollToTop(true);};u.prototype.pauseTour=function(){"use strict";if(this.openDialog)this.openDialog.hide();};u.prototype.handleTourStop=function(){"use strict";i.removeClass(document.documentElement,'hideScroll');this._subscriptionsHandler.release();t.handleTourStop.call(this);};u.prototype.restartTour=function(){"use strict";if(this.openDialog){this.openDialog.hide();this.openDialog.show();}};e.exports=u;},null);
__d("legacy:nax2-callout",["NAX2Callout"],function(a,b,c,d){b.__markCompiled&&b.__markCompiled();a.NAX2Callout=b('NAX2Callout');},3);
__d("ContextualDialogFooterLink",["CSS","DOM","Event"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();function j(k){"use strict";this._layer=k;}j.prototype.enable=function(){"use strict";var k=this._layer.getRoot(),l=h.scry(k,'.uiContextualDialogFooterLink')[0],m='uiContextualDialogHoverFooterArrow';this._subscriptions=[i.listen(l,'mouseenter',g.addClass.bind(null,k,m)),i.listen(l,'mouseleave',g.removeClass.bind(null,k,m))];};j.prototype.disable=function(){"use strict";this._subscriptions.forEach(function(k){k.remove();});this._subscriptions=null;};Object.assign(j.prototype,{_subscriptions:null});e.exports=j;},null);
__d("LegacyContextualDialog",["Arbiter","ArbiterMixin","ARIA","Bootloader","ContextualDialogFooterLink","ContextualThing","CSS","DataStore","DOM","Event","LayerAutoFocus","LayerRefocusOnHide","Locale","Overlay","Parent","Scroll","Style","Vector","$","cx","getOverlayZIndex","shield"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba){b.__markCompiled&&b.__markCompiled();for(var ca in t)if(t.hasOwnProperty(ca))ea[ca]=t[ca];var da=t===null?null:t.prototype;ea.prototype=Object.create(da);ea.prototype.constructor=ea;ea.__superConstructor__=t;function ea(){"use strict";if(t!==null)t.apply(this,arguments);}ea.prototype._configure=function(fa,ga){"use strict";da._configure.call(this,fa,ga);var ha=this.getRoot(),ia=n.get.bind(null,ha);this.setAlignH(ia('alignh','left'));this.setOffsetX(ia('offsetx',0));this.setOffsetY(ia('offsety',0));this.setPosition(ia('position','above'));this._hasFooter=ia('hasfooter',false);if(this._hasFooter){var ja=o.scry(ha,'.uiContextualDialogFooterLink')[0];ja&&this.enableBehavior(k);}this.enableBehaviors(this._getDefaultBehaviors());this._setContextSubscription=this.subscribe('beforeshow',function(){this.unsubscribe(this._setContextSubscription);this._setContextSubscription=null;var la=ia('context');if(la){this.setContext(y(la));}else{la=ia('contextselector');if(la)this.setContext(o.find(document,la));}}.bind(this));this._content=o.scry(ha,'.uiContextualDialogContent')[0];if(this._content){this._content.setAttribute('role','dialog');var ka=o.scry(this._content,'.legacyContextualDialogTitle')[0];if(ka)this._content.setAttribute('aria-labelledby',o.getID(ka));}this._showSubscription=this.subscribe('show',function(){var la=ba(this.updatePosition,this);this._resizeListener=p.listen(window,'resize',la);this._reflowSubscription=g.subscribe('reflow',la);this._setupScrollListener(this._scrollParent);l.register(ha,this.context);g.inform('layer_shown',{type:'ContextualDialog'});}.bind(this));this._hideSubscription=this.subscribe('hide',function(){this._teardownResizeAndReflowListeners();this._teardownScrollListener();g.inform('layer_hidden',{type:'ContextualDialog'});}.bind(this));return this;};ea.prototype._getDefaultBehaviors=function(){"use strict";return da._getDefaultBehaviors.call(this).concat([q,r]);};ea.prototype._buildWrapper=function(fa,ga){"use strict";var ha=da._buildWrapper.call(this,fa,ga);if(!this._shouldBuildWrapper)return ha;m.addClass(ha,'uiContextualDialog');return o.create('div',{className:'uiContextualDialogPositioner'},ha);};ea.prototype.setWidth=function(fa){"use strict";this._width=Math.floor(fa);return this;};ea.prototype.setFixed=function(fa){"use strict";fa=!!fa;m.conditionClass(this.getRoot(),'uiContextualDialogFixed',fa);this._fixed=fa;return this;};ea.prototype.setAlignH=function(fa){"use strict";this.alignH=fa;this._updateAlignmentClass();this._shown&&this.updatePosition();this.position&&this._updateArrow();return this;};ea.prototype.getContent=function(){"use strict";return this._content;};ea.prototype.getContext=function(){"use strict";return this.context;};ea.prototype.setContext=function(fa){"use strict";if(this._setContextSubscription){this.unsubscribe(this._setContextSubscription);this._setContextSubscription=null;}fa=y(fa);if(this.context&&this.context!=fa)n.remove(this.context,'LegacyContextualDialog');this.context=fa;i.setPopup(this.getCausalElement(),this.getRoot());var ga=u.byClass(fa,"_4d3w");this.setInsertParent(ga||document.body);if(this._scrollListener&&this._scrollParent!==ga){this._teardownScrollListener();this._setupScrollListener(ga);}this._scrollParent=ga;var ha=aa(fa,this._insertParent);w.set(this.getRoot(),'z-index',ha>200?ha:'');n.set(this.context,'LegacyContextualDialog',this);return this;};ea.prototype.getCausalElement=function(){"use strict";return da.getCausalElement.call(this)||this.context;};ea.prototype.listen=function(fa,ga){"use strict";return p.listen(this.getRoot(),fa,ga);};ea.prototype.setOffsetX=function(fa){"use strict";this.offsetX=parseInt(fa,10)||0;this._shown&&this.updatePosition();return this;};ea.prototype.setOffsetY=function(fa){"use strict";this.offsetY=parseInt(fa,10)||0;this._shown&&this.updatePosition();return this;};ea.prototype.setPosition=function(fa){"use strict";this.position=fa;for(var ga in ea.POSITION_TO_CLASS)m.conditionClass(this.getRoot(),ea.POSITION_TO_CLASS[ga],fa==ga);this._updateAlignmentClass();this._shown&&this.updatePosition();this._updateArrow();return this;};ea.prototype.updatePosition=function(){"use strict";if(!this.context)return false;if(this._width)w.set(this._overlay,'width',this._width+'px');var fa=this._fixed?'viewport':'document',ga=x.getElementPosition(this.context,fa),ha=this._scrollParent;if(ha)ga=ga.sub(x.getElementPosition(ha,'document')).add(v.getLeft(ha),v.getTop(ha));var ia=x.getElementDimensions(this.context),ja=this.position=='above'||this.position=='below',ka=s.isRTL();if((this.position=='right'||(ja&&this.alignH=='right'))!=ka)ga=ga.add(ia.x,0);if(this.position=='below')ga=ga.add(0,ia.y);var la=new x(0,0);if(ja&&this.alignH=='center'){la=la.add((ia.x-this._width)/2,0);}else{var ma=ja?ia.x:ia.y,na=2*ea.ARROW_INSET;if(ma<na){var oa=ma/2-ea.ARROW_INSET;if(ja&&(this.alignH=='right'!=ka))oa=-oa;la=la.add(ja?oa:0,ja?0:oa);}}la=la.add(this.offsetX,this.offsetY);if(ka)la=la.mul(-1,1);ga=ga.add(la);if(this._fixed)ga=new x(ga.x,ga.y,'document');ga.setElementPosition(this.getRoot());this._adjustVerticalPosition();this._adjustHorizontalPosition();return true;};ea.prototype.scrollTo=function(){"use strict";if(this.context)j.loadModules(["DOMScroll"],function(fa){fa.scrollTo(this.context,true,true);}.bind(this));};ea.prototype.destroy=function(){"use strict";this.unsubscribe(this._showSubscription);this.unsubscribe(this._hideSubscription);if(this._setContextSubscription){this.unsubscribe(this._setContextSubscription);this._setContextSubscription=null;}this._teardownScrollListener();this._teardownResizeAndReflowListeners();this.context&&n.remove(this.context,'LegacyContextualDialog');da.destroy.call(this);};ea.prototype._adjustVerticalPosition=function(){"use strict";if(this.position!='left'&&this.position!='right'){w.set(this._overlay,'top','');return;}var fa=this.getRoot(),ga=x.getElementPosition(fa,'viewport').y,ha=x.getElementDimensions(this._overlay).y,ia=x.getViewportDimensions().y,ja=Math.min(Math.max(ga,ea.MIN_TOP_GAP),ea.TOP_MARGIN),ka=Math.min(Math.max(0,ga+ha+ea.BOTTOM_MARGIN-ia),Math.max(-ja,ga-ja),ha-2*ea.ARROW_INSET);w.set(this._overlay,'top',(-1*ka)+'px');w.set(this._arrow,'top',ea.ARROW_OFFSET+'px');w.set(this._arrow,'marginTop',ka+'px');};ea.prototype._adjustHorizontalPosition=function(){"use strict";if((this.position!='above'&&this.position!='below')||this.alignH!='left'){w.set(this._overlay,'left','');w.set(this._overlay,'right','');return;}var fa=this.getRoot(),ga=x.getElementPosition(fa,'viewport').x,ha=x.getElementDimensions(this._overlay).x,ia=x.getViewportDimensions().x,ja=s.isRTL(),ka;if(!ja){ka=ga+ha+ea.RIGHT_MARGIN-ia;}else ka=ea.LEFT_MARGIN+ha-ga;ka=Math.min(Math.max(0,ka),ha-2*ea.ARROW_INSET);w.set(this._overlay,ja?'right':'left',-1*ka+'px');w.set(this._arrow,ja?'right':'left',ea.ARROW_OFFSET+'px');w.set(this._arrow,ja?'marginRight':'marginLeft',ka+'px');};ea.prototype._updateArrow=function(){"use strict";var fa=0;if(this.position=='above'||this.position=='below')switch(this.alignH){case 'center':fa=50;break;case 'right':fa=100;break;}this._renderArrow(ea.POSITION_TO_ARROW[this.position],fa);};ea.prototype._renderArrow=function(fa,ga){"use strict";for(var ha in ea.ARROW_CLASS)m.conditionClass(this._overlay,ea.ARROW_CLASS[ha],fa==ha);m.conditionClass(this._overlay,'uiContextualDialogWithFooterArrowBottom',fa=='bottom'&&this._hasFooter);if(fa=='none')return;if(!this._arrow){this._arrow=o.create('i',{className:'uiContextualDialogArrow'});o.appendContent(this._overlay,this._arrow);}w.set(this._arrow,'top','');w.set(this._arrow,'left','');w.set(this._arrow,'right','');w.set(this._arrow,'margin','');var ia=fa=='top'||fa=='bottom',ja=ia?(s.isRTL()?'right':'left'):'top';ga=ga||0;w.set(this._arrow,ja,ga+'%');var ka=ea.ARROW_LENGTH+ea.ARROW_OFFSET*2,la=-(ka*ga/100-ea.ARROW_OFFSET);w.set(this._arrow,'margin-'+ja,la+'px');};ea.prototype._updateAlignmentClass=function(){"use strict";m.conditionClass(this.getRoot(),ea.RIGHT_ALIGNED_CLASS,(this.position=='above'||this.position=='below')&&this.alignH=='right');};ea.prototype._setupScrollListener=function(fa){"use strict";this._scrollListener=p.listen(fa||window,'scroll',ba(this._adjustVerticalPosition,this));};ea.prototype._teardownScrollListener=function(){"use strict";if(this._scrollListener){this._scrollListener.remove();this._scrollListener=null;}};ea.prototype._teardownResizeAndReflowListeners=function(){"use strict";if(this._resizeListener){this._resizeListener.remove();this._resizeListener=null;}if(this._reflowSubscription){this._reflowSubscription.unsubscribe();this._reflowSubscription=null;}};ea.getInstance=function(fa){"use strict";var ga=n.get(fa,'LegacyContextualDialog');if(!ga){var ha=u.byClass(fa,'uiOverlay');if(ha)ga=n.get(ha,'overlay');}return ga;};Object.assign(ea,h,{ARROW_OFFSET:15,ARROW_LENGTH:16,ARROW_INSET:22,TOP_MARGIN:50,BOTTOM_MARGIN:30,LEFT_MARGIN:15,RIGHT_MARGIN:30,MIN_TOP_GAP:5,POSITION_TO_CLASS:{above:'uiContextualDialogAbove',below:'uiContextualDialogBelow',left:'uiContextualDialogLeft',right:'uiContextualDialogRight'},RIGHT_ALIGNED_CLASS:'uiContextualDialogRightAligned',ARROW_CLASS:{bottom:'uiContextualDialogArrowBottom',top:'uiContextualDialogArrowTop',right:'uiContextualDialogArrowRight',left:'uiContextualDialogArrowLeft'},POSITION_TO_ARROW:{above:'bottom',below:'top',left:'right',right:'left'}});Object.assign(ea.prototype,{_scrollListener:null,_scrollParent:null,_width:null,_fixed:false,_hasFooter:false,_showSubscription:null,_hideSubscription:null,_setContextSubscription:null,_resizeListener:null,_reflowSubscription:null});e.exports=ea;},null);