/*!CK:3616275545!*//*1438983693,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["F4xWQ"]); }

__d("BoostedComponentRef",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={WWW_ADD_WEBSITE_CONFIRMATION_UPSELL:"www_add_website_confirmation_upsell",WWW_AD4AD_RHC:"www_ad_4_ad_rhc",WWW_AUTO_OPEN_LINK:"www_auto_open_link",WWW_AYMT_UNKNOWN:"www_aymt_unknown",WWW_AYMT_MEGAPHONE:"www_aymt_megaphone",WWW_AYMT_HOMEPAGE_PANEL:"www_aymt_homepage_panel",WWW_CCTA_ADMIN_MENU:"www_ccta_admin_menu",WWW_CCTA_CREATE_SUCCESS_DIALOG:"www_ccta_create_success_dialog",WWW_CONSOLIDATE_ENTRY_POINT:"www_consolidate_entry_point",WWW_CONTEXTUAL_DIALOG:"www_contextual_dialog",WWW_IMAGE_REJECT_PANEL:"www_image_reject_panel",WWW_LHS_TAB_EDIT_VIEW:"www_lhs_tab_edit_view",WWW_PAGES_ABOUT_SECTION_EDIT_VIEW:"www_pages_about_section_edit_view",WWW_PAGES_BROWSER:"www_pages_browser",WWW_PAGES_BUILD_AUDIENCE_DROPDOWN:"www_pages_build_audience_dropdown",WWW_PAGES_INSIGHTS:"www_pages_insights",WWW_PAGES_MANANGER_COLLAPSE_LINK:"www_pages_manager_collapse_link",WWW_PAGES_MANAGER_EDIT_MENU:"www_pages_manager_edit_menu",WWW_PAGES_MANAGER_REDESIGN:"www_pages_manager_redesign",WWW_PAGES_SPRINGBOARD:"www_pages_springboard",WWW_PAGES_TIMELINE_ABOUT_SECTION:"www_pages_timeline_about_section",WWW_PAUSE_UPSELL:"www_pause_upsell",WWW_PAGES_TIMELINE_LHS:"www_pages_timelines_lhs",WWW_PLAYGROUND:"www_playground",WWW_PYMA:"www_pyma",MBASIC_PROFILE_SUMMARY:"mbasic_profile_summary",MSITE_ACTIVITY:"msite_refresh_activity_tab",MSITE_ADS_MANAGER:"msite_ads_manager",MSITE_INSIGHTS_TAB:"msite_insights_tab",MSITE_PAGE:"msite_refresh_page_tab",MSITE_SOCIAL_CONTEXT:"msite_social_context",PROMOTE_ACTION_BUTTON:"promote_action_button",CONTEXTUAL_ITEM:"contextual_item"};},null);
__d("PageInsightsPostFields",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={CAPTION:"caption",CREATION_TIME:"created_time",DESCRIPTION:"description",ID:"id",IDENTIFIER:"identifier",IS_HOT:"is_hot",LINK:"link",MESSAGE:"message",NAME:"name",PICTURE:"picture",PRIVACY:"privacy",PRIVACY_COUNTRIES:"privacy_countries",PRIVACY_CITIES:"privacy_cities",PRIVACY_DESCRIPTION:"privacy_description",PRIVACY_LOCALES:"privacy_locales",PRIVACY_POST_TARGETING:"privacy_post_targeting",PROPERTY:"properties",STATUS_TYPE:"status_type",STYLE:"style",TYPE:"type"};},null);
__d("PagesInsightsDataPayloadTypes",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={PAGE_ADMIN_SUMMARY_DATA:"page_admin_summary_data",PAGE_POST_REACH_DATA:"page_post_reach_data",POST_DETAILS_DATA:"post_details_data",POST_FOOTER_DATA:"post_footer_data",REQUEST_PAGE_ADMIN_SUMMARY_DATA:"request_page_admin_summary_data",REQUEST_PAGE_POST_REACH_DATA:"request_page_post_reach_data",REQUEST_POST_DETAILS_DATA:"request_post_details_data",REQUEST_POST_FOOTER_DATA:"request_post_footer_data"};},null);
__d("PagesMessagingConst",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={LOAD_MESSAGE_THREAD_URI:"\/ajax\/pages\/messages\/load_message_thread.php",ASYNC_ENDPOINT:"\/ajax\/messaging\/async.php",UNANSWERED_FILTER:"unanswered"};},null);
__d("BoostedComponentTooltip",["BoostedComponentAppID","fbt"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();'use strict';var i={getByAppID:function(j){switch(j){case g.BOOSTED_CCTA:return (h._("Get people you care about to visit your call to action"));case g.BOOSTED_LOCAL_AWARENESS:return (h._("Connect with more people in your local area"));case g.BOOSTED_PAGELIKE:return (h._("Promote your Page to get more Likes"));case g.BOOSTED_WEBSITE:return (h._("Get people you care about to visit your website"));default:return null;}}};e.exports=i;},null);
__d("BoostedComponentStore",["BoostedComponentConfig"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();'use strict';var h={};h.stores={};h.getConfig=function(i){var j=new g(i),k=j.getContextStore(),l=k.getAppID();if(!this.stores[l])this.stores[l]={};var m=k.getPageID();if(!this.stores[l][m])this.stores[l][m]=j;return this.stores[l][m];};e.exports=h;},null);
__d("BoostedComponentDialogWidget.react",["BoostedComponentAppID","BoostedComponentDialogMixin","BoostedComponentRef","BoostedComponentStore","BoostedComponentTooltip","Link.react","React","Set","SubscriptionsHandler","Tooltip","XUIButton.react","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){b.__markCompiled&&b.__markCompiled();'use strict';var s=m,t=s.PropTypes,u=m.createClass({displayName:"BoostedComponentDialogWidget",mixins:[h],statics:{_upsells:{},init:function(v,w){var x=v.appID,y=v.placement;if(!u._upsells[x])u._upsells[x]={};if(u._upsells[x][y])m.unmountComponentAtNode(u._upsells[x][y]);u._upsells[x][y]=w;m.render(m.createElement(u,{configData:v.configData,placement:v.placement,buttonLabel:v.buttonLabel,ineligibleTooltip:v.ineligibleTooltip}),w);}},propTypes:{configData:t.object.isRequired,placement:t.string.isRequired,buttonLabel:t.string.isRequired,ineligibleTooltip:t.object},componentWillMount:function(){this._config=j.getConfig(this.props.configData);this._subscriptions=new o();this._subscriptions.addSubscriptions(this._config.getAdStatusStore().subscribe('change',function(){return this.forceUpdate();}.bind(this)),this._config.getDialogUIStore().subscribe('change',function(){if(this._config.getContextStore().getPlacement()===this.props.placement)this.forceUpdate();}.bind(this)));},componentWillUnmount:function(){this._subscriptions.release();this._subscriptions=null;},componentDidMount:function(){var v=k.getByAppID(this._config.getContextStore().getAppID());if(this.props.ineligibleTooltip)v=this.props.ineligibleTooltip;if(v&&!this._shouldRenderLink())p.set(m.findDOMNode(this.refs[this._getWidgetRef()]),v,'above','center');if(this._config.getDialogUIStore().getAutoOpenDialog())this.onTriggerAutoOpen();},componentDidUpdate:function(){this.renderDialog();},render:function(){if(!this._shouldRenderLink())return (m.createElement(q,{className:this._getButtonClass(),label:this.props.buttonLabel,onClick:this.onUpsellButtonClick,onMouseEnter:this.onMouseEnter,disabled:!!this.props.ineligibleTooltip,ref:this._getWidgetRef(),use:this._config.getAdStatusStore().getShouldEdit()?"default":"confirm",size:"large"}));if(!this.props.ineligibleTooltip)return (m.createElement(l,{onClick:this.onUpsellButtonClick,onMouseEnter:this.onMouseEnter},this.props.buttonLabel));return (m.createElement("span",null,this.props.buttonLabel));},_getButtonClass:function(){if(this._config.getContextStore().getAppID()===g.BOOSTED_LOCAL_AWARENESS)return null;switch(this.props.placement){case i.WWW_PAGES_MANAGER_REDESIGN:return "_598l";case i.WWW_PAUSE_UPSELL:case i.WWW_PAGES_TIMELINE_LHS:case i.WWW_PAGES_SPRINGBOARD:return "_598m";}return null;},_getWidgetRef:function(){return 'button';},_shouldRenderLink:function(){return (new n([i.WWW_ADD_WEBSITE_CONFIRMATION_UPSELL,i.WWW_PAGES_MANANGER_COLLAPSE_LINK]).has(this.props.placement));}});e.exports=u;},null);
__d("validateDeepLink",["AdsCreationConfig","URIRFC3986","arrayContains","trim"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();'use strict';var k=g.deepLinkBlacklist.map(function(m){return new RegExp(j(m,'/'));});function l(m){m=m.toLowerCase();var n=m.indexOf('://');if(n===-1)return false;var o=m.slice(0,n);if(o&&o.contains('.')){if(!/^[a-z0-9][a-z0-9+-.]*$/.test(o))return false;}else{var p=h.parse(m);if(!p.scheme||!/^([a-z][a-z0-9+-.]*):/i.test(m))return false;}if(i(['http','https'],o))return true;var q=k.some(function(r){return r.test(m);});return !q;}e.exports=l;},null);
__d("BizSiteHeader",["StickyController","Style","ViewportBounds"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();'use strict';var j={registerStickyListener:function(k){if(h.isFixed(k)){i.addTop(i.getTop()+k.offsetHeight);i.addPersistentTop(k.offsetHeight);}else new g(k,0).start();}};e.exports=j;},null);
__d("InsightsInfoTip.react",["Image.react","React","Tooltip","cx","ix","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();var m=h,n=m.PropTypes,o=h.createClass({displayName:"InsightsInfoTip",propTypes:{alignH:n.oneOf(['center','left','right']),position:n.oneOf(['above','below','left','right'])},getDefaultProps:function(){return {alignH:'right',position:'above'};},_setTooltip:function(){i.set(h.findDOMNode(this.refs.root),h.findDOMNode(this.refs.tooltip).cloneNode(true),this.props.position,this.props.alignH);},componentDidMount:function(){this._setTooltip();},componentDidUpdate:function(p){this._setTooltip();},componentWillUnmount:function(){if(this.refs.icon)i.remove(h.findDOMNode(this.refs.icon));},render:function(){var p=k('/images/hubble/info/info-flat_s.png'),q=null;if(!this.props.noImage)q=(h.createElement(g,{className:"_5j1g",src:p,ref:"icon"}));var r=l("_5j1f",this.props.className);return (h.createElement("span",{className:r,ref:"root"},this.props.children,q,h.createElement("div",{className:"_5j1h"},h.createElement("div",{className:"_5j1i",ref:"tooltip"},this.props.tip))));}});e.exports=o;},null);
__d("InsightsLegendKey.react",["React","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j=g.createClass({displayName:"InsightsLegendKey",render:function(){if(this.props.children.length!==2)return;var k=i("_kz-",this.props.className);return (g.createElement("div",{className:k},this.props.children[0],g.createElement("span",{className:"_kdk"},this.props.children[1])));}});e.exports=j;},null);
__d("InsightsLegend_DEPRECATED.react",["React","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j=g.createClass({displayName:"InsightsLegend",render:function(){var k=this.props.layout||j.layout.FLOATED,l=i((("_1ovd")+(k==j.layout.FLOATED?' '+"_1ove":'')),this.props.className);return (g.createElement("div",{className:l},this.props.children));}});j.layout={FLOATED:'floated',STACKED:'stacked'};e.exports=j;},null);
__d("DevappSwitchButton.react",["React","cx","guid","fbt"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k=g,l=k.PropTypes,m='yesno',n='onoff',o='io',p='yes',q='no',r=g.createClass({displayName:"DevappSwitchButton",propTypes:{labels:l.oneOf([m,n,o]),size:l.oneOf(['normal','small','x-small']),use:l.oneOf(['default','blue']),checked:l.bool,disabled:l.bool,onChange:l.func,onClick:l.func},_getLabel:function(s){switch(this.props.labels){case n:return s==p?j._("ON"):j._("OFF");case o:return s==p?'I':'O';default:return s==p?j._("YES"):j._("NO");}},render:function(){var s=i(),t=g.createElement("input",g.__spread({},this.props,{type:"checkbox",id:s,defaultValue:"1"}));return (g.createElement("div",{className:(("_59fh")+(this.props.size=='small'?' '+"_5a89":'')+(this.props.size=='x-small'?' '+"_2lrd":'')+(this.props.use=='blue'?' '+"_2lrc":''))},t,g.createElement("label",{htmlFor:s},g.createElement("div",{className:"_59fi"},this._getLabel(p)),g.createElement("div",{className:"_59fj"}),g.createElement("div",{className:"_59fk"},this._getLabel(q)))));}});e.exports=r;},null);
__d("PrettyNum",["InsightsNumUtils"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();function h(i,j,k,l){"use strict";this.radix=j||10;if(typeof i==='number'){this.value=i;}else this.value=parseFloat(i,this.radix);this.effective=l||2;if(k||k===0){this.precision=k;}else this.precision=this.$PrettyNum0();}h.prototype.$PrettyNum0=function(){"use strict";if((this.value%1)===0)return 0;var i=parseInt(this.value,this.radix);if(i!==0)return 2;var j=Math.abs(this.value%1);return this.effective-Math.ceil(Math.log(j)/Math.log(this.radix));};h.prototype.toPretty=function(){"use strict";if(this.precision===0){var i=parseInt(this.value,10);return this.longForm?g.prettyInt(i):g.prettyShortInt(i);}else return g.prettyFloat(parseFloat(this.value.toFixed(this.precision),this.radix));};h.prototype.toPrettyPercentage=function(){"use strict";var i=this.value*100;return g.prettyFloat(parseFloat(i.toFixed(this.precision),this.radix))+'%';};h.prototype.toPrettyCurrency=function(i){"use strict";if(this.precision===0){return g.prettyShortCurrency(i,this.value);}else return g.prettyCurrency(i,this.value);};h.prototype.enableLongForm=function(){"use strict";this.longForm=true;return this;};e.exports=h;},null);
__d("PagesInsightsDataDispatcher",["ReactDispatcher"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();e.exports=new g();},null);
__d("PagesInsightsRequest",["AsyncRequest"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h={sendRequest:function(i){new g(i).send();},getRequest:function(i){return new g(i);}};e.exports=h;},null);
__d("XPagesInsightsPageDataController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/pages\/insights\/page_data\/",{page_id:{type:"Int",required:true},request_payload_type:{type:"Enum",required:true,enumType:1}});},null);
__d("PagesInsightsPageDataStore",["FluxStore","PagesInsightsDataDispatcher","PagesInsightsDataPayloadTypes","PagesInsightsRequest","XPagesInsightsPageDataController"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l={};for(var m in g)if(g.hasOwnProperty(m))o[m]=g[m];var n=g===null?null:g.prototype;o.prototype=Object.create(n);o.prototype.constructor=o;o.__superConstructor__=g;function o(){"use strict";if(g!==null)g.apply(this,arguments);}o.prototype.__onDispatch=function(p){"use strict";switch(p.type){case i.REQUEST_PAGE_ADMIN_SUMMARY_DATA:case i.REQUEST_PAGE_POST_REACH_DATA:if(!(p.pageID in l))this.$PagesInsightsPageDataStore0(p.pageID,p.type);break;case i.PAGE_ADMIN_SUMMARY_DATA:case i.PAGE_POST_REACH_DATA:l[p.pageID]=Object.assign({},l[p.pageID],p.data);this.__emitChange();break;}};o.prototype.$PagesInsightsPageDataStore0=function(p,q){"use strict";j.sendRequest(k.getURIBuilder().setInt('page_id',p).setEnum('request_payload_type',q).getURI());};o.prototype.getPageData=function(p){"use strict";return l[p]||{};};e.exports=new o(h);},null);
__d("Circle.art",["React","ReactART"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i=g,j=i.PropTypes,k=h.Path,l=h.Shape,m=g.createClass({displayName:"Circle",propTypes:{radius:j.number.isRequired},render:function(){var n=this.props.radius,o=k().moveTo(0,-n).arc(0,n*2,n).arc(0,n*-2,n).close();return g.createElement(l,g.__spread({},this.props,{d:o}));}});e.exports=m;},null);
__d("Sprite.art",["getStyleProperty"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();'use strict';var h={},i=null,j=/url\(([^)]*)\)/;function k(n){var o=n.match(j);return o?o[1]:null;}function l(n){return parseFloat(n)||null;}function m(n){var o=n?n.split(' '):[];if(o.length!=2)return [null,null];return [l(o[0]),l(o[1])];}e.exports={get:function(n){if(n in h)return h[n];if(!i)i=document.createElement('i');i.className=n;document.body.appendChild(i);var o=g(i,'backgroundImage'),p=g(i,'backgroundSize'),q=g(i,'backgroundPosition'),r=g(i,'width'),s=g(i,'height');document.body.removeChild(i);return h[n]={boxSize:[l(r),l(s)],imageSize:m(p),offset:m(q),uri:k(o)};}};},null);
__d("CSSBackgroundPattern.art",["Sprite.art"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();'use strict';function h(i){this.$CSSBackgroundPattern0=i;}h.prototype.applyFill=function(i){var j=g.get(this.$CSSBackgroundPattern0),k=j.uri,l=j.boxSize[0],m=j.boxSize[1],n=j.offset[0],o=j.offset[1];if(l===null||m===null)i.fillImage(k,l,m,n,o);};e.exports=h;},null);
__d("SpectrumGuide.react",["React","ReactART","SpectrumDataVisualization","SpectrumUtilities"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k=h.Path,l=h.Shape,m=g,n=m.PropTypes,o=g.createClass({displayName:"SpectrumGuide",mixins:[i.Mixin],propTypes:{x:n.number.isRequired,color:n.string},getX:function(){return i.getX(this.props.scaleX,this.props.x);},render:function(){var p=this.props.theme.guide,q=j.getOuterRange(this.props.scaleY),r=q[0],s=q[1],t=this.getX(),u=k().moveTo(t,r).lineTo(t,s);return (g.createElement(l,{d:u,stroke:this.props.color||p.color,strokeWidth:p.width}));}});e.exports=o;},null);
__d("SpectrumLines",["Circle.art","React","ReactART","SpectrumGuide.react","d3/scale/ordinal","SpectrumDataVisualization","SpectrumUtilities"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();var n=i.Path,o=i.Group,p=i.ClippingRectangle,q=i.Shape,r=m.forEachVector,s=m.compose,t=m.findEdges,u=h,v=u.PropTypes,w=2,x=h.createClass({displayName:"SpectrumLines",mixins:[l.Mixin],propTypes:{useClosestXAxisTooltip:v.bool},statics:{getExtentY:function(y){var z=l.getDefaultExtentY(y);z[0]=Math.min(z[0],0);return z;},getExtentX:function(y){return l.getDefaultExtentX(y);},getMarkerRadius:function(y){return y.highlightWidths[0]+w;},getGutter:function(y,z){var aa=x.getMarkerRadius(z.lines);return {bottom:aa,left:aa,right:aa,top:aa};}},getDefaultProps:function(){return {useClosestXAxisTooltip:false};},handleEvent:function(y){var z=null;if(y.type==='mousemove'){z=this.props.onRequestFocus;}else if(y.type==='click'){z=this.props.onClick;}else return;if(!!this.props.ignoreMouseEvents)return;var aa=this.findEdges(y.x,y.y);if(aa.right<y.hitRegionRight)y.hitRegionRight=aa.right;if(aa.left>y.hitRegionLeft)y.hitRegionLeft=aa.left;if(aa.bottom<y.hitRegionBottom)y.hitRegionBottom=aa.bottom;if(aa.top>y.hitRegionTop)y.hitRegionTop=aa.top;if(aa.bestDatum.valueX!=null&&(this.props.useClosestXAxisTooltip||aa.bestDistanceToPoint<20)){var ba=this.props.titles,ca=l.getScaleX(this.props),da=ca.rangeBand?ca.rangeBand():0,ea={rect:{left:ca(aa.bestDatum.valueX),right:ca(aa.bestDatum.valueX)+da,top:this.props.scaleY(aa.bestDatum.valueY),bottom:this.props.scaleY(aa.bestDatum.valueY)},target:this,title:ba&&ba[aa.lineIndex]||'',lineIndex:aa.lineIndex};ea=Object.assign({},ea,aa.bestDatum);if(z)z(ea);y.stopPropagation();}else if(z)z(null);},findEdges:function(y,z){var aa=l.getValueXAccessor(this.props),ba=l.getValueYAccessor(this.props),ca=l.getScaleX(this.props),da=this.props.scaleY,ea=this.props.partialValue||function(){},fa=function(oa,pa){return l.getX(ca,aa(oa,pa));},ga=s(da,ba),ha=this.props.data,ia=null,ja={},ka=null;function la(oa,pa){return {dataPoint:oa,index:pa,isPartial:ea(oa,pa),valueX:aa(oa,pa),valueY:ba(oa,pa)};}function ma(oa){function pa(qa,ra){function sa(ta,ua,va,wa){var xa=fa(ta,ua),ya=ga(ta,ua),za=fa(va,wa),ab=ga(va,wa),bb=oa(xa,ya,za,ab);if(bb){ia=ra;if(bb==1||bb==3){ja=la(ta,ua);xa-=y;ya-=z;ka=Math.sqrt(xa*xa+ya*ya);}else{ja=la(va,wa);za-=y;ab-=z;ka=Math.sqrt(za*za+ab*ab);}}}r(qa,sa);}ha.forEach(pa);}var na=t(y,z,ma);na.lineIndex=ia;na.bestDatum=ja;na.bestDistanceToPoint=ka;return na;},shouldComponentUpdate:function(y){return this.hasDataChanged(y)||this.hasFocusChanged(y)||this.hasDimensionsChanged(y);},hasHighlightDetailsChanged:function(y,z){return (y.valueX!==z.valueX||y.valueY!==z.valueY||y.lineIndex!==z.lineIndex);},render:function(){if(!this.props.data.length)return h.createElement(o,null);var y=l.getValueXAccessor(this.props),z=l.getValueYAccessor(this.props),aa=this.props.partialValue||function(){},ba=l.getScaleX(this.props),ca=this.props.scaleY,da=function(ra,sa){return l.getX(ba,y(ra,sa));},ea=s(ca,z),fa=this.props.data;if(!Array.isArray(fa)||!Array.isArray(fa[0]))throw new Error('Invalid data shape provided to SpectrumLines. '+'A two dimensional array was expected.');var ga=this.uid,ha=this.props.theme.lines,ia=fa.some(function(ra){return ra.some(function(sa,ta){return ta>0&&Math.abs(da(sa,ta)-da(ra[ta-1],ta-1))<x.getMarkerRadius(ha);});});if(ia)ha.markers=false;var ja=ha.colors.copy?ha.colors:k().range(ha.colors),ka=ha.widths.copy?ha.widths:k().range(ha.widths),la=this.props.focus;if(la&&la.target!=null&&la.target!==this)la=null;var ma=ha.highlightWidths.copy?ha.highlightWidths:k().range(ha.highlightWidths),na;if(ha.markerWidths){na=ha.markerWidths.copy?ha.markerWidths:k().range(ha.markerWidths);}else na=ka;function oa(ra,sa){var ta=ra.map(function(ib,jb){var kb=null;if(z(ib,jb)!=null)kb=ea(ib,jb);return [da(ib,jb),kb];}),ua=false;if(la)if(la.lineIndex===sa){ua=true;}else if(la.target==null)ua=ra.some(function(ib,jb){return (la.valueX==y(ib,jb)&&la.valueY==z(ib,jb));});var va=ja(ga+sa);if(la&&!ua)va=ha.fadeOutColor;function wa(ib,jb){if(jb<=0)return null;return ya(ib[jb],ib[jb-1]);}function xa(ib,jb){if(jb>=ib.length-1)return null;return ya(ib[jb],ib[jb+1]);}function ya(ib,jb){if(ib[1]==null||jb[1]==null)return null;var kb=(ib[0]+jb[0])*.5,lb=(ib[1]+jb[1])*.5;return [kb,lb];}var za=n(),ab=n();for(var bb=0;bb<ta.length;bb++){var cb=wa(ta,bb),db=xa(ta,bb),eb=aa(ra[bb],bb)?za:ab,fb=[];if(cb)fb.push(cb);fb.push(ta[bb]);if(db)fb.push(db);for(var gb=0;gb<fb.length;gb++){var hb=fb[gb];if(gb===0){eb.moveTo(hb[0],hb[1]);}else eb.lineTo(hb[0],hb[1]);}}return (h.createElement(o,{key:sa},h.createElement(q,{d:ab,stroke:va,strokeWidth:ka(ga+sa)}),h.createElement(q,{d:za,stroke:va,strokeWidth:ka(ga+sa),strokeDash:ha.partialStrokeDashes})));}function pa(ra,sa){function ta(ua,va){var wa=m.getOuterRange(ba);if(da(ua,va)<wa[0]||da(ua,va)>wa[1])return;var xa=y(ua,va),ya=z(ua,va);if(xa==null||ya==null)return null;var za=la&&la.valueX+''==xa+''&&la.valueY+''==ya+'';if(!za&&!ha.markers)return null;var ab=za?ma(ga+va):na(ga+va);if(!ab)return null;var bb=ja(ga+sa),cb=ha.markerColor;if(la&&la.lineIndex!=sa)bb=ha.fadeOutColor;if(this.props.focus&&this.props.focus.target!==this)bb=cb=ha.fadeOutColor;var db=(za&&this.props.showGuide)?h.createElement(j,{scaleX:this.props.scaleX,scaleY:this.props.scaleY,theme:this.props.theme,x:xa}):null;return (h.createElement(o,{key:va},db,h.createElement(g,{radius:w,stroke:bb,strokeWidth:ab*2,x:da(ua,va),y:ea(ua,va)}),h.createElement(g,{radius:w,fill:cb,x:da(ua,va),y:ea(ua,va)})));}return ra.map(ta,this);}var qa=l.getClippingRectangleDimensions(this.props);return (h.createElement(o,null,h.createElement(p,{x:qa.x,y:0,width:qa.width,height:this.props.height},fa.map(oa)),fa.map(pa,this)));}});e.exports=x;},null);
__d("SpectrumStackedAreas",["CSSBackgroundPattern.art","SpectrumDataVisualization","d3/scale/ordinal","React","ReactART","SpectrumUtilities"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();var m=k.Path,n=k.Group,o=k.ClippingRectangle,p=k.Shape,q=l.forEachVector,r=l.findEdges,s=4,t=s*2;function u(x){return x.y0;}function v(x){if(x.y==null)return null;return x.y+x.y0;}var w=j.createClass({displayName:"SpectrumStackedAreas",mixins:[h.Mixin],statics:{getExtentY:function(x){var y=w.getStackedData(x),z=x.base,aa=z==null?Math.min.apply(null,y[0].map(u)):z=='bottom'?Math.min.apply(null,y[0].map(v)):z,ba=Math.max.apply(null,y[y.length-1].map(v));return [aa,ba];},getStackedData:function(x){var y=h.getValueXAccessor(x),z=h.getValueYAccessor(x),aa=x.partialValue||function(){return false;},ba=x.data.map(function(ia){return ia.map(function(ja,ka){return {x:y(ja,ka),y:z(ja,ka),y0:0,isPartial:aa(ja,ka)};});}),ca=x.offset||ba[0].map(function(ia){return 0;}),da=ba.map(function(){return [];});for(var ea=0;ea<ba[0].length;++ea){var fa=ca[ea];for(var ga=0;ga<ba.length;++ga){var ha=ba[ga][ea];da[ga][ea]=Object.assign({},ha,{y0:fa});fa+=ha.y;}}return da;},getGutter:function(x,y){var z=y.areas.hoverBubbleStrokeWidth+s;return {bottom:z,left:z,right:z,top:z};}},getTotalYGivenX:function(x){var y=w.getStackedData(this.props),z=y[y.length-1];for(var aa=0;aa<z.length;++aa)if(z[aa].x===x)return v(z[aa]);},getOffsetX:function(){var x=h.getScaleX(this.props);return x.rangeBand?x.rangeBand()/2:0;},formatDatum:function(x,y){var z=this.props.titles,aa=h.getScaleX(this.props),ba=aa.rangeBand?aa.rangeBand():0,ca={areaIndex:y,rect:{left:aa(x.valueX),right:aa(x.valueX)+ba,top:x.top,bottom:x.bottom},target:this,title:z&&z[y]||'',total:this.getTotalYGivenX(x.valueX),valueX:x.valueX,valueY:x.valueY,isPartial:x.isPartial};return ca;},handleEvent:function(x){if(x.type!='mousemove')return;if(this.props.ignoreMouseEvents)return;var y=h.getScaleX(this.props),z=l.getOuterRange(y);if(x.x<z[0]||x.x>z[1])return;var aa=this.findEdges(x.x,x.y);if(aa.right<x.hitRegionRight)x.hitRegionRight=aa.right;if(aa.left>x.hitRegionLeft)x.hitRegionLeft=aa.left;if(aa.bottom<x.hitRegionBottom)x.hitRegionBottom=aa.bottom;if(aa.top>x.hitRegionTop)x.hitRegionTop=aa.top;if(aa.bestDatum.valueX!=null&&aa.bestDatum.valueY!=null){aa.bestDatum.isPartial=aa.isPartial;var ba=this.formatDatum(aa.bestDatum,aa.areaIndex);ba.allData=aa.allData.map(this.formatDatum,this);if(this.props.onRequestFocus)this.props.onRequestFocus(ba);x.stopPropagation();}},findEdges:function(x,y){var z=h.getScaleX(this.props),aa=this.props.scaleY,ba=w.getStackedData(this.props),ca=null,da={},ea=[];function fa(ia){return {bottom:aa(ia.y0),isPartial:ia.isPartial,top:aa(ia.y0+ia.y),valueX:ia.x,valueY:ia.y};}function ga(ia){function ja(ka,la){function ma(na,oa,pa,qa){var ra=h.getX(z,na.x),sa=h.getX(z,pa.x),ta=aa(na.y0),ua=aa(pa.y0),va=ia(ra,ta,sa,ua);if(va==1||va==2||(va&&la===0)){ca=la;if(va==1||va==3){da=fa(na);ea[la]=da;}else{da=fa(pa);ea[la]=da;}}ta=aa(na.y0+na.y);ua=aa(pa.y0+pa.y);va=ia(ra,ta,sa,ua);if((va==3||va==4)&&(na.y||pa.y)){ca=la;if(va==3){da=fa(na);ea[la]=da;}else{da=fa(pa);ea[la]=da;}}}q(ka,ma);}ba.forEach(ja);}var ha=r(x,y,ga);ha.areaIndex=ca;ha.bestDatum=da;ha.top=da.top;ha.bottom=da.bottom;ha.allData=ea;return ha;},shouldComponentUpdate:function(x){return this.hasDataChanged(x)||this.hasFocusChanged(x)||this.hasDimensionsChanged(x);},hasHighlightDetailsChanged:function(x,y){var z=x.rect,aa=y.rect;return (z.left!==aa.left||z.right!==aa.right||z.top!==aa.top||z.bottom!==aa.bottom);},getPartialBoxPath:function(x){var y=h.getScaleX(this.props),z=this.props.scaleY,aa=x.map(function(la,ma){var na=null,oa=null;if(la.y!=null){na=z(la.y+la.y0);oa=z(la.y0);}return [h.getX(y,la.x),oa,na];});function ba(la,ma){if(ma<=0)return null;return da(la[ma],la[ma-1]);}function ca(la,ma){if(ma>=la.length-1)return null;return da(la[ma],la[ma+1]);}function da(la,ma){if(la[1]==null||ma[1]==null)return null;var na=(la[0]+ma[0])*.5,oa=(la[1]+ma[1])*.5,pa=(la[2]+ma[2])*.5;return [na,oa,pa];}var ea=m();for(var fa=0;fa<aa.length;fa++)if(x[fa].isPartial){var ga=ba(aa,fa),ha=ca(aa,fa),ia=ga?ga:aa[fa];ea.moveTo(ia[0],ia[1]);var ja,ka;if(ga){ja=aa[fa][0]-ga[0];ea.line(ja,aa[fa][1]-ga[1]);}if(ha){ka=ha[0]-aa[fa][0];ea.line(ka,ha[1]-aa[fa][1]);ea.line(0,ha[2]-ha[1]);ea.line(-ka,aa[fa][2]-ha[2]);}else ea.line(0,aa[fa][2]-aa[fa][1]);if(ga){ea.line(-ja,ga[2]-aa[fa][2]);}else ea.line(0,aa[fa][1]-aa[fa][2]);ea.close();}return ea;},render:function(){var x=w.getStackedData(this.props),y=h.getScaleX(this.props),z=this.props.scaleY,aa=this.props.offset||'zero',ba=this.props.height,ca=this.props.width,da=this.props.focus;if(da&&da.target!==this)da=null;var ea=this.props.theme.areas,fa=i().range(ea.colors),ga=this.getPartialBoxPath;function ha(ka,la){var ma=la<x.length-1?.5:0,na=ga(ka),oa=(j.createElement(p,{d:na,fill:new g(ea.partialOverlayClass),x:0,y:0,width:ca,height:ba})),pa=function(wa){return z(ka[wa].y0);},qa=function(wa){return z(ka[wa].y0+ka[wa].y)-ma;},ra=function(wa){return h.getX(y,ka[wa].x);},sa=m(),ta=function(wa,xa){var ya;sa.moveTo(ra(wa),qa(wa));for(ya=wa+1;ya<xa;ya++)sa.lineTo(ra(ya),qa(ya));for(ya=xa-1;ya>=wa;ya--)sa.lineTo(ra(ya),pa(ya));sa.close();},ua;for(var va=0;va<ka.length;va=ua+1){for(ua=va;ua<ka.length&&ka[ua].y!=null;ua++);if(va+1<ua)ta(va,ua);}return (j.createElement(n,{key:la},j.createElement(p,{d:sa,fill:fa(la)}),oa));}function ia(){if(!da)return null;if(!ea.hover)return null;var ka=Math.round(da.rect.left),la=Math.round(da.rect.right),ma=Math.round(da.rect.top),na=Math.round(da.rect.bottom),oa=z.range(),pa=Math.round(Math.max(oa[0],oa[1])),qa=z.domain(),ra=Math.round(Math.min(qa[0],qa[1]))>0&&aa=='zero',sa=Math.round((ka+la)/2),ta=m().moveTo((ka+la)/2,ma).lineTo((ka+la)/2,na),ua=m();if(na!=pa||ra)ua=m().moveTo(ka,pa).lineTo(la,pa);var va,wa;if(na-ma>8||ra){va=m().moveTo(sa,ma-s).arc(0,t,s).arc(0,-t,s).close();wa=m().moveTo(sa,na-s).arc(0,t,s).arc(0,-t,s).close();}else{va=m().moveTo(sa-s,ma).arc(t,0,s).lineTo(sa+s,na).arc(-t,0,s).close();wa=m();}if(ra)wa=m();return (j.createElement(n,null,j.createElement(p,{d:ua,stroke:ea.hover,strokeWidth:ea.hoverBubbleStrokeWidth}),j.createElement(p,{d:ta,stroke:ea.hover,strokeWidth:ea.hoveBarStrokeWidth}),j.createElement(p,{d:va,stroke:ea.hover,fill:ea.hoverFill,strokeWidth:ea.hoverBubbleStrokeWidth}),j.createElement(p,{d:wa,stroke:ea.hover,fill:ea.hoverFill,strokeWidth:ea.hoverBubbleStrokeWidth})));}var ja=h.getClippingRectangleDimensions(this.props);return (j.createElement(n,null,j.createElement(o,{x:ja.x,y:ja.y,width:ja.width,height:ja.height},x.map(ha)),ia()));}});e.exports=w;},null);
__d("HubbleConstants",["PageInsightsPostFields"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h={DEFAULT_SECTION:'navOverview',NAV_SECTIONS:{IN_STORE:'navInStore',LIKES:'navLikes',OVERVIEW:'navOverview',PEOPLE:'navPeople',POSTS:'navPosts',REACH:'navReach',VISITS:'navVisits',WIFI:'navWifi',VIDEOS:'navVideos'},SCROLL_TARGETS:{ENGAGEMENT:'engagement'},PIPELINE_DAILY:'pipe_daily',PIPELINE_WEEKLY:'pipe_weekly',PIPELINE_MONTHLY:'pipe_monthly',PIPELINE_LIFETIME:'pipe_lifetime',PIPELINE_DEMO:'pipe_demo',PERIOD_DAY:'day',PERIOD_WEEK:'week',PERIOD_28_DAYS:'days_28',PERIOD_LIFETIME:'lifetime',SERIES_AREA:'area',SERIES_LINE:'line',SEC_IN_MIN:60,DAYS_PER_WEEK:7,SORT_BY_DATE:'date',SORT_BY_REACH:'reach',SORT_BY_CLICKS:'clicks',SORT_BY_LCS:'lcs',REQ_PREMIUM_VIDEO:'premium_video',REQ_PUBLISHED:'published',REQ_SMART_PUBLISHING:'smart_publishing',REQ_UNPUBLISHED:'unpublished',REQ_VIDEO:'video',TABLE_PAGE_SIZE:10,FACEBOOK_DEMOGRAPHICS:{F:{ageBuckets:{'13-17':7.2,'18-24':14.4,'25-34':11.8,'35-44':6.2,'45-54':3.6,'55-64':1.9,'65+':1.1},total:46.2},M:{ageBuckets:{'13-17':7.7,'18-24':17.9,'25-34':14.8,'35-44':7,'45-54':3.6,'55-64':1.6,'65+':1.3},total:53.8},total:100},MIN_WIFI_USERS_COUNT:100,POSTS_TABLE_FIELDS:[g.CAPTION,g.CREATION_TIME,g.DESCRIPTION,g.ID,g.IDENTIFIER,g.MESSAGE,g.NAME,g.PICTURE,g.PRIVACY,g.STATUS_TYPE,g.TYPE]};e.exports=h;},null);
__d("InsightsUtils",["d3/time/day","UTCUtils"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i=24*60*60,j=25*60*60,k=-1*8*60*60*1000,l={dateToSeconds:function(m){if(m instanceof Date)return parseInt(m.getTime()/1000,10);return m;},formatInsightsResponse:function(m){var n=-Infinity,o=null,p=0,q=null,r=false,s=0,t=null,u=0,v=Infinity,w=m.data.length,x=null,y=null,z={};for(var aa=0;aa<w;++aa){q=m.data[aa];r=typeof q.values[0].value==='object';v=Math.min(v,q.values[0].end_time-i);n=Math.max(n,q.values[m.data[aa].values.length-1].end_time);z[q.name]=z[q.name]||{};if(r){z[q.name][q.period]=t={};for(var ba=0;ba<q.values.length;++ba){y=q.values[ba];Object.keys(y.value).forEach(function(ca){if(!t.hasOwnProperty(ca))z[q.name][q.period][ca]=null;});}}else z[q.name][q.period]=null;}u=Math.round((n-v)/i);for(aa=0;aa<w;++aa){p=v;q=m.data[aa];r=typeof q.values[0].value==='object';s=0;x=q.period+'_timestamps';o=l.fillArray(u,null);z[q.name][x]=o;if(!r)z[q.name][q.period]=l.fillArray(u,null);for(ba=0;ba<q.values.length;++ba){y=q.values[ba];if(y.end_time-p>j)s+=Math.round((y.end_time-p)/i)-1;if(r){t=z[q.name][q.period];Object.keys(t).forEach(function(ca){if(t[ca]===null)t[ca]=l.fillArray(u,null);t[ca][ba+s]=y.value[ca]||0;});}else z[q.name][q.period][ba+s]=y.value;z[q.name][x][ba+s]=y.end_time;p=y.end_time;}}return {endTime:l.pacificSecondsToUTCDate(n),seriesLength:u,startTime:l.pacificSecondsToUTCDate(v+i),values:z};},formatParams:function(m){var n=Object.assign({},m);n.date_format='U';if(m.since)n.since=this.utcDateToPacificSeconds(m.since);if(m.until)n.until=this.utcDateToPacificSeconds(m.until);return n;},localTimeToPacificDate:function(m){return new Date(m.getTime()+h.offsetFromPacificTime(m));},pacificSecondsToUTCDate:function(m){var n=m*1000;return new Date(n+h.getPacificOffsetAt(n));},utcDateToPacificSeconds:function(m){return this.dateToSeconds(m)-Math.round(h.getPacificOffsetAt(m)/1000);},utcTimeToPacificDay:function(m){return new Date(g.utc.floor(m).getTime()-h.getPacificOffsetAt(m));},pstTimeToUTCDay:function(m){return g.utc.floor(new Date(m.getTime()+k));},utcTimeToPST:function(m){return new Date(g.utc.floor(m).getTime()-k);},getMostRecentPacificDayBegin:function(m){var n=m.getTime(),o=n+h.getPacificOffsetAt(n),p=g.utc.floor(new Date(o)).getTime(),q=new Date(p-h.getPacificOffsetAt(p));return q;},fillArray:function(m,n){var o=new Array(m);for(var p=0;p<m;)o[p++]=n;return o;},getRangeIndices:function(m,n){return [l.millisecondsToDays(n.since-m)+1,l.millisecondsToDays(n.until-m)];},millisecondsToDays:function(m){var n=1000*60*60*24;return Math.round(m/n);},sliceData:function(m,n,o){var p=l.getRangeIndices(n,o);return m.slice(p[0],p[1]+1);},moveRange:function(m,n){var o=n||-7;return {since:g.utc.offset(m.since,o),until:g.utc.offset(m.until,o)};},chartHasDataToRender:function(m){return m.lines&&m.lines.length||m.areas&&m.areas.length;}};e.exports=l;},null);
__d("MercuryPagesChannelHandler",["ChannelConstants","MercuryActionType","MercuryChannelHandler","MercuryPayloadSource","MessagingEvent","MessagingRealtimeConstants"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();for(var m in i)if(i.hasOwnProperty(m))o[m]=i[m];var n=i===null?null:i.prototype;o.prototype=Object.create(n);o.prototype.constructor=o;o.__superConstructor__=i;function o(){"use strict";if(i!==null)i.apply(this,arguments);}o.prototype.__markAsSeen=function(p,q){"use strict";if(this.isPayloadForCurrentInstance(q))n.__markAsSeen.call(this,p,q);};o.prototype.__updateModelsFromMercuryPayload=function(p,q){"use strict";if(this.isPayloadForCurrentInstance(q))n.__updateModelsFromMercuryPayload.call(this,p,q);};o.prototype.__handleMessagingPayload=function(p,q){"use strict";if(this.isPayloadForCurrentInstance(q)){n.__handleMessagingPayload.call(this,p,q);this.__handlePageMessagingPayload(p,q);}};o.prototype.__handlePageMessagingPayload=function(p,q){"use strict";switch(q.obj.event){case k.CHANGE_PAGE_THREAD_FLAG:this.$MercuryPagesChannelHandler0(p,q);break;}};o.prototype.getRouting=function(){"use strict";return {pages_messaging:this.__handleMessagingPayload};};o.prototype.__getMessagingPayloadType=function(){"use strict";return g.getArbiterType('pages_messaging');};o.prototype.__getMercuryPayloadType=function(){"use strict";return null;};o.prototype.__getInboxPayloadType=function(){"use strict";return null;};o.prototype.$MercuryPagesChannelHandler0=function(p,q){"use strict";var r={action_type:h.CHANGE_FLAG,action_id:null,mark_as_flag:q.obj.flagged,other_user_fbid:q.obj.other_user_fbid};this.__payloadPreprocessor.handleUpdate({actions:[r],payload_source:j.CLIENT_CHANNEL_MESSAGE});};o.prototype.isPayloadForCurrentInstance=function(p){"use strict";var q=p.obj[l.VIEWER_FBID]+'',r=n.getInstanceFBID.call(this)+'';return (q===r);};e.exports=o;},null);
__d("MercuryThrottler",["Map","MercurySingletonMixin","emptyFunction","invariant"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();'use strict';var k={NORMAL:0,QUEUEING:1,FLUSHING:2};function l(m){this.$MercuryThrottler0=m;this.$MercuryThrottler1=new g();this.$MercuryThrottler2=Date.now();this.$MercuryThrottler3=0;this.$MercuryThrottler4=k.NORMAL;this.$MercuryThrottler5=0;}l.prototype.setMinThresholdDuration=function(m){this.$MercuryThrottler3=m;};l.prototype.setQueueResetDuration=function(m){this.$MercuryThrottler5=m;};l.prototype.registerHandlerType=function(m,n,o,p){if(!o)o=i.thatReturns;this.$MercuryThrottler1.set(m,{handler:n,instance:p,perBatchPostProcessHandler:o,queuedPayloads:[]});};l.prototype.$MercuryThrottler6=function(){this.$MercuryThrottler4=k.FLUSHING;this.$MercuryThrottler1.forEach(function(m,n,o){var p={fbid:this.$MercuryThrottler0,type:n,flushed_message_count:m.queuedPayloads.length,min_threshold_duration:this.$MercuryThrottler3,queue_reset_duration:this.$MercuryThrottler5};m.queuedPayloads.map(this.notifyHandler,this);m.perBatchPostProcessHandler({flushMetrics:p});m.queuedPayloads=[];},this);this.$MercuryThrottler4=k.NORMAL;};l.prototype.$MercuryThrottler7=function(){if(this.$MercuryThrottler4===k.NORMAL){var m=(Date.now()-this.$MercuryThrottler2);if(m<this.$MercuryThrottler3){this.$MercuryThrottler4=k.QUEUEING;setTimeout(this.$MercuryThrottler6.bind(this),this.$MercuryThrottler5);}}this.$MercuryThrottler2=Date.now();};l.prototype.notifyHandler=function(m){var n=m.type,o=m.payload;j(this.$MercuryThrottler1.has(n));var p=this.$MercuryThrottler1.get(n);this.$MercuryThrottler7();switch(this.$MercuryThrottler4){case k.NORMAL:case k.FLUSHING:p.handler.call(p.instance,n,o);break;case k.QUEUEING:p.queuedPayloads.push({type:n,payload:o});break;default:j(false);}if(this.$MercuryThrottler4===k.NORMAL)p.perBatchPostProcessHandler({});};Object.assign(l,h);e.exports=l;},null);
__d("CctaConfirmationDialog.react",["fbt","CctaDispatcher","LayerHideOnBlur","React","XUIContextualDialog.react","XUIContextualDialogBody.react","XUIContextualDialogFooter.react","XUIContextualDialogTitle.react","XUIDialogButton.react"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){b.__markCompiled&&b.__markCompiled();'use strict';var p=j,q=p.PropTypes,r=j.createClass({displayName:"CctaConfirmationDialog",propTypes:{createButton:q.object.isRequired,pageid:q.number.isRequired},onClick:function(){h.dispatch({actionType:'delete-confirmation-dialog',data:this.props.pageid});},render:function(){return (j.createElement(k,{alignment:"center",behaviors:{LayerHideOnBlur:i},context:j.findDOMNode(this.props.createButton),onToggle:this.onClick,position:"left",shown:true,width:350},j.createElement(n,null,g._("View Your Results")),j.createElement(l,null,g._("Check here to see how many times your call-to-action(CTA) button has been clicked in the last 7 days.")),j.createElement(m,null,j.createElement(o,{action:"cancel",label:"Finish",onClick:this.onClick,use:"confirm"}))));}});e.exports=r;},null);
__d("XCctaCreateController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/ccta\/create\/",{});},null);
__d("CctaStore",["ads-lib-urllib","AsyncRequest","Arbiter","CustomCTAAppConfig","CustomCTAConstants","CctaDispatcher","ImmutableObject","validateDeepLink","URI","XCctaCreateController","XHRRequest","CustomCallToActionTypes"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){b.__markCompiled&&b.__markCompiled();'use strict';var r=b('CustomCallToActionTypes').TYPES,s=1000,t={},u={},v=1,w=false,x={androidDeepLinkError:null,androidPackageNameError:null,androidUriError:null,iphoneDeepLinkError:null,iphoneUriError:null,mobileUriError:null,webUriError:null},y=false,z=false,aa=false,ba=null,ca={showingDialog:{},showingFinishDialog:{}},da={ctaFocusWebUri:{},ctaFocusMsite:{},iphoneFocusDeepLink:{},iphoneFocusURI:{},androidFocusPackageName:{},androidFocusDeepLink:{},androidFocusURI:{}},ea=function(){i.inform('PageCallToAction/forceUpdate',{page_id:t.pageID});},fa=function(){v=1;},ga=function(){x={};},ha=function(){t={};},ia=function(va){var wa=g.normalize(va);return g.isUrl(wa);},ja=function(){if(!(t.androidPackageName)){x.androidPackageNameError=k.CREATE_INVALID_PACKAGE_NAME;return false;}var va=t.androidPackageName.split(".");if(va.length<=1)return false;for(var wa=0;wa<va.length;wa++)if(!(va[wa].trim()))return false;return true;},ka=function(va){var wa=va.trim();return (((wa.length>7&&wa.substr(0,7)==="http://")||(wa.length>8&&wa.substr(0,8)==="https://")));},la=function(){if(!(t.iphoneDeepLink)){x.iphoneDeepLinkError=k.CREATE_INVALID_APP_LINK;return false;}if(ka(t.iphoneDeepLink)){x.iphoneDeepLinkError=k.CREATE_INVALID_APP_LINK;return false;}if(!n(t.iphoneDeepLink)){x.iphoneDeepLinkError=k.CREATE_INVALID_APP_LINK;return false;}return true;},ma=function(){if(!(t.androidDeepLink))return true;if(ka(t.androidDeepLink))return false;if(!n(t.androidDeepLink))return false;return true;},na=function(){if(!(t.mobileURI))return true;return ia(t.mobileURI);},oa=function(){if(!(t.webURI)){x.webUriError=k.CREATE_INVALID_WEB_LINK;return false;}if(!ia(t.webURI)){x.webUriError=k.CREATE_INVALID_WEB_LINK;return false;}return true;},pa=function(){if(!(t.iphoneURI))return true;if(ia(t.iphoneURI)){return true;}else{x.iphoneUriError=k.CREATE_INVALID_WEB_LINK;return false;}},qa=function(){if(!(t.androidURI))return true;return ia(t.androidURI);},ra=function(va,wa){if(va&&va.url){t.iphoneFBAppID=k.OPEN_APP_ID;t.iphoneDeepLink=va.url;}else t.iphoneFBAppID=k.OPEN_WEBSITE_ID;if(wa&&wa.url&&wa["package"]){t.androidFBAppID=k.OPEN_APP_ID;t.androidDeepLink=wa.url;t.androidPackageName=wa["package"];}else t.androidFBAppID=k.OPEN_WEBSITE_ID;l.addPostDispatchCallback(function(){l.cctaDispatch({actionType:'clear-loading'});});},sa=function(){aa=true;var va=new o(k.API_URL);va.addQueryData({access_token:j.access_token,ids:t.webURI,type:'al'});ba=new q(va);ba.setErrorHandler(function(wa){l.addPostDispatchCallback(function(){l.cctaDispatch({actionType:'clear-loading'});});}.bind(this)).setResponseHandler(function(wa){var xa=JSON.parse(wa);if(!(t.webURI in xa)){l.addPostDispatchCallback(function(){l.cctaDispatch({actionType:'clear-loading'});});return;}var ya=xa[t.webURI],za=(ya.ios)?ya.ios.pop():null,ab=(ya.android)?ya.android.pop():null;ra(za,ab);}.bind(this)).setMethod('GET').send();}.bind(this),ta=function(){if(v===1){var va=oa(),wa=na();if(va&&wa){return true;}else if(!va){da.ctaFocusWebUri[t.pageID]=true;}else da.ctaFocusMsite[t.pageID]=true;}else if(v===2){if(t.iphoneFBAppID===k.OPEN_WEBSITE_ID){if(pa())return true;}else if(t.iphoneFBAppID===k.OPEN_APP_ID){var xa=pa(),ya=la();if(xa&&ya){return true;}else if(!ya){da.iphoneFocusDeepLink[t.pageID]=true;}else da.iphoneFocusURI[t.pageID]=true;}else if(pa())return true;}else if(v===3)if(t.androidFBAppID===k.OPEN_WEBSITE_ID){if(qa())return true;}else if(t.androidFBAppID===k.OPEN_APP_ID){var za=qa(),ab=ja(),bb=ma();if(za&&bb&&ab){return true;}else if(!ab){da.androidFocusPackageName[t.pageID]=true;}else if(!bb){da.androidFocusDeepLink[t.pageID]=true;}else da.androidFocusURI[t.pageID]=true;}else if(qa()&&ja())return true;return false;},ua=Object.assign(new i(),{getError:function(va){if(va in x)return x[va];return null;},getFocused:function(va,wa){if(wa in da&&va in da[wa])return da[wa][va];return false;},getUi:function(va,wa){if(wa in ca&&va in ca[wa])return ca[wa][va];return false;},getIsLoading:function(){return aa;},getIsPromoting:function(){return !!t.promoting;},getIsUpdate:function(){return y;},getConfirmationDialog:function(){return z;},getData:function(){return new m(t);},getDataCopy:function(){t.page_id=t.pageID;return t;},getApps:function(){return new m(u);},getStep:function(){return v;},getPageID:function(){return t.pageID;},hasCCTAID:function(){return w;},getIphoneApp:function(){return 'iphoneFBAppID' in t?t.iphoneFBAppID:k.OPEN_WEBSITE_ID;},getAndroidApp:function(){return 'androidFBAppID' in t?t.androidFBAppID:2;},isInitialized:function(){var va=m.values(this.getData()).length;return va>1;},showDialogFromCallout:function(va){var wa=va.getAttribute('data-page-id');l.dispatch({actionType:'update-showing-dialog',data:wa});},saveDataToServer:function(){aa=true;if(t.webURI)t.webURI=g.normalize(t.webURI);if(t.mobileURI)t.mobileURI=g.normalize(t.mobileURI);if(t.iphoneFBAppID!==k.OPEN_APP_ID)t.iphoneDeepLink='';if(t.iphoneFBAppID===k.OPEN_WEBSITE_ID){t.iphoneURI='';}else if(t.iphoneURI)t.iphoneURI=g.normalize(t.iphoneURI);if(t.androidFBAppID!==k.OPEN_APP_ID){t.androidDeepLink='';t.androidPackagenameDeepLink='';}if(t.androidFBAppID===k.OPEN_WEBSITE_ID){t.androidURI='';}else if(t.iphoneURI)t.androidURI=g.normalize(t.androidURI);new h().setURI(p.getURIBuilder().getURI()).setData({payload_json:JSON.stringify(t)}).setHandler(function(va){if(va.payload)l.dispatch({actionType:'saved-to-server',data:va.payload});aa=false;}.bind(this)).send();},dispatchToken:l.register(function(va){switch(va.actionType){case 'saved-to-server':ca.showingDialog[va.data.payload.pageID]=false;if(!('cctaID' in t))ca.showingFinishDialog[va.data.payload.pageID]=true;t=va.data.payload;fa();ga();y=true;break;case 'deleted-to-server':ca.showingDialog[va.data.payload.pageID]=false;t=va.data.payload;y=true;ea();fa();ga();t.promoting=false;break;case 'update-from-server':ea();fa();ga();var wa=t.showDialogTime;ha();aa=false;Object.assign(t,va.data);t.showDialogTime=wa;w=va.data.hasCctaId;if(!t.ctaType)t.ctaType=r.SHOP_NOW;break;case 'get-apps-from-server':u=va.data;break;case 'update-promote':t.promoting=va.data;break;case 'update-cta-type':t.ctaType=va.data;break;case 'update-weburl':t.webURI=va.data;break;case 'check-weburl':if(oa()){x.webUriError=null;}else x.webUriError=k.CREATE_INVALID_WEB_LINK;break;case 'update-msite':t.mobileURI=va.data;break;case 'check-msite':if(na()){x.mobileUriError=null;}else x.mobileUriError=k.CREATE_INVALID_WEB_LINK;break;case 'update-iphone-appselection':t.iphoneFBAppID=va.data;break;case 'update-iphone-url':t.iphoneURI=va.data;break;case 'check-iphone-url':if(pa()){x.iphoneUriError=null;}else x.iphoneUriError=k.CREATE_INVALID_WEB_LINK;break;case 'update-iphone-deeplink':t.iphoneDeepLink=va.data;break;case 'check-iphone-deeplink':if(la()){x.iphoneDeepLinkError=null;}else x.iphoneDeepLinkError=k.CREATE_INVALID_APP_LINK;break;case 'update-iphone-appstore-url':t.iphoneAppStoreUrl=va.data;break;case 'update-android-appselection':t.androidFBAppID=va.data;if(t.androidFBAppID in u){t.androidPackageName=u[t.androidFBAppID].androidStoreID;}else t.androidPackageName="";t.androidDeepLink="";x.androidDeepLinkError=null;break;case 'update-android-url':t.androidURI=va.data;x.androidUriError=null;break;case 'check-android-url':if(qa()){x.androidUriError=null;}else x.androidUriError=k.CREATE_INVALID_WEB_LINK;break;case 'update-android-deeplink':t.androidDeepLink=va.data;x.androidDeepLinkError=null;break;case 'check-android-deeplink':if(ma()){x.androidDeepLinkError=null;}else x.androidDeepLinkError=k.CREATE_INVALID_WEB_LINK;break;case 'update-android-package-name':t.androidPackageName=va.data;x.androidPackageNameError=null;break;case 'check-android-package-name':if(ja()){x.androidPackageNameError=null;}else x.androidPackageNameError=k.CREATE_INVALID_PACKAGE_NAME;break;case 'update-android-appstore_url':t.androidAppStoreUrl=va.data;break;case 'update-ipad-appselection':t.ipadAppSelection=va.data;break;case 'update-ipad-deeplink':t.ipadDeepLink=va.data;break;case 'update-ipad-appstore-url':t.ipadAppStoreUrl=va.data;break;case 'update-showing-dialog':ca.showingDialog[va.data]=!ca.showingDialog[va.data];if(!ca.showingDialog[va.data]){fa();ga();aa=false;if(ba){ba.abort();ba=null;}}t.showDialogTime=Math.floor(Date.now()/s);break;case 'update-showing-finish-dialog':ca.showingFinishDialog[va.data]=!ca.showingFinishDialog[va.data];break;case 'show-confirmation-dialog':ca.showingFinishDialog[va.data]=!ca.showingFinishDialog[va.data];z=!z;break;case 'delete-confirmation-dialog':z=!z;w=true;break;case 'clear-focused':da={ctaFocusWebUri:{},ctaFocusMsite:{},iphoneFocusDeepLink:{},iphoneFocusURI:{},androidFocusPackageName:{},androidFocusDeepLink:{},androidFocusURI:{}};break;case 'clear-loading':aa=false;break;case 'decrease-step':if(v>1)v=v-1;break;case 'increase-step':if(ta())if(v===3){t.submitRequestTime=Math.floor(Date.now()/s);ua.saveDataToServer();}else{if(v===1)if(!t.cctaID){sa();t.iphoneURI=t.mobileURI||t.webURI;if(!t.iphoneFBAppID)t.iphoneFBAppID=k.OPEN_WEBSITE_ID;t.androidURI=t.mobileURI||t.webURI;if(!t.androidFBAppID)t.androidFBAppID=k.OPEN_WEBSITE_ID;}v=v+1;}break;}ua.inform('change');})});e.exports=ua;},null);
__d("CctaDialogBodyCta.react",["React","cx","fbt","ix","CctaTestIDs","CustomCTAUtils","CustomCTAConstants","CustomCTAUtils","CctaDispatcher","Image.react","Keys","LeftRight.react","Link.react","Locale","CustomCTALogger","PagesEventType","StoreAndPropBasedStateMixin","CctaStore","XUIButton.react","XUISelector.react","XUITextInput.react"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa){b.__markCompiled&&b.__markCompiled();'use strict';var ba="https://www.facebook.com/help/312169205649942",ca=g.createClass({displayName:"CctaDialogBodyCta",mixins:[w(x)],statics:{calculateState:function(da){return {data:x.getData(),hasMobile:false,mobileUriError:x.getError('mobileUriError'),webURLInputErrorMessage:m.CREATE_INVALID_WEB_LINK,webUriError:x.getError('webUriError'),focusWebUri:x.getFocused(x.getPageID(),'ctaFocusWebUri'),focusMsite:x.getFocused(x.getPageID(),'ctaFocusMsite')};}},componentDidUpdate:function(){if(this.state.focusWebUri){this.refs.weburi.focusInput();o.addPostDispatchCallback(function(){o.dispatch({actionType:'clear-focused'});});}else if(this.state.focusMsite){this.refs.msite.focusInput();o.addPostDispatchCallback(function(){o.dispatch({actionType:'clear-focused'});});}return;},_onChangeCta:function(da){var ea=x.getDataCopy();ea.event_type=v.CUSTOM_CTA_CHANGE_CTA_TYPE;u.log(ea);o.dispatch({actionType:'update-cta-type',data:da.value});},_onChangeWebURL:function(event){var da=x.getDataCopy();da.event_type=v.CUSTOM_CTA_CHANGE_WEB_LINK;u.log(da);o.dispatch({actionType:'update-weburl',data:event.target.value});},_onChangeMsite:function(event){var da=x.getDataCopy();da.event_type=v.CUSTOM_CTA_CHANGE_MOBILE_LINK;u.log(da);o.dispatch({actionType:'update-msite',data:event.target.value});},_checkWebUri:function(){o.addPostDispatchCallback(function(){o.dispatch({actionType:'check-weburl'});});},_checkMsite:function(){o.addPostDispatchCallback(function(){o.dispatch({actionType:'check-msite'});});},_weburlOnKeyDown:function(da){if(da.keyCode===q.RETURN){da.preventDefault();o.addPostDispatchCallback(function(){o.dispatch({actionType:'check-weburl'});});if(!x.getError('webUriError'))this.refs.msite.focusInput();}},_msiteOnKeyDown:function(da){if(da.keyCode===q.RETURN){da.preventDefault();this._checkMsite();}},render:function(){var da=g.createElement("span",null,g.createElement(p,{className:"_1tzs",src:n.getCallToActionIcon(this.state.data.ctaType)}),n.getCallToActionLabel(this.state.data.ctaType));return (g.createElement(r,{className:"_qr7"},g.createElement("div",{className:"_qr8"},g.createElement(p,{alt:"sad",className:t.isRTL()?"_77u":'',src:j('/images/pages/custom_cta/www-preview-new.png')}),g.createElement(y,{className:"_1tzt",label:da,size:"large"})),g.createElement("div",{className:"_qr9"},g.createElement("div",{className:"_5osn"},i._("{help message} {learn more}.",[i.param("help message",m.CREATE_DIALOG_BODY_MESSAGE),i.param("learn more",g.createElement(s,{target:"_blank",href:ba},i._("Learn more")))])),g.createElement("div",{className:"_qr4"},m.ACTION_SELECTOR_LABEL),g.createElement("div",{className:"_qra"},g.createElement(z,{"data-testid":k.CCTA_TYPE_SELECTOR_TESTID,onChange:this._onChangeCta,value:this.state.data.ctaType},l.getCallToActionSelectorOptions(m.CREATE_CTA_TYPE_OPTIONS))),g.createElement("div",{className:"_qr4"},m.WEB_LINK_INPUT_LABEL),g.createElement(aa,{"data-testid":k.CCTA_WEB_URI_TESTID,className:"_qr5",onBlur:this._checkWebUri,onChange:this._onChangeWebURL,onKeyDown:this._weburlOnKeyDown,placeholder:m.WEB_LINK_INPUT_PLACEHOLDER,ref:"weburi",value:this.state.data.webURI,xuiError:this.state.webUriError}),g.createElement("div",{className:"_qr4"},m.MOBILE_LINK_INPUT_LABEL),g.createElement(aa,{className:"_qr5",onBlur:this._checkMsite,onChange:this._onChangeMsite,onKeyDown:this._msiteOnKeyDown,placeholder:m.OPTIONAL_LABEL,ref:"msite",value:this.state.data.mobileURI,xuiError:this.state.mobileUriError}))));}});e.exports=ca;},null);
__d("CctaDialogBodyIphone.react",["cx","fbt","ix","CustomCTAConstants","CustomCTALogger","CustomCTAUtils","CctaDispatcher","Image.react","Keys","LeftRight.react","Link.react","Locale","PagesEventType","React","CctaStore","StoreAndPropBasedStateMixin","XUISelector.react","XUITextInput.react"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x){b.__markCompiled&&b.__markCompiled();'use strict';var y=w.Option,z="https://itunes.apple.com/us/app/facebook-messenger/id454638411",aa="example://location/123456",ba=16,ca=t.createClass({displayName:"CctaDialogBodyIphone",mixins:[v(u)],statics:{calculateState:function(){return {apps:u.getApps(),data:u.getData(),iphoneDeepLinkError:u.getError('iphoneDeepLinkError'),iphoneUriError:u.getError('iphoneUriError'),focusDeepLink:u.getFocused(u.getPageID(),'iphoneFocusDeepLink'),focusUri:u.getFocused(u.getPageID(),'iphoneFocusURI')};}},componentDidUpdate:function(){if(this.state.focusDeepLink){this.refs.iphonedeeplink.focusInput();m.addPostDispatchCallback(function(){m.dispatch({actionType:'clear-focused'});});}else if(this.state.focusUri){this.refs.backup.focusInput();m.addPostDispatchCallback(function(){m.dispatch({actionType:'clear-focused'});});}return;},_appsDropdown:function(){var da=[];Object.keys(this.state.apps).forEach(function(ea){if(this.state.apps[ea].iphoneUrls.length===0)return;da.push(t.createElement(y,{value:this.state.apps[ea].id,key:this.state.apps[ea].id,icon:t.createElement(n,{src:this.state.apps[ea].logoSrc,height:ba,width:ba})},this.state.apps[ea].name));}.bind(this));return (t.createElement(w,{name:"selector",onChange:this._handleAppSelect,value:this._getSelectedApp()},t.createElement(y,{key:j.OPEN_WEBSITE_ID,value:j.OPEN_WEBSITE_ID},j.SELECTOR_OPTION_WEBSITE),t.createElement(y,{key:j.OPEN_APP_ID,value:j.OPEN_APP_ID},j.SELECTOR_OPTION_APP),da));},_getIphoneLaunchUrl:function(){if(this._getSelectedApp()===j.OPEN_WEBSITE_ID)return '';var da=this._getSelectedApp();if(!(da in this.state.apps))return '';var ea=this.state.apps[da];if(!ea.iphoneUrls.length)return '';return ea.iphoneUrls[0];},_getIphoneStoreUrl:function(){if(this._getSelectedApp()===j.OPEN_WEBSITE_ID)return "";var da=this._getSelectedApp();if(!(da in this.state.apps))return "";var ea=this.state.apps[da];return ea.iphoneStoreUrl;},_handleAppSelect:function(da){var ea=u.getDataCopy();ea.iphoneDestinationType=da.value;ea.event_type=s.CUSTOM_CTA_CHANGE_IPHONE_DESTINATION_TYPE;k.log(ea);m.dispatch({actionType:'update-iphone-appselection',data:da.value});},_getSelectedApp:function(){var da='iphoneFBAppID' in this.state.data?this.state.data.iphoneFBAppID:j.OPEN_WEBSITE_ID;return da;},_changeUserDeepLink:function(event){var da=u.getDataCopy();da.event_type=s.CUSTOM_CTA_CHANGE_IPHONE_DEEPLINK;k.log(da);m.dispatch({actionType:'update-iphone-deeplink',data:event.target.value});},_checkIphoneDeepLink:function(){m.addPostDispatchCallback(function(){m.dispatch({actionType:'check-iphone-deeplink'});});},_iphoneDeepLinkOnKeyDown:function(da){if(da.keyCode===o.RETURN){da.preventDefault();m.addPostDispatchCallback(function(){m.dispatch({actionType:'check-iphone-deeplink'});});if(!u.getError('iphoneDeepLinkError'))this.refs.backup.focusInput();}},_checkIphoneUri:function(){m.addPostDispatchCallback(function(){m.dispatch({actionType:'check-iphone-url'});});},_iphoneUriOnKeyDown:function(da){if(da.keyCode===o.RETURN){da.preventDefault();this._checkIphoneUri();}},_getDeepLinkSection:function(){var da=null;if(this._getSelectedApp()===j.OPEN_APP_ID){da=t.createElement("div",null,t.createElement("div",{className:"_qr4"},j.APP_LINK_INPUT_LABEL),t.createElement("div",{className:"_qr6"},j.CREATE_DIALOG_APPLINK_MESSAGE_IOS,' ',t.createElement(q,{target:"_blank",href:"https://developers.facebook.com/docs/applinks/ios"},j.DEEPLINK_LEARN_MORE_LABEL)),t.createElement(x,{className:"_qr5",disabled:this._getIphoneLaunchUrl()?true:false,onBlur:this._checkIphoneDeepLink,onChange:this._changeUserDeepLink,onKeyDown:this._iphoneDeepLinkOnKeyDown,placeholder:h._("Example: {number of days}",[h.param("number of days",aa)]),ref:"iphonedeeplink",value:this.state.data.iphoneDeepLink,xuiError:this.state.iphoneDeepLinkError}));}else da=t.createElement("div",null,t.createElement("div",{className:"_qr4"},j.APP_LINK_INPUT_LABEL),t.createElement("div",{className:"_qr5"},j.CREATE_IPHONE_DEEP_LINK_TEXT));return da;},_handleIphoneUrl:function(event){var da=u.getDataCopy();da.event_type=s.CUSTOM_CTA_CHANGE_IPHONE_LINK;k.log(da);m.dispatch({actionType:'update-iphone-url',data:event.target.value});},_getBackupSection:function(){return (t.createElement("div",null,t.createElement("div",{className:"_qr4"},j.BACKUP_LINK_LABEL),t.createElement("div",{className:"_qr6"},j.CREATE_DIALOG_BACKUP_LINK_MESSAGE),t.createElement(x,{className:"_qr5",onBlur:this._checkIphoneUri,onChange:this._handleIphoneUrl,onKeyDown:this._iphoneUriOnKeyDown,placeholder:h._("Example: {number of days}",[h.param("number of days",z)]),ref:"backup",value:this.state.data.iphoneURI,xuiError:this.state.iphoneUriError})));},render:function(){var da=null;if(this._getSelectedApp()!==j.OPEN_WEBSITE_ID){da=(t.createElement("div",null,this._getDeepLinkSection(),this._getBackupSection()));}else{var ea=u.getData();da=(t.createElement("div",{className:"_3cgs"},h._("Your button will send people to {url} when they are using iPhone or iPad.",[h.param("url",l.getTruncatedURI(ea.mobileURI||ea.webURI))])));}return (t.createElement(p,{className:"_qr7"},t.createElement("div",{className:"_qr8"},t.createElement(n,{alt:"sad",className:r.isRTL()?"_77u":'',src:i('/images/pages/custom_cta/iphone-preview-new.png'),height:j.PREVIEW_HEIGHT,width:j.PREVIEW_WIDTH}),t.createElement("div",{className:"_1399"},t.createElement(n,{className:"_139a",src:l.getCallToActionMobileIcon(this.state.data.ctaType)}),l.getCallToActionLabel(this.state.data.ctaType))),t.createElement("div",{className:"_qr9"},t.createElement("div",{className:"_qr4"},j.IOS_SECTION_TITLE),t.createElement("div",{className:"_qr6"},j.CREATE_DIALOG_BODY_MESSAGE_IOS),t.createElement("div",{className:"_qra"},this._appsDropdown()),da)));}});e.exports=ca;},null);
__d("CctaUpdateAlertDialog.react",["cx","fbt","CustomCTAConstants","CctaDispatcher","LayerFadeOnHide","LoadingIndicator.react","React","XUIDialog.react","XUIDialogBody.react","XUIDialogCancelButton.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){b.__markCompiled&&b.__markCompiled();'use strict';var t=m,u=t.PropTypes,v=m.createClass({displayName:"CctaUpdateAlertDialog",propTypes:{onClose:u.func.isRequired,isLoading:u.bool},_confirmUpdate:function(){j.addPostDispatchCallback(function(){j.cctaDispatch({actionType:'increase-step'});});},render:function(){var w=null;if(this.props.isLoading)w=m.createElement(l,{className:"mrm",color:"white",size:"small"});return (m.createElement(n,{behaviors:{LayerFadeOnHide:k},width:400,onClose:this.props.onClose,onToggle:this.props.onClose,shown:true},m.createElement(s,null,i.UPDATE_DURING_PROMOTION_DIALOG_TITLE),m.createElement(o,null,i.UPDATE_DURING_PROMOTION_DIALOG_MESSAGE),m.createElement(r,null,w,m.createElement(p,{disabled:this.props.isLoading,onClick:this.props.onClose}),m.createElement(q,{disabled:this.props.isLoading,label:h._("Update Call-to-Action"),onClick:this._confirmUpdate,use:"confirm"}))));}});e.exports=v;},null);
__d("CustomCTAFinish.react",["fbt","CctaDispatcher","LayerHideOnBlur","React","XUIContextualDialog.react","XUIContextualDialogBody.react","XUIContextualDialogFooter.react","XUIContextualDialogTitle.react","XUIDialogButton.react"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){b.__markCompiled&&b.__markCompiled();var p=j,q=p.PropTypes,r=j.createClass({displayName:"CustomCTAFinish",propTypes:{createButton:q.object.isRequired,onClose:q.func.isRequired,pageid:q.string.isRequired},onClick:function(){h.dispatch({actionType:'show-confirmation-dialog',data:this.props.pageid});},render:function(){return (j.createElement(k,{alignment:"center",behaviors:{LayerHideOnBlur:i},context:j.findDOMNode(this.props.createButton),onToggle:this.onClick,position:"below",shown:true,width:350},j.createElement(n,null,g._("Your Call-to-Action Button Is Ready")),j.createElement(l,null,g._("This button is now showing on your Page. You can test or edit it here.")),j.createElement(m,null,j.createElement(o,{action:"cancel",label:"Next",onClick:this.onClick,use:"confirm"}))));}});e.exports=r;},null);
__d("CctaAppListActionTypes",["AdsDispatchActionTypeUtils"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();'use strict';var h='CCTA_APPLIST_',i={UPDATE_FROM_SERVER:null},j=g.createActionTypeMap(h,i);e.exports=j;},null);
__d("CctaDialogActionTypes",["AdsDispatchActionTypeUtils"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();'use strict';var h='CCTA_DIALOG_',i={SHOW_FINISH_DIALOG:null,SCROLL_AREA:null,TOGGLE_MAIN_DIALOG:null,TOGGLE_DELETE_DIALOG:null,TOGGLE_CREATE_SUCCESS_DIALOG:null,TOGGLE_UPDATE_ALERT:null,CLICK_MAIN_DIALOG_SAVE_BUTTON:null,CLICK_DELETE_DIALOG_CONFIRM_BUTTON:null,RESET_UI:null,RESET_UI_LINK_APPS:null,TOGGLE_LINK_APPS_SWITCH:null,IPHONE_URI_TYPING:null,IPHONE_DEEP_LINK_TYPING:null,VALIDATE_IPHONE_DEEP_LINK:null,VALIDATE_ANDROID_DEEP_LINK:null,VALIDATE_ANDROID_PACKAGE_NAME:null,VALIDATE_ANDROID_URI:null,ANDROID_DEEP_LINK_TYPING:null,ANDROID_PACKAGE_NAME_TYPING:null,ANDROID_URI_TYPING:null,ANDROID_DEEPLINK_ERROR_FOCUSED:null,CLEAR_FOCUS:null,WEB_URI_TYPING:null,PHONE_ERROR_TYPING:null},j=g.createActionTypeMap(h,i);e.exports=j;},null);
__d("CctaLabels",["fbt"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();'use strict';var h={WEBSITE_LABEL:g._("Website"),IPHONE_LABEL:g._("iPhone"),ANDROID_LABEL:g._("Android"),SHOW_FLYOUT:'SHOW_FLYOUT',TEST_LABEL:g._("Go to Link..."),INSIGHTS_LABEL:g._("View Insights"),EDIT_LABEL:g._("Edit call to action"),DELETE_LABEL:g._("Delete call to action"),CTA_SELECTOR:g._("Choose a Button"),SELECTOR_OPTION_WEBSITE:g._("Website"),SELECTOR_OPTION_APP:g._("App"),ANDROID_SECTION:g._("ANDROID SETTINGS"),IOS_SECTION:g._("IOS SETTINGS"),ANDROID_SECTION_TITLE:g._("Choose Where to Send People on Android"),EDIT_CALL_TO_ACTION_WEBSITE:g._("Edit Call-to-Action Button"),CREATE_SUCCESS_DIALOG_BODY:g._("Now that you've created a call to action, you can promote it to encourage people to click your call-to-action button."),CREATE_SUCCESS_DIALOG_TITLE:g._("Promote Your Call-to-Action"),CREATE_CALL_TO_ACTION_WEBSITE:g._("Create a Call-to-Action Button"),WEB_LINK_INPUT_LABEL:g._("Website"),WEB_LINK_INPUT_PLACEHOLDER:g._("Example: {url}",[g.param("url",'www.mywebsite.com')]),APP_TOGGLE_LABEL:g._("Set up a Link to an App?"),IOS_WEBSITE_DESTINATION_TOOLTIP:g._("Visitors using iOS will be sent to the website above."),ANDROID_WEBSITE_DESTINATION_TOOLTIP:g._("Visitors using Android will be sent to the website above."),IOS_APP_DESTINATION_TOOLTIP:g._("Visitors using iOS will be sent to the app link entered below."),ANDROID_APP_DESTINATION_TOOLTIP:g._("Visitors using Android will be sent to the app link entered below."),IOS_SECTION_TITLE:g._("Choose Where to Send People on iOS"),IOS_APP_LINK_INPUT_LABEL:g._("iOS App Deep Link"),ANDROID_APP_LINK_INPUT_LABEL:g._("Android App Deep Link"),IOS_BACKUP_INPUT_LABEL:g._("Website or App Store Link"),ANDROID_BACKUP_INPUT_LABEL:g._("Website or Play Store Link"),APP_LINK_NOTICE:g._("If you like, you may set up app deep links for iOS or Android users. This is only necessary if you have app you want to send visitors to."),CREATE_DIALOG_BODY_MESSAGE:g._("Add a button to your Page that takes people directly to your website or app."),EDIT_PROMOTION_LABEL:g._("Edit Promotion"),PROMOTE_LABEL:g._("Promote"),NOT_NOW:g._("Not Now"),DEEPLINK_LEARN_MORE_LABEL:g._("Learn more."),APP_LINK_INPUT_LABEL:g._("App Link"),CREATE_IPHONE_DEEP_LINK_TEXT:g._("We will open the app selected above if installed"),CREATE_DIALOG_BACKUP_LINK_MESSAGE:g._("People who don't have your app will be sent here."),PACKAGE_NAME_LABEL:g._("Package Name"),CREATE_DIALOG_PACKAGE_NAME_MESSAGE_ANDROID:g._("Add the android package name of your app."),CREATE_DIALOG_APPLINK_MESSAGE:g._("Send people to a specific place inside your app, such as a product page."),CREATE_ANDROID_DEEP_LINK_TEXT:g._("We will open the app selected above if installed"),CREATE_ANDROID_PACKAGE_NAME_TEXT:g._("We will use the package name from selected app"),DELETE_DURING_PROMOTION_DIALOG_TITLE:g._("This Change Will End Your Ad"),DELETE_DURING_PROMOTION_DIALOG_MESSAGE:g._("You're currently promoting this call to action. If you delete it, your ad will end."),DELETE_DIALOG_TITLE:g._("Delete Call-to-Action Button"),DELETE_DIALOG_MESSAGE:g._("Do you really want to delete the call-to-action button from your Facebook Page?"),CREATE_LABEL:g._("Create Call to Action"),CREATE_TOOLTIP:g._("Add a button to get people to take an action from your Page such as shop or sign up"),ENTER_PHONE_LABEL:g._("Enter Phone Number"),ENTER_PHONE_PLACEHOLDER:g._("Example: 18005550199")};e.exports=h;},null);
__d("CctaConstants",["CustomCallToActionTypes"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();'use strict';var g=b('CustomCallToActionTypes').TYPES,h={AppID:{OPEN_APP:"1",OPEN_WEBSITE:"2"},CtaBarItem:{WEBSITE_BAR_ITEM:'Website',IPHONE_BAR_ITEM:'iPhone',ANDROID_BAR_ITEM:'Android'},CREATE_CTA_TYPE_OPTIONS:[g.BOOK_NOW,g.CONTACT_US,g.OPEN_APP,g.PLAY_NOW,g.SHOP_NOW,g.SIGN_UP,g.WATCH_NOW],DialogVersion:{SIMPLIFIED_DIALOG:2}};e.exports=h;},null);
__d("CctaDeleteDialog.react",["CctaDialogActionTypes","CctaLabels","CustomCTALogger","CctaAppDispatcher","LayerFadeOnHide","LoadingIndicator.react","PagesEventType","React","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react","cx","fbt","CctaConstants"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){b.__markCompiled&&b.__markCompiled();'use strict';var v=b('CctaConstants').DialogVersion,w=n,x=w.PropTypes,y=n.Component;for(var z in y)if(y.hasOwnProperty(z))ba[z]=y[z];var aa=y===null?null:y.prototype;ba.prototype=Object.create(aa);ba.prototype.constructor=ba;ba.__superConstructor__=y;function ba(ca){y.call(this,ca);this.state={disableConfirmButton:false};this.onDeleteButtonClick=this.onDeleteButtonClick.bind(this);this.renderSubmittingIndicator=this.renderSubmittingIndicator.bind(this);if(this.props.promoting){this.title=h.DELETE_DURING_PROMOTION_DIALOG_TITLE;this.message=h.DELETE_DURING_PROMOTION_DIALOG_MESSAGE;}else{this.title=h.DELETE_DIALOG_TITLE;this.message=h.DELETE_DIALOG_MESSAGE;}}ba.prototype.renderSubmittingIndicator=function(){if(!this.props.dialogData.showLoadingIndicator)return null;return (n.createElement(l,{className:"mrm",color:"white",size:"small"}));};ba.prototype.onDeleteButtonClick=function(){this.setState({disableConfirmButton:true});i.log({event_type:m.CUSTOM_CTA_CLICK_DELETE,page_id:this.props.pageID,ccta_id:this.props.cctaID,dialog_version:v.SIMPLIFIED_DIALOG});j.handleViewAction({type:g.CLICK_DELETE_DIALOG_CONFIRM_BUTTON});};ba.prototype.render=function(){return (n.createElement(o,{behaviors:{LayerFadeOnHide:k},onToggle:this.props.onClose,shown:true,width:400},n.createElement(s,null,this.title),n.createElement(p,null,this.message),n.createElement(r,null,this.renderSubmittingIndicator(),n.createElement(q,{action:"cancel",label:u._("Cancel"),onClick:this.props.onClose,use:"default"}),n.createElement(q,{action:"confirm",label:u._("Delete Call to Action"),onClick:this.onDeleteButtonClick,use:"confirm",disabled:this.state.disableConfirmButton}))));};ba.propTypes={pageID:x.string.isRequired,cctaID:x.string.isRequired,onClose:x.func.isRequired,promoting:x.bool};e.exports=ba;},null);
__d("CctaHscrollTabBar.react",["CctaLabels","immutable","React","TabBar.react","TabBarItem.react","cx","invariant","CctaConstants"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();'use strict';var n=b('CctaConstants').CtaBarItem,o=i,p=o.PropTypes,q=i.Component;for(var r in q)if(q.hasOwnProperty(r))t[r]=q[r];var s=q===null?null:q.prototype;t.prototype=Object.create(s);t.prototype.constructor=t;t.__superConstructor__=q;function t(u){q.call(this,u);}t.prototype.render=function(){var u=this.props.previewTypes.size,v=[];for(var w=0;w<u;w++)switch(this.props.previewTypes.get(w)){case n.WEBSITE_BAR_ITEM:v.push(i.createElement(k,{className:"_2x9-",key:n.WEBSITE_BAR_ITEM},g.WEBSITE_LABEL));break;case n.IPHONE_BAR_ITEM:v.push(i.createElement(k,{className:"_2x9-",key:n.IPHONE_BAR_ITEM},g.IPHONE_LABEL));break;case n.ANDROID_BAR_ITEM:v.push(i.createElement(k,{className:"_2x9-",key:n.ANDROID_BAR_ITEM},g.ANDROID_LABEL));break;default:m(false);}return (i.createElement("div",{className:(("_gvg")+(u===1?' '+"_gvj":'')+(u===2?' '+"_gvi":'')+(u===3?' '+"_gvh":''))},i.createElement(j,{onTabClick:this.props.onSelect,activeTabKey:this.props.selected},v),i.createElement("div",{className:(("_gvk")+(this.props.selected===this.props.previewTypes.get(0)?' '+"_gvl":'')+(this.props.selected===this.props.previewTypes.get(1)?' '+"_gvm":'')+(this.props.selected===this.props.previewTypes.get(2)?' '+"_gvn":''))})));};t.propTypes={previewTypes:p.instanceOf(h.List).isRequired,selected:p.string.isRequired,onSelect:p.func.isRequired};e.exports=t;},null);
__d("CctaDialogPreview.react",["BackgroundImage.react","CctaHscrollTabBar.react","CustomCTAUtils","CustomCTALogger","PagesEventType","Image.react","immutable","Locale","React","XUIButton.react","XUICardSection.react","cx","CctaConstants"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){b.__markCompiled&&b.__markCompiled();'use strict';var s=b('CctaConstants').CtaBarItem,t=b('CctaConstants').DialogVersion,u=o,v=u.PropTypes,w=o.Component;for(var x in w)if(w.hasOwnProperty(x))z[x]=w[x];var y=w===null?null:w.prototype;z.prototype=Object.create(y);z.prototype.constructor=z;z.__superConstructor__=w;function z(aa){w.call(this,aa);this.state={selected:aa.previewTypes[0]};this.onClick=this.onClick.bind(this);}z.prototype.onClick=function(aa){j.log({event_type:k.CUSTOM_CTA_CLICK_PREVIEW_UNIT,page_id:this.props.cctaData.pageID,clicked:aa,dialog_version:t.SIMPLIFIED_DIALOG});this.setState({selected:aa});};z.prototype.componentWillUpdate=function(aa){if(aa.previewTypes.indexOf(this.state.selected)<0)this.setState({selected:aa.previewTypes[0]});};z.prototype.render=function(){return (o.createElement("div",{className:"_vda"},o.createElement(q,{className:"_vdb"},o.createElement(h,{previewTypes:m.List(this.props.previewTypes),selected:this.state.selected,onSelect:this.onClick})),o.createElement(q,{className:"_vdc"},this.renderPreviewUnit()),o.createElement(q,{className:"_1qbx"},o.createElement(l,{src:"/images/pages/custom_cta/iphone-preview-new.png"}),o.createElement(l,{src:"/images/pages/custom_cta/android-preview-new.png"}))));};z.prototype.$CctaDialogPreview0=function(aa,ba){return (o.createElement(g,{alt:"sad",backgroundSize:ba,className:((n.isRTL()?"_77u":'')),height:322,src:aa,width:412}));};z.prototype.renderPreviewUnit=function(){var aa=o.createElement("span",null,o.createElement(l,{className:"_1tzs",src:i.getCallToActionIcon(this.props.ctaType)}),i.getCallToActionLabel(this.props.ctaType)),ba=null,ca=null,da=null;switch(this.state.selected){case s.WEBSITE_BAR_ITEM:da=s.WEBSITE_BAR_ITEM;ba=this.$CctaDialogPreview0('/images/pages/custom_cta/www-preview-new.png','cover');ca=(o.createElement(p,{className:"_vdd",label:aa,size:"large"}));break;case s.ANDROID_BAR_ITEM:da=s.ANDROID_BAR_ITEM;ba=this.$CctaDialogPreview0('/images/pages/custom_cta/android-preview-new.png','containinside');ca=(o.createElement("div",{className:"_vdf"},o.createElement(l,{className:"_vdh",src:i.getCallToActionMobileIcon(this.props.ctaType)}),i.getCallToActionLabel(this.props.ctaType)));break;case s.IPHONE_BAR_ITEM:da=s.IPHONE_BAR_ITEM;ba=this.$CctaDialogPreview0('/images/pages/custom_cta/iphone-preview-new.png','containinside');ca=(o.createElement("div",{className:"_vde"},o.createElement(l,{className:"_vdg",src:i.getCallToActionMobileIcon(this.props.ctaType)}),i.getCallToActionLabel(this.props.ctaType)));break;default:return null;}return (o.createElement("div",{key:da},ba,ca));};z.propTypes={cctaData:v.object.isRequired,ctaType:v.string.isRequired,previewTypes:v.array.isRequired};e.exports=z;},null);
__d("CctaAndroidDestinationSelector.react",["cx","fbt","CctaConstants","CctaDataActionTypes","CctaLabels","CctaTestIDs","CustomCTALogger","CctaAppDispatcher","PagesEventType","Image.react","XUISelector.react","XUISelectorButton.react","React"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){b.__markCompiled&&b.__markCompiled();'use strict';var t=b('CctaConstants').DialogVersion,u=q.Option,v=s,w=v.PropTypes,x=16,y=s.Component;for(var z in y)if(y.hasOwnProperty(z))ba[z]=y[z];var aa=y===null?null:y.prototype;ba.prototype=Object.create(aa);ba.prototype.constructor=ba;ba.__superConstructor__=y;function ba(ca){y.call(this,ca);this.$CctaAndroidDestinationSelector0=this.$CctaAndroidDestinationSelector0.bind(this);this.$CctaAndroidDestinationSelector1=this.$CctaAndroidDestinationSelector1.bind(this);this.$CctaAndroidDestinationSelector2=this.$CctaAndroidDestinationSelector2.bind(this);}ba.prototype.$CctaAndroidDestinationSelector1=function(ca){m.log({event_type:o.CUSTOM_CTA_CHANGE_ANDROID_DESTINATION_TYPE,page_id:this.props.cctaData.pageID,ccta_id:this.props.cctaData.cctaID,ccta_type:this.props.cctaData.ctaType,androidDestinationType:ca.value,dialog_version:t.SIMPLIFIED_DIALOG});n.handleViewAction({type:j.SELECT_ANDROID_APP,payload:ca.value});};ba.prototype.$CctaAndroidDestinationSelector2=function(){var ca=[];Object.keys(this.props.appList).forEach(function(da){if(this.props.appList[da].androidUrls.length===0)return null;ca.push(s.createElement(u,{"data-testid":l.CCTA_ANDROID_APP_DROPDOWN_TESTID,value:this.props.appList[da].id,key:this.props.appList[da].id,icon:s.createElement(p,{src:this.props.appList[da].logoSrc,height:x,width:x})},this.props.appList[da].name));}.bind(this));return (s.createElement(q,{"data-testid":l.CCTA_ANDROID_APPS_DROPDOWN_TESTID,className:"_5cqo",name:"selector",onChange:this.$CctaAndroidDestinationSelector1,value:this.props.cctaData.androidFBAppID},s.createElement(r,{className:"_5cqq",maxwidth:300,size:"xlarge"}),s.createElement(u,{"data-testid":l.CCTA_ANDROID_APPS_DROPDOWN_WEBSITE_OPTION_TESTID,key:i.AppID.OPEN_WEBSITE,value:i.AppID.OPEN_WEBSITE},k.SELECTOR_OPTION_WEBSITE),s.createElement(u,{"data-testid":l.CCTA_ANDROID_APPS_DROPDOWN_APP_OPTION_TESTID,key:i.AppID.OPEN_APP,value:i.AppID.OPEN_APP},k.SELECTOR_OPTION_APP),ca));};ba.prototype.$CctaAndroidDestinationSelector0=function(){if(this.props.cctaData.androidFBAppID===i.AppID.OPEN_APP)return k.ANDROID_APP_DESTINATION_TOOLTIP;return k.ANDROID_WEBSITE_DESTINATION_TOOLTIP;};ba.prototype.render=function(){return (s.createElement("div",null,s.createElement("div",{className:"_5y0k"},k.ANDROID_SECTION),s.createElement("div",{className:"_2v_n"},k.ANDROID_SECTION_TITLE),s.createElement("div",{className:"_5ye4"},this.$CctaAndroidDestinationSelector2()),s.createElement("div",{className:"_5ye5"},this.$CctaAndroidDestinationSelector0())));};ba.propTypes={cctaData:w.object.isRequired,dialogData:w.object.isRequired,appList:w.object.isRequired};e.exports=ba;},null);
__d("CctaPlaceholders",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();'use strict';var g={Android:{BACKUP_LINK:"https://internet.org/",DEEPLINK:"example://location/123456",PACKAGE_NAME:"com.example.myapp"}};e.exports=g;},null);
__d("CctaAndroidLinksSection.react",["cx","fbt","CctaConstants","CctaPlaceholders","CctaDataActionTypes","CctaDialogActionTypes","CctaLabels","CctaAppDispatcher","Keys","XUITextInput.react","Link.react","React"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){b.__markCompiled&&b.__markCompiled();'use strict';var s=r,t=s.PropTypes,u=r.Component;for(var v in u)if(u.hasOwnProperty(v))x[v]=u[v];var w=u===null?null:u.prototype;x.prototype=Object.create(w);x.prototype.constructor=x;x.__superConstructor__=u;function x(y){u.call(this,y);this.state={packageName:this.props.cctaData.androidPackageName,deepLink:this.props.cctaData.androidDeepLink,uri:this.props.cctaData.androidURI};this.getLaunchUrl=this.getLaunchUrl.bind(this);this.changeDeepLink=this.changeDeepLink.bind(this);this.saveDeepLink=this.saveDeepLink.bind(this);this.deepLinkOnKeyDown=this.deepLinkOnKeyDown.bind(this);this.changeAndroidUri=this.changeAndroidUri.bind(this);this.saveAndroidUri=this.saveAndroidUri.bind(this);this.uriOnKeyDown=this.uriOnKeyDown.bind(this);this.getDeepLinkSection=this.getDeepLinkSection.bind(this);this.getBackupSection=this.getBackupSection.bind(this);this.changeAndroidPackageName=this.changeAndroidPackageName.bind(this);this.saveAndroidPackageName=this.saveAndroidPackageName.bind(this);this.packageNameOnKeyDown=this.packageNameOnKeyDown.bind(this);this.getPackageNameSection=this.getPackageNameSection.bind(this);}x.prototype.componentDidUpdate=function(){if(this.props.dialogData.focused.androidFocusDeepLink){this.refs.androidDeepLink.focusInput();n.handleViewAction({type:l.CLEAR_FOCUS});}else if(this.props.dialogData.focused.androidFocusPackageName){this.refs.packageName.focusInput();n.handleViewAction({type:l.CLEAR_FOCUS});}else if(this.props.dialogData.focused.androidFocusURI){this.refs.backup.focusInput();n.handleViewAction({type:l.CLEAR_FOCUS});}};x.prototype.getLaunchUrl=function(){var y=this.props.cctaData.androidFBAppID;if(y===i.AppID.OPEN_WEBSITE)return '';if(!(y in this.props.appList))return '';if(!this.props.appList[y].androidUrls)return '';return this.props.appList[y].androidUrls[0];};x.prototype.changeDeepLink=function(event){if(this.props.dialogData.error.androidDeepLinkError)n.handleViewAction({type:l.ANDROID_DEEP_LINK_TYPING,payload:event.target.value});this.setState({deepLink:event.target.value});};x.prototype.saveDeepLink=function(){n.handleViewAction({type:k.CHANGE_ANDROID_DEEP_LINK,payload:this.state.deepLink});};x.prototype.deepLinkOnKeyDown=function(y){if(y.keyCode===o.RETURN){y.preventDefault();this.saveDeepLink();}};x.prototype.changeAndroidUri=function(event){if(this.props.dialogData.error.androidUriError)n.handleViewAction({type:l.ANDROID_URI_TYPING,payload:event.target.value});this.setState({uri:event.target.value});};x.prototype.saveAndroidUri=function(){n.handleViewAction({type:k.CHANGE_ANDROID_URI,payload:this.state.uri});};x.prototype.uriOnKeyDown=function(y){if(y.keyCode===o.RETURN){y.preventDefault();this.saveAndroidUri();}};x.prototype.changeAndroidPackageName=function(event){if(this.props.dialogData.error.androidPackageNameError)n.handleViewAction({type:l.ANDROID_PACKAGE_NAME_TYPING,payload:event.target.value});this.setState({packageName:event.target.value});};x.prototype.saveAndroidPackageName=function(){n.handleViewAction({type:k.CHANGE_ANDROID_PACKAGE_NAME,payload:this.state.packageName});};x.prototype.packageNameOnKeyDown=function(y){if(y.keyCode===o.RETURN){y.preventDefault();this.saveAndroidPackageName();}};x.prototype.getPackageNameSection=function(){var y=null;if(this.props.dialogData.showLinkApps||this.props.cctaData.androidFBAppID===i.AppID.OPEN_APP){y=r.createElement("div",{className:"_4mn_"},r.createElement("div",{className:"_4zoh"},m.PACKAGE_NAME_LABEL),r.createElement(p,{height:"tall",className:"_4zok",editable:false,onBlur:this.saveAndroidPackageName,onKeyDown:this.packageNameOnKeyDown,onChange:this.changeAndroidPackageName,placeholder:h._("Example: {A url link}",[h.param("A url link",j.Android.PACKAGE_NAME)]),ref:"packageName",xuiError:this.props.dialogData.error.androidPackageNameError,value:this.state.packageName}),r.createElement("div",{className:"_5ye5"},m.CREATE_DIALOG_PACKAGE_NAME_MESSAGE_ANDROID));}else y=r.createElement("div",{className:"_4mn_"},r.createElement("div",{className:"_4zoh"},m.PACKAGE_NAME_LABEL),r.createElement("div",{className:"_1fs4"},m.CREATE_ANDROID_PACKAGE_NAME_TEXT));return y;};x.prototype.getDeepLinkSection=function(){var y=null;if(this.props.dialogData.showLinkApps||this.props.cctaData.androidFBAppID===i.AppID.OPEN_APP){y=r.createElement("div",{className:"_4mn_"},r.createElement("div",{className:"_4zoh"},m.APP_LINK_INPUT_LABEL),r.createElement(p,{height:"tall",className:"_4zok",disabled:this.getLaunchUrl()?true:false,onBlur:this.saveDeepLink,onChange:this.changeDeepLink,onKeyDown:this.deepLinkOnKeyDown,placeholder:h._("Example: {An app link}",[h.param("An app link",j.Android.DEEPLINK)]),ref:"androidDeepLink",xuiError:this.props.dialogData.error.androidDeepLinkError,value:this.state.deepLink}),r.createElement("div",{className:"_5ye5"},m.CREATE_DIALOG_APPLINK_MESSAGE,' ',r.createElement(q,{target:"_blank",href:"https://developers.facebook.com/docs/applinks/android"},m.DEEPLINK_LEARN_MORE_LABEL)));}else y=r.createElement("div",{className:"_4mn_"},r.createElement("div",{className:"_4zoh"},m.APP_LINK_INPUT_LABEL),r.createElement("div",{className:"_1fs4"},m.CREATE_ANDROID_DEEP_LINK_TEXT));return y;};x.prototype.getBackupSection=function(){return (r.createElement("div",{className:"_4mn_"},r.createElement("div",{className:"_4zoh"},m.ANDROID_BACKUP_INPUT_LABEL),r.createElement(p,{height:"tall",className:"_4zok",onBlur:this.saveAndroidUri,onChange:this.changeAndroidUri,onKeyDown:this.uriOnKeyDown,placeholder:h._("Example: {A url link}",[h.param("A url link",j.Android.BACKUP_LINK)]),ref:"backup",value:this.state.uri,xuiError:this.props.dialogData.error.androidUriError}),r.createElement("div",{className:"_5ye5"},m.CREATE_DIALOG_BACKUP_LINK_MESSAGE)));};x.prototype.render=function(){return (r.createElement("div",{className:"_4mo0"},this.getDeepLinkSection(),this.getPackageNameSection(),this.getBackupSection()));};x.propTypes={cctaData:t.object.isRequired,dialogData:t.object.isRequired,appList:t.object.isRequired};e.exports=x;},null);
__d("CctaIphoneDestinationSelector.react",["cx","fbt","CctaDataActionTypes","CctaConstants","CctaLabels","CustomCTALogger","CctaAppDispatcher","PagesEventType","Image.react","XUISelector.react","XUISelectorButton.react","React"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){b.__markCompiled&&b.__markCompiled();'use strict';var s=b('CctaConstants').DialogVersion,t=p.Option,u=r,v=u.PropTypes,w=16,x=r.Component;for(var y in x)if(x.hasOwnProperty(y))aa[y]=x[y];var z=x===null?null:x.prototype;aa.prototype=Object.create(z);aa.prototype.constructor=aa;aa.__superConstructor__=x;function aa(ba){x.call(this,ba);this.$CctaIphoneDestinationSelector0=this.$CctaIphoneDestinationSelector0.bind(this);this.$CctaIphoneDestinationSelector1=this.$CctaIphoneDestinationSelector1.bind(this);this.$CctaIphoneDestinationSelector2=this.$CctaIphoneDestinationSelector2.bind(this);}aa.prototype.$CctaIphoneDestinationSelector0=function(ba){l.log({event_type:n.CUSTOM_CTA_CHANGE_IPHONE_DESTINATION_TYPE,page_id:this.props.cctaData.pageID,ccta_id:this.props.cctaData.cctaID,ccta_type:this.props.cctaData.ctaType,androidDestinationType:ba.value,dialog_version:s.SIMPLIFIED_DIALOG});m.handleViewAction({type:i.SELECT_IPHONE_APP,payload:ba.value});};aa.prototype.$CctaIphoneDestinationSelector1=function(){var ba=[];Object.keys(this.props.appList).forEach(function(ca){if(this.props.appList[ca].iphoneUrls.length===0)return null;ba.push(r.createElement(t,{value:this.props.appList[ca].id,key:this.props.appList[ca].id,icon:r.createElement(o,{src:this.props.appList[ca].logoSrc,height:w,width:w})},this.props.appList[ca].name));}.bind(this));return (r.createElement(p,{className:"_5cqo",name:"selector",onChange:this.$CctaIphoneDestinationSelector0,value:this.props.cctaData.iphoneFBAppID},r.createElement(q,{className:"_5cqq",maxwidth:300,size:"xlarge"}),r.createElement(t,{key:j.AppID.OPEN_WEBSITE,value:j.AppID.OPEN_WEBSITE},k.SELECTOR_OPTION_WEBSITE),r.createElement(t,{key:j.AppID.OPEN_APP,value:j.AppID.OPEN_APP},k.SELECTOR_OPTION_APP),ba));};aa.prototype.$CctaIphoneDestinationSelector2=function(){if(this.props.cctaData.iphoneFBAppID===j.AppID.OPEN_APP)return k.IOS_APP_DESTINATION_TOOLTIP;return k.IOS_WEBSITE_DESTINATION_TOOLTIP;};aa.prototype.render=function(){return (r.createElement("div",null,r.createElement("div",{className:"_5y0k"},k.IOS_SECTION),r.createElement("div",{className:"_2v_n"},k.IOS_SECTION_TITLE),r.createElement("div",{className:"_5ye4"},this.$CctaIphoneDestinationSelector1()),r.createElement("div",{className:"_5ye5"},this.$CctaIphoneDestinationSelector2())));};aa.propTypes={cctaData:v.object.isRequired,dialogData:v.object.isRequired,appList:v.object.isRequired};e.exports=aa;},null);
__d("CctaIphoneLinksSection.react",["cx","fbt","CctaConstants","CctaDataActionTypes","CctaLabels","CctaDialogActionTypes","CctaAppDispatcher","Keys","XUITextInput.react","Link.react","React"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){b.__markCompiled&&b.__markCompiled();'use strict';var r=q,s=r.PropTypes,t="https://internet.org/",u="example://location/123456",v=q.Component;for(var w in v)if(v.hasOwnProperty(w))y[w]=v[w];var x=v===null?null:v.prototype;y.prototype=Object.create(x);y.prototype.constructor=y;y.__superConstructor__=v;function y(z){v.call(this,z);this.state={deepLink:z.cctaData.iphoneDeepLink,uri:z.cctaData.iphoneURI};this.getLaunchUrl=this.getLaunchUrl.bind(this);this.changeDeepLink=this.changeDeepLink.bind(this);this.saveDeepLink=this.saveDeepLink.bind(this);this.deepLinkOnKeyDown=this.deepLinkOnKeyDown.bind(this);this.changeIphoneUri=this.changeIphoneUri.bind(this);this.saveIphoneUri=this.saveIphoneUri.bind(this);this.uriOnKeyDown=this.uriOnKeyDown.bind(this);this.getDeepLinkSection=this.getDeepLinkSection.bind(this);this.getBackupSection=this.getBackupSection.bind(this);}y.prototype.componentDidUpdate=function(){if(this.props.dialogData.focused.iphoneFocusDeepLink){this.refs.iphoneDeepLink.focusInput();m.handleViewAction({type:l.CLEAR_FOCUS});}else if(this.props.dialogData.focused.iphoneFocusURI){this.refs.backup.focusInput();m.handleViewAction({type:l.CLEAR_FOCUS});}};y.prototype.getLaunchUrl=function(){var z=this.props.cctaData.iphoneFBAppID;if(z===i.AppID.openWebSite)return '';if(!(z in this.props.appList))return '';if(!this.props.appList[z].iphoneUrls)return '';return this.props.appList[z].iphoneUrls[0];};y.prototype.changeDeepLink=function(event){if(this.props.dialogData.error.iphoneDeepLinkError)m.handleViewAction({type:l.IPHONE_DEEP_LINK_TYPING,payload:event.target.value});this.setState({deepLink:event.target.value});};y.prototype.saveDeepLink=function(){m.handleViewAction({type:j.CHANGE_IPHONE_DEEP_LINK,payload:this.state.deepLink});};y.prototype.deepLinkOnKeyDown=function(z){if(z.keyCode===n.RETURN){z.preventDefault();this.saveDeepLink();}};y.prototype.changeIphoneUri=function(event){if(this.props.dialogData.error.iphoneUriError)m.handleViewAction({type:l.IPHONE_URI_TYPING,payload:event.target.value});this.setState({uri:event.target.value});};y.prototype.saveIphoneUri=function(){m.handleViewAction({type:j.CHANGE_IPHONE_URI,payload:this.state.uri});};y.prototype.uriOnKeyDown=function(z){if(z.keyCode===n.RETURN){z.preventDefault();this.saveIphoneUri();}};y.prototype.getDeepLinkSection=function(){var z=null;if(this.props.dialogData.showLinkApps||this.props.cctaData.iphoneFBAppID===i.AppID.OPEN_APP){z=q.createElement("div",{className:"_4mn_"},q.createElement("div",{className:"_4zoh"},k.APP_LINK_INPUT_LABEL),q.createElement(o,{height:"tall",className:"_4zok",disabled:this.getLaunchUrl()?true:false,onBlur:this.saveDeepLink,onChange:this.changeDeepLink,onKeyDown:this.deepLinkOnKeyDown,placeholder:h._("Example: {number of days}",[h.param("number of days",u)]),ref:"iphoneDeepLink",value:this.state.deepLink,xuiError:this.props.dialogData.error.iphoneDeepLinkError}),q.createElement("div",{className:"_5ye5"},k.CREATE_DIALOG_APPLINK_MESSAGE,' ',q.createElement(p,{target:"_blank",href:"https://developers.facebook.com/docs/applinks/ios"},k.DEEPLINK_LEARN_MORE_LABEL)));}else z=q.createElement("div",{className:"_4mn_"},q.createElement("div",{className:"_4zoh"},k.APP_LINK_INPUT_LABEL),q.createElement("div",{className:"_1fs4"},k.CREATE_IPHONE_DEEP_LINK_TEXT));return z;};y.prototype.getBackupSection=function(){return (q.createElement("div",{className:"_4mn_"},q.createElement("div",{className:"_4zoh"},k.IOS_BACKUP_INPUT_LABEL),q.createElement(o,{height:"tall",className:"_4zok",onBlur:this.saveIphoneUri,onChange:this.changeIphoneUri,onKeyDown:this.uriOnKeyDown,placeholder:h._("Example: {number of days}",[h.param("number of days",t)]),ref:"backup",value:this.state.uri,xuiError:this.props.dialogData.error.iphoneUriError}),q.createElement("div",{className:"_5ye5"},k.CREATE_DIALOG_BACKUP_LINK_MESSAGE)));};y.prototype.render=function(){return (q.createElement("div",{className:"_4mo0"},this.getDeepLinkSection(),this.getBackupSection()));};y.propTypes={cctaData:s.object.isRequired,dialogData:s.object.isRequired,appList:s.object.isRequired};e.exports=y;},null);
__d("CctaDialogAppSection.react",["cx","CctaAndroidDestinationSelector.react","CctaAndroidLinksSection.react","CctaConstants","CctaDialogActionTypes","CctaIphoneDestinationSelector.react","CctaIphoneLinksSection.react","CctaLabels","CctaTestIDs","CustomCTALogger","CctaAppDispatcher","PagesEventType","React","DevappSwitchButton.react","XUINotice.react"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){b.__markCompiled&&b.__markCompiled();'use strict';var v=b('CctaConstants').DialogVersion,w=s,x=w.PropTypes,y=s.Component;for(var z in y)if(y.hasOwnProperty(z))ba[z]=y[z];var aa=y===null?null:y.prototype;ba.prototype=Object.create(aa);ba.prototype.constructor=ba;ba.__superConstructor__=y;function ba(ca){y.call(this,ca);this.$CctaDialogAppSection0=this.$CctaDialogAppSection0.bind(this);this.$CctaDialogAppSection1=this.$CctaDialogAppSection1.bind(this);this.$CctaDialogAppSection2=this.$CctaDialogAppSection2.bind(this);this.$CctaDialogAppSection3=this.$CctaDialogAppSection3.bind(this);this.$CctaDialogAppSection4=this.$CctaDialogAppSection4.bind(this);}ba.prototype.$CctaDialogAppSection0=function(event){if(this.props.dialogData.linkApps){p.log({event_type:r.CUSTOM_CTA_CLICK_COLLAPSE_APPS_SECTION,page_id:this.props.cctaData.pageID,dialog_version:v.SIMPLIFIED_DIALOG});q.handleViewAction({type:k.TOGGLE_LINK_APPS_SWITCH,payload:event.target.checked});}else{p.log({event_type:r.CUSTOM_CTA_CLICK_EXPAND_APPS_SECTION,page_id:this.props.cctaData.pageID,dialog_version:v.SIMPLIFIED_DIALOG});q.handleViewAction({type:k.TOGGLE_LINK_APPS_SWITCH,payload:event.target.checked});q.handleViewAction({type:k.SCROLL_AREA});}};ba.prototype.$CctaDialogAppSection1=function(){if(!this.props.dialogData.showLinkApps)return null;var ca=null;if(this.props.dialogData.linkApps&&this.props.dialogData.showLinkAppsNotice)ca=s.createElement("div",{className:"_5kj9"},s.createElement(u,null,n.APP_LINK_NOTICE));return (s.createElement("div",null,s.createElement("div",{className:"_4zoh"},n.APP_TOGGLE_LABEL),s.createElement("div",{"data-testid":o.CCTA_SWITCH_TO_APP_BUTTON_TESTID},s.createElement(t,{checked:this.props.dialogData.linkApps,onChange:this.$CctaDialogAppSection0})),ca));};ba.prototype.$CctaDialogAppSection2=function(){if(this.props.dialogData.showLinkApps&&!this.props.dialogData.linkApps)return null;if(this.props.cctaData.iphoneFBAppID===j.AppID.OPEN_WEBSITE)return null;return (s.createElement(m,{cctaData:this.props.cctaData,dialogData:this.props.dialogData,appList:this.props.appList}));};ba.prototype.$CctaDialogAppSection3=function(){if(this.props.dialogData.showLinkApps&&!this.props.dialogData.linkApps)return null;if(this.props.cctaData.androidFBAppID===j.AppID.OPEN_WEBSITE)return null;return (s.createElement(i,{cctaData:this.props.cctaData,dialogData:this.props.dialogData,appList:this.props.appList}));};ba.prototype.$CctaDialogAppSection4=function(){if(!this.props.dialogData.linkApps&&this.props.dialogData.showLinkApps)return null;var ca=null,da=null;ca=s.createElement(l,{cctaData:this.props.cctaData,dialogData:this.props.dialogData,appList:this.props.appList});da=s.createElement(h,{cctaData:this.props.cctaData,dialogData:this.props.dialogData,appList:this.props.appList});return (s.createElement("div",null,ca,this.$CctaDialogAppSection2(),s.createElement("hr",{className:"_kr9"}),da,this.$CctaDialogAppSection3()));};ba.prototype.render=function(){return (s.createElement("div",null,this.$CctaDialogAppSection1(),this.$CctaDialogAppSection4()));};ba.propTypes={cctaData:x.object.isRequired,dialogData:x.object.isRequired,appList:x.object.isRequired};e.exports=ba;},null);
__d("CctaLinkSection.react",["CctaDataActionTypes","CctaDialogActionTypes","CctaLabels","CctaTestIDs","CctaAppDispatcher","Keys","React","XUITextInput.react","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){b.__markCompiled&&b.__markCompiled();'use strict';var p=m,q=p.PropTypes,r=m.Component;for(var s in r)if(r.hasOwnProperty(s))u[s]=r[s];var t=r===null?null:r.prototype;u.prototype=Object.create(t);u.prototype.constructor=u;u.__superConstructor__=r;function u(v){r.call(this,v);this.state={webURI:this.props.cctaData.webURI,deepLink:this.props.cctaData.androidDeepLink,uri:this.props.cctaData.androidUri};this.changeWebURI=this.changeWebURI.bind(this);this.saveWebURI=this.saveWebURI.bind(this);this.webURIOnKeyDown=this.webURIOnKeyDown.bind(this);}u.prototype.componentDidUpdate=function(){if(this.props.dialogData.focused.ctaFocusWebUri){this.refs.weburi.focusInput();k.handleViewAction({type:h.CLEAR_FOCUS});}};u.prototype.changeWebURI=function(event){if(this.props.dialogData.error.webUriError)k.handleViewAction({type:h.WEB_URI_TYPING,payload:this.state.webURI});this.setState({webURI:event.target.value});};u.prototype.saveWebURI=function(){k.handleViewAction({type:g.CHANGE_WEB_URI,payload:this.state.webURI});};u.prototype.webURIOnKeyDown=function(v){if(v.keyCode===l.RETURN){v.preventDefault();this.saveWebURI();}};u.prototype.render=function(){return (m.createElement("div",{className:"_4mn_"},m.createElement("div",{className:"_4zoh"},i.WEB_LINK_INPUT_LABEL),m.createElement(n,{"data-testid":j.CCTA_WEB_URI_TESTID,className:"_4zok",onBlur:this.saveWebURI,onChange:this.changeWebURI,onKeyDown:this.webURIOnKeyDown,placeholder:i.WEB_LINK_INPUT_PLACEHOLDER,ref:"weburi",value:this.state.webURI,xuiError:this.props.dialogData.error.webUriError})));};u.propTypes={cctaData:q.object.isRequired,dialogData:q.object.isRequired,appList:q.object.isRequired};e.exports=u;},null);
__d("CctaPhoneNumberSection.react",["CctaDataActionTypes","CctaDialogActionTypes","CctaLabels","CctaAppDispatcher","Keys","React","XUITextInput.react","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){b.__markCompiled&&b.__markCompiled();'use strict';var o=l,p=o.PropTypes,q=l.Component;for(var r in q)if(q.hasOwnProperty(r))t[r]=q[r];var s=q===null?null:q.prototype;t.prototype=Object.create(s);t.prototype.constructor=t;t.__superConstructor__=q;function t(u){q.call(this,u);this.state={phoneNumber:this.props.cctaData.phoneNumber};this.changePhoneNumber=this.changePhoneNumber.bind(this);this.savePhoneNumber=this.savePhoneNumber.bind(this);this.phoneNumberOnKeyDown=this.phoneNumberOnKeyDown.bind(this);}t.prototype.changePhoneNumber=function(event){if(this.props.dialogData.error.phoneNumberError)j.handleViewAction({type:h.PHONE_ERROR_TYPING,payload:this.state.phoneNumber});this.setState({phoneNumber:event.target.value});};t.prototype.savePhoneNumber=function(){j.handleViewAction({type:g.CHANGE_PHONE_NUMBER,payload:this.state.phoneNumber});};t.prototype.phoneNumberOnKeyDown=function(u){if(u.keyCode===k.RETURN){u.preventDefault();this.savePhoneNumber();}};t.prototype.render=function(){return (l.createElement("div",{className:"_4mn_"},l.createElement("div",{className:"_4zoh"},i.ENTER_PHONE_LABEL),l.createElement(m,{className:"_4zok",onBlur:this.savePhoneNumber,onChange:this.changePhoneNumber,onKeyDown:this.phoneNumberOnKeyDown,placeholder:i.ENTER_PHONE_PLACEHOLDER,ref:"phonenumber",value:this.state.phoneNumber,xuiError:this.props.dialogData.error.phoneNumberError})));};t.propTypes={cctaData:p.object.isRequired,dialogData:p.object.isRequired};e.exports=t;},null);
__d("CctaPreviewConstants",["CctaConstants"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();'use strict';var h={PreviewSupportedTypes:[g.CtaBarItem.WEBSITE_BAR_ITEM,g.CtaBarItem.IPHONE_BAR_ITEM,g.CtaBarItem.ANDROID_BAR_ITEM]};e.exports=h;},null);
__d("CctaMainDialogBody.react",["CctaConstants","CctaDialogPreview.react","CctaDialogAppSection.react","CctaDataActionTypes","CctaDialogActionTypes","CctaLabels","CctaLinkSection.react","CctaPhoneNumberSection.react","CctaPreviewConstants","CctaTestIDs","CustomCTAUtils","CustomCTALogger","PageCallToActionDestinationTypes","CctaAppDispatcher","LeftRight.react","Link.react","PagesEventType","React","ScrollableArea.react","XUISelector.react","XUISelectorButton.react","cx","fbt","CustomCallToActionTypes"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca){b.__markCompiled&&b.__markCompiled();'use strict';var da=b('CustomCallToActionTypes').CONFIGS,ea=b('CctaConstants').DialogVersion,fa=x,ga=fa.PropTypes,ha=x.Component;for(var ia in ha)if(ha.hasOwnProperty(ia))ka[ia]=ha[ia];var ja=ha===null?null:ha.prototype;ka.prototype=Object.create(ja);ka.prototype.constructor=ka;ka.__superConstructor__=ha;function ka(la){ha.call(this,la);this.onChangeCta=this.onChangeCta.bind(this);this.getTypeSelectorSection=this.getTypeSelectorSection.bind(this);this.getLinkSection=this.getLinkSection.bind(this);this.getAppSection=this.getAppSection.bind(this);}ka.prototype.onChangeCta=function(la){t.handleViewAction({type:j.CHANGE_CTA_TYPE,payload:la.value});r.log({event_type:w.CUSTOM_CTA_CHANGE_CTA_TYPE,page_id:this.props.cctaData.pageID,ccta_id:this.props.cctaData.cctaID,ccta_type:la.value,dialog_version:ea.SIMPLIFIED_DIALOG});};ka.prototype.getTypeSelectorSection=function(){return (x.createElement("div",null,x.createElement("div",{className:"_4zoh"},l.CTA_SELECTOR),x.createElement("div",null,x.createElement(z,{className:"_5cqo","data-testid":p.CCTA_TYPE_SELECTOR_TESTID,onChange:function(la){t.handleViewAction({type:j.CHANGE_CTA_TYPE,payload:la.value});},value:this.props.cctaData.ctaType},x.createElement(aa,{className:"_5cqq",maxwidth:300,size:"xlarge"}),q.getCallToActionSelectorOptions(this.props.cctaData.eligibleCallToActionTypes)))));};ka.prototype.getLinkSection=function(){var la=da[this.props.cctaData.ctaType],ma=la.destination_types;if(ma.indexOf(s.WEBSITE)>=0)return (x.createElement(m,{appList:this.props.appList,cctaData:this.props.cctaData,dialogData:this.props.dialogData}));if(ma.indexOf(s.PHONE_CALL)>=0)return (x.createElement(n,{appList:this.props.appList,cctaData:this.props.cctaData,dialogData:this.props.dialogData}));return null;};ka.prototype.getAppSection=function(){var la=da[this.props.cctaData.ctaType],ma=la.destination_types;if(ma.indexOf(s.APP_DEEPLINK)>=0)return (x.createElement(i,{appList:this.props.appList,cctaData:this.props.cctaData,dialogData:this.props.dialogData}));return null;};ka.prototype.getPreviewTypes=function(){var la=da[this.props.cctaData.ctaType];if(la.destination_types.indexOf(s.WEBSITE)<0&&la.destination_types.indexOf(s.DONATE)<0)return [g.CtaBarItem.IPHONE_BAR_ITEM,g.CtaBarItem.ANDROID_BAR_ITEM];return o.PreviewSupportedTypes;};ka.prototype.render=function(){if(!this.props.cctaData.ctaType)return null;var la=(x.createElement(u,{className:"_3_-k"},x.createElement(y,{height:406,ref:"scrollArea",width:370},x.createElement("div",{className:"_3_-l"},x.createElement("div",{className:"_4zog"},ca._("{help message} {learn more}.",[ca.param("help message",l.CREATE_DIALOG_BODY_MESSAGE),ca.param("learn more",x.createElement(v,{target:"_blank",href:"/help/312169205649942"},ca._("Learn more")))])),this.getTypeSelectorSection(),this.getLinkSection(),this.getAppSection())),x.createElement("div",{className:"_3_-m"},x.createElement(h,{cctaData:this.props.cctaData,ctaType:this.props.cctaData.ctaType,previewTypes:this.getPreviewTypes()}))));if(this.props.dialogData.focusOnSwitchButton){this.refs.scrollArea.getArea().setScrollTop(250);t.handleViewAction({type:k.SCROLL_AREA});}return la;};m.propTypes={cctaData:ga.object.isRequired,dialogData:ga.object.isRequired,appList:ga.object.isRequired};e.exports=ka;},null);
__d("CctaMainDialog.react",["cx","fbt","CctaDialogActionTypes","CctaLabels","CctaMainDialogBody.react","CctaTestIDs","CustomCTALogger","CctaAppDispatcher","LayerFadeOnHide","LoadingIndicator.react","PagesEventType","React","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react","CctaConstants"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){b.__markCompiled&&b.__markCompiled();'use strict';var x=b('CctaConstants').DialogVersion,y=r,z=y.PropTypes,aa=r.Component;for(var ba in aa)if(aa.hasOwnProperty(ba))da[ba]=aa[ba];var ca=aa===null?null:aa.prototype;da.prototype=Object.create(ca);da.prototype.constructor=da;da.__superConstructor__=aa;function da(ea){aa.call(this,ea);this.state={deepLink:ea.cctaData.iphoneDeepLink,uri:ea.cctaData.iphoneURI};this.renderDialogTitle=this.renderDialogTitle.bind(this);this.onToggle=this.onToggle.bind(this);this.onClose=this.onClose.bind(this);this.logCancel=this.logCancel.bind(this);this.clickSave=this.clickSave.bind(this);this.renderSaveButton=this.renderSaveButton.bind(this);this.renderCancelButton=this.renderCancelButton.bind(this);this.renderSubmittingIndicator=this.renderSubmittingIndicator.bind(this);}da.prototype.renderDialogTitle=function(){if(this.props.cctaData.cctaID){return j.EDIT_CALL_TO_ACTION_WEBSITE;}else return j.CREATE_CALL_TO_ACTION_WEBSITE;};da.prototype.onClose=function(){this.logCancel();this.props.onClose();};da.prototype.onToggle=function(ea){if(this.props.dialogData.showDialog)this.onClose();};da.prototype.logCancel=function(){var ea={event_type:q.CUSTOM_CTA_CLICK_CANCEL,page_id:this.props.cctaData.pageID,dialog_version:x.SIMPLIFIED_DIALOG};if('ctaType' in this.props.cctaData)ea.ccta_type=this.props.cctaData.ctaType;m.log(ea);};da.prototype.clickSave=function(){if(this.props.cctaData.promoting){n.handleViewAction({type:i.TOGGLE_UPDATE_ALERT});}else n.handleViewAction({type:i.CLICK_MAIN_DIALOG_SAVE_BUTTON});m.log({event_type:q.CUSTOM_CTA_CLICK_CREATE_BUTTON,page_id:this.props.cctaData.pageID,dialog_version:x.SIMPLIFIED_DIALOG,source:this.props.dialogData.source});};da.prototype.renderSaveButton=function(){var ea=null;if(this.props.cctaData.cctaID){ea=h._("Save Changes");}else ea=h._("Create");return (r.createElement(u,{"data-testid":l.CCTA_SAVE_BUTTON_TESTID,label:ea,onClick:this.clickSave,use:"confirm",disabled:!this.props.dialogData.mainDialogSaveButtonEnabled}));};da.prototype.renderCancelButton=function(){return (r.createElement(u,{"data-testid":l.CCTA_CANCEL_BUTTON_TESTID,action:"cancel",label:h._("Cancel"),onClick:this.onClose,use:"default"}));};da.prototype.renderSubmittingIndicator=function(){if(!this.props.dialogData.showLoadingIndicator)return null;return (r.createElement(p,{className:"mrm",color:"white",size:"small"}));};da.prototype.render=function(){return (r.createElement(s,{behaviors:{LayerFadeOnHide:o},className:"_4xu5",ref:"dialog",layerHideOnBlur:false,onToggle:this.onToggle,width:852,height:496,shown:true},r.createElement(w,null,this.renderDialogTitle()),r.createElement(t,{useCustomPadding:true},r.createElement(k,{cctaData:this.props.cctaData,dialogData:this.props.dialogData,appList:this.props.appList})),r.createElement(v,{className:"_32t9"},this.renderSubmittingIndicator(),this.renderCancelButton(),this.renderSaveButton())));};da.propTypes={cctaData:z.object.isRequired,dialogData:z.object.isRequired,appList:z.object.isRequired,onClose:z.func.isRequired};e.exports=da;},null);
__d("CctaOneStepUpdateAlertDialog.react",["cx","fbt","CctaDialogActionTypes","CustomCTAConstants","CctaAppDispatcher","LayerFadeOnHide","LoadingIndicator.react","React","XUIDialog.react","XUIDialogBody.react","XUIDialogCancelButton.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){b.__markCompiled&&b.__markCompiled();'use strict';var u=n,v=u.PropTypes,w=n.Component;for(var x in w)if(w.hasOwnProperty(x))z[x]=w[x];var y=w===null?null:w.prototype;z.prototype=Object.create(y);z.prototype.constructor=z;z.__superConstructor__=w;function z(aa){w.call(this,aa);this.confirmUpdate=this.confirmUpdate.bind(this);this.onClose=this.onClose.bind(this);}z.prototype.confirmUpdate=function(){k.handleViewAction({type:i.CLICK_MAIN_DIALOG_SAVE_BUTTON});};z.prototype.onClose=function(){k.handleViewAction({type:i.TOGGLE_UPDATE_ALERT});this.props.onClose();};z.prototype.render=function(){var aa=null;if(this.props.isLoading)aa=n.createElement(m,{className:"mrm",color:"white",size:"small"});return (n.createElement(o,{behaviors:{LayerFadeOnHide:l},width:400,onClose:this.onClose,onToggle:this.onClose,shown:true},n.createElement(t,null,j.UPDATE_DURING_PROMOTION_DIALOG_TITLE),n.createElement(p,null,j.UPDATE_DURING_PROMOTION_DIALOG_MESSAGE),n.createElement(s,null,aa,n.createElement(q,{disabled:this.props.isLoading,onClick:this.onClose}),n.createElement(r,{disabled:this.props.isLoading,label:h._("Update Call-to-Action"),onClick:this.confirmUpdate,use:"confirm"}))));};z.propTypes={isLoading:v.bool.isRequired,onClose:v.func.isRequired};e.exports=z;},null);
__d("CctaAdminMenu.react",["Arbiter","BoostedComponentRef","BoostedComponentDialogWidget.react","CctaDeleteDialog.react","CctaDialogActionTypes","CctaLabels","CctaMainDialog.react","CctaOneStepUpdateAlertDialog.react","CctaTestIDs","ContextualDialogArrow","CustomCTAConstants","CustomCTALogger","CustomCTAUtils","CustomCTAViewerUnit.react","CctaAppDispatcher","MenuSeparator.react","PagesEventType","PopoverMenu.react","React","Image.react","ReactLayeredComponentMixin","ReactXUIMenu","XUIPopoverButton.react","CctaConstants"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca){b.__markCompiled&&b.__markCompiled();'use strict';var da=b('CctaConstants').DialogVersion,ea=y,fa=ea.PropTypes,ga=ba.Item,ha=y.createClass({displayName:"CctaAdminMenu",mixins:[aa],propTypes:{cctaData:fa.object.isRequired,dialogData:fa.object.isRequired,appList:fa.object.isRequired,onClose:fa.func.isRequired},showEditDialog:function(){r.log({event_type:w.CUSTOM_CTA_VIEW_EDIT,page_id:this.props.cctaData.pageID,ccta_id:this.props.cctaData.cctaID,ccta_type:this.props.cctaData.ctaType,dialog_version:da.SIMPLIFIED_DIALOG,source:"admin_menu"});u.handleViewAction({type:k.TOGGLE_MAIN_DIALOG,source:"admin_menu"});},updateDeleteDialog:function(){r.log({event_type:w.CUSTOM_CTA_VIEW_DELETE,page_id:this.props.cctaData.pageID,ccta_type:this.props.cctaData.ctaType,ccta_id:this.props.cctaData.cctaID,dialog_version:da.SIMPLIFIED_DIALOG});u.handleViewAction({type:k.TOGGLE_DELETE_DIALOG});},renderLayers:function(){if(this.props.dialogData.showUpdateAlert){return (y.createElement(n,{isLoading:this.props.dialogData.showLoadingIndicator,onClose:this.props.onClose}));}else if(this.props.dialogData.showDialog){return (y.createElement(m,{appList:this.props.appList,cctaData:this.props.cctaData,dialogData:this.props.dialogData,onClose:this.props.onClose}));}else if(this.props.dialogData.showDeleteDialog)return (y.createElement(j,{cctaID:this.props.cctaData.cctaID,onClose:this.updateDeleteDialog,pageID:this.props.cctaData.pageID,dialogData:this.props.dialogData,promoting:this.props.cctaData.promoting}));return null;},openTestLink:function(ia){this.refs.testButton.onButtonClick(ia);r.log({event_type:w.CUSTOM_CTA_CLICK_TEST_LINK,page_id:this.props.cctaData.pageID,ccta_id:this.props.cctaData.cctaID,dialog_version:da.SIMPLIFIED_DIALOG});},onMouseEnterPromoteItem:function(){this.refs.boostButton.onMouseEnter();},showPromotionDialog:function(ia){this.refs.boostButton.onUpsellButtonClick(ia);},showInsightPanel:function(){g.inform(q.SHOW_FLYOUT,{});},render:function(){var ia=null;if(this.props.cctaData.canPromote)ia=y.createElement(ga,{onclick:this.showPromotionDialog},y.createElement("div",{onMouseEnter:this.onMouseEnterPromoteItem},this.props.cctaData.promoting?l.EDIT_PROMOTION_LABEL:l.PROMOTE_LABEL,y.createElement("div",{hidden:true},y.createElement(i,{configData:this.props.cctaData.config,buttonLabel:l.PROMOTE_LABEL,placement:h.WWW_CCTA_ADMIN_MENU,ref:"boostButton"}))));var ja=null;if(this.props.cctaData.viewerUnitProps)ja=y.createElement(ga,{onclick:this.openTestLink},y.createElement("div",{hidden:true},y.createElement(t,y.__spread({ref:"testButton"},this.props.cctaData.viewerUnitProps))),l.TEST_LABEL);var ka=y.createElement(ba,null,ja,ia,y.createElement(ga,{onclick:this.showInsightPanel},l.INSIGHTS_LABEL),y.createElement(ga,{onclick:this.showEditDialog,"data-testid":o.CCTA_EDIT_MENU_TESTID},l.EDIT_LABEL),y.createElement(v,null),y.createElement(ga,{onclick:this.updateDeleteDialog},l.DELETE_LABEL)),la=this.props.cctaData.ctaType;return (y.createElement(x,{layerBehaviors:[p],menu:ka},y.createElement(ca,{borderShade:"dark",image:y.createElement(z,{src:s.getCallToActionIcon(la)}),label:s.getCallToActionLabel(la),size:"large",ref:"ctaButton"})));}});e.exports=ha;},null);
__d("CctaAppListStore",["CctaAppDispatcher","FluxStore","CctaDialogActionTypes","CctaAppListActionTypes"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();'use strict';for(var k in h)if(h.hasOwnProperty(k))m[k]=h[k];var l=h===null?null:h.prototype;m.prototype=Object.create(l);m.prototype.constructor=m;m.__superConstructor__=h;function m(n){h.call(this,n);this.$CctaAppListStore0={};}m.prototype.getAppList=function(){return this.$CctaAppListStore0;};m.prototype.isInitialized=function(){return this.$CctaAppListStore1;};m.prototype.__onDispatch=function(n){var o=n.action;switch(o.type){case j.UPDATE_FROM_SERVER:this.$CctaAppListStore0=o.payload;this.getDispatcher().handleViewAction({type:i.RESET_UI_LINK_APPS,payload:this.$CctaAppListStore0});this.__emitChange();break;default:}};e.exports=new m(g);},null);
__d("CctaBaseDataLoader",["AsyncRequest","Promise","URI"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();'use strict';function j(){}j.prototype.__getPromise=function(k,l){return new h(function(m,n){new g().setURI(k).setData(l).setHandler(function(o){if(o&&o.payload&&o.payload.payload){m(o.payload.payload);}else n({error:'no payload in response',description:'no payload in response',summary:'no payload in response'});}).setErrorHandler(function(o){return n({error:o.error,description:o.errorDescription,summary:o.errorSummary});}).send();});};e.exports=j;},null);
__d("CctaCreateDataLoader",["CctaBaseDataLoader","XCctaCreateController"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();'use strict';for(var i in g)if(g.hasOwnProperty(i))k[i]=g[i];var j=g===null?null:g.prototype;k.prototype=Object.create(j);k.prototype.constructor=k;k.__superConstructor__=g;function k(){if(g!==null)g.apply(this,arguments);}k.prototype.promiseCreateCcta=function(m){return this.__getPromise(h.getURIBuilder().getURI(),{payload_json:JSON.stringify(m)});};var l=new k();e.exports=l;},null);
__d("XCctaDeleteController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/ccta\/delete\/",{page_id:{type:"Int",required:true},ccta_id:{type:"Int",required:true}});},null);
__d("CctaDeleteDataLoader",["CctaBaseDataLoader","XCctaDeleteController"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();'use strict';for(var i in g)if(g.hasOwnProperty(i))k[i]=g[i];var j=g===null?null:g.prototype;k.prototype=Object.create(j);k.prototype.constructor=k;k.__superConstructor__=g;function k(){if(g!==null)g.apply(this,arguments);}k.prototype.promiseDeleteCcta=function(m,n){return this.__getPromise(h.getURIBuilder().setInt('page_id',m).setInt('ccta_id',n).getURI(),{});};var l=new k();e.exports=l;},null);
__d("XCctaCalloutActionController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/pages\/custom_cta\/callout_action\/",{page_id:{type:"Int",required:true},action:{type:"String",required:true}});},null);
__d("CctaDataStore",["AdsUtils","Arbiter","AsyncRequest","CctaConstants","CctaCreateDataLoader","CctaDeleteDataLoader","CctaDataActionTypes","CctaDialogActionTypes","CustomCallToActionConstants","CctaAppDispatcher","FluxStore","XCctaCalloutActionController","ads-lib-urllib","CustomCallToActionTypes"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){b.__markCompiled&&b.__markCompiled();'use strict';var t=b('CustomCallToActionTypes').TYPES,u=b('CctaConstants').DialogVersion;for(var v in q)if(q.hasOwnProperty(v))x[v]=q[v];var w=q===null?null:q.prototype;x.prototype=Object.create(w);x.prototype.constructor=x;x.__superConstructor__=q;function x(y){q.call(this,y);this.$CctaDataStore0={};this.$CctaDataStore1={};this.$CctaDataStore2=false;}x.prototype.getData=function(){return this.$CctaDataStore0;};x.prototype.isInitialized=function(y){if(!this.$CctaDataStore2)return false;if(y!==this.$CctaDataStore0.pageID){this.$CctaDataStore2=false;return false;}return true;};x.prototype.__onDispatch=function(y){var z=y.action;switch(z.type){case m.UPDATE_FROM_SERVER:z.payload.mobileURI='';this.$CctaDataStore1=g.clone(z.payload);this.$CctaDataStore0=z.payload;if(!this.$CctaDataStore0.iphoneFBAppID)this.$CctaDataStore0.iphoneFBAppID=j.AppID.OPEN_WEBSITE;if(!this.$CctaDataStore0.androidFBAppID)this.$CctaDataStore0.androidFBAppID=j.AppID.OPEN_WEBSITE;if(!this.$CctaDataStore0.ctaType)if(this.$CctaDataStore0.defaultCctaType){this.$CctaDataStore0.ctaType=this.$CctaDataStore0.defaultCctaType;}else this.$CctaDataStore0.ctaType=t.WATCH_NOW;this.$CctaDataStore2=true;this.__emitChange();this.getDispatcher().handleViewAction({type:n.RESET_UI,payload:this.$CctaDataStore0});h.inform('PageCallToAction/forceUpdate',{page_id:this.$CctaDataStore0.pageID});break;case m.UPDATE_TO_SERVER:this.$CctaDataStore0.dialog_version=u.SIMPLIFIED_DIALOG,this.$CctaDataStore0.source=z.source;k.promiseCreateCcta(this.$CctaDataStore0).then(function(ba){this.getDispatcher().handleServerAction({type:m.UPDATE_FROM_SERVER,payload:ba});this.getDispatcher().handleViewAction({type:n.TOGGLE_MAIN_DIALOG});}.bind(this),function(ba){});this.__emitChange();break;case m.DELETE_TO_SERVER:this.$CctaDataStore0.source=z.source;l.promiseDeleteCcta(this.$CctaDataStore0.pageID,this.$CctaDataStore0.cctaID).then(function(ba){this.getDispatcher().handleServerAction({type:m.UPDATE_FROM_SERVER,payload:ba});}.bind(this),function(ba){});this.__emitChange();break;case m.CLOSE_NUX:var aa=r.getURIBuilder().setInt('page_id',this.$CctaDataStore0.pageID).setString('action',o.SKIP_PROMOTION).getURI();new i().setURI(aa).send();this.__emitChange();break;case m.CLOSE_DIALOG:this.getDispatcher().handleViewAction({type:m.UPDATE_FROM_SERVER,payload:this.$CctaDataStore1});this.__emitChange();break;case m.UPDATE_PROMOTE:this.$CctaDataStore0.promoting=z.payload;this.__emitChange();break;case m.CHANGE_CTA_TYPE:this.$CctaDataStore0.ctaType=z.payload;this.__emitChange();break;case m.CHANGE_WEB_URI:this.$CctaDataStore0.webURI=s.normalize(z.payload);this.__emitChange();break;case m.CHANGE_PHONE_NUMBER:this.$CctaDataStore0.phoneNumber=z.payload;this.__emitChange();break;case m.CHANGE_IPHONE_DEEP_LINK:this.$CctaDataStore0.iphoneDeepLink=z.payload;this.__emitChange();break;case m.CHANGE_IPHONE_URI:this.$CctaDataStore0.iphoneURI=s.normalize(z.payload);this.__emitChange();break;case m.SELECT_IPHONE_APP:this.$CctaDataStore0.iphoneFBAppID=z.payload;this.$CctaDataStore0.iphoneDeepLink='';this.$CctaDataStore0.iphoneURI='';this.__emitChange();break;case m.CHANGE_ANDROID_DEEP_LINK:this.$CctaDataStore0.androidDeepLink=z.payload;this.__emitChange();break;case m.CHANGE_ANDROID_PACKAGE_NAME:this.$CctaDataStore0.androidPackageName=z.payload;this.__emitChange();break;case m.CHANGE_ANDROID_URI:this.$CctaDataStore0.androidURI=s.normalize(z.payload);this.__emitChange();break;case m.SELECT_ANDROID_APP:this.$CctaDataStore0.androidFBAppID=z.payload;this.$CctaDataStore0.androidDeepLink='';this.$CctaDataStore0.androidPackageName='';this.$CctaDataStore0.androidURI='';this.__emitChange();break;default:}};e.exports=new x(p);},null);
__d("CctaDialogButton.react",["CctaMainDialog.react","CctaDialogActionTypes","CctaLabels","CustomCTALogger","CctaAppDispatcher","PagesEventType","React","ReactLayeredComponentMixin","XUIButton.react","CctaConstants"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){b.__markCompiled&&b.__markCompiled();'use strict';var p=b('CctaConstants').DialogVersion,q=m,r=q.PropTypes,s=m.createClass({displayName:"CctaDialogButton",mixins:[n],propTypes:{appList:r.object.isRequired,cctaData:r.object.isRequired,dialogData:r.object.isRequired,onClose:r.func.isRequired},toggleDialog:function(){j.log({event_type:l.CUSTOM_CTA_VIEW_CREATE,user_id:this.props.cctaData.userID,page_id:this.props.cctaData.pageID,dialog_version:p.SIMPLIFIED_DIALOG,source:'create_button'});k.handleViewAction({type:h.TOGGLE_MAIN_DIALOG,source:'create_button'});},renderLayers:function(){if(this.props.dialogData.showDialog)return (m.createElement(g,{appList:this.props.appList,cctaData:this.props.cctaData,dialogData:this.props.dialogData,onClose:this.props.onClose}));},render:function(){if(!this.props.cctaData.pageID)return null;var t=i.CREATE_LABEL;return (m.createElement(o,{"aria-label":i.CREATE_TOOLTIP,"data-hover":"tooltip",borderShade:"dark",label:t,onClick:this.toggleDialog,ref:"createButton",size:"large"}));}});e.exports=s;},null);
__d("CctaCreateSuccessDialog.react",["BoostedComponentDialogMixin","BoostedComponentRef","BoostedComponentStore","CctaDataStore","CctaLabels","LayerFadeOnHide","React","SubscriptionsHandler","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){b.__markCompiled&&b.__markCompiled();'use strict';var t=m,u=t.PropTypes,v=m.createClass({displayName:"CctaCreateSuccessDialog",mixins:[g],propTypes:{onClose:u.func.isRequired,placement:u.string},componentWillMount:function(){var w=j.getData().config;w.placement=this.props.placement;this._config=i.getConfig(w);this._subscriptions=new n();this._subscriptions.addSubscriptions(this._config.getDialogUIStore().subscribe('change',function(){if(this._config.getContextStore().getPlacement()===this.props.placement)this.forceUpdate();}.bind(this)));},componentWillUnmount:function(){this._subscriptions.release();this._subscriptions=null;},componentDidUpdate:function(){this.renderDialog();},getDefaultProps:function(){return {placement:h.WWW_CCTA_CREATE_SUCCESS_DIALOG};},getInitialState:function(){return {showDialog:true};},render:function(){return (m.createElement(o,{behaviors:{LayerFadeOnHide:l},width:400,onClose:this.props.onClose,onToggle:this.props.onClose,shown:this.state.showDialog},m.createElement(s,null,k.CREATE_SUCCESS_DIALOG_TITLE),m.createElement(p,null,k.CREATE_SUCCESS_DIALOG_BODY),m.createElement(r,null,m.createElement(q,{action:"cancel",label:k.NOT_NOW,onClick:this.props.onClose}),m.createElement(q,{action:"confirm",label:k.PROMOTE_LABEL,onClick:function(w){this.setState({showDialog:false});this.onUpsellButtonClick(w);}.bind(this),onMouseEnter:this.onMouseEnter,use:"confirm"}))));},_getWidgetRef:function(){return h.WWW_CCTA_CREATE_SUCCESS_DIALOG;}});e.exports=v;},null);
__d("CctaUIErrors",["fbt"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();'use strict';var h={CREATE_INVALID_APP_LINK:g._("Please add a valid URL")},i={EMPTY_URL:g._("Website can't be empty"),INVALID_URL:g._("Invalid link")},j={CREATE_INVALID_PACKAGE_NAME:g._("Invalid package name")},k={EMPTY_PHONE_NUMBER:g._("Phone number can't be empty"),INVALID_PHONE_NUMBER:g._("Invalid phone number")};e.exports={DeepLinkErrors:h,LinkErrors:i,PackageNameErrors:j,PhoneErrors:k};},null);
__d("CctaValidator",["validateDeepLink","CctaUIErrors","URI","ads-lib-urllib"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();'use strict';var k=h.DeepLinkErrors,l=h.LinkErrors,m=h.PackageNameErrors,n=h.PhoneErrors,o={hasErrors:function(p){for(var q in p)if(p[q])return true;return false;},validateUrl:function(p,q){if(!p)if(q){return null;}else return l.EMPTY_URL;if(!j.isUrl(j.normalize(p)))return l.INVALID_URL;return null;},allValidChars:function(p){var q;for(q=0;q<p.length;q=q+1){var r=p.charAt(q),s=r-'0';if(!(s>=0&&s<=9)&&r!='('&&r!=')'&&r!='-')return false;}return true;},validatePhoneNumber:function(p,q){if(!p||p.length===0)if(q){return null;}else return n.EMPTY_PHONE_NUMBER;if(!this.allValidChars(p))return n.INVALID_PHONE_NUMBER;return null;},validateDeepLink:function(p,q){if(!p){if(q)return null;return k.CREATE_INVALID_APP_LINK;}if(i.isValidURI(p))return k.CREATE_INVALID_APP_LINK;if(!g(p))return k.CREATE_INVALID_APP_LINK;return null;},validatePackageName:function(p,q){if(!p){if(q)return null;return m.CREATE_INVALID_PACKAGE_NAME;}var r=p.split(".");if(r.length<=1)return m.CREATE_INVALID_PACKAGE_NAME;for(var s=0;s<r.length;s++)if(!(r[s].trim()))return m.CREATE_INVALID_PACKAGE_NAME;return null;}};e.exports=o;},null);
__d("CctaDialogStore",["CctaConstants","CctaCreateSuccessDialog.react","CctaDialogActionTypes","CctaDataActionTypes","CctaDataStore","CctaValidator","PageCallToActionDestinationTypes","CctaAppDispatcher","DOM","FluxStore","React","CustomCallToActionTypes"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){b.__markCompiled&&b.__markCompiled();'use strict';var r=b('CustomCallToActionTypes').CONFIGS;for(var s in p)if(p.hasOwnProperty(s))u[s]=p[s];var t=p===null?null:p.prototype;u.prototype=Object.create(t);u.prototype.constructor=u;u.__superConstructor__=p;function u(w){p.call(this,w);this.$CctaDialogStore0={showDialog:false,showLinkApps:true,showLinkAppsNotice:false,error:{},focused:{},focusOnSwitchButton:false,source:null,nuxHasBeenClosed:false,predictionNuxHasBeenClosed:false};this.$CctaDialogStore1();}u.prototype.$CctaDialogStore1=function(){this.$CctaDialogStore0.mainDialogSaveButtonEnabled=true,this.$CctaDialogStore0.showDeleteDialog=false;this.$CctaDialogStore0.showUpdateAlert=false;this.$CctaDialogStore0.showLoadingIndicator=false;this.$CctaDialogStore0.linkApps=false;this.$CctaDialogStore2();this.$CctaDialogStore3();};u.prototype.getDialogData=function(){return this.$CctaDialogStore0;};u.prototype.$CctaDialogStore2=function(){this.$CctaDialogStore0.focused={};this.$CctaDialogStore0.focused.ctaFocusWebUri=false;this.$CctaDialogStore0.focused.iphoneFocusDeepLink=false;this.$CctaDialogStore0.focused.iphoneFocusURI=false;this.$CctaDialogStore0.focused.androidFocusPackageName=false;this.$CctaDialogStore0.focused.androidFocusDeepLink=false;this.$CctaDialogStore0.focused.androidFocusURI=false;};u.prototype.$CctaDialogStore3=function(){this.$CctaDialogStore0.error={};this.$CctaDialogStore0.error.androidDeepLinkError=null;this.$CctaDialogStore0.error.androidPackageNameError=null;this.$CctaDialogStore0.error.androidUriError=null;this.$CctaDialogStore0.error.iphoneDeepLinkError=null;this.$CctaDialogStore0.error.iphoneUriError=null;this.$CctaDialogStore0.error.webUriError=null;};u.prototype.getFocusedField=function(){this.$CctaDialogStore2();if(this.$CctaDialogStore0.error.webUriError){this.$CctaDialogStore0.focused.ctaFocusWebUri=true;}else if(this.$CctaDialogStore0.error.iphoneDeepLinkError){this.$CctaDialogStore0.focused.iphoneFocusDeepLink=true;}else if(this.$CctaDialogStore0.error.iphoneUriError){this.$CctaDialogStore0.focused.iphoneFocusURI=true;}else if(this.$CctaDialogStore0.error.androidDeepLinkError){this.$CctaDialogStore0.focused.androidFocusDeepLink=true;}else if(this.$CctaDialogStore0.error.androidPackageNameError){this.$CctaDialogStore0.focused.androidFocusPackageName=true;}else if(this.$CctaDialogStore0.error.androidUriError)this.$CctaDialogStore0.focused.androidFocusURI=true;};u.prototype.$CctaDialogStore4=function(){var w=k.getData(),x=r[w.ctaType];this.$CctaDialogStore0.mainDialogSaveButtonEnabled=!!x&&!(x.destination_types.indexOf(m.WEBSITE)>=0&&this.$CctaDialogStore0.error.webUriError||this.$CctaDialogStore0.error.phoneNumberError||x.destination_types.indexOf(m.APP_DEEPLINK)>=0&&(w.iphoneFBAppID===g.AppID.OPEN_APP&&(this.$CctaDialogStore0.error.iphoneDeepLinkError||this.$CctaDialogStore0.error.iphoneUriError)||w.androidFBAppID===g.AppID.OPEN_APP&&(this.$CctaDialogStore0.error.androidDeepLinkError||this.$CctaDialogStore0.error.androidPackageNameError||this.$CctaDialogStore0.error.androidUriError)));return this.$CctaDialogStore0.mainDialogSaveButtonEnabled;};u.prototype.$CctaDialogStore5=function(){var w=k.getData(),x=r[w.ctaType];this.$CctaDialogStore0.error.webUriError=l.validateUrl(w.webURI,!x||x.destination_types.indexOf(m.WEBSITE)<0);this.$CctaDialogStore0.error.iphoneDeepLinkError=w.iphoneFBAppID===g.AppID.OPEN_APP?l.validateDeepLink(w.iphoneDeepLink,false):null;this.$CctaDialogStore0.error.androidDeepLinkError=w.androidFBAppID===g.AppID.OPEN_APP?l.validateDeepLink(w.androidDeepLink,false):null;this.getFocusedField();};u.prototype.__onDispatch=function(w){var x=w.action;switch(x.type){case j.UPDATE_FROM_SERVER:this.getDispatcher().waitFor([k.getDispatchToken()]);var y=k.getData();if(this.$CctaDialogStore0.showCreateSuccessDialog&&y.canShowCreateSuccessDialog&&y.canPromote){if(!this.$CctaDialogStore6)this.$CctaDialogStore6=o.create('div');q.render(q.createElement(h,{onClose:function(){n.handleViewAction({type:i.TOGGLE_CREATE_SUCCESS_DIALOG});}}),this.$CctaDialogStore6);}break;case j.CLOSE_NUX:this.getDispatcher().waitFor([k.getDispatchToken()]);this.$CctaDialogStore0.nuxHasBeenClosed=true;this.__emitChange();break;case j.CLOSE_PREDICTION_NUX:this.getDispatcher().waitFor([k.getDispatchToken()]);this.$CctaDialogStore0.predictionNuxHasBeenClosed=true;this.__emitChange();break;case i.RESET_UI_LINK_APPS:this.$CctaDialogStore0.showLinkApps=Object.keys(x.payload).length===0;break;case i.RESET_UI:var z=x.payload;this.$CctaDialogStore1();this.$CctaDialogStore0.linkApps=z.iphoneFBAppID!==g.AppID.OPEN_WEBSITE||z.androidFBAppID!==g.AppID.OPEN_WEBSITE;this.__emitChange();break;case i.TOGGLE_MAIN_DIALOG:this.$CctaDialogStore0.showDialog=!this.$CctaDialogStore0.showDialog;if(!this.$CctaDialogStore0.showDialog){this.$CctaDialogStore0.source=null;}else this.$CctaDialogStore0.source=x.source;this.__emitChange();break;case i.TOGGLE_UPDATE_ALERT:this.$CctaDialogStore5();if(this.$CctaDialogStore4())this.$CctaDialogStore0.showUpdateAlert=!this.$CctaDialogStore0.showUpdateAlert;this.__emitChange();break;case i.CLICK_MAIN_DIALOG_SAVE_BUTTON:this.$CctaDialogStore5();if(this.$CctaDialogStore4()){this.$CctaDialogStore0.showLoadingIndicator=true;this.$CctaDialogStore0.mainDialogSaveButtonEnabled=false;var aa=k.getData();if(!aa||!aa.hasCctaId)this.$CctaDialogStore0.showCreateSuccessDialog=true;this.getDispatcher().handleServerAction({type:j.UPDATE_TO_SERVER,source:this.$CctaDialogStore0.source});}this.__emitChange();break;case i.CLICK_DELETE_DIALOG_CONFIRM_BUTTON:this.$CctaDialogStore0.showLoadingIndicator=true;this.getDispatcher().handleServerAction({type:j.DELETE_TO_SERVER,source:this.$CctaDialogStore0.source});this.__emitChange();break;case i.TOGGLE_DELETE_DIALOG:this.$CctaDialogStore0.showDeleteDialog=!this.$CctaDialogStore0.showDeleteDialog;this.$CctaDialogStore0.showLoadingIndicator=false;this.__emitChange();break;case i.SCROLL_AREA:this.$CctaDialogStore0.focusOnSwitchButton=!this.$CctaDialogStore0.focusOnSwitchButton;this.__emitChange();break;case i.TOGGLE_LINK_APPS_SWITCH:this.$CctaDialogStore0.linkApps=x.payload;n.handleViewAction({type:j.SELECT_IPHONE_APP,payload:g.AppID.OPEN_WEBSITE});n.handleViewAction({type:j.SELECT_ANDROID_APP,payload:g.AppID.OPEN_WEBSITE});this.__emitChange();break;case j.CHANGE_CTA_TYPE:this.$CctaDialogStore4();this.__emitChange();break;case j.CHANGE_IPHONE_DEEP_LINK:this.getDispatcher().waitFor([k.getDispatchToken()]);this.$CctaDialogStore0.error.iphoneDeepLinkError=l.validateDeepLink(x.payload,false);this.$CctaDialogStore4();this.__emitChange();break;case j.CHANGE_IPHONE_URI:this.getDispatcher().waitFor([k.getDispatchToken()]);this.$CctaDialogStore0.error.iphoneUriError=l.validateUrl(x.payload,true);this.$CctaDialogStore4();this.__emitChange();break;case j.SELECT_IPHONE_APP:this.$CctaDialogStore0.error.iphoneDeepLinkError=null;this.$CctaDialogStore0.error.iphoneUriError=null;if(k.getData().iphoneFBAppID===g.AppID.OPEN_WEBSITE)this.$CctaDialogStore4();this.__emitChange();break;case i.IPHONE_DEEP_LINK_TYPING:this.$CctaDialogStore0.error.iphoneDeepLinkError=null;this.__emitChange();break;case i.IPHONE_URI_TYPING:this.$CctaDialogStore0.error.iphoneUriError=null;this.__emitChange();break;case j.CHANGE_WEB_URI:this.getDispatcher().waitFor([k.getDispatchToken()]);this.$CctaDialogStore0.error.webUriError=l.validateUrl(x.payload,false);this.$CctaDialogStore4();this.__emitChange();break;case i.WEB_URI_TYPING:this.$CctaDialogStore0.error.webUriError=null;this.__emitChange();break;case j.CHANGE_PHONE_NUMBER:this.getDispatcher().waitFor([k.getDispatchToken()]);this.$CctaDialogStore0.error.phoneNumberError=l.validatePhoneNumber(x.payload,false);this.$CctaDialogStore4();this.__emitChange();break;case i.PHONE_NUMBER_TYPING:this.$CctaDialogStore0.error.phoneNumberError=null;this.__emitChange();break;case j.CHANGE_ANDROID_DEEP_LINK:this.getDispatcher().waitFor([k.getDispatchToken()]);this.$CctaDialogStore0.error.androidDeepLinkError=l.validateDeepLink(x.payload,false);this.$CctaDialogStore4();this.__emitChange();break;case j.CHANGE_ANDROID_PACKAGE_NAME:this.getDispatcher().waitFor([k.getDispatchToken()]);this.$CctaDialogStore0.error.androidPackageNameError=l.validatePackageName(x.payload,true);this.$CctaDialogStore4();this.__emitChange();break;case j.CHANGE_ANDROID_URI:this.getDispatcher().waitFor([k.getDispatchToken()]);this.$CctaDialogStore0.error.androidUriError=l.validateUrl(x.payload,true);this.$CctaDialogStore4();this.__emitChange();break;case j.SELECT_ANDROID_APP:this.$CctaDialogStore0.error.androidDeepLinkError=null;this.$CctaDialogStore0.error.androidPackageNameError=null;this.$CctaDialogStore0.error.androidUriError=null;if(k.getData().androidFBAppID===g.AppID.OPEN_WEBSITE)this.$CctaDialogStore4();this.__emitChange();break;case i.ANDROID_URI_TYPING:this.$CctaDialogStore0.error.androidUriError=null;this.__emitChange();break;case i.ANDROID_PACKAGE_NAME_TYPING:this.$CctaDialogStore0.error.androidPackageNameError=null;this.__emitChange();break;case i.ANDROID_DEEP_LINK_TYPING:this.$CctaDialogStore0.error.androidDeepLinkError=null;this.__emitChange();break;case i.CLEAR_FOCUS:this.$CctaDialogStore2();this.__emitChange();break;case i.TOGGLE_CREATE_SUCCESS_DIALOG:this.$CctaDialogStore0.showCreateSuccessDialog=!this.$CctaDialogStore0.showCreateSuccessDialog;this.__emitChange();break;default:}};var v=new u(n);e.exports=v;},null);
__d("CctaAdminUnit.react",["CctaAppListActionTypes","CctaAppListStore","CctaAdminMenu.react","CctaDataActionTypes","CctaDataStore","CctaDialogActionTypes","CctaDialogButton.react","CctaDialogStore","ContextualLayerUpdateOnScroll","CustomCTALogger","CctaAppDispatcher","LayerHideOnBlur","PagesEventType","React","ReactLayeredComponentMixin","StoreAndPropBasedStateMixin","URI","XUIAmbientNUX.react","CctaConstants"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x){b.__markCompiled&&b.__markCompiled();'use strict';var y=b('CctaConstants').DialogVersion,z=t,aa=z.PropTypes,ba=t.createClass({displayName:"CctaAdminUnit",mixins:[u,v(n,k,h)],propTypes:{payload:aa.object.isRequired,apps:aa.object.isRequired},statics:{calculateState:function(ca){var da=k.getData(),ea=n.getDialogData(),fa=h.getAppList();return {cctaData:da,dialogData:ea,appList:fa};}},componentWillMount:function(){if(!k.isInitialized(this.props.payload.pageID)){q.handleServerAction({type:j.UPDATE_FROM_SERVER,payload:this.props.payload});q.handleServerAction({type:g.UPDATE_FROM_SERVER,payload:this.props.apps});var ca=w.getRequestURI(),da=ca?ca.getQueryData():{};if(da&&'call_to_action' in da&&'source' in da)if(da.call_to_action==='1'){p.log({event_type:this.props.payload.cctaID?s.CUSTOM_CTA_VIEW_EDIT:s.CUSTOM_CTA_VIEW_CREATE,user_id:this.props.payload.userID,page_id:this.props.payload.pageID,dialog_version:y.SIMPLIFIED_DIALOG,source:da.source});q.handleViewAction({type:l.TOGGLE_MAIN_DIALOG,source:da.source});}}},onNUXClose:function(){p.log({event_type:s.CUSTOM_CTA_CLICK_DELETE,page_id:this.props.payload.pageID,ccta_id:this.props.payload.cctaID,dialog_version:y.SIMPLIFIED_DIALOG});q.handleViewAction({type:j.CLOSE_NUX});},onPredictionNUXClose:function(){q.handleViewAction({type:j.CLOSE_PREDICTION_NUX});},_logCancel:function(){},onClose:function(){this._logCancel();q.handleServerAction({type:j.CLOSE_DIALOG});q.handleViewAction({type:l.TOGGLE_MAIN_DIALOG,payload:this.props.payload.pageID});},renderLayers:function(){var ca=this.state.cctaData.nux;if(ca&&ca.showNUX&&ca.content&&this.refs.admin_menu){var da,ea;if(this.state.cctaData.status==='ACTIVE'){da=this.onNUXClose;ea=!this.state.dialogData.nuxHasBeenClosed;}else{da=this.onPredictionNUXClose;ea=!this.state.dialogData.predictionNuxHasBeenClosed;}return {nux:t.createElement(x,{alignment:"left",behaviors:{ContextualLayerUpdateOnScroll:o,LayerHideOnBlur:r},contextRef:function(){return this.refs.admin_menu;}.bind(this),onCloseButtonClick:da,position:"above",shown:ea},ca.content)};}return {};},render:function(){if(this.state.cctaData.cctaID){return (t.createElement(i,{appList:this.state.appList,cctaData:this.state.cctaData,dialogData:this.state.dialogData,onClose:this.onClose,ref:"admin_menu"}));}else return (t.createElement(m,{cctaData:this.state.cctaData,dialogData:this.state.dialogData,appList:this.state.appList,onClose:this.onClose,ref:"admin_menu"}));}});e.exports=ba;},null);
__d("CctaDialogBodyAndroid.react",["cx","fbt","ix","CustomCTAConstants","CustomCTALogger","CustomCTAUtils","CctaDispatcher","Keys","Image.react","LeftRight.react","Link.react","Locale","PagesEventType","StoreAndPropBasedStateMixin","React","ReactComponentWithPureRenderMixin","CctaStore","XUISelector.react","XUITextInput.react"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y){b.__markCompiled&&b.__markCompiled();'use strict';var z=x.Option,aa="example://launch?location=123456",ba="https://play.google.com/store/apps/det...",ca="com.example.myapp",da=16,ea=u.createClass({displayName:"CctaDialogBodyAndroid",mixins:[t(w),v],statics:{calculateState:function(){return {androidDeepLinkError:w.getError('androidDeepLinkError'),androidPackageNameError:w.getError('androidPackageNameError'),androidUriError:w.getError('androidUriError'),apps:w.getApps(),data:w.getData(),focusPackageName:w.getFocused(w.getPageID(),'androidFocusPackageName'),focusDeepLink:w.getFocused(w.getPageID(),'androidFocusDeepLink'),focusUri:w.getFocused(w.getPageID(),'androidFocusURI')};}},componentDidUpdate:function(){if(this.state.focusPackageName){this.refs["package"].focusInput();m.addPostDispatchCallback(function(){m.dispatch({actionType:'clear-focused'});});}else if(this.state.focusDeepLink){this.refs.androiddeeplink.focusInput();m.addPostDispatchCallback(function(){m.dispatch({actionType:'clear-focused'});});}else if(this.state.focusUri){this.refs.backup.focusInput();m.addPostDispatchCallback(function(){m.dispatch({actionType:'clear-focused'});});}},_appsDropdown:function(){var fa=[];Object.keys(this.state.apps).forEach(function(ga){if(this.state.apps[ga].androidUrls.length===0)return;fa.push(u.createElement(z,{icon:u.createElement(o,{src:this.state.apps[ga].logoSrc,height:da,width:da}),key:this.state.apps[ga].id,value:this.state.apps[ga].id},this.state.apps[ga].name));}.bind(this));return (u.createElement(x,{name:"selector",onChange:this._handleAppSelect,value:this._getSelectedApp()},u.createElement(z,{key:j.OPEN_WEBSITE_ID,value:j.OPEN_WEBSITE_ID},j.SELECTOR_OPTION_WEBSITE),u.createElement(z,{key:j.OPEN_APP_ID,value:j.OPEN_APP_ID},j.SELECTOR_OPTION_APP),fa));},_getAndroidLaunchPackageName:function(){var fa=this._getSelectedApp();if(fa===j.OPEN_WEBSITE_ID)return '';if(fa in this.state.apps)return this.state.apps[fa].androidStoreID;return this.state.androidPackageName;},_getAndroidLaunchUrl:function(){if(this._getSelectedApp()===j.OPEN_WEBSITE_ID)return '';var fa=this._getSelectedApp();if(!(fa in this.state.apps))return '';var ga=this.state.apps[fa];if(!ga.androidUrls.length)return '';return ga.androidUrls[0];},_getAndroidStoreUrl:function(){if(this._getSelectedApp()===j.OPEN_WEBSITE_ID)return "";var fa=this._getSelectedApp();if(!(fa in this.state.apps))return "";var ga=this.state.apps[fa];return ga.androidStoreUrl;},_handleAppSelect:function(fa){var ga=w.getDataCopy();ga.androidDestinationType=fa.value;ga.event_type=s.CUSTOM_CTA_CHANGE_ANDROID_DESTINATION_TYPE;k.log(ga);m.dispatch({actionType:'update-android-appselection',data:fa.value});},_getSelectedApp:function(){var fa='androidFBAppID' in this.state.data?this.state.data.androidFBAppID:j.OPEN_WEBSITE_ID;return fa;},_changeUserDeepLink:function(event){var fa=w.getDataCopy();fa.event_type=s.CUSTOM_CTA_CHANGE_ANDROID_DEEPLINK;k.log(fa);m.dispatch({actionType:'update-android-deeplink',data:event.target.value});},_deepLinkSection:function(){return (u.createElement(y,{className:"_w0a",value:this.state.data.androidDeepLink,xuiError:this.state.androidDeepLinkError,placeholder:h._("Example: {number of days}",[h.param("number of days",aa)]),onChange:this._changeUserDeepLink}));},_changePackageName:function(event){var fa=w.getDataCopy();fa.event_type=s.CUSTOM_CTA_CHANGE_ANDROID_PACKAGE_NAME;k.log(fa);m.addPostDispatchCallback(function(){m.dispatch({actionType:'update-android-package-name',data:event.target.value});});},_checkAndroidDeepLink:function(){m.addPostDispatchCallback(function(){m.dispatch({actionType:'check-android-deeplink'});});},_androidDeepLinkOnKeyDown:function(fa){if(fa.keyCode===n.RETURN){fa.preventDefault();m.addPostDispatchCallback(function(){m.dispatch({actionType:'check-android-deeplink'});});if(!w.getError('androidDeepLinkError'))this.refs["package"].focusInput();}},_checkPackageName:function(){m.addPostDispatchCallback(function(){m.dispatch({actionType:'check-android-package-name'});});},_PackageNameOnKeyDown:function(fa){if(fa.keyCode===n.RETURN){fa.preventDefault();m.addPostDispatchCallback(function(){m.dispatch({actionType:'check-android-package-name'});});if(!w.getError('androidPackageNameError'))this.refs.backup.focusInput();}},_checkAndroidUri:function(){m.addPostDispatchCallback(function(){m.dispatch({actionType:'check-android-url'});});},_androidUriOnKeyDown:function(fa){if(fa.keyCode===n.RETURN){fa.preventDefault();this._checkAndroidUri();}},_getPackageNameSection:function(){return (u.createElement("div",null,u.createElement("div",{className:"_qr4"},j.PACKAGE_NAME_LABEL),u.createElement("div",{className:"_qr6"},j.CREATE_DIALOG_PACKAGE_NAME_MESSAGE_ANDROID),u.createElement(y,{className:"_qr5",editable:false,onBlur:this._checkPackageName,onChange:this._changePackageName,onKeyDown:this._PackageNameOnKeyDown,ref:"package",placeholder:h._("Example: {number of days}",[h.param("number of days",ca)]),value:this.state.data.androidPackageName,xuiError:this.state.androidPackageNameError})));},_getDeepLinkSection:function(){var fa=null;if(w.getAndroidApp()===j.OPEN_APP_ID){fa=u.createElement("div",null,u.createElement("div",{className:"_qr4"},j.APP_LINK_INPUT_LABEL),u.createElement("div",{className:"_qr6"},j.CREATE_DIALOG_APPLINK_MESSAGE_ANDROID,' ',u.createElement(q,{target:"_blank",href:"https://developers.facebook.com/docs/applinks/android"},j.DEEPLINK_LEARN_MORE_LABEL)),u.createElement(y,{className:"_qr5",disabled:this._getAndroidLaunchUrl()?true:false,value:this._getAndroidLaunchUrl()||this.state.data.androidDeepLink,xuiError:this.state.androidDeepLinkError,onBlur:this._checkAndroidDeepLink,onChange:this._changeUserDeepLink,onKeyDown:this._androidDeepLinkOnKeyDown,placeholder:h._("Example: {number of days}",[h.param("number of days",aa)]),ref:"androiddeeplink"}));}else fa=u.createElement("div",null,u.createElement("div",{className:"_qr4"},j.APP_LINK_INPUT_LABEL),u.createElement("div",{className:"_qr5"},j.CREATE_ANDROID_DEEP_LINK_TEXT));return fa;},_handleAndroidUrl:function(event){var fa=w.getDataCopy();fa.event_type=s.CUSTOM_CTA_CHANGE_ANDROID_LINK;k.log(fa);m.dispatch({actionType:'update-android-url',data:event.target.value});},_getBackupSection:function(){return (u.createElement("div",null,u.createElement("div",{className:"_qr4"},j.BACKUP_LINK_LABEL),u.createElement("div",{className:"_qr6"},j.CREATE_DIALOG_BACKUP_LINK_MESSAGE),u.createElement(y,{className:"_qr5",onBlur:this._checkAndroidUri,onChange:this._handleAndroidUrl,onKeyDown:this._androidUriOnKeyDown,ref:"backup",placeholder:h._("Example: {number of days}",[h.param("number of days",ba)]),value:this.state.data.androidURI,xuiError:this.state.androidUriError})));},render:function(){var fa=null;if(w.getAndroidApp()!==j.OPEN_WEBSITE_ID){fa=(u.createElement("div",null,this._getDeepLinkSection(),this._getPackageNameSection(),this._getBackupSection()));}else{var ga=w.getData();fa=(u.createElement("div",{className:"_3cgs"},h._("Your button will send people to {url} when they are using Android.",[h.param("url",l.getTruncatedURI(ga.mobileURI||ga.webURI))])));}return (u.createElement(p,{className:"_qr7 _nul"},u.createElement("div",{className:"_qr8"},u.createElement(o,{className:r.isRTL()?"_77u":'',src:i('/images/pages/custom_cta/android-preview-new.png'),height:j.PREVIEW_HEIGHT,width:j.PREVIEW_WIDTH}),u.createElement("div",{className:"_5l9k"},u.createElement(o,{className:"_5l9l",src:l.getCallToActionMobileIcon(this.state.data.ctaType)}),l.getCallToActionLabel(this.state.data.ctaType))),u.createElement("div",{className:"_qr9"},u.createElement("div",{className:"_qr4"},j.ANDROID_SECTION_TITLE),u.createElement("div",{className:"_qr6"},j.CREATE_DIALOG_BODY_MESSAGE_ANDROID),u.createElement("div",{className:"_qra"},this._appsDropdown()),fa)));}});e.exports=ea;},null);
__d("CctaDialogBody.react",["CctaDialogBodyAndroid.react","CctaDialogBodyIphone.react","CctaDialogBodyCta.react","React"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();'use strict';var k=j,l=k.PropTypes,m=j.createClass({displayName:"CctaDialogBody",propTypes:{step:l.number.isRequired},render:function(){switch(this.props.step){case 1:return j.createElement(i,null);case 2:return j.createElement(h,null);case 3:return j.createElement(g,null);}return null;}});e.exports=m;},null);
__d("XCctaAppsController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/custom_cta\/getapps\/",{});},null);
__d("CctaStepDialogMain.react",["cx","fbt","AsyncRequest","CctaDialogBody.react","CctaTestIDs","CustomCTAConstants","CustomCTALogger","CctaDispatcher","LayerFadeOnHide","LoadingIndicator.react","PagesEventType","PureStoreBasedStateMixin","React","CctaStore","XCctaAppsController","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react","XUISpinner.react"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa){b.__markCompiled&&b.__markCompiled();'use strict';var ba=s,ca=ba.PropTypes,da=s.createClass({displayName:"CctaStepDialogMain",mixins:[r(t)],propTypes:{onClose:ca.func.isRequired,onShowUpdateAlert:ca.func,payload:ca.object.isRequired,shown:ca.bool.isRequired},statics:{calculateState:function(){return {data:t.getData(),isLoading:t.getIsLoading(),step:t.getStep()};}},_getPrimaryActionButton:function(){var ea=null;if(this.state.step===3){if(t.getData().cctaID){ea=h._("Save Changes");}else ea=h._("Create");}else ea=h._("Next");return (s.createElement(x,{label:ea,onClick:this._clickPrimaryActionButton,use:"confirm",disabled:this.state.isLoading}));},_getSecondaryActionButton:function(){if(this.state.step===1){return (s.createElement(x,{"data-testid":k.CCTA_CANCEL_BUTTON_TESTID,action:"cancel",label:h._("Cancel"),onClick:this._onClose,use:"default"}));}else return (s.createElement(x,{label:h._("Back"),onClick:this.decreaseStep,use:"default"}));},componentDidMount:function(){var ea=(u.getURIBuilder()).getURI();new i(ea).setHandler(function(fa){n.addPostDispatchCallback(function(){n.cctaDispatch({actionType:'get-apps-from-server',data:fa.payload});});}).send();},componentWillMount:function(){this._subscription=t.subscribe('change',function(){this.setState({data:t.getData()});}.bind(this));n.addPostDispatchCallback(function(){n.cctaDispatch({actionType:'update-from-server',data:this.props.payload});}.bind(this));},componentWillUnmount:function(){this._subscription.unsubscribe();},componentDidUpdate:function(){window.setTimeout(function(){return this.refs.dialog&&this.refs.dialog.layer.updatePosition();}.bind(this),0);},_renderDialogTitle:function(){if(this.state.step===1){if(this.state.data&&this.state.data.cctaID){return l.EDIT_CALL_TO_ACTION_WEBSITE;}else return l.CREATE_CALL_TO_ACTION_WEBSITE;}else if(this.state.step===2){return l.CREATE_CALL_TO_ACTION_IPHONE;}else if(this.state.step===3)return l.CREATE_CALL_TO_ACTION_ANDROID;},_clickPrimaryActionButton:function(){var ea=t.getData();if(this.state.step===3&&ea.promoting&&ea.cctaID&&this.props.onShowUpdateAlert){this.props.onShowUpdateAlert();}else this.increaseStep();},increaseStep:function(){var ea=t.getDataCopy();ea.step=this.state.step;if(this.state.step<=2){ea.event_type=q.CUSTOM_CTA_CLICK_NEXT_BUTTON;}else if(this.state.step===3)ea.event_type=q.CUSTOM_CTA_CLICK_CREATE_BUTTON;m.log(ea);n.addPostDispatchCallback(function(){n.cctaDispatch({actionType:'increase-step'});});},decreaseStep:function(){var ea=t.getDataCopy();ea.step=this.state.step;if(ea.step<=1){ea.event_type=q.CUSTOM_CTA_CLICK_CLOSE;}else ea.event_type=q.CUSTOM_CTA_CLICK_BACK_BUTTON_ON_DIALOG;m.log(ea);n.addPostDispatchCallback(function(){n.cctaDispatch({actionType:'decrease-step'});});},_logCancel:function(){var ea=t.getDataCopy();ea.step=this.state.step;ea.event_type=q.CUSTOM_CTA_CLICK_CANCEL;m.log(ea);},_onClose:function(){this._logCancel();},_onToggle:function(ea){if(ea===false){this._logCancel();n.addPostDispatchCallback(function(){n.cctaDispatch({actionType:'update-showing-dialog',data:this.props.payload.pageID});}.bind(this));}},renderDialogBody:function(){if(this.state.isLoading&&this.state.step!==3){return (s.createElement("div",null,s.createElement(w,null,l.CREATE_LOADING_MESSAGE),s.createElement(w,{className:"_2pv5"},s.createElement(aa,{background:"light",size:"large"}))));}else return s.createElement(j,{step:this.state.step});},_renderSubmittingIndicator:function(){if(this.state.isLoading&&this.state.step===3)return (s.createElement(p,{className:"mrm",color:"white",size:"small"}));return null;},render:function(){return (s.createElement(v,{behaviors:{LayerFadeOnHide:o},fixedTopPosition:0,ref:"dialog",layerHideOnBlur:false,onClose:this._onClose,onToggle:this._onToggle,width:l.CREATE_DIALOG_WIDTH,height:l.CREATE_DIALOG_HEIGHT,shown:this.props.shown},s.createElement(z,null,this._renderDialogTitle()),s.createElement(w,{useCustomPadding:true},this.renderDialogBody()),s.createElement(y,{className:"_32t9"},this._renderSubmittingIndicator(),this._getSecondaryActionButton(),this._getPrimaryActionButton())));}});e.exports=da;},null);
__d("CctaStepDialogAdminMenu.react",["Arbiter","AsyncRequest","BoostedComponentRef","BoostedComponentDialogWidget.react","CctaStepDialogMain.react","CctaTestIDs","CctaUpdateAlertDialog.react","ContextualDialogArrow","CustomCTAConstants","CustomCTALogger","CustomCTAUtils","CustomCTAFinish.react","CctaDispatcher","LayerFadeOnHide","MenuSeparator.react","PagesEventType","PopoverMenu.react","React","Image.react","ReactLayeredComponentMixin","StoreAndPropBasedStateMixin","CctaStore","URI","XCctaDeleteController","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react","ReactXUIMenu","XUIPopoverButton.react","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma){b.__markCompiled&&b.__markCompiled();'use strict';var na=x,oa=na.PropTypes,pa=ja.Item,qa=x.createClass({displayName:"DeleteDialog",propTypes:{pageID:oa.string.isRequired,cctaID:oa.string.isRequired,promoting:oa.bool},_onDeleteButtonClick:function(){p.log({event_type:v.CUSTOM_CTA_CLICK_DELETE,page_id:this.props.pageID,ccta_id:this.props.cctaID});var sa=da.getURIBuilder().setInt('ccta_id',this.props.cctaID).setInt('page_id',this.props.pageID).getURI();new h().setURI(sa).setHandler(function(ta){s.dispatch({actionType:'deleted-to-server',data:ta.payload});}.bind(this)).send();},render:function(){var sa=null,ta=null;if(this.props.promoting){sa=o.DELETE_DURING_PROMOTION_DIALOG_TITLE;ta=o.DELETE_DURING_PROMOTION_DIALOG_MESSAGE;}else{sa=o.DELETE_DIALOG_TITLE;ta=o.DELETE_DIALOG_MESSAGE;}return (x.createElement(ea,{behaviors:{LayerFadeOnHide:t},onToggle:this.props.onClose,shown:true,width:400},x.createElement(ia,null,sa),x.createElement(fa,null,ta),x.createElement(ha,null,x.createElement(ga,{action:"cancel",label:ma._("Cancel"),use:"default"}),x.createElement(ga,{action:"confirm",label:ma._("Delete Call to Action"),onClick:this._onDeleteButtonClick,use:"confirm"}))));}}),ra=x.createClass({displayName:"CctaStepDialogAdminMenu",mixins:[aa(ba),z],propTypes:{payload:oa.object.isRequired},getInitialState:function(){return {dialogState:o.NO_DIALOG};},statics:{calculateState:function(sa){return {showingDialog:ba.getUi(sa.payload.pageID,'showingDialog'),showingFinishDialog:ba.getUi(sa.payload.pageID,'showingFinishDialog'),step:ba.getStep(),isPromoting:ba.getIsPromoting()};}},_toggleDialog:function(){this.setState({dialogState:o.NO_DIALOG});s.dispatch({actionType:'update-showing-dialog',data:this.props.payload.pageID});},_showEditDialog:function(){p.log({event_type:v.CUSTOM_CTA_VIEW_EDIT,page_id:this.props.payload.pageID,ccta_type:this.props.payload.callToActionType,ccta_id:this.props.payload.cctaID});s.dispatch({actionType:'update-showing-dialog',data:this.props.payload.pageID});this.setState({dialogState:o.EDIT_DIALOG});},_showDeleteDialog:function(){p.log({event_type:v.CUSTOM_CTA_VIEW_DELETE,page_id:this.props.payload.pageID,ccta_type:this.props.payload.callToActionType,ccta_id:this.props.payload.cctaID});this.setState({dialogState:o.DELETE_DIALOG});},_onCloseFinishDialog:function(){s.dispatch({actionType:'update-showing-finish-dialog',data:this.props.payload.pageID});this.setState({dialogState:o.NO_DIALOG});},_onContinueUpdate:function(){this.setState({dialogState:o.EDIT_DIALOG});},_onShowUpdateAlert:function(){this.setState({dialogState:o.UPDATE_ALERT_DIALOG});},componentDidMount:function(){var sa=ca.getRequestURI(),ta=sa?sa.getQueryData():{};if(!!ta.call_to_action)this._showEditDialog();},renderLayers:function(){if(this.state.dialogState===o.UPDATE_ALERT_DIALOG&&this.state.showingDialog){return (x.createElement(m,{onClose:this._toggleDialog,isLoading:ba.getIsLoading()}));}else if(this.state.dialogState===o.EDIT_DIALOG&&this.state.showingDialog){return (x.createElement(k,{onClose:this._toggleDialog,payload:this.props.payload,shown:this.state.dialogState===o.EDIT_DIALOG&&this.state.showingDialog,onShowUpdateAlert:this._onShowUpdateAlert}));}else if(this.state.dialogState===o.DELETE_DIALOG){return (x.createElement(qa,{cctaID:this.props.payload.cctaID,onClose:this._toggleDialog,pageID:this.props.payload.pageID,promoting:this.props.payload.promoting}));}else if(this.state.showingFinishDialog&&!ba.hasCCTAID())return (x.createElement(r,{createButton:this.refs.ctaButton,onClose:this._onCloseFinishDialog,pageid:this.props.payload.pageID}));},_openTestLink:function(){q.executeCallToAction(this.props.payload.ctaType,this.props.payload.webURI);p.log({event_type:v.CUSTOM_CTA_CLICK_TEST_LINK,page_id:this.props.payload.pageID,ccta_id:this.props.cctaID,web_uri:this.props.payload.webURI});},_onMouseEnterPromoteItem:function(){this.refs.boostButton.onMouseEnter();},_showPromotionDialog:function(sa){this.refs.boostButton.onUpsellButtonClick(sa);},_showInsightPanel:function(){g.inform(o.SHOW_FLYOUT,{});},render:function(){var sa=null;if(this.props.payload.canPromote)sa=x.createElement(pa,{onclick:this._showPromotionDialog},x.createElement("div",{onMouseEnter:this._onMouseEnterPromoteItem},this.state.isPromoting?o.EDIT_PROMOTION_LABEL:o.PROMOTE_LABEL,x.createElement("div",{hidden:true},x.createElement(j,{configData:this.props.payload.config,buttonLabel:o.PROMOTE_LABEL,placement:i.WWW_CCTA_ADMIN_MENU,ref:"boostButton"}))));var ta=x.createElement(ja,null,x.createElement(pa,{onclick:this._openTestLink},o.TEST_LABEL),sa,x.createElement(pa,{onclick:this._showInsightPanel},o.INSIGHTS_LABEL),x.createElement(pa,{"data-testid":l.CCTA_EDIT_MENU_TESTID,onclick:this._showEditDialog},o.EDIT_LABEL),x.createElement(u,null),x.createElement(pa,{onclick:this._showDeleteDialog},o.DELETE_LABEL)),ua=x.createElement("span",null,x.createElement(y,{className:"_xgc",src:q.getCallToActionIcon(this.props.payload.ctaType)}),q.getCallToActionLabel(this.props.payload.ctaType));return (x.createElement(w,{layerBehaviors:[n],menu:ta},x.createElement(ka,{borderShade:"dark",label:ua,size:"large",ref:"ctaButton"})));}});e.exports=ra;},null);
__d("CctaStepDialogCreateButton.react",["CctaStepDialogMain.react","CustomCTAConstants","CustomCTALogger","CctaDispatcher","PagesEventType","React","ReactLayeredComponentMixin","CctaStore","StoreAndPropBasedStateMixin","URI","XUIButton.react"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){b.__markCompiled&&b.__markCompiled();'use strict';var r=l,s=r.PropTypes,t=l.createClass({displayName:"CctaStepDialogCreateButton",mixins:[o(n),m],propTypes:{payload:s.object.isRequired},statics:{calculateState:function(u){return {showingDialog:n.getUi(u.payload.pageID,'showingDialog'),step:n.getStep()};}},_hideCreateDialog:function(){j.addPostDispatchCallback(function(){j.cctaDispatch({actionType:'update-showing-finish-dialog',data:this.props.payload.pageID});}.bind(this));},_showDialog:function(){i.log({event_type:k.CUSTOM_CTA_VIEW_CREATE,user_id:this.props.payload.userID,page_id:this.props.payload.pageID});this._toggleDialog();},_toggleDialog:function(){j.addPostDispatchCallback(function(){j.cctaDispatch({actionType:'update-showing-dialog',data:this.props.payload.pageID});}.bind(this));},renderLayers:function(){if(this.state.showingDialog)return {dialog:l.createElement(g,{onClose:this._toggleDialog,payload:this.props.payload,shown:this.state.showingDialog})};},componentWillMount:function(){var u=p.getRequestURI(),v=u?u.getQueryData():{};if(!!v.call_to_action)this._showDialog();},render:function(){var u=h.CREATE_LABEL;return (l.createElement(q,{"aria-label":h.CREATE_TOOLTIP,"data-hover":"tooltip",borderShade:"dark",label:u,onClick:this._showDialog,ref:"createButton",size:"large"}));}});e.exports=t;},null);
__d("CctaStepDialogAdminUnit.react",["AsyncRequest","CctaStepDialogAdminMenu.react","CctaStepDialogCreateButton.react","ContextualLayerUpdateOnScroll","CctaDispatcher","LayerHideOnBlur","React","ReactLayeredComponentMixin","CctaStore","StoreAndPropBasedStateMixin","XCctaCalloutActionController","XUIAmbientNUX.react"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){b.__markCompiled&&b.__markCompiled();'use strict';var s=m,t=s.PropTypes,u=m.createClass({displayName:"CctaStepDialogAdminUnit",mixins:[n,p(o)],propTypes:{payload:t.object.isRequired},statics:{calculateState:function(v){if(o.isInitialized()&&o.getIsUpdate())if(o.getPageID()===v.payload.pageID)return {payload:o.getDataCopy()};return {payload:v.payload};}},componentWillMount:function(){k.addPostDispatchCallback(function(){k.cctaDispatch({actionType:'update-from-server',data:this.props.payload});}.bind(this));},_onNUXClose:function(){this.setState({hideNUX:true});var v=q.getURIBuilder().setInt('page_id',this.props.payload.pageID).setString('action','skip_promotion').getURI();new g().setURI(v).send();},renderLayers:function(){var v=this.state.payload.nux;if(!v||!v.showNUX||!v.content||!this.refs.admin_unit)return {};return {nux:m.createElement(r,{alignment:"left",behaviors:{ContextualLayerUpdateOnScroll:j,LayerHideOnBlur:l},contextRef:function(){return this.refs.admin_unit;}.bind(this),onCloseButtonClick:this._onNUXClose,position:"above",shown:!this.state.hideNUX},v.content)};},render:function(){var v=null;if(this.state.payload.hasCctaId){v=m.createElement(h,{payload:this.state.payload,ref:"admin_unit"});}else v=m.createElement(i,{payload:this.state.payload});return v;}});e.exports=u;},null);
__d("PagesMissions",["cx","ge","AsyncRequest","CSS","DOM","DOMScroll","Event","PagesEventObserver","URI"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){b.__markCompiled&&b.__markCompiled();var p=600,q=44,r={lastHighlighted:null,registerObjectiveClickAction:function(s,t,u,v){m.listen(s,'click',function(){n.logData_DEPRECATED(v,null);return this[t](u);}.bind(this));},clickButton:function(s){if(s)s.click();},getElementWithClass:function(s,t){var u=h(s);if(!u)return;var v=k.scry(u,t);if(v.length>0)return v[0];return null;},scrollToAndHighlight:function(s,t){if(this.lastHighlighted){j.removeClass(this.lastHighlighted,"_4n2n");this.lastHighlighted=null;}var u=this.getElementWithClass(s,t);if(u){l.scrollTo(u,p,false,false,q);j.addClass(u,"_4n2n");this.lastHighlighted=u;}},goToURI:function(s){(new o(s)).go();},callAjaxEndpoint:function(s){new i().setURI(s).send();},PagesMissionsAddProfilePictureObjectiveInfoAction:function(s){this.scrollToAndHighlight('fbPageFinchProfilePic','.profilePic');var t=this.getElementWithClass('fbPageFinchProfilePic',s.selector);this.clickButton(t);return false;},PagesMissionsAddCoverPhotoObjectiveInfoAction:function(s){this.scrollToAndHighlight('fbProfileCover','.'+"_117o");var t=this.getElementWithClass('fbProfileCover','.fbTimelineEditCoverButton');this.clickButton(t);return false;},PagesMissionsAddContactInfoObjectiveInfoAction:function(s){this.callAjaxEndpoint(s.addContactInfoDialogURI);},PagesMissionsInviteFriendsObjectiveInfoAction:function(s){this.callAjaxEndpoint(s.inviteFriendsURI);},PagesMissionsImportEmailContactsObjectiveInfoAction:function(s){this.callAjaxEndpoint(s.contactsURI);},PagesMissionsPromotePageObjectiveInfoAction:function(s){this.callAjaxEndpoint(s.promotePageURI);},registerAddContactInfoDialogResponse:function(s){s.subscribe('success',function(t,event){var u=event.data.response;if(u.payload=='close_dialog'){s.hide();this.goToURI(window.location.pathname);}}.bind(this));}};e.exports=r;},null);
__d("PagesManagerMessagesInterface",["ge","Animation","Arbiter","AsyncRequest","CSS","DOM","Event","fbt","PagesMessagingConst"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){b.__markCompiled&&b.__markCompiled();var p={init:function(q,r,s,t,u,v){m.listen(q,'click',function(){new j().setURI(o.ASYNC_ENDPOINT).setData({action:'markAllRead',pageid:u,folder:v,is_page:true}).setHandler(function(){this.notifyUpdateCompleted();}.bind(this)).send();}.bind(this));m.listen(r,'click',function(){k.toggleClass(q,'hidden_elem');k.toggleClass(s,'hidden_elem');});m.listen(s,'submit',function(){t.blur();});},applyIfVisibleOnPage:function(q,r){var s=g(q);if(s)r(s);},changeThreadSpamStatus:function(q,r,s){new j().setURI(o.ASYNC_ENDPOINT).setData({action:(s?'reportSpam':'unmarkSpam'),pageid:q,tids:r,is_page:true}).send();this.applyIfVisibleOnPage(r,this.hideElement);},changeThreadArchivedStatus:function(q,r,s,t){new j().setURI(o.ASYNC_ENDPOINT).setData({action:'tag',tag:'action:archived',state:(s?1:0),broadcast:true,pageid:q,tids:[r],is_page:true,placement:t}).send();this.applyIfVisibleOnPage(r,function(u){k.addClass(u,'archived');this.hideElement(u);}.bind(this));},changeThreadReadStatus:function(q,r,s,t){new j().setURI(o.ASYNC_ENDPOINT).setData({action:(s?'markRead':'markUnread'),pageid:q,tids:[r],is_page:true,placement:t}).send();var u=(s?k.removeClass:k.addClass);this.applyIfVisibleOnPage(r,function(v){u(v,'unread');});},hideElement:function(q){new h(q).to('opacity',0).duration(150).hide().go();},deleteMessages:function(q,r,s,t,u){var v=new j(),w={action:(q?'delete':'deleteMessages'),pageid:t,is_page:true};w['delete']=(q?'Delete Conversation':'Delete Messages');if(q){w.tids=u;}else{w.folder='inbox';w.mids=Object.keys(r);}v.setURI(o.ASYNC_ENDPOINT);v.setHandler(function(x){s();});v.setData(w);v.send();},notifyUpdateCompleted:function(){i.inform('PagesManagerLayout/refreshSection',{section:'messages'});},showMessageThread:function(q,r,s,t,u){var v=l.create('div');l.appendContent(document.body,v);new j().setURI(o.LOAD_MESSAGE_THREAD_URI).setData({folder:t,pageid:q,source:u,threadElementID:s,threadid:r}).setRelativeTo(v).send();},updateUnreadCount:function(q){i.inform('pagesManagerMessaging/messageUnreadCountUpdated',{metricCount:q});i.inform('PagesManagerLayout/updateCount',{count:q,section:'messages'});i.inform('PagesManagerLayout/updateCount',{count:q,section:'messages',subsection:'inbox'});var r=g('pageUnreadMessageCount');if(r){var s='';if(q>0)s=(q===1)?n._({"*":"{number unread messages} Unread"},[n.param("number unread messages",q,[0])]):n._({"*":"{number unread messages} Unread"},[n.param("number unread messages",q,[0])]);l.setContent(r,s);}},updatePreferences:function(q){new j().setURI(o.ASYNC_ENDPOINT).setData({action:'setPreferences',send_on_enter:q.sendOnEnter}).send();}};e.exports=p;},null);
__d("PagesManagerNavbar",["Arbiter","ChannelConstants","CSS","DOM","Event","MercuryThreadInformer","MercuryThrottler","MercuryUnreadState","MessagingTag","PagesEventObserver","PagesManagerMessagesInterface","PagesEventType","Vector","ViewportBounds","csx","cx","getStyleProperty","tidyEvent"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x){b.__markCompiled&&b.__markCompiled();var y={init:function(z,aa,ba,ca,da,ea,fa,ga){if(ga)this._setupStickyAreaAndDropshadow(aa);var ha=g.subscribe('page_transition',function(){ha.unsubscribe();this._setupStickyAreaAndDropshadow(aa);}.bind(this));this._messageCount=ba;x(g.subscribe('pagesManagerMessaging/messageUnreadCountUpdated',function(ia,ja){this._messageCount=ja.metricCount;}.bind(this)));this._registerUnreadUpdates(z,ea,fa,da);},initLogging:function(z,aa){k.listen(aa,'click',function(){var ba=Object.assign({},z);ba.event_name=r.NAV_VIEW_HELP;p.logData_DEPRECATED(ba);});},throttleQueueFlushLog:function(z){var aa=z.flushMetrics;if(aa)p.logData_DEPRECATED({page_id:aa.fbid,event_name:r.REALTIME_PAYLOAD_FLUSH,payload_type:aa.type,message_count:aa.flushed_message_count,min_threshold_duration:aa.min_threshold_duration,queue_reset_duration:aa.queue_reset_duration});},realtimePayloadDeliveredLog:function(z){var aa=z.pageId,ba=z.type;p.logData_DEPRECATED({page_id:aa,event_name:r.REALTIME_PAYLOAD_DELIVER,payload_type:ba});},_registerUnreadUpdates:function(z,aa,ba,ca){var da=h.getArbiterType('pages_inbox_count_update'),ea='unread-updated',fa=m.getForFBID(z);fa.setMinThresholdDuration(aa);fa.setQueueResetDuration(ba);if(ca){fa.registerHandlerType(ea,function(ia,ja){var ka=ha.getUnreadCount(o.INBOX);q.updateUnreadCount(ka);this.realtimePayloadDeliveredLog({pageId:z,type:ia});}.bind(this),this.throttleQueueFlushLog);var ga=l.getForFBID(z),ha=n.getForFBID(z);ga.subscribe(ea,function(ia,ja){return fa.notifyHandler({type:ia,payload:ja});});}else{fa.registerHandlerType(da,function(ia,ja){q.updateUnreadCount(ja.inbox_unread);this.realtimePayloadDeliveredLog({pageId:z,type:ia});}.bind(this),function(ia){g.inform('PagesManagerLayout/refreshSection',{section:'messages'});this.throttleQueueFlushLog(ia);}.bind(this));x(g.subscribe(da,function(ia,ja){return m.getForFBID(ja.page_id).notifyHandler({type:ia,payload:ja});}));}},_setupStickyAreaAndDropshadow:function(z){if(this._instance==z)return;this._instance=z;var aa=z._node.firstChild,ba=aa.getBoundingClientRect().height,ca=t.getTop();z.setOffset(ca);t.addTop(ca+ba);var da=parseInt(w(aa,'marginBottom'),10)+1;this._event=x(k.listen(window,'scroll',function(){z.setOffset(t.getTop()-ba);var ea=j.scry(document,"div._525w");if(ea.length)return;i.conditionClass(aa,"_c7_",s.getScrollPosition().y>da);}));}};e.exports=y;},null);
__d("ContextualDialogLockOnClick",["Event","LayerHideOnBlur","SubscriptionsHandler"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j=1000;function k(l){"use strict";this.$ContextualDialogLockOnClick0=l;}k.prototype.enable=function(){"use strict";this.$ContextualDialogLockOnClick1=new i();this.$ContextualDialogLockOnClick1.addSubscriptions(this.$ContextualDialogLockOnClick0.subscribe('show',this.$ContextualDialogLockOnClick2.bind(this)),this.$ContextualDialogLockOnClick0.subscribe('hide',this.$ContextualDialogLockOnClick3.bind(this)),g.listen(this.$ContextualDialogLockOnClick0.getRoot(),'click',this.$ContextualDialogLockOnClick4.bind(this)),g.listen(this.$ContextualDialogLockOnClick0.getCausalElement(),'click',this.$ContextualDialogLockOnClick5.bind(this)));};k.prototype.disable=function(){"use strict";this.$ContextualDialogLockOnClick0.unlockHover();this.$ContextualDialogLockOnClick1.release();};k.prototype.$ContextualDialogLockOnClick2=function(){"use strict";if(this.$ContextualDialogLockOnClick0.hasBehavior(h)){this.$ContextualDialogLockOnClick0.disableBehavior(h);setTimeout(this.$ContextualDialogLockOnClick0.enableBehavior.bind(this.$ContextualDialogLockOnClick0,h),j);}};k.prototype.$ContextualDialogLockOnClick3=function(){"use strict";this.$ContextualDialogLockOnClick0.unlockHover();};k.prototype.$ContextualDialogLockOnClick4=function(){"use strict";this.$ContextualDialogLockOnClick0.lockHover();};k.prototype.$ContextualDialogLockOnClick5=function(){"use strict";this.$ContextualDialogLockOnClick0.lockHover();this.$ContextualDialogLockOnClick0.show();};e.exports=k;},null);
__d("PagesManagerSpringboardResponseTimeHelper",["invariant","fbt"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i={getSpringBoardFbtText:function(j,k){if(!j||!k||j===0)return null;var l=j>1?k+"s":k;switch(k){case "day":return (h._({"day":"{time} day","days":"{time} days"},[h.param("time",j),h['enum'](l,{day:"day",days:"days"})]));case "hour":return (h._({"hour":"{time} hour","hours":"{time} hours"},[h.param("time",j),h['enum'](l,{hour:"hour",hours:"hours"})]));case "minute":return (h._({"minute":"{time} minute","minutes":"{time} minutes"},[h.param("time",j),h['enum'](l,{minute:"minute",minutes:"minutes"})]));case "second":return (h._({"second":"{time} second","seconds":"{time} seconds"},[h.param("time",j),h['enum'](l,{second:"second",seconds:"seconds"})]));default:g(false);}}};e.exports=i;},null);
__d("PagesManagerSpringboardMetric.react",["ContextualDialogLockOnClick","ContextualLayerHideOnScroll","SpectrumIntegerScale","LayerFadeOnHide","LayerFadeOnShow","LayerHideOnTransition","LayerHideOnBlur","LayerHideOnEscape","LayerRemoveOnHide","Link.react","PagesManagerSpringboardResponseTimeHelper","React","ReactLayeredComponentMixin","Style","UIPagelet","Vector","XUIContextualDialog.react","XUISpinner.react","XUIText.react","cx","fbt","ge"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba){b.__markCompiled&&b.__markCompiled();var ca=r,da=ca.PropTypes,ea=30*1000,fa=300,ga=1e+06,ha=500,ia=25,ja=r.createClass({displayName:"PagesManagerSpringboardMetric",mixins:[s],propTypes:{adjustFlyoutPositionOnload:da.bool,count:da.number.isRequired,unit:da.oneOf(['day','hour','minute','second']),secondaryCount:da.number,itemKey:da.string.isRequired,flyoutWidth:da.number,label:da.string.isRequired,onFlyoutToggle:da.func,pagelet:da.object,hasFlyout:da.bool,showFlyout:da.bool,displayType:da.oneOf(['number','percent','ratio','time']),href:da.object},getDefaultProps:function(){return {hasFlyout:true,displayType:'number',unit:null};},getInitialState:function(){return {count:0};},componentDidMount:function(){this._onToggle(this.props.showFlyout);this._animateToNewCount(this.props.count);},componentWillReceiveProps:function(ka){if(ka.count!==this.props.count||ka.secondaryCount!==this.props.secondaryCount){this._expireCache();this._animateToNewCount(ka.count);}},render:function(){var ka;if(this.props.displayType==='percent'){ka=this._convertCountToPercentage();}else if(this.props.displayType==='ratio'){ka=aa._("{numerator} of {denominator}",[aa.param("numerator",Math.round(this.state.count)),aa.param("denominator",this.props.secondaryCount)]);}else if(this.props.displayType==='time'){ka=q.getSpringBoardFbtText(this.props.count,this.props.unit);}else{ka=Math.round(this.state.count);if(ka>=ga){ka=i().tickFormat()(ka);}else ka=i().tooltipFormat()(ka);}var la;if(this.props.hasFlyout){la=r.createElement(p,r.__spread({},this.props,{ref:"metric"}),r.createElement("span",{className:"_5vh0"},ka),r.createElement("span",{className:"_5vh1"},this.props.label));}else la=r.createElement(y,{size:"medium",display:"block",ref:"metric"},r.createElement("span",{className:"_5vh0"},ka),r.createElement("span",{className:"_xep"},this.props.label));return (r.createElement("li",{className:"_5vg_"},la));},renderLayers:function(){if(!this.props.hasFlyout)return null;return {metricsFlyout:r.createElement(w,{autoFocus:true,behaviors:{ContextualDialogLockOnClick:g,ContextualLayerHideOnScroll:h,LayerFadeOnHide:j,LayerFadeOnShow:k,LayerHideOnTransition:l,LayerHideOnBlur:m,LayerHideOnEscape:n,LayerRemoveOnHide:o},contextRef:function(){return this.refs.metric;}.bind(this),hoverContext:r.findDOMNode(this.refs.metric),hoverShowDelay:fa,onToggle:this._onToggle,position:"left",shown:this.props.showFlyout,width:this.props.flyoutWidth},r.createElement("div",{className:"_5x0l autofocus",ref:"flyout"},r.createElement("div",{className:"_5x0m"},r.createElement(x,{size:"large"}))))};},_expireCache:function(){this._cacheExpires=0;},_onToggle:function(ka){if(this.props.onFlyoutToggle)this.props.onFlyoutToggle(ka,this.props.itemKey);if(!this.props.hasFlyout)return;if(ka){var la=Date.now();if(la>(this._cacheExpires||0)){this._cacheExpires=la+ea;u.loadFromEndpoint(this.props.pagelet.name,r.findDOMNode(this.refs.flyout),this.props.pagelet.data,this.props.adjustFlyoutPositionOnload?{handler:this._onFlyoutLoad}:null);}}},_onFlyoutLoad:function(){var ka=ba('pagesManagerSpringboard');if(!ka)return;var la=v.getElementPosition(r.findDOMNode(this.refs.metric)),ma=v.getElementPosition(ka),na=la.y-ma.y,oa=v.getElementDimensions(r.findDOMNode(this.refs.flyout)).y;if(na<oa)t.set(r.findDOMNode(this.refs.flyout).offsetParent,'top',-na+'px');},_animateToNewCount:function(ka){var la=ha/ia,ma=ka-this.state.count,na=ma/la,oa=0,pa=setInterval(function(){if(++oa>=la){clearInterval(pa);return this.setState({count:ka});}var qa=this.state.count+na;this.setState({count:qa});}.bind(this),ia);},_convertCountToPercentage:function(){return (aa._("{percentage}\u0025",[aa.param("percentage",Math.round(this.state.count*100))]));}});e.exports=ja;},null);
__d("XPagesManagerMessagesController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/{page_token}\/messages\/",{folder:{type:"String"},section:{type:"String"},subsection:{type:"String"},threadid:{type:"String"},mercurythreadid:{type:"String"},index:{type:"Int"},initialClientFilter:{type:"String"},page_token:{type:"String",required:true},business_id:{type:"Int"}});},null);
__d("PagesManagerSpringboard.react",["AdsCallToActionTypes","Arbiter","BizSiteIdentifier.brands","BoostedPagelikeConstants","BoostedActionType","CctaDataStore","CctaStore","CustomCTAConstants","CustomCTAUtils","CctaConfirmationDialog.react","d3/time/day","DOM","ge","HubbleConstants","HubbleContext","InsightsUtils","MercuryPagesChannelHandler","PagesManagerSpringboardMetric.react","PagesInsightsDataDispatcher","PagesInsightsDataPayloadTypes","PagesInsightsGating","PagesInsightsPageDataStore","React","ReactLayeredComponentMixin","tidyEvent","XPagesManagerMessagesController","cx","fbt","invariant","mapObject","formatDate","PagesMessagingConst"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka){b.__markCompiled&&b.__markCompiled();var la=ca,ma=la.PropTypes,na=b('PagesMessagingConst'),oa=na.UNANSWERED_FILTER,pa=430,qa={LOCAL_AD_CALL_TO_ACTION_CLICKS:'local_ad_call_to_action_clicks',ADS_RUNNING:'ads_running',CALL_TO_ACTION:'call_to_action',PAGE_LIKES:'page_likes',POST_ENGAGEMENT:'post_engagement',POST_REACH:'post_reach',QRCODE_SCANS:'qrcode_scans',RESPONSE_RATE:'response_rate',RESPONSE_TIME:'response_time'},ra=ca.createClass({displayName:"PagesManagerSpringboard",mixins:[da],propTypes:{context:ma.object,pageInfo:ma.object.isRequired,canSeePageLikeAds:ma.bool,canSeePageLocalAwarenessAds:ma.bool,canSeePagePostAds:ma.bool,activePageLikeAds:ma.number,activePageLocalAwarenessAds:ma.number,activeBoostedPostAds:ma.number,callToActionClicks:ma.number,callToActionPaidClicks:ma.number,hasCallNowCallToActionEnabled:ma.bool,localAdCallToActionClicks:ma.number,currentLocalAdCallToActionType:ma.string,canSeeMessages:ma.bool,canSeeInsights:ma.bool,canSeeLabelFans:ma.bool,initialCallToActionTypes:ma.string,initalCanSeeCallToAction:ma.bool,newCctaDialogEligible:ma.bool.isRequired,newLikesCount:ma.number,qrId:ma.number,qrScansCount:ma.number,responseRate:ma.number,responseTime:ma.number,responseTimeUnit:ma.string,canSeeResponseRate:ma.bool.isRequired,canSeeResponseTime:ma.bool.isRequired,pageURIToken:ma.string.isRequired},getDefaultProps:function(){return {canSeeResponseRate:false,canSeeResponseTime:false};},getInitialState:function(){var sa=ja(this.props.mostRecentTimes,function(wa){return v.pacificSecondsToUTCDate(wa);}),ta=new Date(Math.min(sa[t.PIPELINE_DAILY],sa[t.PIPELINE_WEEKLY])),ua=q.utc.offset(ta,-7),va=ba.getPageData(this.props.pageInfo.id);return Object.assign({activeFlyoutKey:null,callToActionClicks:0,callToActionPaidClicks:0,CallToActionTypes:this.props.initialCallToActionTypes,canSeeLocalAdCallToActionClicks:this.props.canSeePageLocalAwarenessAds,canSeeCallToAction:this.props.initialCanSeeCallToAction,activePageLikeAds:this.props.activePageLikeAds||0,activeBoostedPostAds:this.props.activeBoostedPostAds||0,insightSince:ua,insightUntil:ta,likesWeekly:0,postEngagementWeekly:0,postReachWeekly:0},va);},componentWillMount:function(){if(this.props.canSeeMessages){var sa=s('pages_manager_flyout_messages');if(sa)r.remove(sa);w.getForFBID(this.props.pageInfo.id).turnOn();}if(this.props.newCctaDialogEligible){l.addListener(function(event){if(event===l.CHANGE_EVENT&&l.isInitialized(this.props.pageInfo.id))this.setState({canSeeCallToAction:!!l.getData().cctaID,CallToActionTypes:l.getData().ctaType});}.bind(this));}else m.subscribe('change',function(){if(m.isInitialized()&&m.getIsUpdate())this.setState({canSeeCallToAction:!!m.getData().cctaID,CallToActionTypes:m.getData().ctaType});}.bind(this));ba.addListener(function(){var ta=ba.getPageData(this.props.pageInfo.id);this.setState({likesWeekly:ta.likesWeekly||this.state.likesWeekly,postEngagementWeekly:ta.postEngagementWeekly||this.state.postEngagementWeekly,postReachWeekly:ta.postReachWeekly||this.state.postReachWeekly});}.bind(this));},componentDidMount:function(){u.setContext(this.props.context);if(this.props.canSeeInsights)y.dispatch({pageID:this.props.pageInfo.id,type:z.REQUEST_PAGE_ADMIN_SUMMARY_DATA});if(this.props.canSeePageLikeAds)ea(h.subscribe(j.PANEL_STATUS_CHANGE_FINISH,function(sa,ta){var ua=ta.active?1:0;if(this.state.activePageLikeAds!==ua&&ta.action_type===k.PAGELIKE)this.setState({activeFlyoutKey:qa.PAGE_LIKES,activePageLikeAds:ua});}.bind(this)));ea(h.subscribe(n.SHOW_FLYOUT,function(sa,ta){this.setState({activeFlyoutKey:qa.CALL_TO_ACTION});}.bind(this)));},renderLayers:function(){if(m.getConfirmationDialog())return (ca.createElement(p,{createButton:this.refs.ctaSpringBoard,pageid:this.props.pageInfo.id}));},render:function(){var sa=[];sa.push(this._renderAds());if(!aa.hasAdminSummaryLikesRemoveTest)sa.push(this._renderNewLikes());sa.push(this._renderPostReach());if(aa.hasAdminSummaryLikesRemoveTest)sa.push(this._renderPostEngagement());sa.push(this._renderQRScans());sa.push(this._renderCallToAction());sa.push(this._renderLocalAdCallToActionClicks());sa.push(this._renderResponseRate());sa.push(this._renderResponseTime());var ta=false;for(var ua=0;ua<sa.length;ua++)if(sa[ua]!==null){ta=true;break;}if(!ta)return null;sa.unshift(ca.createElement("div",{key:"title",className:"_5vg-"},ca.createElement("h4",null,ha._("This week"))));return (ca.createElement("div",{className:"_5vgz",id:"pagesManagerSpringboard"},sa));},_renderAds:function(){if(!this.props.showAdsRunning||(!this.props.canSeePageLikeAds&&!this.props.canSeePagePostAds))return null;var sa=(this.props.canSeePageLikeAds?this.state.activePageLikeAds:0)+(this.props.canSeePagePostAds?this.state.activeBoostedPostAds:0);return (ca.createElement("ul",{key:"ads"},ca.createElement(x,{itemKey:qa.ADS_RUNNING,showFlyout:this.state.activeFlyoutKey===qa.ADS_RUNNING,onFlyoutToggle:this._onFlyoutToggle,pagelet:{name:'PagesManagerSpringboardActiveAdsPagelet',data:{page_id:this.props.pageInfo.id,page_like_eligible:this.props.canSeePageLikeAds,page_post_eligible:this.props.canSeePagePostAds,active_boosted_post_ads:this.state.activeBoostedPostAds}},flyoutWidth:290,count:sa,label:ha._({"Ad":"Ad Running","Ads":"Ads Running"},[ha['enum'](this.state.activeAdCount===1?'Ad':'Ads',{Ad:"Ad",Ads:"Ads"})])})));},_renderNewLikes:function(){var sa=this.props.pageInfo,ta=this.props.canSeeLabelFans?372:290,ua=q.utc.offset(this.state.insightUntil,-1),va=0;if(this.props.canSeeInsights){va=this.state.likesWeekly;}else va=this.props.newLikesCount;return (ca.createElement("ul",{key:"new_likes"},ca.createElement(x,{itemKey:qa.PAGE_LIKES,showFlyout:this.state.activeFlyoutKey===qa.PAGE_LIKES,onFlyoutToggle:this._onFlyoutToggle,pagelet:{name:'PagesManagerSpringboardNewLikesPagelet',data:{page_id:sa.id,count:va,width:ta,since:ka(this.state.insightSince,'m/d/Y',{utc:true}),until:ka(ua,'m/d/Y',{utc:true}),since_timestamp:v.dateToSeconds(this.state.insightSince)}},flyoutWidth:ta,count:va,label:ha._({"Like":"Page Like","Likes":"Page Likes"},[ha['enum'](this.state.likesWeekly===1?'Like':'Likes',{Like:"Like",Likes:"Likes"})])})));},_renderPostReach:function(){if(!this.props.canSeeInsights)return null;var sa=this.props.pageInfo,ta=q.utc.offset(this.state.insightUntil,-1);return (ca.createElement("ul",{key:"post_reach"},ca.createElement(x,{itemKey:qa.POST_REACH,showFlyout:this.state.activeFlyoutKey===qa.POST_REACH,onFlyoutToggle:this._onFlyoutToggle,pagelet:{name:'PagesManagerSpringboardPostReachPagelet',data:{page_id:sa.id,context:this.props.context,since:ka(this.state.insightSince,'m/d/Y',{utc:true}),until:ka(ta,'m/d/Y',{utc:true})}},flyoutWidth:624,count:this.state.postReachWeekly,label:ha._("Post Reach")})));},_renderPostEngagement:function(){if(!this.props.canSeeInsights)return null;var sa=this.props.pageInfo,ta=q.utc.offset(this.state.insightUntil,-1);return (ca.createElement("ul",{key:"post_engagement"},ca.createElement(x,{itemKey:qa.POST_ENGAGEMENT,showFlyout:this.state.activeFlyoutKey===qa.POST_ENGAGEMENT,onFlyoutToggle:this._onFlyoutToggle,pagelet:{name:'PagesManagerSpringboardPostEngagementPagelet',data:{page_id:sa.id,context:this.props.context,since:ka(this.state.insightSince,'m/d/Y',{utc:true}),until:ka(ta,'m/d/Y',{utc:true})}},flyoutWidth:624,count:this.state.postEngagementWeekly,label:ha._("Post Engagement")})));},_renderQRScans:function(){if(!this.props.hasValidQRCode)return null;var sa=this.props.qrScansCount,ta=430,ua=q.utc.offset(this.state.insightUntil,-1);return (ca.createElement("ul",{key:"qr_scans"},ca.createElement(x,{itemKey:qa.QRCODE_SCANS,showFlyout:this.state.activeFlyoutKey===qa.QRCODE_SCANS,onFlyoutToggle:this._onFlyoutToggle,pagelet:{name:'PagesManagerSpringboardQRScansPagelet',data:{page_id:this.props.pageInfo.id,qr_id:this.props.qrId,since:ka(this.state.insightSince,'m/d/Y',{utc:true}),since_timestamp:v.dateToSeconds(this.state.insightSince),until:ka(ua,'m/d/Y',{utc:true})}},flyoutWidth:ta,count:sa,label:ha._({"Scan":"QRCode Scan","Scans":"QRCode Scans"},[ha['enum'](sa===1?'Scan':'Scans',{Scan:"Scan",Scans:"Scans"})])})));},_renderCallToAction:function(){if(!this.state.canSeeCallToAction)return null;return (ca.createElement("ul",{key:"cta"},ca.createElement(x,{ref:"ctaSpringBoard",itemKey:qa.CALL_TO_ACTION,showFlyout:this.state.activeFlyoutKey===qa.CALL_TO_ACTION,onFlyoutToggle:this._onFlyoutToggle,pagelet:{name:'PagesManagerSpringboardCallToActionPagelet',data:{page_id:this.props.pageInfo.id}},count:this.props.callToActionClicks+this.props.callToActionPaidClicks,flyoutWidth:328,label:o.getCallToActionLabel(this.state.CallToActionTypes)})));},_renderLocalAdCallToActionClicks:function(){if(!this.props.hasCallNowCallToActionEnabled||!this.state.canSeeLocalAdCallToActionClicks||!this.props.currentLocalAdCallToActionType)return null;var sa=this._getCTAClicksCounterLabel(this.props.currentLocalAdCallToActionType);return (ca.createElement("ul",{key:"ads_cta"},ca.createElement(x,{itemKey:qa.LOCAL_AD_CALL_TO_ACTION_CLICKS,showFlyout:this.state.activeFlyoutKey===qa.LOCAL_AD_CALL_TO_ACTION_CLICKS,onFlyoutToggle:this._onFlyoutToggle,pagelet:{name:'PagesManagerSpringboardLocalAdCallToActionClicksPagelet',data:{page_id:this.props.pageInfo.id}},count:this.props.localAdCallToActionClicks,flyoutWidth:328,label:sa})));},_getCTAClicksCounterLabel:function(sa){var ta=g.TYPES[sa];ia(ta);var ua;switch(ta){case g.TYPES.MESSAGE_PAGE:ua=ha._("Send Message Clicks");break;default:ua=ta.text;break;}return ua;},_renderResponseRate:function(){if(!this.props.canSeeResponseRate||this.props.responseRate===null)return null;var sa=this.props.showRatio?this.props.numConversations:this.props.responseRate,ta=(ha._("Response Rate"));return this._renderResponseComponent(qa.RESPONSE_RATE,this.props.showRatio?'ratio':'percent',sa,null,this.props.numThreads,ta);},_renderResponseTime:function(){if(!this.props.canSeeResponseTime||this.props.responseTime===null||this.props.responseTimeUnit===null)return null;var sa=(ha._("Response Time"));return this._renderResponseComponent(qa.RESPONSE_TIME,'time',this.props.responseTime,this.props.responseTimeUnit,null,sa);},_renderResponseComponent:function(sa,ta,ua,va,wa,xa){var ya=fa.getURIBuilder().setString('page_token',this.props.pageURIToken).setString('initialClientFilter',oa).getURI();return (ca.createElement("ul",{key:sa},ca.createElement(x,{itemKey:sa,showFlyout:this.state.activeFlyoutKey===sa,onFlyoutToggle:this._onFlyoutToggle,adjustFlyoutPositionOnload:true,pagelet:{name:'PagesManagerSpringboardMessagesPagelet',data:{business_id:i.getBusinessID(),page_id:this.props.pageInfo.id,initialClientFilter:oa}},displayType:ta,flyoutWidth:pa,count:ua,unit:va,secondaryCount:wa,label:xa,href:ya})));},_onFlyoutToggle:function(sa,ta){if(sa){this.setState({activeFlyoutKey:ta});}else if(this.state.activeFlyoutKey===ta)this.setState({activeFlyoutKey:null});}});e.exports=ra;},null);