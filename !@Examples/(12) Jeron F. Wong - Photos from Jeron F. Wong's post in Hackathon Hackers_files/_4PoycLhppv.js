/*!CK:843139811!*//*1438965997,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["VZqwS"]); }

__d("BrowseLogger",["Banzai","mapObject","Run"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j='browse',k='browse_aggr',l=null,m={},n={},o=function(w){if(w==null)return 'undefined';var x=w.tagName.toLowerCase(),y=w.id,z=w.className;if(y)x+='#'+y;if(z)x+='.'+z;return x;};function p(){l=null;m={};n={};}function q(w){return Object.assign(w,{clientSessionID:l});}function r(w){g.post(j,q(w));}function s(){if(l===null)return;n.aggregated=m;g.post(k,q(n));p();}function t(w){m[w]=(m[w]||0)+1;}function u(w){Object.assign(n,w);}i.onUnload(s);var v={newSession:function(){s();l=Math.random().toString();if(!n.start_time)n.start_time=Math.round(Date.now()/1000);},logResultClick:function(w,x,y,z,aa){var ba={action:'result_click',click_type:w.ct||'result',section:w.section||'unknown',id:w.id||0,path:w.path||'unknown',rank:w.rank||0,referrer:w.referrer||'unknown',result_type:w.result_type||'unknown',session_id:w.session_id||0,query_time:w.query_time,abtest_version:w.abtest_version||'NONE',abtest_params:w.abtest_params,typeahead_sid:w.typeahead_sid||'',result_title:w.result_title||'unknown',result_href:w.result_href||'unknown',result_semantic:w.result_semantic||'unknown',type:w.experience_type||'unknown',click_action:y,sub_id:w.sub_id,owner_id:w.owner_id,browse_location:w.browse_location||'unknown',query_data:w.query_data||'unknown',is_headline:w.is_headline||false,qid:x.qid||0,mf_story_key:x.mf_story_key||0,module:w.module||'NONE',view:w.view,clicked_href:aa};if(x.tn)ba.tn=x.tn;if(w.cst)ba.click_subtype=w.cst;t('result_click_'+ba.click_type);u({path:ba.path,referrer:ba.referrer,result_type:ba.result_type,session_id:ba.session_id,abtest_version:ba.abtest_version,abtest_params:ba.abtest_params,typeahead_sid:ba.typeahead_sid});r(ba);if(!w.id&&(w.browse_location!=='browse_location:mf_trending'))r({action:'logging_error',click_action:y,click_type:ba.click_type,attributes:JSON.stringify(w),element:h({srcElement:z.srcElement,target:z.target,toElement:z.toElement},o),event:{button:z.button,clientX:z.clientX,clientY:z.clientY,ctrlKey:z.ctrlKey,layerX:z.layerX,layerY:z.layerY,offsetX:z.offsetX,offsetY:z.offsetY,pageX:z.pageX,pageY:z.pageY,screenX:z.screenX,screenY:z.screenY,shiftKey:z.shiftKey,type:z.type,x:z.x,y:z.y}});},logControlsClick:function(w,x){var y={action:'controls_click',click_type:x,path:w.path||'unknown',referrer:w.referrer||'unknown',session_id:w.session_id||0,query_time:w.query_time,filter_name:w.name||'unknown',typeahead_sid:w.typeahead_sid||'',result_type:w.result_type||'unknown',type:w.experience_type||'unknown'};if(w.cst)y.click_subtype=w.cst;t('controls_click_'+x);u({path:y.path,referrer:y.referrer,session_id:y.session_id,typeahead_sid:y.typeahead_sid});r(y);},logResultHover:function(w,x){var y={action:'result_hover',id:w.id||0,path:w.path||'unknown',rank:w.rank,result_type:w.result_type||'unknown',session_id:w.session_id||0,query_time:w.query_time,time_elapsed:x,typeahead_sid:w.typeahead_sid||0,type:w.experience_type||'unknown',module:w.module||'NONE',view:w.view};t('result_hover');u({path:y.path,session_id:y.session_id,typeahead_sid:y.typeahead_sid});r(y);},logScroll:function(w,x,y,z){var aa={action:'scroll',encoded_query:w,fragments:x,position:y,session_id:z||0};r(aa);},logNUXStep:function(w){var x={action:'nux_step',step:w};r(x);},logDisambiguationImpression:function(w,x,y,z,aa){var ba={action:'disambiguation_imp',ids:z,name:w,path:y,type:x,typeahead_sid:aa};r(ba);},logDisambiguationClick:function(w,x,y,z,aa,ba){var ca={action:'disambiguation_clk',id:aa,index:z,name:w,path:y,type:x,typeahead_sid:ba};r(ca);},logDYMLinkClick:function(w,x,y,z){var aa={action:'dym_click',path:w.path||'unknown',referrer:w.referrer||'unknown',session_id:w.session_id||0,query_time:w.query_time,abtest_version:w.abtest_version||'NONE',abtest_params:w.abtest_params,typeahead_sid:w.typeahead_sid||'',type:w.experience_type||'unknown',click_action:y,sub_id:w.sub_id,owner_id:w.owner_id,browse_location:w.browse_location||'unknown',query_data:w.query_data||'unknown',module:w.module||'NONE',view:w.view,dym_confidence:w.dym_confidence||'NONE',dym_query:w.dym_query||'',dym_correction:w.dym_correction||'',dym_clicked:w.dym_clicked||''};r(aa);}};e.exports=v;},null);
__d("BrowseClickLogger",["Event","BrowseLogger","BrowseClientEventLogger","collectDataAttributes","DOMQuery"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();function l(n,o){var p=n.target,q=j(p,['bt','ft','gt']);q.gt.click_type=q.ft.tn;i.logClick(q.gt);if(k.scry(p,'^.recourse-link').length>0){if(o==='left_click')h.logDYMLinkClick(q.bt,q.ft,o,n);}else h.logResultClick(q.bt,q.ft,o,n,p.href);}var m={init:function(n){g.listen(n,'mousedown',function(o){var p=(o.button===2||o.which===3)?'right_click':'left_click';if(o.shiftKey)p+='_shift';if(o.altKey)p+='_alt';if(o.metaKey||o.ctrlKey)p+='_ctrl';l(o,p);}.bind(this));}};e.exports=m;},null);
__d("BrowseResultsAreSlow",["CSS"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h=1500,i={register:function(j,k,l){var m=l?0:h;setTimeout(function(){if(j.firstChild===k)g.show(k);},m);}};e.exports=i;},null);
__d("BrowseScrollLogger",["BrowseLogger","Event","getUnboundedScrollPosition","throttle"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k=200;function l(m,n,o){"use strict";this.$BrowseScrollLogger0=m;this.$BrowseScrollLogger1=n;this.$BrowseScrollLogger2=0;this.$BrowseScrollLogger3=1;this.$BrowseScrollLogger4=o;h.listen(window,'scroll',j(this.$BrowseScrollLogger5,100,this));}l.prototype.$BrowseScrollLogger5=function(){"use strict";this.$BrowseScrollLogger2=i(window).y;if(this.$BrowseScrollLogger2/this.$BrowseScrollLogger3>k){this.$BrowseScrollLogger3++;g.logScroll(this.$BrowseScrollLogger0,this.$BrowseScrollLogger1,this.$BrowseScrollLogger2,this.$BrowseScrollLogger4);}};l.init=function(m,n,o){"use strict";return new l(m,n,o);};e.exports=l;},null);
__d("BrowseWindowTransitions",["Arbiter","Banzai","BrowseClientEventLogger","Event","NavigationMessage","Run","SubscriptionsHandler"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();var n={init:function(o,p){this.subscriptions=new m();this.currentSessionID=o;this.currentVertical=p;this.logData('window_load');l.onLeave(function(){this.logData('window_transition_to_fb_page');this.cleanup();}.bind(this));if(!this.unLoadAttached){this.unLoadAttached=true;l.onUnload(function(){this.logData('window_unloaded');}.bind(this));}this.subscriptions.addSubscriptions(j.listen(window,'focus',function(){this.logData('window_focus');}.bind(this)),j.listen(window,'blur',function(){this.logData('window_blur');}.bind(this)),g.subscribe('pre_page_transition',function(event,q){this.logData('window_pre_page_transition');}.bind(this)),g.subscribe(k.NAVIGATION_BEGIN,function(event,q){this.logData('window_transition_to_LHC');this.cleanup();}.bind(this)),g.subscribe('BlueBar/homeClick',function(){this.logData('window_transition_to_home_click');this.cleanup();}.bind(this)));},logData:function(event){i.logData(event,this.currentSessionID,this.currentVertical);},cleanup:function(){this.subscriptions.release();}};e.exports=n;},null);
__d("NodeHighlighter",["DOM","TokenizeUtil","concatMap","createArrayFromMixed","escapeRegex","getElementText"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();var m={};function n(q,r){var s=l(q).split(r),t=s.map(function(u){if(r.test(u))return o(u);return u||'';});return s.length>1?t:null;}function o(q){var r=g.create('span',{'class':'highlightNode',className:'highlightNode'},q);return r;}var p={getTextNodes:function(q){if(this.isLeafNode(q)||this.isStopNode(q)){return q;}else if(this.isDiscardNode(q))return [];return i(this.getTextNodes.bind(this),j(q.childNodes));},getHighlightCandidates:function(){return [];},isLeafNode:function(q){return g.isTextNode(q);},isStopNode:function(q){return false;},isDiscardNode:function(q){return false;},createSegmentedRegex:function(q){var r=h.getPunctuation();q=this.escapeAndAddBidirectionalCharsToTokens(q);q=q.map(function(s){s=s.split(/\s+/).join(("(?:"+r+"|\\s)+"));return s;});return '(^|\\s|'+r+')('+q.join('|')+')(?=(?:$|\\s|'+r+'))';},createNonSegmentedRegex:function(q){return '('+q.map(k).join('|')+')';},escapeAndAddBidirectionalCharsToTokens:function(q){var r='[\\u200E\\u200F\\u202A\\u202B\\u202C\\u202D\\u202E]*';return q.map(function(s){return r+String(s).split('').map(k).join(r)+r;});},createRegex:function(q){q=q.filter(function(x){return x;});if(!q||q.length===0)return new RegExp(null);var r=q.join('|');if(m[r])return m[r];var s=/[\u0E00-\u109F\u2000-\uFFFF]/,t=[],u=[];q.forEach(function(x){if(s.test(x)){u.push(x);}else t.push(x);});var v='';if(t.length){v+=this.createSegmentedRegex(t);v+=(u.length)?'|':'';}if(u.length)v+=this.createNonSegmentedRegex(u);var w=new RegExp(v,'i');m[r]=w;return w;},searchNodes:function(q,r){return g.scry(q,r);},highlight:function(q,r){r=r.filter(function(u){return u;});if(!r||r.length===0||!q)return;var s=i(function(u){return i(this.getTextNodes.bind(this),this.searchNodes(q,u));}.bind(this),this.getHighlightCandidates()),t=this.createRegex(r);s.forEach(function(u){var v=n(u,t);if(v)if(this.isStopNode(u)){g.setContent(u,v);}else g.replace(u,v);}.bind(this));}};e.exports=p;},null);
__d("StaticContainer.react",["React"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h=g.Component;for(var i in h)if(h.hasOwnProperty(i))k[i]=h[i];var j=h===null?null:h.prototype;k.prototype=Object.create(j);k.prototype.constructor=k;k.__superConstructor__=h;function k(){"use strict";if(h!==null)h.apply(this,arguments);}k.prototype.shouldComponentUpdate=function(l){"use strict";return !!l.shouldUpdate;};k.prototype.render=function(){"use strict";var l=this.props.children;if(l===null||l===false)return null;return g.Children.only(l);};e.exports=k;},null);
__d("FacebarTypeaheadV2",["CSS","csx","cx","DOM","Event","Parent"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();var m={init:function(n){this._view=n.getView();this._root=l.byClass(n.getElement(),"_585-");this._button=j.find(this._root,"._4w98");this._core=n.getCore();k.listen(this._button,'click',this.buttonDownAndClick.bind(this));k.listen(this._button,'mousedown',this.buttonDownAndClick.bind(this));k.listen(this._button,'mouseup',this.buttonUp.bind(this));this._core.subscribe('open',this.showButton.bind(this));this._core.subscribe('close',this.hideButton.bind(this));},showButton:function(){g.addClass(this._button,"_4w97");},hideButton:function(){if(g.hasClass(this._button,"_4w97"))g.removeClass(this._button,"_4w97");},buttonDownAndClick:function(event){event.preventDefault();},buttonUp:function(){if(!this._core.isFocused){this._core.focusInput();}else{var n=-1;this._core.submitQuery(n);}}};e.exports=m;},null);
__d("SearchCommentHighlighter",["Arbiter","CSS","NodeHighlighter","Parent","csx"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l='data-highlight-tokens',m=Object.assign({},i,{_enableCommentHighlighting:function(){if(this._subscription)return;this._subscription=g.subscribe('ufi/changed',function(n,o){var p=o.form;return this._highlightComments(p);}.bind(this));g.subscribeOnce('pre_page_transition',function(){return this._disableCommentHighlighting();}.bind(this));},_disableCommentHighlighting:function(){this._subscription.unsubscribe();this._subscription=null;},_highlightComments:function(n){var o=this._getHighlightTokens(n);if(o)i.highlight.call(this,n,o);},_getHighlightTokens:function(n){var o=j.byAttribute(n,l);return o?JSON.parse(o.getAttribute(l)):null;},isDiscardNode:function(n){return h.hasClass(n,'highlightNode');},getHighlightCandidates:function(){return [".UFICommentContent"];},highlight:function(n,o){if(!n.setAttribute)return;n.setAttribute(l,JSON.stringify(o));this._enableCommentHighlighting();}});e.exports=m;},null);
__d("FbFeedHighlighter",["CSS","NodeHighlighter","SearchCommentHighlighter","csx","cx"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l="_58cn",m=Object.assign({},h,{getHighlightCandidates:function(){return ["._5pbw","._5pbx","._6m6","._6m7","._59tj","._5b-_","._5b_0","._4_j6",".commentBody","._g2z","._6lc","._6s_"];},isStopNode:function(n){return g.hasClass(n,l);},isDiscardNode:function(n){return g.hasClass(n,'text_exposed_link');},highlight:function(n,o){h.highlight.call(this,n,o);i.highlight(n,o);}});e.exports=m;},null);
__d("XUIPageNavigationShim",["DOMContainer.react","React","isNode"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j=(function(){var m=0;return function(){return 'XUIPageNavigationShim-'+m++;};})();function k(m){var n;if(m.children)n=m.children.map(function(p){if(typeof p==='object'&&typeof p.ctor==='function'){return k(p);}else if(i(p)){return h.createElement(g,{key:j()},p);}else return p;});var o=m.ctor;return (h.createElement(o,h.__spread({key:j()},m.props),n));}var l=h.createClass({displayName:"XUIPageNavigationShim",render:function(){return k(this.props);}});e.exports=l;},null);