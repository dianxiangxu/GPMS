/*!CK:430230241!*//*1438954154,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["2WeDo"]); }

__d("Token",["CSS","DataStore","DOM","Locale","UnicodeBidi","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();function m(n,o){"use strict";this.info=n;this.paramName=o;}m.prototype.getInfo=function(){"use strict";return this.info;};m.prototype.getText=function(){"use strict";return this.info.text;};m.prototype.getValue=function(){"use strict";return this.info.uid;};m.prototype.isFreeform=function(){"use strict";return !!this.info.freeform;};m.prototype.setSelected=function(n){"use strict";g.conditionClass(this.getElement(),'uiTokenSelected',n);return this;};m.prototype.getElement=function(){"use strict";if(!this.element)this.setElement(this.createElement());return this.element;};m.prototype.setElement=function(n){"use strict";h.set(n,'Token',this);this.element=n;return this;};m.prototype.isRemovable=function(){"use strict";return g.hasClass(this.element,'removable');};m.prototype.getTextDirection=function(){"use strict";var n=k.isDirectionRTL(this.getText()),o=j.isRTL();if(n&&!o)return 'rtl';if(!n&&o)return 'ltr';return null;};m.prototype.createElement=function(n,o){"use strict";var p=this.paramName,q=this.getValue(),r=this.getText(),s=i.create('span',{className:'uiTokenText'},r),t=i.create('a',{href:'#','aria-label':l._("Remove {item}",[l.param("item",r)]),className:'remove uiCloseButton uiCloseButtonSmall'});if(n)g.addClass(t,'uiCloseButtonSmallGray');var u=i.create('input',{type:'hidden',value:q,name:p+'[]',autocomplete:'off'}),v=i.create('input',{type:'hidden',value:r,name:'text_'+p+'[]',autocomplete:'off'}),w={className:'removable uiToken'},x=this.getTextDirection();if(x!==null)w.dir=x;var y=i.create('span',w,[s,u,v,t]);if(n)g.addClass(y,'uiTokenGray');if(o){var z=i.create('i',{className:o});i.prependContent(y,z);}return y;};e.exports=m;},null);
__d("WeakToken",["CSS","Token"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();for(var i in h)if(h.hasOwnProperty(i))k[i]=h[i];var j=h===null?null:h.prototype;k.prototype=Object.create(j);k.prototype.constructor=k;k.__superConstructor__=h;function k(){"use strict";if(h!==null)h.apply(this,arguments);}k.prototype.createElement=function(){"use strict";var l=j.createElement.call(this,true,'UFIWeakReferenceIcon');g.addClass(l,'uiTokenWeakReference');return l;};e.exports=k;},null);
__d("Tokenizer",["Arbiter","ArbiterMixin","CSS","DataStore","DOM","DOMQuery","Event","Focus","Input","Keys","Parent","StickyPlaceholderInput","Style","TextMetrics","Token","UserAgent_DEPRECATED","WeakToken","createObjectFrom","emptyFunction","mixin"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z){b.__markCompiled&&b.__markCompiled();var aa=20,ba=z(h);for(var ca in ba)if(ba.hasOwnProperty(ca))ea[ca]=ba[ca];var da=ba===null?null:ba.prototype;ea.prototype=Object.create(da);ea.prototype.constructor=ea;ea.__superConstructor__=ba;function ea(fa,ga,ha){"use strict";ba.call(this);this.element=fa;this.typeahead=ga;this.input=ga.getCore().getElement();if(ha)this.init(ha.tokenarea,ha.param_name,ha.initial_info,ha.options);j.set(this.element,'Tokenizer',this);}ea.prototype.init=function(fa,ga,ha,ia){"use strict";this._handleEvents=this.handleEvents.bind(this);this.init=y;this.setTokenarea(fa);this.paramName=ga;if(!this.placeholder)this.placeholder=this.input.getAttribute('data-placeholder')||this.input.getAttribute('placeholder')||'';Object.assign(this,ia);this.initEvents();this.initTypeahead();this.reset(ha);this.initBehaviors();setTimeout(this.adjustWidth.bind(this),0);g.inform('Tokenizer/init',this,g.BEHAVIOR_PERSISTENT);this.inform('init',{tokens:this.getTokens()});};ea.prototype.reset=function(fa){"use strict";this.tokens=[];this.unique={};if(fa){this.populate(fa);}else k.empty(this.tokenarea);this.updateTokenarea();};ea.prototype.populate=function(fa){"use strict";var ga=[];this.tokens=this.getTokenElements().map(function(ha,ia){var ja=fa[ia];ga.push(this._tokenKey(ja));return this.createToken(ja,ha);},this);this.unique=x(ga,this.tokens);};ea.prototype.setTokenarea=function(fa){"use strict";var ga=!this.tokenarea;if(fa!==this.tokenarea){if(this.tokenarea){k.remove(this.tokenarea);for(var ha in this._tokenareaListeners)this._tokenareaListeners[ha].remove();}this._tokenareaListeners=m.listen(fa,{click:this._handleEvents,keydown:this._handleEvents});this.tokenarea=fa;}if(!ga)this.reset();};ea.prototype.getElement=function(){"use strict";return this.element;};ea.prototype.getTypeahead=function(){"use strict";return this.typeahead;};ea.prototype.getInput=function(){"use strict";return this.input;};ea.prototype.initBehaviors=function(){"use strict";this.behaviors=this.behaviors||[];if(this.behaviors instanceof Array){this.behaviors.forEach(function(ha){ha.behavior(this,ha.config);}.bind(this));}else for(var fa in (this.behaviors||{})){var ga=window.TokenizerBehaviors&&window.TokenizerBehaviors[fa];ga.call(null,this,this.behaviors[fa]);}};ea.prototype.initTypeahead=function(){"use strict";var fa=this.typeahead.getCore();fa.resetOnSelect=true;fa.setValueOnSelect=false;fa.preventFocusChangeOnTab=true;if(this.inline){var ga=this.typeahead.getView();i.addClass(ga.getElement(),'uiInlineTokenizerView');}this.typeahead.subscribe('select',function(ha,ia){return this.handleSelect(ia);}.bind(this));this.typeahead.subscribe('blur',this.handleBlur.bind(this));};ea.prototype.handleBlur=function(event){"use strict";this.inform('blur',{event:event});this.updatePlaceholder();};ea.prototype.handleSelect=function(fa){"use strict";var ga=fa.selected;if('uid' in ga){this.updateInput();this.addToken(this.createToken(ga));}};ea.prototype.initEvents=function(){"use strict";var fa=v.firefox()<4?'keypress':'keydown';m.listen(this.input,'paste',this.paste.bind(this));m.listen(this.input,fa,this.keydown.bind(this));};ea.prototype.handleEvents=function(event){"use strict";var fa=event.getTarget(),ga=fa&&this.getTokenElementFromTarget(fa);if(!ga)return;if(event.type!='keydown'||m.getKeyCode(event)==p.RETURN)this.processEvents(event,fa,ga);};ea.prototype.processEvents=function(event,fa,ga){"use strict";if(q.byClass(fa,'remove')){var ha=ga.nextSibling;ha=ha&&l.scry(ga.nextSibling,'.remove')[0];var ia=this.getTokenFromElement(ga);ia=this.addTokenData(ia,fa);this.removeToken(ia);this.focusOnTokenRemoval(event,ha);event.kill();}};ea.prototype.focusOnTokenRemoval=function(event,fa){"use strict";n.set(event.type=='keydown'&&fa||this.input);};ea.prototype.addTokenData=function(fa,ga){"use strict";return fa;};ea.prototype.keydown=function(event){"use strict";this.inform('keydown',{event:event});var fa=m.getKeyCode(event),ga=this.input;if(this.inline&&fa==p.BACKSPACE&&o.isEmpty(ga)){var ha=this.getLastToken();if(ha&&ha.isRemovable())this.removeToken(ha);}this.updateInput();};ea.prototype.paste=function(event){"use strict";this.inform('paste',{event:event});this.updateInput(true);};ea.prototype.focusInput=function(){"use strict";n.set(this.input);};ea.prototype.updateInput=function(fa){"use strict";if(!this.inline)return;setTimeout(function(){this.adjustWidth(this.input.value);if(fa)this.input.value=this.input.value;}.bind(this),20);r.setPlaceholderText(this.input,'');this.inform('resize');};ea.prototype.setPlaceholder=function(fa){"use strict";this.placeholder=fa;if(this.stickyPlaceholder)r.setPlaceholderText(this.input,fa);this.updatePlaceholder();};ea.prototype.updatePlaceholder=function(){"use strict";if(!this.inline||this.input.value)return;var fa=!this.tokens.length,ga='';if(fa||this.stickyPlaceholder){this.adjustWidth(this.placeholder);ga=this.placeholder;}else this.adjustWidth(this.input.value);r.setPlaceholderText(this.input,ga);};ea.prototype.adjustWidth=function(fa){"use strict";if(!this.inline||!this._getIsInDOM())return;if(!fa&&this.input.value==='')fa=this.placeholder;var ga=aa;if(fa!==this.placeholder||!this.getTokens().length||this.stickyPlaceholder){var ha=s.getFloat(this.getElement(),'width'),ia=this._getMetrics().measure(fa);ga=ia.width+this._getWidthOffset()+10;ga=(ga>=ha)?ha:ga;}s.set(this.input,'width',ga+'px');this.inform('resize');g.inform('reflow');};ea.prototype.getToken=function(fa){"use strict";return this.unique[fa]||null;};ea.prototype.getTokens=function(){"use strict";return this.tokens||[];};ea.prototype.getTokenElements=function(){"use strict";return l.scry(this.tokenarea,'span.uiToken');};ea.prototype.getTokenElementFromTarget=function(fa){"use strict";return q.byClass(fa,'uiToken');};ea.prototype.getTokenFromElement=function(fa){"use strict";return j.get(fa,'Token');};ea.prototype.getTokenValues=function(){"use strict";if(!this.tokens)return [];return this.tokens.map(function(fa){return fa.getValue();});};ea.prototype.getFirstToken=function(){"use strict";return this.tokens[0]||null;};ea.prototype.getLastToken=function(){"use strict";return this.tokens[this.tokens.length-1]||null;};ea.prototype.hasMaxTokens=function(){"use strict";return this.maxTokens&&this.maxTokens<=this.tokens.length;};ea.prototype.createToken=function(fa,ga){"use strict";var ha=this.getToken(this._tokenKey(fa));if(!ha)ha=fa.weak_reference?new w(fa,this.paramName):new u(fa,this.paramName);ga&&ha.setElement(ga);return ha;};ea.prototype.addToken=function(fa){"use strict";if(this.hasMaxTokens())return;var ga=this._tokenKey(fa.getInfo());if(ga in this.unique)return;this.unique[ga]=fa;this.tokens.push(fa);this.insertToken(fa);this.updateTokenarea();this.inform('addToken',fa);this.inform('changeTokens');g.inform('Form/change',{node:this.element});};ea.prototype.insertToken=function(fa){"use strict";k.appendContent(this.tokenarea,fa.getElement());};ea.prototype.removeToken=function(fa){"use strict";if(!fa)return;var ga=this.tokens.indexOf(fa);if(ga<0)return;this.tokens.splice(this.tokens.indexOf(fa),1);delete this.unique[this._tokenKey(fa.getInfo())];k.remove(fa.getElement());this.updateTokenarea();this.inform('removeToken',fa);this.inform('changeTokens');g.inform('Form/change',{node:this.element});};ea.prototype.removeAllTokens=function(){"use strict";this.reset();this.inform('changeTokens');this.inform('removeAllTokens');};ea.prototype.updateTokenarea=function(){"use strict";var fa=this.typeahead.getCore(),ga=this.getTokenValues();if(this.excludeDuplicates){this._exclusions||(this._exclusions=fa.getExclusions());fa.setExclusions(ga.concat(this._exclusions));}fa.setEnabled(!this.hasMaxTokens());this.updateTokenareaVisibility();this.updatePlaceholder();this.inform('resize');g.inform('reflow');};ea.prototype.updateTokenareaVisibility=function(){"use strict";i.conditionShow(this.tokenarea,this.tokens.length!==0);};ea.prototype._tokenKey=function(fa){"use strict";return fa.uid+(fa.freeform?':':'');};ea.prototype._getWidthOffset=function(){"use strict";if(this._widthOffset===null){var fa=this.input.clientWidth,ga=s.getFloat(this.input,'width');if(fa==ga){this._widthOffset=s.getFloat(this.input,'paddingLeft')+s.getFloat(this.input,'paddingRight');}else this._widthOffset=0;}return this._widthOffset;};ea.prototype._getMetrics=function(){"use strict";if(!this._metrics)this._metrics=new t(this.input,this.inline);return this._metrics;};ea.prototype._getIsInDOM=function(){"use strict";return this._isInDOM||(this._isInDOM=l.contains(document.body,this.input));};ea.getInstance=function(fa){"use strict";var ga=q.byClass(fa,'uiTokenizer');return ga?j.get(ga,'Tokenizer'):null;};ea.init=function(fa,ga){"use strict";fa.init(ga.tokenarea,ga.param_name,ga.initial_info,ga.options);};Object.assign(ea.prototype,{inline:false,maxTokens:null,excludeDuplicates:true,placeholder:'',_widthOffset:null,_metrics:null});e.exports=ea;},null);
__d("ProgressBarBase",["emptyFunction","requestAnimationFrame","removeFromArray","arrayContains"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k=[];function l(m,n){"use strict";this._min=m||0;this._max=n||100;this._initialPosition=0;this._position=0;this._initialVelocity=0;this._velocity=0;this._acceleration=0;this.useAcceleration=true;this._targetPosition=0;this._targetTime=0;this._startTime=null;this._onComplete=g;}l.prototype.setPosition=function(m){"use strict";m=this._normalizePosition(m);this._initialPosition=m;this._position=m;this.updateMeter(this._position);this.stop();return this;};l.prototype.setCompleteHandler=function(m){"use strict";this._onComplete=m||g;return this;};l.prototype.setTarget=function(m,n){"use strict";this._stopAnimating();this._clearOnCompleteTimeout();this._targetPosition=m;var o=this._normalizePosition(m);this._targetTime=n;this._initialVelocity=this._velocity;this._initialPosition=this._position;if(this.useAcceleration){this._acceleration=2*(o-this._initialPosition-this._initialVelocity*n)/(n*n);}else{this._acceleration=0;this._velocity=this._initialVelocity=(o-this._initialPosition)/n;}if(this._position>=o){this._onComplete();}else this._start();return this;};l.prototype.setNoAcceleration=function(m){"use strict";this.useAcceleration=!m;return this;};l.prototype._clearOnCompleteTimeout=function(){"use strict";a.clearTimeout(this._onCompleteTimeout);};l.prototype.stop=function(){"use strict";this._clearOnCompleteTimeout();this._velocity=0;this._initialVelocity=0;this._acceleration=0;this._stopAnimating();return this;};l.prototype._start=function(){"use strict";this._startTime=Date.now();this._onCompleteTimeout=a.setTimeout(function(){this.setPosition(this._targetPosition);this._onComplete();}.bind(this),this._targetTime);this._startAnimating();return this;};l.prototype._loop=function(){"use strict";var m=Date.now()-this._startTime;this._position=(.5*this._acceleration*m*m)+(this._initialVelocity*m)+this._initialPosition;var n=this._velocity;this._velocity=this._acceleration*m+this._initialVelocity;var o=n<0!==this._velocity<0;if(this._position>this._normalizePosition(this._targetPosition)||o){this.setPosition(this._targetPosition);this._onComplete();}else this.updateMeter(this._position);};l.prototype.updateMeter=function(m){"use strict";throw "Unimplemented function: updateMeter";};l.prototype._normalizePosition=function(m){"use strict";return Math.min(Math.max((m-this._min)/(this._max-this._min),0),1);};l.prototype._startAnimating=function(){"use strict";if(!j(k,this)){k.push(this);if(k.length===1)h(l.prototype._requestAnimationFrameCallback);}};l.prototype._stopAnimating=function(){"use strict";i(k,this);};l.prototype._requestAnimationFrameCallback=function(){"use strict";k.forEach(function(m){m._loop();});if(k.length)h(l.prototype._requestAnimationFrameCallback);};l.setPosition=function(m,n){"use strict";m.setPosition(n);};l.setTarget=function(m,n,o){"use strict";m.setTarget(n,o);};e.exports=l;},null);
__d("ProgressBar",["ProgressBarBase","CSS","Style","cx","csx","DOM"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();for(var m in g)if(g.hasOwnProperty(m))o[m]=g[m];var n=g===null?null:g.prototype;o.prototype=Object.create(n);o.prototype.constructor=o;o.__superConstructor__=g;function o(p,q,r){"use strict";g.call(this,q,r);this._root=p;this._meter=l.find(p,"div._5e4k");this._meter2=l.scry(p,"div._5e2g")[0];}o.prototype.getRoot=function(){"use strict";return this._root;};o.prototype.updateMeter=function(p){"use strict";var q=Math.min(Math.max(p,0),1);h.conditionClass(this._meter,"_5e2d",q<=0);h.conditionClass(this._meter,"_5e4j",q>=1);q=q*100+'%';i.set(this._meter,'width',q);if(this._meter2){i.set(this._meter2,'left',q);i.set(this._meter2,'width',q);}};o.prototype.changeLabel=function(p){"use strict";var q=l.scry(this._root,"span._5e2h");q.forEach(function(r){l.setContent(r,p);});return this;};e.exports=o;},null);