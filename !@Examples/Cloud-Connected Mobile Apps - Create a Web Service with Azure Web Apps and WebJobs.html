<!DOCTYPE html>
<!-- saved from url=(0055)https://msdn.microsoft.com/en-us/magazine/mt185572.aspx -->
<html dir="ltr" lang="en" data-amd-enabled="true" xmlns="http://www.w3.org/1999/xhtml" class="ui-mobile"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script src="./Cloud-Connected Mobile Apps - Create a Web Service with Azure Web Apps and WebJobs_files/rio.ashx"></script><meta name="ms.env" content="PROD"><meta name="ms.sitesec" content="dmc"><meta name="WT.z_sitetype" content="PROD"><meta name="ms.pgtmplt" content="page"><script type="text/javascript" async="" src="./Cloud-Connected Mobile Apps - Create a Web Service with Azure Web Apps and WebJobs_files/ms.js"></script><script type="text/javascript" async="" src="./Cloud-Connected Mobile Apps - Create a Web Service with Azure Web Apps and WebJobs_files/bk-coretag.js"></script><script src="./Cloud-Connected Mobile Apps - Create a Web Service with Azure Web Apps and WebJobs_files/b7b22861b1d65e24c92f49bdf449b8ae.js"></script><script src="./Cloud-Connected Mobile Apps - Create a Web Service with Azure Web Apps and WebJobs_files/7e31c9ae8c1d833ecc8574b6692e5138.js"></script><script type="text/javascript" async="" src="./Cloud-Connected Mobile Apps - Create a Web Service with Azure Web Apps and WebJobs_files/9147c729c026e93ae5f5d0777bdb2c9c.js"></script><script src="./Cloud-Connected Mobile Apps - Create a Web Service with Azure Web Apps and WebJobs_files/serverComponent.php"></script><!--<base href="https://msdn.microsoft.com/en-us/magazine/mt185572.aspx">--><base href="."><meta name="WT.seg_1" content="en-us"><link rel="canonical" href="./Cloud-Connected Mobile Apps - Create a Web Service with Azure Web Apps and WebJobs_files/Cloud-Connected Mobile Apps - Create a Web Service with Azure Web Apps and WebJobs.html">
    <title>Cloud-Connected Mobile Apps - Create a Web Service with Azure Web Apps and WebJobs</title>

    

<meta name="DCS.dcsuri" content="/en-us/magazine/mt185572(d=default,l=en-us,v=msdn.10).aspx">

<meta name="MN" content="61C41DD5-7:57:06 AM">

<meta name="ms.assetid" content="1a9ec048-1c4d-4f57-8d72-417c5abce193">

<meta name="ms.auth" content="0">

<meta name="ms.contentlang" content="EN">

<meta name="ms.lang" content="EN">

<meta name="ms.loc" content="US">

<meta name="Ms.Locale" content="en-us">

<meta name="ms.normalizedurl" content="https://msdn.microsoft.com/en-us/magazine/mt185572(d=default,l=en-us,v=msdn.10).aspx">

<meta name="ms.prodver" content="MSDN.10">

<meta name="ms.shortidmsdn" content="mt185572">

<meta name="ms.sitever" content="2015.08.07.1">

<meta name="NormalizedUrl" content="https://msdn.microsoft.com/en-us/magazine/mt185572(d=default,l=en-us,v=msdn.10).aspx">

<meta name="search.content.locale" content="en-us">

<meta name="search.content.shortId" content="mt185572">

<meta name="Search.MSCategory" content="ee441237">

<meta name="Search.MSCategory" content="mt130838">

<meta name="Search.MSCategory" content="mt185566">

<meta name="Search.MSCategory" content="mt185572">

<meta name="Search.MSCategory" content="mt267549">

<meta name="Search.ShortId" content="mt185572">

<meta name="Search.TocNodeId" content="mt185572">

<meta name="viewport" content="width=device-width, initial-scale=1.0">

<meta name="VotingContextUrl" content="https://msdn.microsoft.com/en-us/magazine/mt185572(d=default,l=en-us,v=msdn.10).aspx">
    <meta http-equiv="content-language" content="en">

    
    
    

    
        


    

    
    

    
    

    
    
    


    
    

    <script type="text/javascript" src="./Cloud-Connected Mobile Apps - Create a Web Service with Azure Web Apps and WebJobs_files/ai.0.js" async=""></script><script type="text/javascript" data-do-not-move="true">
        //<![CDATA[
        window.appInsightsId = '60854590-027a-4ae4-98be-2741a40f355f';
        //]]>
    </script>
    

    
    
    
    
<link rel="stylesheet" type="text/css" href="./Cloud-Connected Mobile Apps - Create a Web Service with Azure Web Apps and WebJobs_files/Combined.css"><link rel="stylesheet" type="text/css" href="./Cloud-Connected Mobile Apps - Create a Web Service with Azure Web Apps and WebJobs_files/bootstrap.min.css"><link rel="stylesheet" type="text/css" href="./Cloud-Connected Mobile Apps - Create a Web Service with Azure Web Apps and WebJobs_files/main.css"><script type="text/javascript" src="./Cloud-Connected Mobile Apps - Create a Web Service with Azure Web Apps and WebJobs_files/Loader.js" class="mtps-injected"></script><style type="text/css"></style><script type="text/javascript" class="mtps-injected">
/*<![CDATA[*/
(function() {
	window.mtpsAmd = true;
	var amdCombinedUrl = "https://i2-msdn.sec.s-msft.com/Combined.js?resources=0:MobileInit,1:jquery-ui-1.10.3.custom.min,1:Utilities,1:FixJQueryMobileDefaultScroll,2:Layout,0:responsive,1:AppInsightsPerf,2:SearchBox,3:Header,2:Rating,3:Footer;/Areas/Centers/Themes/Base/Content:0,/Areas/Epx/Content/Scripts:1,/Areas/Epx/Themes/Base/Content:2,/Areas/Centers/Themes/StandardDevCenter/Content:3&amp;hashKey=2D0339DC247BA8C82FBEAEBC4A7D2AD3&amp;v=2EF0AD9DA23652358D9F2E3FB91A247D";

	require.config({ paths: { jquery: "https://ajax.aspnetcdn.com/ajax/jQuery/jquery-2.1.0.min.js", bootstrap: "https://nexus.ensighten.com/msdn/Bootstrap.js", mobileInit: amdCombinedUrl, jqueryUi: amdCombinedUrl, jQueryMobile: "https://ajax.aspnetcdn.com/ajax/jquery.mobile/1.3.0/jquery.mobile-1.3.0.min.js", utilities: amdCombinedUrl, fixJQueryMobileDefaultScroll: amdCombinedUrl, layout: amdCombinedUrl, responsive: amdCombinedUrl, appInsightsPerf: amdCombinedUrl, searchBox: amdCombinedUrl, searchBoxJss: "https://i1.services.social.microsoft.com/search/Widgets/SearchBox.jss?boxid=HeaderSearchTextBox&btnid=HeaderSearchButton&brand=Msdn&loc=en-us&Refinement=118&focusOnInit=false&iroot=magazine&emptyWatermark=true", header: amdCombinedUrl, rating: amdCombinedUrl, footer: amdCombinedUrl, broker: "https://www.microsoft.com/library/svy/sto/https/broker.js" }, ignoreDuplicateModules: ["jquery", "jqueryUi", "jQueryMobile", "utilities", "layout"] });

	require.config({ shim: { "bootstrap": { deps: ["jquery"], exports: "bootstrap" }, "searchBoxJss": { exports: "searchBoxJss" }, "broker": { exports: "broker" }} });

	require(["bootstrap"], function() {});
	require(["mobileInit"], function() {});
	require(["fixJQueryMobileDefaultScroll"], function() {});
	require(["responsive"], function() {});
	require(["appInsightsPerf"], function() {});
	require(["searchBox"], function() {});
	require(["searchBoxJss"], function() {});
	require(["header"], function() {});
	require(["rating"], function() {});
	require(["footer"], function() {});
	require(["broker"], function() {});
}());
/*]]>*/
</script><script async="async" type="text/javascript" src="./Cloud-Connected Mobile Apps - Create a Web Service with Azure Web Apps and WebJobs_files/jquery-2.1.0.min.js"></script><script async="async" type="text/javascript" src="./Cloud-Connected Mobile Apps - Create a Web Service with Azure Web Apps and WebJobs_files/Combined.js"></script><script async="async" type="text/javascript" src="./Cloud-Connected Mobile Apps - Create a Web Service with Azure Web Apps and WebJobs_files/SearchBox.jss"></script><script async="async" type="text/javascript" src="./Cloud-Connected Mobile Apps - Create a Web Service with Azure Web Apps and WebJobs_files/broker.js"></script><script class="mtps-injected">try {
/**/
(window.MTPS || (window.MTPS = {})).cdnDomains || (window.MTPS.cdnDomains = { 
	"image": "https://i-msdn.sec.s-msft.com", 
	"js": "https://i2-msdn.sec.s-msft.com", 
	"css": "https://i-msdn.sec.s-msft.com", 
	"xap": "https://msdn.microsoft.com"
});
/**/
} finally { MTPS._injectNextScript_0 && MTPS._injectNextScript_0(); }</script><script class="mtps-injected" src="./Cloud-Connected Mobile Apps - Create a Web Service with Azure Web Apps and WebJobs_files/CodeSnippet.js"></script><script async="async" type="text/javascript" src="./Cloud-Connected Mobile Apps - Create a Web Service with Azure Web Apps and WebJobs_files/Bootstrap.js"></script><script async="async" type="text/javascript" src="./Cloud-Connected Mobile Apps - Create a Web Service with Azure Web Apps and WebJobs_files/jquery.mobile-1.3.0.min.js"></script><meta name="WT.seg_1" content="en-us"><meta name="WT.z_shortid" content="mt185572"><script type="text/javascript" src="./Cloud-Connected Mobile Apps - Create a Web Service with Azure Web Apps and WebJobs_files/Impression.ashx"></script></head>
<body class="Chrome">
    
    <div id="page">
        



        

    
    <link type="text/css" rel="stylesheet">
    
        
        
    <input type="hidden" id="isHeaderBleeding" value="true">
    <div id="ux-header" dir="ltr" class="ltr magazine" data-device-type="desktop">
        

      <header>
        <span id="singleCol"></span>
        <span id="doubleCol"></span>
        <span id="isMobile"></span>
        <div>
          <div class="row topRow">
            <div class="top">
              <div class="left">
                <a class="msdnLogoImg" href="https://msdn.microsoft.com/en-us" ms.pgarea="header" ms.cmpgrp="Logo" ms.cmpnm="Microsoft Logo" ms.title="Microsoft" ms.index="1" ms.cmptyp="logo">
                  <div id="msft-logo" class="msft-logo"></div>
                </a>
                <div class="GrayPipe"></div>
                  <div class="MegaBladeNavigation">
                        <div class="megaBladeToc">
      <nav>
        <ul class="navL1">
          <li class="toggle inactive">
            <a href="javascript:void(0)" title="Developer Network">Developer Network</a>
            <ul class="navL2" style="display: none;">
                <li class="inactive toggle">
                  <a href="javascript:void(0)" title="Technologies">Technologies</a>
                    <ul class="navL3" style="display: none;">
                        <li class="inactive">
                          <a href="https://msdn.microsoft.com/cloud-app-development-msdn" title="Cloud">Cloud</a>
                        </li>
                        <li class="inactive">
                          <a href="https://msdn.microsoft.com/app-development-msdn" title="App Development">App Development</a>
                        </li>
                        <li class="inactive">
                          <a href="https://msdn.microsoft.com/web-app-development-msdn" title="Web">Web</a>
                        </li>
                        <li class="inactive">
                          <a href="https://msdn.microsoft.com/big-data-development-msdn" title="Data">Data</a>
                        </li>
                        <li class="inactive">
                          <a href="https://msdn.microsoft.com/games-development-msdn" title="Gaming">Gaming</a>
                        </li>
                    </ul>
                </li>
                <li class="inactive toggle">
                  <a href="javascript:void(0)" title="Downloads">Downloads</a>
                    <ul class="navL3" style="display: none;">
                        <li class="inactive">
                          <a href="https://www.visualstudio.com/downloads/download-visual-studio-vs" title="Visual Studio">Visual Studio</a>
                        </li>
                        <li class="inactive">
                          <a href="https://msdn.microsoft.com/subscriptions" title="MSDN subscription access">MSDN subscription access</a>
                        </li>
                        <li class="inactive">
                          <a href="https://msdn.microsoft.com/microsoft-sdks-msdn" title="SDKs">SDKs</a>
                        </li>
                        <li class="inactive">
                          <a href="https://msdn.microsoft.com/evalcenter" title="Trial software">Trial software</a>
                        </li>
                    </ul>
                </li>
                <li class="inactive toggle">
                  <a href="javascript:void(0)" title="Programs">Programs</a>
                    <ul class="navL3" style="display: none;">
                        <li class="inactive">
                          <a href="https://rewards.msdn.microsoft.com/" title="Rewards">Rewards</a>
                        </li>
                        <li class="inactive">
                          <a href="https://www.microsoft.com/bizspark" title="Startups">Startups</a>
                        </li>
                        <li class="inactive">
                          <a href="https://msdn.microsoft.com/students-overview-msdn" title="Students">Students</a>
                        </li>
                        <li class="inactive">
                          <a href="https://msdn.microsoft.com/architects-overview-msdn" title="Architects">Architects</a>
                        </li>
                        <li class="inactive">
                          <a href="http://events.msdn.microsoft.com/" title="Events">Events</a>
                        </li>
                        <li class="inactive">
                          <a href="https://msdn.microsoft.com/msdn-subscriptions-overview" title="MSDN Subscriptions">MSDN Subscriptions</a>
                        </li>
                    </ul>
                </li>
                <li class="inactive toggle">
                  <a href="javascript:void(0)" title="Community">Community</a>
                    <ul class="navL3" style="display: none;">
                        <li class="inactive">
                          <a href="https://msdn.microsoft.com/magazine/dd767791" title="Magazine">Magazine</a>
                        </li>
                        <li class="inactive">
                          <a href="https://social.msdn.microsoft.com/forums/" title="Forums">Forums</a>
                        </li>
                        <li class="inactive">
                          <a href="http://blogs.msdn.com/b/developer-tools/" title="Blogs">Blogs</a>
                        </li>
                        <li class="inactive">
                          <a href="http://tech-advisors.msdn.microsoft.com/en-us" title="Tech Advisors">Tech Advisors</a>
                        </li>
                        <li class="inactive">
                          <a href="http://channel9.msdn.com/" title="Channel 9">Channel 9</a>
                        </li>
                    </ul>
                </li>
                <li class="inactive toggle">
                  <a href="javascript:void(0)" title="Documentation">Documentation</a>
                    <ul class="navL3" style="display: none;">
                        <li class="inactive">
                          <a href="https://msdn.microsoft.com/library" title="APIs and reference">APIs and reference</a>
                        </li>
                        <li class="inactive">
                          <a href="https://msdn.microsoft.com/developer-centers-msdn" title="Dev centers">Dev centers</a>
                        </li>
                    </ul>
                </li>
                <li class="inactive">
                  <a href="https://code.msdn.microsoft.com/" title="Samples">Samples</a>
                </li>
            </ul>
          </li>
        </ul>
      </nav>
    </div>

                  </div>
                <a class="DevCenterFullName" href="https://msdn.microsoft.com/en-us">Developer Network</a>
                <a class="DevCenterShortName" href="https://msdn.microsoft.com/en-us">Developer</a>
              </div>
              <div class="right">
                <div id="signIn">

  <img class="profileImage" src="./Cloud-Connected Mobile Apps - Create a Web Service with Azure Web Apps and WebJobs_files/profile.jpg">



<a class="scarabLink" href="https://login.live.com/login.srf?wa=wsignin1.0&rpsnv=12&ct=1439737026&rver=6.0.5276.0&wp=MCMBI&wlcxt=MSDN%24MSDN%24MSDN&wreply=https%3a%2f%2fmsdn.microsoft.com%2fen-us%2fmagazine%2fmt185572.aspx&lc=1033&id=254354&mkt=en-US" title="Sign in" ms.pgarea="header" ms.cmpgrp="aux nav" ms.cmpnm="aux nav: link list" ms.title="Sign in" ms.index="1" ms.cmptyp="link">Sign in</a></div>




                <div class="auxNav">
                  <div>
                    <div data-fragmentname="Subscriptions" id="Fragment_Subscriptions" xmlns="http://www.w3.org/1999/xhtml">
  <a href="https://msdn.microsoft.com/subscriptions/manage/hh442900" id="Subscriptions_2153_1" xmlns="http://www.w3.org/1999/xhtml" ms.pgarea="header" ms.cmpgrp="aux nav" ms.cmpnm="aux nav: link list" ms.title="MSDN subscriptions" ms.index="1" ms.cmptyp="link">MSDN subscriptions</a>
</div>
                    <div data-fragmentname="GetTools" id="Fragment_GetTools" xmlns="http://www.w3.org/1999/xhtml">
  <a href="http://go.microsoft.com/fwlink/?LinkId=309297&clcid=0x409&slcid=0x409&campaign=o~msft~msdn~gettools-header~dn308572" id="GetTools_2153_3" xmlns="http://www.w3.org/1999/xhtml" ms.pgarea="header" ms.cmpgrp="aux nav" ms.cmpnm="aux nav: link list" ms.title="Get tools" ms.index="1" ms.cmptyp="link">Get tools</a>
</div>
                  </div>
                  <div>
                    <div data-fragmentname="SocialLinks" id="Fragment_SocialLinks" xmlns="http://www.w3.org/1999/xhtml"></div>
                  </div>
                </div>
              </div>
            </div>

          </div>
          <div class="row middleRow">
            <div class="expandTop" style="display: none;">
              <div class="left"></div>
              <div class="right"></div>
            </div>
          </div>
        </div>
        <div id="buttomRowWrapper" class="bg_default">
          <div class="row buttomRow bg_default">
            <div class="bottom">
              <div class="left">
                <a id="grip" class="menu-icon" href="javascript:void(0)"></a>
                <div data-fragmentname="SiteLogo" id="Fragment_SiteLogo" xmlns="http://www.w3.org/1999/xhtml">
  <div class="LinkWithImage topImage">
    <a id="SiteLogo_15654_1" href="https://msdn.microsoft.com/en-us/magazine/" title="MSDN Magazine" ms.pgarea="header" ms.cmpgrp="Logo" ms.cmpnm="MSDN Magazine" ms.title="MSDN Magazine" ms.index="2" ms.cmptyp="logo">
      <span>magazine</span>
    </a>
  </div>
</div>
                <div id="drawer">
                  <div class="toc">
                    
        <nav>
            <ul class="navL1">
                        <li class="inactive current toggle">
                            <a href="javascript:void(0)" title="Issues and downloads" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads" ms.index="1" ms.cmptyp="link">Issues and downloads</a>
                                <ul class="navL2" style="display: none;">
                                        <li class="inactive">
                                            <a href="https://msdn.microsoft.com/magazine/ee310108" title="All issues" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads" ms.index="1" ms.cmptyp="link">All issues</a>

                                                   
                                        </li>
                                        <li class="inactive current toggle">
                                            <a href="javascript:void(0)" title="2015" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads" ms.index="1" ms.cmptyp="link">2015</a>

                                                <ul class="navL3" style="display: none;">
                                                        <li class="inactive current">
                                                            <a href="https://msdn.microsoft.com/magazine/mt185509" title="August 2015" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads: 2015" ms.index="1" ms.cmptyp="link">August 2015</a>
                                                        </li>
                                                        <li class="inactive">
                                                            <a href="https://msdn.microsoft.com/magazine/mt238393" title="July 2015" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads: 2015" ms.index="1" ms.cmptyp="link">July 2015</a>
                                                        </li>
                                                        <li class="inactive">
                                                            <a href="https://msdn.microsoft.com/magazine/mt147233" title="June 2015" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads: 2015" ms.index="1" ms.cmptyp="link">June 2015</a>
                                                        </li>
                                                        <li class="inactive">
                                                            <a href="https://msdn.microsoft.com/magazine/dn973005" title="May 2015" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads: 2015" ms.index="1" ms.cmptyp="link">May 2015</a>
                                                        </li>
                                                        <li class="inactive">
                                                            <a href="https://msdn.microsoft.com/magazine/dn948099" title="April 2015" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads: 2015" ms.index="1" ms.cmptyp="link">April 2015</a>
                                                        </li>
                                                        <li class="inactive">
                                                            <a href="https://msdn.microsoft.com/magazine/dn913157" title="March 2015" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads: 2015" ms.index="1" ms.cmptyp="link">March 2015</a>
                                                        </li>
                                                        <li class="inactive">
                                                            <a href="https://msdn.microsoft.com/magazine/dn904663" title="February 2015" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads: 2015" ms.index="1" ms.cmptyp="link">February 2015</a>
                                                        </li>
                                                        <li class="inactive">
                                                            <a href="https://msdn.microsoft.com/magazine/dn890362" title="January 2015" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads: 2015" ms.index="1" ms.cmptyp="link">January 2015</a>
                                                        </li>
                                                </ul>
                                                   
                                        </li>
                                        <li class="inactive toggle">
                                            <a href="javascript:void(0)" title="2014" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads" ms.index="1" ms.cmptyp="link">2014</a>

                                                <ul class="navL3" style="display: none;">
                                                        <li class="inactive">
                                                            <a href="https://msdn.microsoft.com/magazine/dn879346" title="Special 2014" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads: 2014" ms.index="1" ms.cmptyp="link">Special 2014</a>
                                                        </li>
                                                        <li class="inactive">
                                                            <a href="https://msdn.microsoft.com/magazine/dn857348" title="December 2014" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads: 2014" ms.index="1" ms.cmptyp="link">December 2014</a>
                                                        </li>
                                                        <li class="inactive">
                                                            <a href="https://msdn.microsoft.com/magazine/dn818485" title="November 2014" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads: 2014" ms.index="1" ms.cmptyp="link">November 2014</a>
                                                        </li>
                                                        <li class="inactive">
                                                            <a href="https://msdn.microsoft.com/magazine/dn800594" title="October 2014" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads: 2014" ms.index="1" ms.cmptyp="link">October 2014</a>
                                                        </li>
                                                        <li class="inactive">
                                                            <a href="https://msdn.microsoft.com/magazine/dn799056" title="September 2014" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads: 2014" ms.index="1" ms.cmptyp="link">September 2014</a>
                                                        </li>
                                                        <li class="inactive">
                                                            <a href="https://msdn.microsoft.com/magazine/dn759433" title="August 2014" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads: 2014" ms.index="1" ms.cmptyp="link">August 2014</a>
                                                        </li>
                                                        <li class="inactive">
                                                            <a href="https://msdn.microsoft.com/magazine/dn768436" title="July 2014" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads: 2014" ms.index="1" ms.cmptyp="link">July 2014</a>
                                                        </li>
                                                        <li class="inactive">
                                                            <a href="https://msdn.microsoft.com/magazine/dn745857" title="June 2014" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads: 2014" ms.index="1" ms.cmptyp="link">June 2014</a>
                                                        </li>
                                                        <li class="inactive">
                                                            <a href="https://msdn.microsoft.com/magazine/dn683788" title="May 2014" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads: 2014" ms.index="1" ms.cmptyp="link">May 2014</a>
                                                        </li>
                                                        <li class="inactive">
                                                            <a href="https://msdn.microsoft.com/magazine/dn630420" title="April 2014" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads: 2014" ms.index="1" ms.cmptyp="link">April 2014</a>
                                                        </li>
                                                        <li class="inactive">
                                                            <a href="https://msdn.microsoft.com/magazine/dn605869" title="March 2014" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads: 2014" ms.index="1" ms.cmptyp="link">March 2014</a>
                                                        </li>
                                                        <li class="inactive">
                                                            <a href="https://msdn.microsoft.com/magazine/dn574789" title="February 2014" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads: 2014" ms.index="1" ms.cmptyp="link">February 2014</a>
                                                        </li>
                                                        <li class="inactive">
                                                            <a href="https://msdn.microsoft.com/magazine/dn519916" title="January 2014" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads: 2014" ms.index="1" ms.cmptyp="link">January 2014</a>
                                                        </li>
                                                </ul>
                                                   
                                        </li>
                                        <li class="inactive toggle">
                                            <a href="javascript:void(0)" title="2013" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads" ms.index="1" ms.cmptyp="link">2013</a>

                                                <ul class="navL3" style="display: none;">
                                                        <li class="inactive">
                                                            <a href="https://msdn.microsoft.com/magazine/dn463800" title="Government 2013" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads: 2013" ms.index="1" ms.cmptyp="link">Government 2013</a>
                                                        </li>
                                                        <li class="inactive">
                                                            <a href="https://msdn.microsoft.com/magazine/dn532197" title="December 2013" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads: 2013" ms.index="1" ms.cmptyp="link">December 2013</a>
                                                        </li>
                                                        <li class="inactive">
                                                            <a href="https://msdn.microsoft.com/magazine/dn463766" title="November 2013" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads: 2013" ms.index="1" ms.cmptyp="link">November 2013</a>
                                                        </li>
                                                        <li class="inactive">
                                                            <a href="https://msdn.microsoft.com/magazine/dn451433" title="October 2013" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads: 2013" ms.index="1" ms.cmptyp="link">October 2013</a>
                                                        </li>
                                                        <li class="inactive">
                                                            <a href="https://msdn.microsoft.com/magazine/dn385701" title="September 2013" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads: 2013" ms.index="1" ms.cmptyp="link">September 2013</a>
                                                        </li>
                                                        <li class="inactive">
                                                            <a href="https://msdn.microsoft.com/magazine/dn342861" title="August 2013" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads: 2013" ms.index="1" ms.cmptyp="link">August 2013</a>
                                                        </li>
                                                        <li class="inactive">
                                                            <a href="https://msdn.microsoft.com/magazine/dn296502" title="July 2013" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads: 2013" ms.index="1" ms.cmptyp="link">July 2013</a>
                                                        </li>
                                                        <li class="inactive">
                                                            <a href="https://msdn.microsoft.com/magazine/dn201737" title="June 2013" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads: 2013" ms.index="1" ms.cmptyp="link">June 2013</a>
                                                        </li>
                                                        <li class="inactive">
                                                            <a href="https://msdn.microsoft.com/magazine/dn198231" title="May 2013" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads: 2013" ms.index="1" ms.cmptyp="link">May 2013</a>
                                                        </li>
                                                        <li class="inactive">
                                                            <a href="https://msdn.microsoft.com/magazine/dn166920" title="April 2013" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads: 2013" ms.index="1" ms.cmptyp="link">April 2013</a>
                                                        </li>
                                                        <li class="inactive">
                                                            <a href="https://msdn.microsoft.com/magazine/jj991969" title="March 2013" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads: 2013" ms.index="1" ms.cmptyp="link">March 2013</a>
                                                        </li>
                                                        <li class="inactive">
                                                            <a href="https://msdn.microsoft.com/magazine/jj891014" title="February 2013" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads: 2013" ms.index="1" ms.cmptyp="link">February 2013</a>
                                                        </li>
                                                        <li class="inactive">
                                                            <a href="https://msdn.microsoft.com/magazine/jj883946" title="January 2013" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads: 2013" ms.index="1" ms.cmptyp="link">January 2013</a>
                                                        </li>
                                                </ul>
                                                   
                                        </li>
                                        <li class="inactive toggle">
                                            <a href="javascript:void(0)" title="2012" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads" ms.index="1" ms.cmptyp="link">2012</a>

                                                <ul class="navL3" style="display: none;">
                                                        <li class="inactive">
                                                            <a href="https://msdn.microsoft.com/magazine/jj863125" title="December 2012" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads: 2012" ms.index="1" ms.cmptyp="link">December 2012</a>
                                                        </li>
                                                        <li class="inactive">
                                                            <a href="https://msdn.microsoft.com/magazine/jj721585" title="November 2012" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads: 2012" ms.index="1" ms.cmptyp="link">November 2012</a>
                                                        </li>
                                                        <li class="inactive">
                                                            <a href="https://msdn.microsoft.com/magazine/jj660298" title="Windows 8" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads: 2012" ms.index="1" ms.cmptyp="link">Windows 8</a>
                                                        </li>
                                                        <li class="inactive">
                                                            <a href="https://msdn.microsoft.com/magazine/jj658963" title="October 2012" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads: 2012" ms.index="1" ms.cmptyp="link">October 2012</a>
                                                        </li>
                                                        <li class="inactive">
                                                            <a href="https://msdn.microsoft.com/magazine/jj599578" title="September 2012" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads: 2012" ms.index="1" ms.cmptyp="link">September 2012</a>
                                                        </li>
                                                        <li class="inactive">
                                                            <a href="https://msdn.microsoft.com/magazine/jj553500" title="August 2012" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads: 2012" ms.index="1" ms.cmptyp="link">August 2012</a>
                                                        </li>
                                                        <li class="inactive">
                                                            <a href="https://msdn.microsoft.com/magazine/jj190796" title="July 2012" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads: 2012" ms.index="1" ms.cmptyp="link">July 2012</a>
                                                        </li>
                                                        <li class="inactive">
                                                            <a href="https://msdn.microsoft.com/magazine/jj133811" title="June 2012" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads: 2012" ms.index="1" ms.cmptyp="link">June 2012</a>
                                                        </li>
                                                        <li class="inactive">
                                                            <a href="https://msdn.microsoft.com/magazine/hh975340" title="May 2012" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads: 2012" ms.index="1" ms.cmptyp="link">May 2012</a>
                                                        </li>
                                                        <li class="inactive">
                                                            <a href="https://msdn.microsoft.com/magazine/hh882439" title="April 2012" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads: 2012" ms.index="1" ms.cmptyp="link">April 2012</a>
                                                        </li>
                                                        <li class="inactive">
                                                            <a href="https://msdn.microsoft.com/magazine/hh852583" title="March 2012" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads: 2012" ms.index="1" ms.cmptyp="link">March 2012</a>
                                                        </li>
                                                        <li class="inactive">
                                                            <a href="https://msdn.microsoft.com/magazine/hh781007" title="February 2012" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads: 2012" ms.index="1" ms.cmptyp="link">February 2012</a>
                                                        </li>
                                                        <li class="inactive">
                                                            <a href="https://msdn.microsoft.com/magazine/hh708738" title="January 2012" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads: 2012" ms.index="1" ms.cmptyp="link">January 2012</a>
                                                        </li>
                                                </ul>
                                                   
                                        </li>
                                        <li class="inactive toggle">
                                            <a href="javascript:void(0)" title="2011" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads" ms.index="1" ms.cmptyp="link">2011</a>

                                                <ul class="navL3" style="display: none;">
                                                        <li class="inactive">
                                                            <a href="https://msdn.microsoft.com/magazine/hh580726" title="December 2011" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads: 2011" ms.index="1" ms.cmptyp="link">December 2011</a>
                                                        </li>
                                                        <li class="inactive">
                                                            <a href="https://msdn.microsoft.com/magazine/hh547094" title="November 2011" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads: 2011" ms.index="1" ms.cmptyp="link">November 2011</a>
                                                        </li>
                                                        <li class="inactive">
                                                            <a href="https://msdn.microsoft.com/magazine/hh463583" title="October 2011" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads: 2011" ms.index="1" ms.cmptyp="link">October 2011</a>
                                                        </li>
                                                        <li class="inactive">
                                                            <a href="https://msdn.microsoft.com/magazine/hh416747" title="September 2011" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads: 2011" ms.index="1" ms.cmptyp="link">September 2011</a>
                                                        </li>
                                                        <li class="inactive">
                                                            <a href="https://msdn.microsoft.com/magazine/hh339634" title="August 2011" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads: 2011" ms.index="1" ms.cmptyp="link">August 2011</a>
                                                        </li>
                                                        <li class="inactive">
                                                            <a href="https://msdn.microsoft.com/magazine/hh315813" title="July 2011" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads: 2011" ms.index="1" ms.cmptyp="link">July 2011</a>
                                                        </li>
                                                        <li class="inactive">
                                                            <a href="https://msdn.microsoft.com/magazine/hh227291" title="June 2011" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads: 2011" ms.index="1" ms.cmptyp="link">June 2011</a>
                                                        </li>
                                                        <li class="inactive">
                                                            <a href="https://msdn.microsoft.com/magazine/hh126799" title="May 2011" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads: 2011" ms.index="1" ms.cmptyp="link">May 2011</a>
                                                        </li>
                                                        <li class="inactive">
                                                            <a href="https://msdn.microsoft.com/magazine/gg749836" title="April 2011" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads: 2011" ms.index="1" ms.cmptyp="link">April 2011</a>
                                                        </li>
                                                        <li class="inactive">
                                                            <a href="https://msdn.microsoft.com/magazine/gg674897" title="March 2011" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads: 2011" ms.index="1" ms.cmptyp="link">March 2011</a>
                                                        </li>
                                                        <li class="inactive">
                                                            <a href="https://msdn.microsoft.com/magazine/gg602477" title="February 2011" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads: 2011" ms.index="1" ms.cmptyp="link">February 2011</a>
                                                        </li>
                                                        <li class="inactive">
                                                            <a href="https://msdn.microsoft.com/magazine/gg547373" title="January 2011" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads: 2011" ms.index="1" ms.cmptyp="link">January 2011</a>
                                                        </li>
                                                </ul>
                                                   
                                        </li>
                                        <li class="inactive toggle">
                                            <a href="javascript:void(0)" title="2010" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads" ms.index="1" ms.cmptyp="link">2010</a>

                                                <ul class="navL3" style="display: none;">
                                                        <li class="inactive">
                                                            <a href="https://msdn.microsoft.com/magazine/gg491225" title="December 2010" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads: 2010" ms.index="1" ms.cmptyp="link">December 2010</a>
                                                        </li>
                                                        <li class="inactive">
                                                            <a href="https://msdn.microsoft.com/magazine/gg412507" title="November 2010" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads: 2010" ms.index="1" ms.cmptyp="link">November 2010</a>
                                                        </li>
                                                        <li class="inactive">
                                                            <a href="https://msdn.microsoft.com/magazine/gg232773" title="October 2010" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads: 2010" ms.index="1" ms.cmptyp="link">October 2010</a>
                                                        </li>
                                                        <li class="inactive">
                                                            <a href="https://msdn.microsoft.com/magazine/ff956213" title="September 2010" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads: 2010" ms.index="1" ms.cmptyp="link">September 2010</a>
                                                        </li>
                                                        <li class="inactive">
                                                            <a href="https://msdn.microsoft.com/magazine/ff899321" title="August 2010" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads: 2010" ms.index="1" ms.cmptyp="link">August 2010</a>
                                                        </li>
                                                        <li class="inactive">
                                                            <a href="https://msdn.microsoft.com/magazine/ff799214" title="July 2010" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads: 2010" ms.index="1" ms.cmptyp="link">July 2010</a>
                                                        </li>
                                                        <li class="inactive">
                                                            <a href="https://msdn.microsoft.com/magazine/ff727949" title="June 2010" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads: 2010" ms.index="1" ms.cmptyp="link">June 2010</a>
                                                        </li>
                                                        <li class="inactive">
                                                            <a href="https://msdn.microsoft.com/magazine/ff646986" title="May 2010" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads: 2010" ms.index="1" ms.cmptyp="link">May 2010</a>
                                                        </li>
                                                        <li class="inactive">
                                                            <a href="https://msdn.microsoft.com/magazine/ee336306" title="April 2010" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads: 2010" ms.index="1" ms.cmptyp="link">April 2010</a>
                                                        </li>
                                                        <li class="inactive">
                                                            <a href="https://msdn.microsoft.com/magazine/ee336121" title="March 2010" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads: 2010" ms.index="1" ms.cmptyp="link">March 2010</a>
                                                        </li>
                                                        <li class="inactive">
                                                            <a href="https://msdn.microsoft.com/magazine/ff383375" title="February 2010" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads: 2010" ms.index="1" ms.cmptyp="link">February 2010</a>
                                                        </li>
                                                        <li class="inactive">
                                                            <a href="https://msdn.microsoft.com/magazine/ee291594" title="January 2010" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads: 2010" ms.index="1" ms.cmptyp="link">January 2010</a>
                                                        </li>
                                                </ul>
                                                   
                                        </li>
                                        <li class="inactive toggle">
                                            <a href="javascript:void(0)" title="2009" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads" ms.index="1" ms.cmptyp="link">2009</a>

                                                <ul class="navL3" style="display: none;">
                                                        <li class="inactive">
                                                            <a href="https://msdn.microsoft.com/magazine/ee835718" title="December 2009" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads: 2009" ms.index="1" ms.cmptyp="link">December 2009</a>
                                                        </li>
                                                        <li class="inactive">
                                                            <a href="" title="Brownfield Series" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads: 2009" ms.index="1" ms.cmptyp="link">Brownfield Series</a>
                                                        </li>
                                                        <li class="inactive">
                                                            <a href="https://msdn.microsoft.com/magazine/ee725283" title="November 2009" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads: 2009" ms.index="1" ms.cmptyp="link">November 2009</a>
                                                        </li>
                                                        <li class="inactive">
                                                            <a href="https://msdn.microsoft.com/magazine/ee532478" title="October 2009" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads: 2009" ms.index="1" ms.cmptyp="link">October 2009</a>
                                                        </li>
                                                        <li class="inactive">
                                                            <a href="https://msdn.microsoft.com/magazine/ee423615" title="September 2009" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads: 2009" ms.index="1" ms.cmptyp="link">September 2009</a>
                                                        </li>
                                                        <li class="inactive">
                                                            <a href="https://msdn.microsoft.com/magazine/dd920310" title="August 2009" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads: 2009" ms.index="1" ms.cmptyp="link">August 2009</a>
                                                        </li>
                                                        <li class="inactive">
                                                            <a href="https://msdn.microsoft.com/magazine/ee373424" title="July 2009" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads: 2009" ms.index="1" ms.cmptyp="link">July 2009</a>
                                                        </li>
                                                        <li class="inactive">
                                                            <a href="https://msdn.microsoft.com/magazine/ee300156" title="June 2009" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads: 2009" ms.index="1" ms.cmptyp="link">June 2009</a>
                                                        </li>
                                                        <li class="inactive">
                                                            <a href="https://msdn.microsoft.com/magazine/dd727694" title="May 2009" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads: 2009" ms.index="1" ms.cmptyp="link">May 2009</a>
                                                        </li>
                                                        <li class="inactive">
                                                            <a href="https://msdn.microsoft.com/magazine/dd578512" title="April 2009" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads: 2009" ms.index="1" ms.cmptyp="link">April 2009</a>
                                                        </li>
                                                        <li class="inactive">
                                                            <a href="https://msdn.microsoft.com/magazine/dd535414" title="March 2009" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads: 2009" ms.index="1" ms.cmptyp="link">March 2009</a>
                                                        </li>
                                                        <li class="inactive">
                                                            <a href="https://msdn.microsoft.com/magazine/dd326789" title="February 2009" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads: 2009" ms.index="1" ms.cmptyp="link">February 2009</a>
                                                        </li>
                                                        <li class="inactive">
                                                            <a href="https://msdn.microsoft.com/magazine/dd365186" title="January 2009" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Issues and downloads" ms.title="Issues and downloads: 2009" ms.index="1" ms.cmptyp="link">January 2009</a>
                                                        </li>
                                                </ul>
                                                   
                                        </li>
                                </ul>
                        </li>
                        <li class="inactive">
                            <a href="https://msdn.microsoft.com/magazine/ee358702" title="Subscribe" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Subscribe" ms.title="Subscribe" ms.index="2" ms.cmptyp="link">Subscribe</a>
                        </li>
                        <li class="inactive">
                            <a href="https://msdn.microsoft.com/magazine/ee291618" title="Submit article" ms.pgarea="header" ms.cmpgrp="main nav" ms.cmpnm="Submit article" ms.title="Submit article" ms.index="3" ms.cmptyp="link">Submit article</a>
                        </li>
            </ul>
        </nav>

                  </div>
                </div>
              </div>
              <div class="right">
                <div data-fragmentname="SearchBox" id="Fragment_SearchBox" xmlns="http://www.w3.org/1999/xhtml">
  <div class="SearchBox">
    <form id="HeaderSearchForm" name="HeaderSearchForm" method="get">
      <button id="FakeHeaderSearchButton" value="Search" type="submit" class="header-search-button">
        <div id="search-finder" class="search-finder"></div>
      </button>
      <button id="HeaderSearchButton" style="display:none" title=""></button>
      <div id="searchSplitter"></div>
      <div id="searchCloseIcon" class="search-clear-x"></div>
      <div id="searchTextContainer" style="width: 0px; display: none;">
        <input id="HeaderSearchTextBox" name="query" type="text" maxlength="200" onfocus="Epx.Controls.SearchBox.watermarkFocus(event, this.title)" onblur="Epx.Controls.SearchBox.watermarkBlur(event, this.title)" autocomplete="off" ms.pgarea="header" ms.cmpgrp="aux nav" ms.cmpnm="upper search box" ms.index="3" ms.cmptyp="input">
      <div id="SearchFlyoutContainer" style="display: none; text-align: left; border: 1px solid buttonshadow; position: absolute; z-index: 1000; padding: 2px; color: rgb(255, 255, 255); font-family: &#39;Segoe UI&#39;, Tahoma, Helvetica, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><div id="SuggestionContainer"><ul style="list-style: none; padding: 4px 2px 0px 1px; cursor: pointer; margin: 1px; white-space: nowrap;"></ul></div></div></div>
    </form>
    
    
  </div>
</div>
              </div>
            </div>
          </div>
        </div>

      </header>

    <div id="overlayMaskHeader"></div></div>

    
    

        







  <div class="breadCrumb">
        <span>Issues and downloads</span>
        <span><a href="https://msdn.microsoft.com/en-us/magazine/mt267548.aspx" title="2015">2015</a></span>
        <span><a href="https://msdn.microsoft.com/en-us/magazine/mt185509.aspx" title="August 2015">August 2015</a></span>

    <span><a href="./Cloud-Connected Mobile Apps - Create a Web Service with Azure Web Apps and WebJobs_files/Cloud-Connected Mobile Apps - Create a Web Service with Azure Web Apps and WebJobs.html" title="Cloud-Connected Mobile Apps - Create a Web Service with Azure Web Apps and WebJobs">Cloud-Connected Mobile Apps - Create a Web Service with Azure Web Apps and WebJobs</a></span>
  </div>


        <div id="content">
            









  
  
  <div id="LeftContent">
    <div class="navpage" xmlns="http://www.w3.org/1999/xhtml">
  <div class="mag">
    <div class="allWidth issueHeader" id="">
      <hr>
      <div class="issueDate">August 2015</div>
      <div class="issueNum">Volume 30 Number 8</div>
    </div>
    <div class="article">
      <div class="FeatureTitle" id="">
        <h1>Cloud-Connected Mobile Apps - Create a Web Service with Azure Web Apps and WebJobs</h1>
        <p>By <a href="https://msdn.microsoft.com/en-us/magazine/mt149362?author=Kraig+Brockschmidt">Kraig Brockschmidt</a>, <a href="https://msdn.microsoft.com/en-us/magazine/mt149362?author=Erik+Reitan">Erik Reitan</a>, <a href="https://msdn.microsoft.com/en-us/magazine/mt149362?author=Mike+Wasson">Mike Wasson</a>, <a href="https://msdn.microsoft.com/en-us/magazine/mt149362?author=Rick+Anderson">Rick Anderson</a>, <a href="https://msdn.microsoft.com/en-us/magazine/mt149362?author=Tom+Dykstra">Tom Dykstra</a> | August 2015 | <a href="http://aka.ms/altostratusproject">Get the Code</a></p>
      </div>
      <p> Today, many mobile apps are connected to one or more Web services that provide valuable and interesting data. When designing and developing such apps, the easiest approach to take is to make direct REST API calls to those services and then process the response in the client. However, this approach has a number of drawbacks. For one, every network call and every bit of client-side processing consumes precious battery power and bandwidth. Furthermore, extensive client-side processing can take a while to perform, especially on lower-end hardware, making the app less responsive. And different Web services might impose throttling limitations, which means that a purely client-side solution will not readily scale to a larger number of users.</p>
      <p>As a result, it makes sense in many scenarios—especially ones that pull data from multiple sources—to create your own back end, to which you can offload certain tasks. As part of our work at Microsoft as a team that develops content for ASP.NET, Microsoft Azure and cross-platform development tools in Visual Studio, we created a specific example of this approach.</p>
      <p>In this two-part article, we discuss our approach, some of the challenges we encountered and some of the lessons we learned while developing our application. This application, which we named “Altostratus” (an interesting type of cloud), searches Stack Overflow and Twitter for specific topics that we call “conversations.” We chose these two providers because they both have good Web APIs. The application has two main components:</p>
      <ul>
        <li>A cloud back end, hosted on Azure. The back end periodically makes requests to the providers and aggregates the data into the form that’s best suited for the client. This avoids throttling concerns, reduces any concerns about latency in the providers, minimizes client-side processing, and reduces the number of network requests from the client. One tradeoff is that the WebJob runs every few hours, so you don’t get real-time data.</li>
        <li>A lightweight mobile client app, created with Xamarin to run on Windows, Android and iOS (see <strong>Figure 1</strong>). The mobile client fetches the aggregated data from the back end and presents it to the user. It also keeps a synchronized cache of the data in a local database for a good offline experience and faster startup times.</li>
      </ul>
      <p>
        <img alt="The Xamarin Mobile Client Running on an Android Tablet (Left), a Windows Phone (Middle) and an iPhone (Right)" src="./Cloud-Connected Mobile Apps - Create a Web Service with Azure Web Apps and WebJobs_files/IC819968.png" title="The Xamarin Mobile Client Running on an Android Tablet (Left), a Windows Phone (Middle) and an iPhone (Right)">
        <br>
        <strong>Figure 1 The Xamarin Mobile Client Running on an Android Tablet (Left), a Windows Phone (Middle) and an iPhone (Right)</strong>
      </p>
      <p>Users can optionally sign in to the mobile client using social providers (Google or Facebook). When signed in, users can set preferences that further optimize communications with the client. Specifically, they can select which subject areas to receive and the maximum number of conversations within each subject area. User preferences are stored on the back end, so a user can sign in from any client and get the same experience. To demonstrate this idea, we also created a simple Web client that talks to the same back end.</p>
      <p>&nbsp;As part of this project, we also wanted to use the application lifecycle management (ALM) tools built into Visual Studio and Visual Studio Online to manage sprints and the work backlog, and to perform automated unit testing, continuous integration (CI) and continuous deployment (CD).</p>
      <p>This two-part article explores the details of our project. Part 1 focuses on the back end and our use of ALM tools (DevOps). We’ll also talk about some of the challenges we encountered and some of the lessons learned, such as:</p>
      <ul>
        <li>How to securely automate the deployment of passwords to non-Web apps.</li>
        <li>How to handle Azure automation time-outs.</li>
        <li>Efficient and informative background processing.</li>
        <li>CI/CD limitations and workarounds.</li>
      </ul>
      <p>Part 2 will discuss how we used Xamarin to target multiple mobile client platforms, including authentication and maintaining a synchronized client-side cache of the data.</p>
      <div>
        <h2>Architecture</h2>
        <p>
          <strong>Figure 2</strong> shows the high-level architecture for the Altostratus solution.</p>
        <ul>
          <li>On the back end, we use Azure App Service to host the Web app, and Azure SQL Database to store data in a relational database. We use Entity Framework (EF) for data access.</li>
          <li>We use Azure WebJobs to run a scheduled background task that aggregates data from Stack Overflow and Twitter and writes it to the database. The WebJob can easily be extended to aggregate data from additional sources.</li>
          <li>The mobile client is created using Xamarin and communicates with the back end using a simple REST API.</li>
          <li>The REST API is implemented using ASP.NET Web API, which is a framework for creating HTTP services in the Microsoft .NET Framework.</li>
          <li>The Web client is a relatively simple JavaScript app. We used the KnockoutJS library for data binding and jQuery for AJAX calls.</li>
        </ul>
        <div>
          <p>
            <img alt="Altostratus Architecture" src="./Cloud-Connected Mobile Apps - Create a Web Service with Azure Web Apps and WebJobs_files/IC819965.png" title="Altostratus Architecture">
            <br>
            <strong>Figure 2 Altostratus Architecture</strong>
          </p>
        </div>
        <h2>The Database Schema</h2>
        <p>We use EF Code First to define the database schema and manage the back-end SQL database. As <strong>Figure 3</strong> shows, the database stores the following entities:</p>
        <ul>
          <li>Provider: A data source, such as Twitter or Stack Overflow.</li>
          <li>Conversation: An item from a provider. For Stack Overflow, this corresponds to a question with answers. For Twitter, it corresponds to a tweet. (It could also be a tweet with replies, but we didn’t implement that feature.)</li>
          <li>Category: The subject for a conversation, such as “Azure” or “ASP.NET.”</li>
          <li>Tag: A search string for a specific category and provider. These correspond to tags in Stack Overflow (“azure-web-sites”) and hash tags in Twitter (“#azurewebsites”). The back end uses these to query the providers. The end user doesn’t see them.</li>
          <li>UserPreference: Stores per-user preferences.</li>
          <li>UserCategory: Defines a join table for UserPreference and Category.</li>
        </ul>
        <div>
          <p>
            <img alt="The Altostratus Data Model" src="./Cloud-Connected Mobile Apps - Create a Web Service with Azure Web Apps and WebJobs_files/IC819964.png" title="The Altostratus Data Model">
            <br>
            <strong>Figure 3 The Altostratus Data Model</strong>
          </p>
        </div>
        <p>In general, the Create, Read, Update, Delete (CRUD) code in the Altostratus application is typical for EF Code First. One special consideration has to do with handling database seeding and migrations. Code First creates and seeds a new database if no database exists the first time a program tries to access data. Because the first attempt to access data could happen in the WebJob, we have code in the WebJob’s Main method to make EF use the MigrateDatabase­ToLatestVersion initializer:</p>
<div id="code-snippet-1" class="codeSnippetContainer" xmlns="">
    <div class="codeSnippetContainerTabs">
        <div class="codeSnippetContainerTabSingle" dir="ltr"><a>C#</a></div>
    </div>
    <div class="codeSnippetContainerCodeContainer">
        <div class="codeSnippetToolBar">
            <div class="codeSnippetToolBarText">
                <a name="CodeSnippetCopyLink" style="display: none;" title="Copy to clipboard." href="javascript:if (window.epx.codeSnippet)window.epx.codeSnippet.copyCode('CodeSnippetContainerCode_11c02931-e0ed-4c3b-899d-7a72b9d3b41f');">Copy</a>
            </div>
        </div>
        <div id="CodeSnippetContainerCode_11c02931-e0ed-4c3b-899d-7a72b9d3b41f" class="codeSnippetContainerCode" dir="ltr">
            <div style="color:Black;"><pre><span style="color:Blue;">static</span> <span style="color:Blue;">void</span> Main()
{
&nbsp; Task task;
&nbsp; <span style="color:Blue;">try</span>
&nbsp; {
&nbsp;&nbsp;&nbsp; Database.SetInitializer&lt;ApplicationDbContext&gt;(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color:Blue;">new</span> MigrateDatabaseToLatestVersion&lt;ApplicationDbContext,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Altostratus.DAL.Migrations.Configuration&gt;());
</pre></div>
            
        </div>
    </div>
</div>
<p>Without this code, the WebJob would use the CreateDatabaseIfNotExists initializer by default, which doesn’t seed the database. The result would be an empty database and errors when the application tries to read data from empty tables.</p><h2>Designing the WebJob</h2><p>WebJobs provides an ideal solution for running background tasks, which is work that previously would have required a dedicated Azure Worker Role to perform. You can run WebJobs on an Azure Web app with no additional cost. You can read about the advantages WebJobs provide over worker roles at Troy Hunts blog post, “Azure WebJobs Are Awesome and You Should Start Using Them Right Now!” (<a href="http://bit.ly/1c28yAk">bit.ly/1c28yAk</a>).</p><p>The WebJob for our solution periodically runs three functions: get Twitter data, get Stack Overflow data and purge old data. These functions are independent, but they must be run sequentially because they share the same EF context. After a WebJob completes, the Azure Portal shows the status of each function (see <strong>Figure 3</strong>). If the function completes, it’s marked with a green Success message, and if an exception is thrown, it’s marked with a red Failed message.</p><p>Failures are not infrequent in Altostratus because we use the free Stack Overflow and Twitter provider APIs. Queries, in particular, are limited: If you exceed the query limit, the providers return a throttling error. This was a key reason for creating the back end in the first place. Although it would be straightforward for a mobile app to make requests to these providers directly, a growing number of users could quickly reach the throttling limit. Instead, the back end can make just a few periodic requests to collect and aggregate the data.</p><p>One issue we encountered was around WebJob error handling. Normally, if any function in the WebJob throws an exception, the WebJob instance is terminated, the remaining functions don’t run and the entire WebJob run is marked as failed. In order to run all the tasks and show a failure at the function level, the WebJob must catch exceptions. If any function in Main throws, we log the last exception and re-throw, so the WebJob gets marked as Failed. The pseudo code in <strong>Figure 4</strong> shows this approach. (The project download contains the complete code.)</p><div class="codeCaption">Figure 4 Catching and Re-Throwing Exceptions</div>
<div id="code-snippet-2" class="codeSnippetContainer" xmlns="">
    <div class="codeSnippetContainerTabs">
        <div class="codeSnippetContainerTabSingle" dir="ltr"><a>C#</a></div>
    </div>
    <div class="codeSnippetContainerCodeContainer">
        <div class="codeSnippetToolBar">
            <div class="codeSnippetToolBarText">
                <a name="CodeSnippetCopyLink" style="display: none;" title="Copy to clipboard." href="javascript:if (window.epx.codeSnippet)window.epx.codeSnippet.copyCode('CodeSnippetContainerCode_c0672489-5236-4dd0-9531-0693522a917a');">Copy</a>
            </div>
        </div>
        <div id="CodeSnippetContainerCode_c0672489-5236-4dd0-9531-0693522a917a" class="codeSnippetContainerCode" dir="ltr">
            <div style="color:Black;"><pre><span style="color:Blue;">static</span> <span style="color:Blue;">void</span> Main()
{
&nbsp; Task task;
&nbsp; <span style="color:Blue;">try</span>
&nbsp; {
&nbsp;&nbsp;&nbsp; Exception _lastException = <span style="color:Blue;">null</span>;
&nbsp;&nbsp;&nbsp; <span style="color:Blue;">try</span>
&nbsp;&nbsp;&nbsp; {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; task = host.CallAsync(<span style="color:#A31515;">"Twitter"</span>);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; task.Wait();
&nbsp;&nbsp;&nbsp; }
&nbsp;&nbsp;&nbsp; <span style="color:Blue;">catch</span> (Exception ex)
&nbsp;&nbsp;&nbsp; {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; _lastException = ex;
&nbsp;&nbsp;&nbsp; }
&nbsp;&nbsp;&nbsp; <span style="color:Blue;">try</span>
&nbsp;&nbsp;&nbsp; {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; task = host.CallAsync(<span style="color:#A31515;">"StackOverflow"</span>);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; task.Wait();
&nbsp;&nbsp;&nbsp; }
&nbsp;&nbsp;&nbsp; <span style="color:Blue;">catch</span> (Exception ex)
&nbsp;&nbsp;&nbsp; {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; _lastException = ex;
&nbsp;&nbsp;&nbsp; }
&nbsp;&nbsp;&nbsp; task = host.CallAsync(<span style="color:#A31515;">"Purge Old Data"</span>);
&nbsp;&nbsp;&nbsp; task.Wait();
&nbsp;&nbsp;&nbsp; <span style="color:Blue;">if</span> (_lastException != <span style="color:Blue;">null</span>)
&nbsp;&nbsp;&nbsp; {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color:Blue;">throw</span> _lastException;
&nbsp;&nbsp;&nbsp; }
&nbsp; }
&nbsp; <span style="color:Blue;">catch</span> (Exception ex)
&nbsp; {
&nbsp; }
}
</pre></div>
            
        </div>
    </div>
</div>
<p>In <strong>Figure 4</strong>, only the last exception is shown at the WebJob level. At the function level, every exception is logged, so no exceptions are lost. <strong>Figure 5</strong> shows the dashboard for a WebJob that ran successfully. You can drill down into each function to see diagnostic output.</p><p><img alt="Successful WebJob Run" src="./Cloud-Connected Mobile Apps - Create a Web Service with Azure Web Apps and WebJobs_files/IC819967.png" title="Successful WebJob Run"><br><strong>Figure 5 Successful WebJob Run</strong></p></div>
      <div>
        <h2>Designing the REST API</h2>
        <p>The mobile app communicates to the back end through a simple REST API, which we implemented using ASP.NET Web API 2. (Note that in ASP.NET 5, Web API is merged into the MVC 6 framework, making it simpler to incorporate both into a Web app.)</p>
        <p>
          <strong>Figure 6</strong> summarizes our REST API.</p>
        <div>
          <p>
            <strong>Figure 6 REST API Summary</strong>
          </p>
        </div>
        <table class="charttable">
          <tbody><tr>
            <td valign="top">GET api/categories</td>
            <td valign="top">Gets the categories.</td>
          </tr>
          <tr>
            <td valign="top">GET api/conversations?from=iso-8601-date</td>
            <td valign="top">Gets the conversations.</td>
          </tr>
          <tr>
            <td valign="top">GET api/userpreferences</td>
            <td valign="top">Gets the user’s preferences.</td>
          </tr>
          <tr>
            <td valign="top">PUT api/userpreferences</td>
            <td valign="top">Updates the user’s preferences.</td>
          </tr>
        </tbody></table>
        <p>All responses are in JSON format. For example, <strong>Figure 7</strong> shows an HTTP response for conversations.</p>
        <div class="codeCaption">Figure 7 An HTTP Response for Conversations</div>
<div id="code-snippet-3" class="codeSnippetContainer" xmlns="">
    <div class="codeSnippetContainerTabs">
        <div class="codeSnippetContainerTabSingle" dir="ltr"><a>JavaScript</a></div>
    </div>
    <div class="codeSnippetContainerCodeContainer">
        <div class="codeSnippetToolBar">
            <div class="codeSnippetToolBarText">
                <a name="CodeSnippetCopyLink" style="display: none;" title="Copy to clipboard." href="javascript:if (window.epx.codeSnippet)window.epx.codeSnippet.copyCode('CodeSnippetContainerCode_886e1673-1ca3-4e37-ad4c-ed3422b0ba21');">Copy</a>
            </div>
        </div>
        <div id="CodeSnippetContainerCode_886e1673-1ca3-4e37-ad4c-ed3422b0ba21" class="codeSnippetContainerCode" dir="ltr">
            <div style="color:Black;"><pre>HTTP/1.1 200 OK
Content-Length: 93449
Content-Type: application/json; charset=utf-8
Server: Microsoft-IIS/8.0
Date: Tue, 21 Apr 2015 22:38:47 GMT
[
&nbsp; {
&nbsp;&nbsp;&nbsp; <span style="color:#A31515;">"Url"</span>: <span style="color:#A31515;">"http://twitter.com/815911142/status/590317675412262912"</span>,
&nbsp;&nbsp;&nbsp; <span style="color:#A31515;">"LastUpdated"</span>: <span style="color:#A31515;">"2015-04-21T00:54:36"</span>,
&nbsp;&nbsp;&nbsp; <span style="color:#A31515;">"Title"</span>: <span style="color:#A31515;">"Tweet by rickraineytx"</span>,
&nbsp;&nbsp;&nbsp; <span style="color:#A31515;">"Body"</span>: "Everything you need to know about #AzureWebJobs is here.
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;a href=\<span style="color:#A31515;">"http://t.co/t2bywUQoft\"</span><span style="color:#A31515;">"&gt;http://t.co/t2bywUQoft&lt;/a&gt;"</span>,
&nbsp;&nbsp;&nbsp; <span style="color:#A31515;">"ProviderName"</span>: <span style="color:#A31515;">"Twitter"</span>,
&nbsp;&nbsp;&nbsp; <span style="color:#A31515;">"CategoryName"</span>: <span style="color:#A31515;">"Azure"</span>
&nbsp; },
&nbsp; <span style="color:Green;">// ... Some results deleted for space</span>
]
</pre></div>
            
        </div>
    </div>
</div>
<p>For conversations, we don’t require the request to be authenticated. That means the mobile app can always show meaningful data without requiring the user to log in first. But we also wanted to demonstrate having the back end perform additional optimizations when a user logs in. Our client app lets the user select which categories of conversations to display, along with a conversation limit. So if a request is authenticated (meaning the user logged into the app), the back end automatically filters the response based on those preferences. This limits the amount of data that must be processed by the client, which, over time, reduces demands on bandwidth, memory, storage and battery power.</p><p>The conversations API also takes an optional “from” parameter in the query string. If specified, this filters the results to include only conversations updated after that date:</p>
<div id="code-snippet-4" class="codeSnippetContainer" xmlns="">
    <div class="codeSnippetContainerTabs">
        <div class="codeSnippetContainerTabSingle" dir="ltr"><a>XML</a></div>
    </div>
    <div class="codeSnippetContainerCodeContainer">
        <div class="codeSnippetToolBar">
            <div class="codeSnippetToolBarText">
                <a name="CodeSnippetCopyLink" style="display: none;" title="Copy to clipboard." href="javascript:if (window.epx.codeSnippet)window.epx.codeSnippet.copyCode('CodeSnippetContainerCode_c11d3849-492d-4e10-b623-5bf9d6709e9f');">Copy</a>
            </div>
        </div>
        <div id="CodeSnippetContainerCode_c11d3849-492d-4e10-b623-5bf9d6709e9f" class="codeSnippetContainerCode" dir="ltr">
            <div style="color:Black;"><pre>GET api/conversations?from=2015-04-20T03:59Z
</pre></div>
            
        </div>
    </div>
</div>
<p>This minimizes the size of the response. Our mobile client uses this parameter to ask for only the data it needs to synchronize its cache.</p><p>We could have designed the API to use query strings to communicate a user’s preferences on a per-request basis, meaning those preferences would be maintained only in the client. That would have avoided the need for authentication. While this approach would work fine for basic scenarios, we wanted to provide an example that could be extended to more complicated situations where query strings would be insufficient. Storing preferences on the back end also means they’re automatically applied on every client where the same user logs in.</p></div>
      <div>
        <h2>Data Transfer Objects (DTOs)</h2>
        <p>The REST API is the boundary between the database schema and the wire representation. We didn’t want to serialize the EF models directly:</p>
        <ul>
          <li>They contain information the client doesn’t need, like foreign keys.</li>
          <li>They can make the API vulnerable to over-posting. (Over-posting is when a client updates database fields you didn’t indent to expose for updates. It can occur when you convert an HTTP request payload directly into an EF model without validating the input sufficiently. See <a href="http://bit.ly/1It1wl2">bit.ly/1It1wl2</a> for more information.)</li>
          <li>The “shape” of the EF models are designed for creating database tables, and aren’t optimal for the client.</li>
        </ul>
        <p>Therefore, we created a set of data transfer objects (DTOs), which are just C# classes that define the format for the REST API responses. For example, here’s our EF model for categories:</p>
<div id="code-snippet-5" class="codeSnippetContainer" xmlns="">
    <div class="codeSnippetContainerTabs">
        <div class="codeSnippetContainerTabSingle" dir="ltr"><a>C#</a></div>
    </div>
    <div class="codeSnippetContainerCodeContainer">
        <div class="codeSnippetToolBar">
            <div class="codeSnippetToolBarText">
                <a name="CodeSnippetCopyLink" style="display: none;" title="Copy to clipboard." href="javascript:if (window.epx.codeSnippet)window.epx.codeSnippet.copyCode('CodeSnippetContainerCode_6247c8bf-1d39-4545-96f1-d6130592089e');">Copy</a>
            </div>
        </div>
        <div id="CodeSnippetContainerCode_6247c8bf-1d39-4545-96f1-d6130592089e" class="codeSnippetContainerCode" dir="ltr">
            <div style="color:Black;"><pre><span style="color:Blue;">public</span> <span style="color:Blue;">class</span> Category
{
&nbsp; <span style="color:Blue;">public</span> <span style="color:Blue;">int</span> CategoryID { <span style="color:Blue;">get</span>; <span style="color:Blue;">set</span>; }
&nbsp; [StringLength(100)]
&nbsp; <span style="color:Blue;">public</span> <span style="color:Blue;">string</span> Name { <span style="color:Blue;">get</span>; <span style="color:Blue;">set</span>; }&nbsp; <span style="color:Green;">// e.g: Azure, ASP.NET</span>
&nbsp; <span style="color:Blue;">public</span> ICollection&lt;Tag&gt; Tags { <span style="color:Blue;">get</span>; <span style="color:Blue;">set</span>; }
&nbsp; <span style="color:Blue;">public</span> ICollection&lt;Conversation&gt; Conversations { <span style="color:Blue;">get</span>; <span style="color:Blue;">set</span>; }
}
</pre></div>
            
        </div>
    </div>
</div>
<p>The category entity has a primary key (CategoryID) and navigation properties (Tags and Conversations). The navigation properties make it easy to follow relations in EF—for example, to find all the tags for a category.</p><p>When the client asks for the categories, it just needs a list of category names:</p>
<div id="code-snippet-6" class="codeSnippetContainer" xmlns="">
    <div class="codeSnippetContainerTabs">
        <div class="codeSnippetContainerTabSingle" dir="ltr"><a>XML</a></div>
    </div>
    <div class="codeSnippetContainerCodeContainer">
        <div class="codeSnippetToolBar">
            <div class="codeSnippetToolBarText">
                <a name="CodeSnippetCopyLink" style="display: none;" title="Copy to clipboard." href="javascript:if (window.epx.codeSnippet)window.epx.codeSnippet.copyCode('CodeSnippetContainerCode_64cbc044-dfbd-41ca-9a66-083b9e7ee9c5');">Copy</a>
            </div>
        </div>
        <div id="CodeSnippetContainerCode_64cbc044-dfbd-41ca-9a66-083b9e7ee9c5" class="codeSnippetContainerCode" dir="ltr">
            <div style="color:Black;"><pre>[ "Azure", "ASP.NET" ]
</pre></div>
            
        </div>
    </div>
</div>
<p>This conversion is easy to perform using a LINQ Select statement in the Web API controller method:</p>
<div id="code-snippet-7" class="codeSnippetContainer" xmlns="">
    <div class="codeSnippetContainerTabs">
        <div class="codeSnippetContainerTabSingle" dir="ltr"><a>C#</a></div>
    </div>
    <div class="codeSnippetContainerCodeContainer">
        <div class="codeSnippetToolBar">
            <div class="codeSnippetToolBarText">
                <a name="CodeSnippetCopyLink" style="display: none;" title="Copy to clipboard." href="javascript:if (window.epx.codeSnippet)window.epx.codeSnippet.copyCode('CodeSnippetContainerCode_c234499a-19e2-43d9-831b-b08110090a30');">Copy</a>
            </div>
        </div>
        <div id="CodeSnippetContainerCode_c234499a-19e2-43d9-831b-b08110090a30" class="codeSnippetContainerCode" dir="ltr">
            <div style="color:Black;"><pre><span style="color:Blue;">public</span> IEnumerable&lt;<span style="color:Blue;">string</span>&gt; GetCategories()
{
&nbsp; <span style="color:Blue;">return</span> db.Categories.Select(x =&gt; x.Name);
}
</pre></div>
            
        </div>
    </div>
</div>
<p>The UserPreference entity is a bit more complicated:</p>
<div id="code-snippet-8" class="codeSnippetContainer" xmlns="">
    <div class="codeSnippetContainerTabs">
        <div class="codeSnippetContainerTabSingle" dir="ltr"><a>C#</a></div>
    </div>
    <div class="codeSnippetContainerCodeContainer">
        <div class="codeSnippetToolBar">
            <div class="codeSnippetToolBarText">
                <a name="CodeSnippetCopyLink" style="display: none;" title="Copy to clipboard." href="javascript:if (window.epx.codeSnippet)window.epx.codeSnippet.copyCode('CodeSnippetContainerCode_39f6f20b-860c-456d-be1d-8ae65d563a9c');">Copy</a>
            </div>
        </div>
        <div id="CodeSnippetContainerCode_39f6f20b-860c-456d-be1d-8ae65d563a9c" class="codeSnippetContainerCode" dir="ltr">
            <div style="color:Black;"><pre><span style="color:Blue;">public</span> <span style="color:Blue;">class</span> UserPreference
{
&nbsp; <span style="color:Green;">// FK to AspNetUser table Id&nbsp;&nbsp;&nbsp;</span>
&nbsp; [Key, DatabaseGenerated(DatabaseGeneratedOption.None)]
&nbsp; <span style="color:Blue;">public</span> <span style="color:Blue;">string</span> ApplicationUser_Id { <span style="color:Blue;">get</span>; <span style="color:Blue;">set</span>; }
&nbsp; <span style="color:Blue;">public</span> <span style="color:Blue;">int</span> ConversationLimit { <span style="color:Blue;">get</span>; <span style="color:Blue;">set</span>; }&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp; <span style="color:Blue;">public</span> <span style="color:Blue;">int</span> SortOrder { <span style="color:Blue;">get</span>; <span style="color:Blue;">set</span>; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp; <span style="color:Blue;">public</span> ICollection&lt;UserCategory&gt; UserCategory { <span style="color:Blue;">get</span>; <span style="color:Blue;">set</span>; }
&nbsp; [ForeignKey(<span style="color:#A31515;">"ApplicationUser_Id"</span>)]
&nbsp; <span style="color:Blue;">public</span> ApplicationUser AppUser { <span style="color:Blue;">get</span>; <span style="color:Blue;">set</span>; }
}
</pre></div>
            
        </div>
    </div>
</div>
<p>ApplicationUser_Id is a foreign key to the user table. UserCategory points to a junction table, which creates a many-to-many relation between user preferences and categories.</p><p>Here’s how we want this to look to the client:</p>
<div id="code-snippet-9" class="codeSnippetContainer" xmlns="">
    <div class="codeSnippetContainerTabs">
        <div class="codeSnippetContainerTabSingle" dir="ltr"><a>C#</a></div>
    </div>
    <div class="codeSnippetContainerCodeContainer">
        <div class="codeSnippetToolBar">
            <div class="codeSnippetToolBarText">
                <a name="CodeSnippetCopyLink" style="display: none;" title="Copy to clipboard." href="javascript:if (window.epx.codeSnippet)window.epx.codeSnippet.copyCode('CodeSnippetContainerCode_d59b8de3-ae16-41aa-9d6a-358dad38b817');">Copy</a>
            </div>
        </div>
        <div id="CodeSnippetContainerCode_d59b8de3-ae16-41aa-9d6a-358dad38b817" class="codeSnippetContainerCode" dir="ltr">
            <div style="color:Black;"><pre><span style="color:Blue;">public</span> <span style="color:Blue;">class</span> UserPreferenceDTO
{
&nbsp; <span style="color:Blue;">public</span> <span style="color:Blue;">int</span> ConversationLimit { <span style="color:Blue;">get</span>; <span style="color:Blue;">set</span>; }
&nbsp; <span style="color:Blue;">public</span> <span style="color:Blue;">int</span> SortOrder { <span style="color:Blue;">get</span>; <span style="color:Blue;">set</span>; }
&nbsp; <span style="color:Blue;">public</span> ICollection&lt;<span style="color:Blue;">string</span>&gt; Categories { <span style="color:Blue;">get</span>; <span style="color:Blue;">set</span>; }
}
</pre></div>
            
        </div>
    </div>
</div>
<p>This hides the things that are implementation details of the database schema, like foreign keys and junction tables, and flattens category names into a list of strings.</p><p>The LINQ expression to convert UserPreference to UserPreference­DTO is fairly complex, so we used AutoMapper instead. AutoMapper is a library that maps object types. The idea is to define a mapping once, and then use AutoMapper to do the mapping for you.</p><p>We configure AutoMapper when the app starts:</p>
<div id="code-snippet-10" class="codeSnippetContainer" xmlns="">
    <div class="codeSnippetContainerTabs">
        <div class="codeSnippetContainerTabSingle" dir="ltr"><a>C#</a></div>
    </div>
    <div class="codeSnippetContainerCodeContainer">
        <div class="codeSnippetToolBar">
            <div class="codeSnippetToolBarText">
                <a name="CodeSnippetCopyLink" style="display: none;" title="Copy to clipboard." href="javascript:if (window.epx.codeSnippet)window.epx.codeSnippet.copyCode('CodeSnippetContainerCode_e04f46bc-e456-45b1-af5c-d585308e2bc5');">Copy</a>
            </div>
        </div>
        <div id="CodeSnippetContainerCode_e04f46bc-e456-45b1-af5c-d585308e2bc5" class="codeSnippetContainerCode" dir="ltr">
            <div style="color:Black;"><pre>Mapper.CreateMap&lt;Conversation, ConversationDTO&gt;();
Mapper.CreateMap&lt;UserPreference, UserPreferenceDTO&gt;()
&nbsp; .ForMember(dest =&gt; dest.Categories,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; opts =&gt; opts.MapFrom(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; src =&gt; src.UserCategory.Select(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; x =&gt; x.Category.Name).ToList()));
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color:Green;">// This clause maps ICollection&lt;UserCategory&gt; to a flat</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color:Green;">// list of category names.</span>
</pre></div>
            
        </div>
    </div>
</div>
<p>The first call to CreateMap maps Conversation to ConversationDTO, using AutoMapper’s default mapping conventions. For UserPreference, the mapping is less straightforward, so there’s some extra configuration.</p><p>Once AutoMapper is configured, mapping objects is easy:</p>
<div id="code-snippet-11" class="codeSnippetContainer" xmlns="">
    <div class="codeSnippetContainerTabs">
        <div class="codeSnippetContainerTabSingle" dir="ltr"><a>C#</a></div>
    </div>
    <div class="codeSnippetContainerCodeContainer">
        <div class="codeSnippetToolBar">
            <div class="codeSnippetToolBarText">
                <a name="CodeSnippetCopyLink" style="display: none;" title="Copy to clipboard." href="javascript:if (window.epx.codeSnippet)window.epx.codeSnippet.copyCode('CodeSnippetContainerCode_2aaa405f-43a1-444d-b830-73dbcca65e4e');">Copy</a>
            </div>
        </div>
        <div id="CodeSnippetContainerCode_2aaa405f-43a1-444d-b830-73dbcca65e4e" class="codeSnippetContainerCode" dir="ltr">
            <div style="color:Black;"><pre><span style="color:Blue;">var</span> prefs = <span style="color:Blue;">await</span> db.UserPreferences
&nbsp; .Include(x =&gt; x.UserCategory.Select(y =&gt; y.Category))&nbsp;&nbsp;
&nbsp; .SingleOrDefaultAsync(x =&gt; x.ApplicationUser_Id == userId);
<span style="color:Blue;">var</span> results = AutoMapper.Mapper.Map&lt;UserPreference,
&nbsp; UserPreferenceDTO&gt;(prefs);
</pre></div>
            
        </div>
    </div>
</div>
<p>AutoMapper is smart enough to convert this into a LINQ statement, so the SELECTs happen on the database.</p></div>
      <div>
        <h2>Authentication and Authorization</h2>
        <p>We use a social login (Google and Facebook) to authenticate users. (The authentication process will be described in detail in Part 2 of this article.) After Web API auth­enticates the request, the Web API controller can use this information to authorize requests and to look up the user in the user database.</p>
        <p>To restrict a REST API to authorized users, we decorate the controller class with the [Authorize] attribute:</p>
<div id="code-snippet-12" class="codeSnippetContainer" xmlns="">
    <div class="codeSnippetContainerTabs">
        <div class="codeSnippetContainerTabSingle" dir="ltr"><a>C#</a></div>
    </div>
    <div class="codeSnippetContainerCodeContainer">
        <div class="codeSnippetToolBar">
            <div class="codeSnippetToolBarText">
                <a name="CodeSnippetCopyLink" style="display: none;" title="Copy to clipboard." href="javascript:if (window.epx.codeSnippet)window.epx.codeSnippet.copyCode('CodeSnippetContainerCode_c835b8a6-6bb3-4803-9966-5dbc66219c65');">Copy</a>
            </div>
        </div>
        <div id="CodeSnippetContainerCode_c835b8a6-6bb3-4803-9966-5dbc66219c65" class="codeSnippetContainerCode" dir="ltr">
            <div style="color:Black;"><pre>[Authorize]
<span style="color:Blue;">public</span> <span style="color:Blue;">class</span> UserPreferencesController : ApiController
</pre></div>
            
        </div>
    </div>
</div>
<p>Now if a request to api/userpreferences isn’t authorized, Web API automatically returns a 401 error:</p>
<div id="code-snippet-13" class="codeSnippetContainer" xmlns="">
    <div class="codeSnippetContainerTabs">
        <div class="codeSnippetContainerTabSingle" dir="ltr"><a>JavaScript</a></div>
    </div>
    <div class="codeSnippetContainerCodeContainer">
        <div class="codeSnippetToolBar">
            <div class="codeSnippetToolBarText">
                <a name="CodeSnippetCopyLink" style="display: none;" title="Copy to clipboard." href="javascript:if (window.epx.codeSnippet)window.epx.codeSnippet.copyCode('CodeSnippetContainerCode_d9d657a1-1f2b-4a73-a3db-3443bd75ef77');">Copy</a>
            </div>
        </div>
        <div id="CodeSnippetContainerCode_d9d657a1-1f2b-4a73-a3db-3443bd75ef77" class="codeSnippetContainerCode" dir="ltr">
            <div style="color:Black;"><pre>HTTP/1.1 401 Unauthorized
Content-Type: application/json; charset=utf-8
WWW-Authenticate: Bearer
Date: Tue, 21 Apr 2015 23:55:47 GMT
Content-Length: 68
{
&nbsp; <span style="color:#A31515;">"Message"</span>: <span style="color:#A31515;">"Authorization has been denied for this request."</span>
}
</pre></div>
            
        </div>
    </div>
</div>
<p>Notice that Web API added a WWW-Authenticate header to the response. This tells the client what type of authentication scheme is supported—in this case, OAuth2 bearer tokens.</p><p>By default, [Authorize] assumes that every authenticated user is also authorized, and only anonymous requests are blocked. You can also limit authorization to users in specified roles (such as Admins), or implement a custom authorization filter for more complex authorization scenarios.</p><p>The conversations API is a more interesting case: We allow anonymous requests, but apply extra logic when the request is authenticated. The following code checks whether the current request is authenticated and, if so, gets the user preferences from the database:</p>
<div id="code-snippet-14" class="codeSnippetContainer" xmlns="">
    <div class="codeSnippetContainerTabs">
        <div class="codeSnippetContainerTabSingle" dir="ltr"><a>C#</a></div>
    </div>
    <div class="codeSnippetContainerCodeContainer">
        <div class="codeSnippetToolBar">
            <div class="codeSnippetToolBarText">
                <a name="CodeSnippetCopyLink" style="display: none;" title="Copy to clipboard." href="javascript:if (window.epx.codeSnippet)window.epx.codeSnippet.copyCode('CodeSnippetContainerCode_4d5df32b-637c-442e-9a5e-502f441662b4');">Copy</a>
            </div>
        </div>
        <div id="CodeSnippetContainerCode_4d5df32b-637c-442e-9a5e-502f441662b4" class="codeSnippetContainerCode" dir="ltr">
            <div style="color:Black;"><pre><span style="color:Blue;">if</span> (User.Identity.IsAuthenticated)
{
&nbsp; <span style="color:Blue;">string</span> userId = User.Identity.GetUserId();
&nbsp; prefs = <span style="color:Blue;">await</span> db.UserPreferences
&nbsp;&nbsp;&nbsp; .Include(x =&gt; x.UserCategory.Select(y =&gt; y.Category))
&nbsp;&nbsp;&nbsp; .Where(x =&gt; x.ApplicationUser_Id == userId).SingleOrDefaultAsync();
}
</pre></div>
            
        </div>
    </div>
</div>
<p>If prefs is non-null, we use the preferences to shape the EF query. For anonymous requests, we just run a default query.</p></div>
      <div>
        <h2>Data Feeds</h2>
        <p>As mentioned earlier, our app pulls data from Stack Overflow and Twitter. One of our design principles was to take data from multiple, diverse sources and aggregate it into a single, normalized source. This simplifies the interaction between clients and the back end, because clients don’t need to know the data format for any particular provider. In the back end, we implemented a provider model that makes it easy to aggregate additional sources, without requiring any changes in the Web APIs or clients. Providers expose a consistent interface:</p>
<div id="code-snippet-15" class="codeSnippetContainer" xmlns="">
    <div class="codeSnippetContainerTabs">
        <div class="codeSnippetContainerTabSingle" dir="ltr"><a>C#</a></div>
    </div>
    <div class="codeSnippetContainerCodeContainer">
        <div class="codeSnippetToolBar">
            <div class="codeSnippetToolBarText">
                <a name="CodeSnippetCopyLink" style="display: none;" title="Copy to clipboard." href="javascript:if (window.epx.codeSnippet)window.epx.codeSnippet.copyCode('CodeSnippetContainerCode_229d195c-ad5a-4acf-918b-e7339a63177c');">Copy</a>
            </div>
        </div>
        <div id="CodeSnippetContainerCode_229d195c-ad5a-4acf-918b-e7339a63177c" class="codeSnippetContainerCode" dir="ltr">
            <div style="color:Black;"><pre><span style="color:Blue;">interface</span> IProviderAPI
{
&nbsp;&nbsp; Task&lt;IEnumerable&lt;Conversation&gt;&gt; GetConversationsAsync(
&nbsp;&nbsp;&nbsp;&nbsp; Provider provider, Category category,
&nbsp;&nbsp;&nbsp;&nbsp; IEnumerable&lt;Tag&gt; tags, DateTime <span style="color:Blue;">from</span>, <span style="color:Blue;">int</span> maxResults, TextWriter logger);
}
</pre></div>
            
        </div>
    </div>
</div>
<p>The Stack Overflow and Twitter APIs provide plenty of capability, but with that capability comes complexity. We found that the StacMan and LINQtoTwitter NuGet packages made working with the APIs much easier. LINQtoTwitter and StacMan are well-documented, actively supported, open source and are easy to use with C#.</p><h2>Handling Passwords and Other Secrets</h2><p>We followed the article, “Best Practices for Deploying Passwords and Other Sensitive Data to ASP.NET and Azure App Service” (<a href="http://bit.ly/1zlNiQI">bit.ly/1zlNiQI</a>), which mandates never checking passwords in source code. We store secrets only in auxiliary config files on local development machines. To deploy the app to Azure, we use Windows PowerShell or the Azure Portal.</p><p>This approach works well for the Web app. We moved the secrets out of the web.config file with the following markup:</p>
<div id="code-snippet-16" class="codeSnippetContainer" xmlns="">
    <div class="codeSnippetContainerTabs">
        <div class="codeSnippetContainerTabSingle" dir="ltr"><a>XML</a></div>
    </div>
    <div class="codeSnippetContainerCodeContainer">
        <div class="codeSnippetToolBar">
            <div class="codeSnippetToolBarText">
                <a name="CodeSnippetCopyLink" style="display: none;" title="Copy to clipboard." href="javascript:if (window.epx.codeSnippet)window.epx.codeSnippet.copyCode('CodeSnippetContainerCode_6b614d38-0324-4b52-a69e-2ba66ee1ebc5');">Copy</a>
            </div>
        </div>
        <div id="CodeSnippetContainerCode_6b614d38-0324-4b52-a69e-2ba66ee1ebc5" class="codeSnippetContainerCode" dir="ltr">
            <div style="color:Black;"><pre><span style="color:Blue;">&lt;</span><span style="color:#A31515;">appSettings</span> <span style="color:Red;">file</span><span style="color:Blue;">=</span><span style="color:Black;">"</span><span style="color:Blue;">..\..\AppSettingsSecrets.config</span><span style="color:Black;">"</span><span style="color:Blue;">&gt;</span>
<span style="color:Blue;">&lt;/</span><span style="color:#A31515;">appSettings</span><span style="color:Blue;">&gt;</span>
</pre></div>
            
        </div>
    </div>
</div>
<p>Moving the file up two levels from the source directory means it’s completely out of the solution directory and won’t get added to source control.</p><p>The app.config file used by a console app (WebJobs) doesn’t support relative paths, but it does support absolute paths. You can use an absolute path to move your secrets out of your project directory. The following markup adds the secrets in the C:\secrets\AppSettingsSecrets.config file, and non-sensitive data in the app.config file:</p>
<div id="code-snippet-17" class="codeSnippetContainer" xmlns="">
    <div class="codeSnippetContainerTabs">
        <div class="codeSnippetContainerTabSingle" dir="ltr"><a>C#</a></div>
    </div>
    <div class="codeSnippetContainerCodeContainer">
        <div class="codeSnippetToolBar">
            <div class="codeSnippetToolBarText">
                <a name="CodeSnippetCopyLink" style="display: none;" title="Copy to clipboard." href="javascript:if (window.epx.codeSnippet)window.epx.codeSnippet.copyCode('CodeSnippetContainerCode_c99c49ed-5cbb-4649-990b-ca411df7953a');">Copy</a>
            </div>
        </div>
        <div id="CodeSnippetContainerCode_c99c49ed-5cbb-4649-990b-ca411df7953a" class="codeSnippetContainerCode" dir="ltr">
            <div style="color:Black;"><pre>&lt;configuration&gt;
&nbsp; &lt;appSettings file=<span style="color:#A31515;">"C:\secrets\AppSettingsSecrets.config"</span>&gt;
&nbsp;&nbsp;&nbsp; &lt;add key=<span style="color:#A31515;">"TwitterMaxThreads"</span> value=<span style="color:#A31515;">"24"</span> /&gt;
&nbsp;&nbsp;&nbsp; &lt;add key=<span style="color:#A31515;">"StackOverflowMaxThreads"</span> value=<span style="color:#A31515;">"24"</span> /&gt;
&nbsp;&nbsp;&nbsp; &lt;add key=<span style="color:#A31515;">"MaxDaysForPurge"</span> value=<span style="color:#A31515;">"30"</span> /&gt;
&nbsp; &lt;/appSettings&gt;
&lt;/configuration&gt;
</pre></div>
            
        </div>
    </div>
</div>
<p>To handle the secrets in our Windows PowerShell scripts we use the Export-CliXml cmdlet to export the encrypted secrets to disk and Import-CliXml to read the secrets.</p><h2>Automate Everything</h2><p>A DevOps best practice is to automate everything. We originally wrote Windows PowerShell scripts to create the Azure resources our app requires (Web app, database, storage) and hook up all the resources, such as setting the connection string and the app settings secrets.</p><p>The Visual Studio Deployment Wizard does a good job of automating deployment to Azure, but there are still several manual steps to deploy and configure the app:</p><ul><li>Entering the password of the administrator account on the Azure SQL Database.</li><li>Entering the app settings secrets for the Web app and WebJob.</li><li>Entering the WebJob storage account strings to hook up WebJob monitoring.</li><li>Updating the deployment URL in the Facebook and Google developer consoles, to enable OAuth social logins.</li></ul><p>A new deployment URL requires you to update your OAuth provider authentication URL, so there’s no way to automate the last step without using a custom domain name. Our Windows PowerShell scripts create all the Azure resources we need and hook them up, so everything that can be automated is automated.</p><p>The first time you deploy a WebJob from Visual Studio, you’re prompted to set up a schedule for running the WebJob. (We run the WebJob every three hours.) At the time of this writing, there’s no way in Windows PowerShell to set a WebJob schedule. After running the Windows PowerShell creation and deployment scripts, you need the one-time additional step of deploying the WebJob from Visual Studio to set up the schedule, or you can set up a schedule on the portal.</p><p>We soon discovered that the Windows PowerShell scripts would sometimes time out while attempting to create a resource. Using the traditional Azure PowerShell approach, there’s no simple way to deal with a random resource-creation failure. Deleting any resources that were successfully created requires a non-trivial script that could possibly delete resources you didn’t intend to remove. Even when your script is successful, after you finish testing, you need to delete all the resources the script created. Keeping track of the resources to delete after a test run is non-trivial and error-prone.</p><p>Note that resource-creation timeout is not a flaw with Azure. Remotely creating complex resources, such as a data server or Web app, is inherently time-consuming. Cloud apps must be architected from the beginning to deal with timeouts and failure.</p></div>
      <div>
        <h2>Azure Resource Manager (ARM) to the Rescue</h2>
        <p>ARM allows you to create resources as a group. This lets you easily create all your resources and handle transient faults, so if your script fails to create a resource, you can try again. Additionally, cleanup is easy. You simply delete your resource group, and all the dependent objects are automatically deleted.</p>
        <p>Transient faults occur infrequently, and typically only one retry is necessary for the operation to succeed. The following snippet from a Windows PowerShell script shows a simple approach to implement retry logic with linear backoff when using an ARM template:</p>
<div id="code-snippet-18" class="codeSnippetContainer" xmlns="">
    <div class="codeSnippetContainerTabs">
        <div class="codeSnippetContainerTabSingle" dir="ltr"><a>XML</a></div>
    </div>
    <div class="codeSnippetContainerCodeContainer">
        <div class="codeSnippetToolBar">
            <div class="codeSnippetToolBarText">
                <a name="CodeSnippetCopyLink" style="display: none;" title="Copy to clipboard." href="javascript:if (window.epx.codeSnippet)window.epx.codeSnippet.copyCode('CodeSnippetContainerCode_0ed4242d-58e5-445a-b0ac-a9679111149c');">Copy</a>
            </div>
        </div>
        <div id="CodeSnippetContainerCode_0ed4242d-58e5-445a-b0ac-a9679111149c" class="codeSnippetContainerCode" dir="ltr">
            <div style="color:Black;"><pre>$cnt = 0
$SleepSeconds = 30$ProvisioningState = 'Failed'while ( [string]::Compare($ProvisioningState, 'Failed', $True) -eq 0 -and ($cnt -lt 4 ) ){&nbsp;&nbsp; My-New-AzureResourceGroup -RGname $RGname `&nbsp;&nbsp;&nbsp; -WebSiteName $WebSiteName -HostingPlanName $HostingPlanName
&nbsp; $RGD = Get-AzureResourceGroupDeployment -ResourceGroupName $RGname&nbsp; $ProvisioningState = $RGD.ProvisioningState&nbsp; Start-Sleep -s ($SleepSeconds * $cnt)&nbsp; $cnt++}
</pre></div>
            
        </div>
    </div>
</div>
<p>My-New-AzureResourceGroup is a Windows PowerShell function we wrote that wraps a call to the cmdlet New-AzureResourceGroup, which uses an ARM template to create Azure resources. The New-AzureResourceGroup call will almost always succeed, but the creation of resources specified by the template can time out.</p><p>If any resource wasn’t created, the provisioning state is Failed, and the script will sleep and try again. During a retry, resources that were already successfully created aren’t recreated. The preceding script attempts three retries. (Four failures in a row almost certainly indicate a non-transient error.)</p><p>The idempotence that ARM provides is extremely useful in scripts that create many resources. We’re not suggesting you need this retry logic in all your deployments, but ARM gives you that option when it’s beneficial.&nbsp; See “Using Azure PowerShell with Azure Resource Manager” (<a href="http://bit.ly/1GyaMzv">bit.ly/1GyaMzv</a>).</p><h2>Build Integration and Automated Deployment</h2><p>Visual Studio Online made it easy to set up continuous integration (CI). Whenever code is checked into Team Foundation Server (TFS), it automatically triggers a build and runs the unit tests. We also employed continuous delivery (CD). If the build and automated unit tests are successful, the app is automatically deployed to our Azure test site. You can read about setting up CI/CD to Azure at the documentation page, “Continuous Delivery to Azure Using Visual Studio Online” (<a href="http://bit.ly/1OkMkaW">bit.ly/1OkMkaW</a>).</p><p>Early in the dev cycle, when there were three or more of us actively checking in source code, we used the default build definition trigger to kick off the build/test/deploy cycle at 3 a.m., Monday through Friday. This worked well, giving us all a chance to do a quick test on the Web site when we started working each morning. As the code base stabilized and check-ins were less frequent but perhaps more critical, we set the trigger to CI mode, so each check-in would trigger the process. When we got to the “Code clean up” phase, with frequent low-risk changes, we set the trigger to Rolling builds, where the build/test/deployment cycle is triggered at most every hour. <strong>Figure 8</strong> shows a build summary that includes deployment and test coverage.</p><p><img alt="A Build Summary" src="./Cloud-Connected Mobile Apps - Create a Web Service with Azure Web Apps and WebJobs_files/IC819966.png" title="A Build Summary"><br><strong>Figure 8 A Build Summary</strong></p><h2>Wrapping Up</h2><p>In this article, we looked at some of the considerations when creating a cloud back end that aggregates and processes data and serves it to mobile clients. No individual piece of our sample app is terribly complicated, but there are a lot of moving parts, which is typical of cloud-based solutions. We also looked at how Visual Studio Online made it possible for a small team to run continuous builds and continuous deployment without a dedicated DevOps manager.</p><p>In Part 2, we’ll look in detail at the client app and how Xamarin Forms made it easy to target multiple platforms with a minimum of platform-specific code. We’ll also delve into the mysteries of OAuth2 for social login.</p></div>
      <hr>
      <div>
        <p>
          <strong>Rick Anderson</strong> works as a senior programming writer for Microsoft, focusing on ASP.NET MVC, Microsoft Azure and Entity Framework. You can follow him on Twitter at <a href="http://twitter.com/RickAndMSFT">twitter.com/RickAndMSFT</a>.</p>
      </div>
      <div>
        <p>
          <strong>Kraig Brockschmidt</strong> works as a senior content developer for Microsoft and is focused on cross-platform mobile apps. He’s the author of “Programming Windows Store Apps with HTML, CSS and JavaScript” (two editions) from Microsoft Press and blogs on <a href="http://kraigbrockschmidt.com/">kraigbrockschmidt.com</a>.</p>
      </div>
      <div>
        <p>
          <strong>Tom Dykstra</strong> is a senior content developer at Microsoft, focusing on Microsoft Azure and ASP.NET.</p>
      </div>
      <div>
        <p>
          <strong>Erik Reitan</strong> is a senior content developer at Microsoft. He focuses on Microsoft Azure and ASP.NET. Follow him on Twitter at <a href="http://twitter.com/ReitanErik">twitter.com/ReitanErik</a>.</p>
      </div>
      <div>
        <p>
          <strong>Mike Wasson</strong> is a content developer at Microsoft. For many years he documented the Win32 multimedia APIs. He currently writes about Microsoft Azure and ASP.NET.</p>
      </div>
      <div>
        <p>Thanks to the following technical experts for reviewing this article: Michael Collier, John de Havilland, Brady Gaster, Ryan Jones, Vijay Ramakrishnan and Pranav Rastogi</p>
      </div>
    </div>
    <div class="navpage" xmlns="http://www.w3.org/1999/xhtml">
      <script type="text/javascript" src="./Cloud-Connected Mobile Apps - Create a Web Service with Azure Web Apps and WebJobs_files/jquery-2.1.3.min.js" data-do-not-move="true" data-provides="jQuery"> </script>
      
      <script type="text/javascript" src="./Cloud-Connected Mobile Apps - Create a Web Service with Azure Web Apps and WebJobs_files/bootstrap.min.js" data-do-not-move="true"> </script>
      <script type="text/javascript" src="./Cloud-Connected Mobile Apps - Create a Web Service with Azure Web Apps and WebJobs_files/main.js" data-do-not-move="true"> </script>
      
    </div>
  </div>
</div>
  </div>
  <div id="RightContent">
    <p:primary pcat:primaryformat="Mtps.Xhtml" xmlns="http://www.w3.org/1999/xhtml" xmlns:mtps="http://msdn2.microsoft.com/mtps" xmlns:asp="http://msdn2.microsoft.com/aspnet" xmlns:pcat="urn:mtpg-com:mtps/2004/1/primary/category" xmlns:p="urn:mtpg-com:mtps/2004/1/primary">
  <div class="navpage">
    <div>
      <div style="margin-bottom:10px;">
        <iframe frameborder="0" framespacing="0" height="0" id="4f2320cbb2378" name="4f2320cbb2378" scrolling="no" src="about:blank" width="0" style="display: none !important; visibility: hidden !important; opacity: 0 !important; background-position: 300px 250px;">
          &lt;a href="http://ox-d.101m3.com/w/1.0/rc?cs=4f2320cbb2378&amp;amp;cb=INSERT_RANDOM_NUMBER_HERE"&gt;
            &lt;img alt="" border="0" src="https://ox-d.101m3.com/w/1.0/ai?auid=139281&amp;amp;cs=4f2320cbb2378&amp;amp;cb=INSERT_RANDOM_NUMBER_HERE" xmlns="http://www.w3.org/1999/xhtml" /&gt;
          &lt;/a&gt;
        </iframe>
      </div>
      <div style="margin-bottom:10px;">
        <iframe frameborder="0" framespacing="0" height="0" id="4f2320971b57d" name="4f2320971b57d" scrolling="no" src="about:blank" width="0" style="display: none !important; visibility: hidden !important; opacity: 0 !important; background-position: 300px 250px;">
          &lt;a href="http://ox-d.101m3.com/w/1.0/rc?cs=4f2320971b57d&amp;amp;cb=INSERT_RANDOM_NUMBER_HERE"&gt;
            &lt;img alt="" border="0" src="http://ox-d.101m3.com/w/1.0/ai?auid=139280&amp;amp;cs=4f2320971b57d&amp;amp;cb=INSERT_RANDOM_NUMBER_HERE" xmlns="http://www.w3.org/1999/xhtml" /&gt;
          &lt;/a&gt;
        </iframe>
      </div>
      <div style="margin-bottom:10px;">
        <iframe frameborder="0" framespacing="0" height="0" id="d364f7da2e" name="d364f7da2e" scrolling="no" src="about:blank" width="0" style="display: none !important; visibility: hidden !important; opacity: 0 !important; background-position: 300px 250px;">
          &lt;a href="http://ox-d.101m3.com/w/1.0/rc?cs=d364f7da2e&amp;amp;cb=INSERT_RANDOM_NUMBER_HERE"&gt;
            &lt;img alt="" border="0" src="https://ox-d.101m3.com/w/1.0/ai?auid=538012782&amp;amp;cs=d364f7da2e&amp;amp;cb=INSERT_RANDOM_NUMBER_HERE" xmlns="http://www.w3.org/1999/xhtml" /&gt;
          &lt;/a&gt;
        </iframe>
      </div>
      <div id="sidebarBox" style="border-width:5px;border-color:black;border-style:solid;">
        <div style="margin-left:5px; margin-right:5px;">
          <h3>
            <a href="http://blogs.msdn.com/msdnmagazine/">MSDN Magazine Blog</a>
          </h3>
          <p>
            </p><div class="FVB_Basic">
              <div class="FVB_link">
                <a href="http://blogs.msdn.com/b/msdnmagazine/archive/2015/01/07/10584893.aspx">14 Top Features of Visual Basic 14: The Q&amp;A</a>
              </div>
              <div class="FVB_date">Wednesday, Jan 7 by <span class="FVB_author">Michael Desmond - MSDN Magazine</span></div>
              <div class="FVB_link">
                <a href="http://blogs.msdn.com/b/msdnmagazine/archive/2015/01/02/10583956.aspx">Big Start to the New Year at MSDN Magazine</a>
              </div>
              <div class="FVB_date">Friday, Jan 2 by <span class="FVB_author">Michael Desmond - MSDN Magazine</span></div>
            </div>
          <p></p>
          <p>
            <a href="http://blogs.msdn.com/msdnmagazine/">More MSDN Magazine Blog entries &gt;</a>
          </p>
        </div>
        <div class="sidebarLine" style="margin-left:5px; margin-right:5px; background-color:#5b6871;height:12px">
          
        </div>
        <div style="margin-left:5px; margin-right:5px;">
          <p>
            <br>
          </p>
          <div style="text-align:left;font-family:Segoe UI;font-size:12pt;">Current Issue</div>
          <div style="text-align:center;display:block;height:260px">
            <p>
              <a href="https://msdn.microsoft.com/en-us/magazine/mt185509">
                <br xmlns="http://www.w3.org/1999/xhtml">
                <img align="Middle" alt="August 2015" height="239" src="./Cloud-Connected Mobile Apps - Create a Web Service with Azure Web Apps and WebJobs_files/IC820080.jpg" title="August 2015" width="179" xmlns="http://www.w3.org/1999/xhtml">
              </a>
            </p>
          </div>
          <div style="text-align:right;">
            <p>
              <a href="https://msdn.microsoft.com/en-us/magazine/ee310108.aspx">Browse All MSDN Magazines</a>
              <br>
            </p>
          </div>
          <div class="sidebarLine" style="background-color:#5b6871;height:12px">
            
          </div>
        </div>
        <div style="margin-left:5px; margin-right:5px;">
          <div style="text-align:Right;font-family:Segoe UI;font-size:12pt;">
            <p>
              <br>
              <a href="https://msdn.microsoft.com/en-US/aa570311.aspx?ocid=msdn_magazine">
                <img align="Left" alt="Subscribe to the MSDN Flash newsletter" src="./Cloud-Connected Mobile Apps - Create a Web Service with Azure Web Apps and WebJobs_files/IC609321.png" title="Subscribe to the MSDN Flash newsletter" xmlns="http://www.w3.org/1999/xhtml"> Subscribe to MSDN Flash newsletter</a>
            </p>
          </div>
          <div style="text-align:left;">
            <p>
              <br>Receive the MSDN Flash e-mail newsletter every other week, with news and information personalized to your interests and areas of focus.</p>
          </div>
        </div>
      </div>
      <div style="margin-top:10px;">
        <iframe frameborder="0" framespacing="0" height="0" id="e4360aeffd" name="e4360aeffd" scrolling="no" src="about:blank" width="0" style="display: none !important; visibility: hidden !important; opacity: 0 !important; background-position: 300px 250px;">
          &lt;a href="http://ox-d.101m3.com/w/1.0/rc?cs=e4360aeffd&amp;amp;cb=INSERT_RANDOM_NUMBER_HERE"&gt;
            &lt;img alt="" border="0" src="https://ox-d.101m3.com/w/1.0/ai?auid=538012781&amp;amp;cs=e4360aeffd&amp;amp;cb=INSERT_RANDOM_NUMBER_HERE" xmlns="http://www.w3.org/1999/xhtml" /&gt;
          &lt;/a&gt;
        </iframe>
      </div>
    </div>
  </div>
</p:primary>
  </div>

        </div>
        



        
<input name="__RequestVerificationToken" type="hidden" value="EfCUagxk3BsEs7G_ZMXEpE4jkuWNID3DF0juWreKRlZLRkXrMEvbwqTLJ-ZhDaBvnflkrEtfcwnHFMLmc5OhAtsLYLg1">
<input id="ratingSubmitUrl" type="hidden" value="https://msdn.microsoft.com/en-us/library/feedback/add/mt185572.aspx">
<input id="isTopicRated" type="hidden" value="false">


        

    
    <link type="text/css" rel="stylesheet">
    
        
    <div id="ux-footer" class="" style="" dir="ltr">
            
                
            <div id="footerSock" class="">
                <div id="footerSockInner">
                        <a name="feedback"></a>

<div class="rating">
    <div id="ratingSection1">
        <div class="title">
            Was this page helpful?
        </div>
        <div class="description">
            Your feedback about this content is important.<br>Let us know what you think.
        </div>
        <div class="buttons">
            <button class="button" id="ratingYes" aria-label="Yes, this page was helpful">Yes</button>
            <button class="button" id="ratingNo" aria-label="No, this page was not helpful">No</button>
        </div>
        <input id="ratingValue" type="hidden" value="">
    </div>
    <div id="ratingSection2">
        <div class="title">
            Additional feedback?
        </div>
        <textarea id="ratingText" rows="6" cols="" maxlength="1500"></textarea>
        <div class="counter right">
            <span id="feedbackTextCounter">1500</span> characters remaining
        </div>
        <div class="buttons left">
            <button class="button" id="ratingSubmit" aria-label="Submit my additional feedback">Submit</button>
            <button class="button" id="ratingSkipThis" aria-label="Skip additional feedback">Skip this</button>
        </div>
    </div>
    <div id="ratingSection3">
        <div class="title">
            Thank you!
        </div>
        <div class="description">
            We appreciate your feedback.
        </div>
    </div>
    
    
    <div id="contentFeedbackQAContainer" style="display: none;"></div>
</div>
    
                                        <div class="clear"></div>
                </div>
            </div>

        <footer class="top">
            <div data-fragmentname="LeftLinks" id="Fragment_LeftLinks" xmlns="http://www.w3.org/1999/xhtml">
  
  <div class="linkList">
    <div class="linkListTitle">Dev centers</div>
    <ul class="links">
      <li>
        <a href="https://dev.windows.com/" id="LeftLinks_2148_1" class="windowsBlue" xmlns="http://www.w3.org/1999/xhtml" ms.pgarea="footer" ms.cmpgrp="fat footer" ms.cmpnm="Dev centers" ms.index="1" ms.cmptyp="link">Windows</a>
      </li>
      <li>
        <a href="http://dev.office.com/" id="LeftLinks_2148_3" class="office" xmlns="http://www.w3.org/1999/xhtml" ms.pgarea="footer" ms.cmpgrp="fat footer" ms.cmpnm="Dev centers" ms.index="1" ms.cmptyp="link">Office</a>
      </li>
      <li>
        <a href="https://msdn.microsoft.com/vstudio" id="LeftLinks_2148_4" class="visualStudio" xmlns="http://www.w3.org/1999/xhtml" ms.pgarea="footer" ms.cmpgrp="fat footer" ms.cmpnm="Dev centers" ms.index="1" ms.cmptyp="link">Visual Studio</a>
      </li>
      <li>
        <a href="http://azure.microsoft.com/en-us/documentation/" target="_blank" id="LeftLinks_2148_12" xmlns="http://www.w3.org/1999/xhtml" ms.pgarea="footer" ms.cmpgrp="fat footer" ms.cmpnm="Dev centers" ms.index="1" ms.cmptyp="link">Microsoft Azure</a>
      </li>
      <li>
        <a href="https://msdn.microsoft.com/aa937802" id="LeftLinks_2148_5" xmlns="http://www.w3.org/1999/xhtml" ms.pgarea="footer" ms.cmpgrp="fat footer" ms.cmpnm="Dev centers" ms.index="1" ms.cmptyp="link">More...</a>
      </li>
    </ul>
  </div>
</div>    
            <div id="rightLinks">
                <div data-fragmentname="CenterLinks1" id="Fragment_CenterLinks1" xmlns="http://www.w3.org/1999/xhtml">
  
  <div class="linkList">
    <div class="linkListTitle">Learning resources</div>
    <ul class="links">
      <li>
        <a href="http://www.microsoftvirtualacademy.com/" id="CenterLinks1_15653_4" xmlns="http://www.w3.org/1999/xhtml" ms.pgarea="footer" ms.cmpgrp="fat footer" ms.cmpnm="Learning resources" ms.index="2" ms.cmptyp="link">Microsoft Virtual Academy</a>
      </li>
      <li>
        <a href="http://channel9.msdn.com/" id="CenterLinks1_15653_5" xmlns="http://www.w3.org/1999/xhtml" ms.pgarea="footer" ms.cmpgrp="fat footer" ms.cmpnm="Learning resources" ms.index="2" ms.cmptyp="link">Channel 9</a>
      </li>
      <li>
        <a href="http://www.interoperabilitybridges.com/" id="CenterLinks1_15653_6" xmlns="http://www.w3.org/1999/xhtml" ms.pgarea="footer" ms.cmpgrp="fat footer" ms.cmpnm="Learning resources" ms.index="2" ms.cmptyp="link">Interoperability Bridges</a>
      </li>
      <li>
        <a href="https://msdn.microsoft.com/magazine/" id="CenterLinks1_15653_7" xmlns="http://www.w3.org/1999/xhtml" ms.pgarea="footer" ms.cmpgrp="fat footer" ms.cmpnm="Learning resources" ms.index="2" ms.cmptyp="link">MSDN Magazine</a>
      </li>
    </ul>
  </div>
</div>
                <div data-fragmentname="CenterLinks2" id="Fragment_CenterLinks2" xmlns="http://www.w3.org/1999/xhtml">
  
  <div class="linkList">
    <div class="linkListTitle">Community</div>
    <ul class="links">
      <li>
        <a href="http://social.msdn.microsoft.com/forums/en-us/home" id="CenterLinks2_15653_8" xmlns="http://www.w3.org/1999/xhtml" ms.pgarea="footer" ms.cmpgrp="fat footer" ms.cmpnm="Community" ms.index="3" ms.cmptyp="link">Forums</a>
      </li>
      <li>
        <a href="http://blogs.msdn.com/b/developer-tools/" id="CenterLinks2_15653_9" xmlns="http://www.w3.org/1999/xhtml" ms.pgarea="footer" ms.cmpgrp="fat footer" ms.cmpnm="Community" ms.index="3" ms.cmptyp="link">Blogs</a>
      </li>
      <li>
        <a href="http://www.codeplex.com/" id="CenterLinks2_15653_10" xmlns="http://www.w3.org/1999/xhtml" ms.pgarea="footer" ms.cmpgrp="fat footer" ms.cmpnm="Community" ms.index="3" ms.cmptyp="link">Codeplex</a>
      </li>
    </ul>
  </div>
</div>
                <div data-fragmentname="CenterLinks3" id="Fragment_CenterLinks3" xmlns="http://www.w3.org/1999/xhtml">
  
  <div class="linkList">
    <div class="linkListTitle">Support</div>
    <ul class="links">
      <li>
        <a href="https://msdn.microsoft.com/hh361695" id="CenterLinks3_15653_11" xmlns="http://www.w3.org/1999/xhtml" ms.pgarea="footer" ms.cmpgrp="fat footer" ms.cmpnm="Support" ms.index="4" ms.cmptyp="link">Self support</a>
      </li>
    </ul>
  </div>
</div>
                <div data-fragmentname="CenterLinks4" id="Fragment_CenterLinks4" xmlns="http://www.w3.org/1999/xhtml" class="nth-child-4n">
  
  <div class="linkList">
    <div class="linkListTitle">Programs</div>
    <ul class="links">
      <li>
        <a href="https://www.microsoft.com/bizspark/" id="CenterLinks4_15653_13" xmlns="http://www.w3.org/1999/xhtml" ms.pgarea="footer" ms.cmpgrp="fat footer" ms.cmpnm="Programs" ms.index="5" ms.cmptyp="link">BizSpark (for startups)</a>
      </li>
      <li>
        <a href="https://www.dreamspark.com/" id="CenterLinks4_15653_14" xmlns="http://www.w3.org/1999/xhtml" ms.pgarea="footer" ms.cmpgrp="fat footer" ms.cmpnm="Programs" ms.index="5" ms.cmptyp="link">DreamSpark</a>
      </li>
      <li>
        <a href="http://www.imaginecup.com/" id="CenterLinks4_15653_15" xmlns="http://www.w3.org/1999/xhtml" ms.pgarea="footer" ms.cmpgrp="fat footer" ms.cmpnm="Programs" ms.index="5" ms.cmptyp="link">Imagine Cup</a>
      </li>
    </ul>
  </div>
</div>                
            </div>
        </footer>
    
        <footer class="bottom">
            <span class="localeContainer">
                
    <form class="selectLocale" id="selectLocaleForm" action="https://msdn.microsoft.com/en-us/selectlocale-dmc">
        <input type="hidden" name="fromPage" value="https%3a%2f%2fmsdn.microsoft.com%2fen-us%2fmagazine%2fmt185572.aspx">
        <a href="https://msdn.microsoft.com/en-us/magazine/mt185572.aspx#" onclick="$(&#39;#selectLocaleForm&#39;).submit();return false;" title="Change your language" ms.pgarea="footer" ms.cmpgrp="base footer" ms.cmpnm="lang select" ms.index="1" ms.cmptyp="link">United States (English)</a>
    </form>


            </span>
        
            <div data-fragmentname="BottomLinks" id="Fragment_BottomLinks" xmlns="http://www.w3.org/1999/xhtml">
  
  <div class="linkList">
    <ul class="links horizontal">
      <li>
        <a href="https://msdn.microsoft.com/newsletter.aspx" id="BottomLinks_2148_7" xmlns="http://www.w3.org/1999/xhtml" ms.pgarea="footer" ms.cmpgrp="base footer" ms.cmpnm="base footer: link list" ms.index="2" ms.cmptyp="link">Newsletter</a>
      </li>
      <li>
        <a href="https://msdn.microsoft.com/dn529288" id="BottomLinks_2148_8" xmlns="http://www.w3.org/1999/xhtml" ms.pgarea="footer" ms.cmpgrp="base footer" ms.cmpnm="base footer: link list" ms.index="2" ms.cmptyp="link">Privacy &amp; cookies</a>
      </li>
      <li>
        <a href="https://msdn.microsoft.com/cc300389" id="BottomLinks_2148_9" xmlns="http://www.w3.org/1999/xhtml" ms.pgarea="footer" ms.cmpgrp="base footer" ms.cmpnm="base footer: link list" ms.index="2" ms.cmptyp="link">Terms of use</a>
      </li>
      <li>
        <a href="https://www.microsoft.com/en-us/legal/intellectualproperty/Trademarks/EN-US.aspx" id="BottomLinks_2148_10" xmlns="http://www.w3.org/1999/xhtml" ms.pgarea="footer" ms.cmpgrp="base footer" ms.cmpnm="base footer: link list" ms.index="2" ms.cmptyp="link">Trademarks</a>
      </li>
    </ul>
  </div>
</div>    
            <span class="logoLegal">
                <span class="logo"></span>
                <span class="copyright">© 2015 Microsoft</span>
            </span>
        </footer>
    </div>
    

    </div>

    


<!--[CDATA[ Third party scripts and code linked to or referenced from this website are licensed to you by the parties that own such code, not by Microsoft.  See ASP.NET Ajax CDN Terms of Use – http://www.asp.net/ajaxlibrary/CDN.ashx. ]]-->

    
  
  



<script type="text/javascript" class="mtps-injected">
/*<![CDATA[*/
(function(window,document){"use strict";function preload(scripts){for(var result=[],script,e,i=0;i<scripts.length;i++)script=scripts[i],script.hasOwnProperty("url")&&(e=document.createElement("script"),e.src=script.url,script.throwaway=e),result.push(script);return result}function inject(scripts,index){var script,elem;if(index>=scripts.length){delete mtps.injectScripts;return}script=scripts[index];elem=document.createElement("script");elem.className="mtps-injected";elem.async=!1;var isLoaded=!1,timeoutId=0,injectNextFnName="",injectNext=elem.onerror=function(){isLoaded||(isLoaded=!0,inject(scripts,index+1),window.clearTimeout(timeoutId),elem.onload=elem.onerror=elem.onreadystatechange=null,injectNextFnName&&delete mtps[injectNextFnName],elem.removeEventListener&&elem.removeEventListener("load",injectNext,!1))};elem.addEventListener?elem.addEventListener("load",injectNext,!1):elem.readyState==="uninitialized"?elem.onreadystatechange=function(){(this.readyState==="loaded"||this.readyState==="complete")&&injectNext()}:elem.onload=injectNext;script.hasOwnProperty("url")?(timeoutId=window.setTimeout(injectNext,12e4),elem.src=script.url):(injectNextFnName="_injectNextScript_"+index,mtps[injectNextFnName]=injectNext,timeoutId=window.setTimeout(injectNext,2e3),elem.text="try {\n"+script.txt+"\n} finally { MTPS."+injectNextFnName+" && MTPS."+injectNextFnName+"(); }");parent.appendChild(elem)}var mtps=window.MTPS||(window.MTPS={}),parent=document.getElementsByTagName("head")[0];mtps.injectScripts=function(scripts){inject(preload(scripts),0)}})(window,document);
MTPS.injectScripts([
	{ txt: "/**/\r\n(window.MTPS || (window.MTPS = {})).cdnDomains || (window.MTPS.cdnDomains = { \r\n\t\"image\": \"https://i-msdn.sec.s-msft.com\", \r\n\t\"js\": \"https://i2-msdn.sec.s-msft.com\", \r\n\t\"css\": \"https://i-msdn.sec.s-msft.com\", \r\n\t\"xap\": \"https://msdn.microsoft.com\"\r\n});\r\n/**/" },
	{ url: "https://i2-msdn.sec.s-msft.com/Areas/Epx/Content/Scripts/CodeSnippet.js" }
]);

/*]]>*/
</script>
<div id="overlayMask"></div><script src="./Cloud-Connected Mobile Apps - Create a Web Service with Azure Web Apps and WebJobs_files/broker-config.js"></script><iframe frameborder="0" scrolling="no" style="border: 0px; display: none; background-color: transparent;"></iframe><div id="GOOGLE_INPUT_CHEXT_FLAG" input="null" input_stat="{&quot;tlang&quot;:true,&quot;tsbc&quot;:true,&quot;pun&quot;:true,&quot;mk&quot;:false,&quot;ss&quot;:true}" style="display: none;"></div><iframe name="__bkframe" src="javascript:void(0)" height="0" width="0" frameborder="0" scrolling="No" marginheight="0" marginwidth="0" style="display: none;"></iframe></body></html>