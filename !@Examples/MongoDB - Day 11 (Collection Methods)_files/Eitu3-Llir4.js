/*!CK:3272007494!*//*1439316508,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["mhibT"]); }

__d("CommentsPluginSentryAction",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={CONFIRM_POST_TO_PROFILE:"confirm_post_to_profile"};},null,{});
__d("ComposedBlockType",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={UNSTYLED:0,PARAGRAPH:1,UNORDERED_LIST_ITEM:2,ORDERED_LIST_ITEM:3,BLOCKQUOTE:4,HEADER_ONE:5,HEADER_TWO:6,CODE:7,MEDIA:8,PULLQUOTE:9};},null,{});
__d("ComposedEntityMutability",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={MUTABLE:0,IMMUTABLE:1,SEGMENTED:2};},null,{});
__d("ComposedEntityType",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={MENTION:0,LINK:1,IMAGE:2,VIDEO:3,EMOTICON:4,TOKEN:5,HASHTAG:6,IMPLICIT_LINK:7};},null,{});
__d("ComposedInlineStyle",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={NONE:0,BOLD:1,ITALIC:2,UNDERLINE:4,CODE:8,STRIKETHROUGH:16,SUBSCRIPT:32,SUPERSCRIPT:64};},null,{});
__d("ComposedLinkEntityProperties",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={URL:"url",SHIMMED_URL:"shimmedURL"};},null,{});
__d("DeveloperCommentsModerationSource",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={APP:"app",URL:"url"};},null,{});
__d('WindowComm',['URI'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i={_callbacks:{},makeHandler:function(j,k,l){k=k||'opener';if(!l)l='f'+(Math.random()*(1<<30)).toString(16).replace('.','');i._callbacks[l]=j;return new h('/connect/window_comm.php').setQueryData({_id:l,_relation:k}).getQualifiedURI().toString();},_recv:function(j){var k=new h(j).getQueryData();i._callbacks[k._id](k);}};f.exports=i;b.WindowComm=i;},null);
__d('OpenIDRequest',['AsyncRequest','AsyncSignal','URI','UserAgent_DEPRECATED','PHPQuerySerializer','coalesce','createArrayFromMixed','errorCode'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();function p(){var q=new h().setReadOnly(true).setHandler(this.asyncResponseHandler.bind(this)).setErrorHandler(this.asyncErrorHandler.bind(this));Object.assign(this,{openidUrl:null,requestId:p.maxRequestId++,successResponseHandler:null,cancelHandler:null,intermediateHandler:null,immediateMode:false,useExtensions:true,thirdPartyLogin:false,popupWindow:null,asyncRequest:q,retryCount:0});p.requests[this.requestId]=this;}p.getRequestById=function(q){return p.requests[q];};p.prototype.setOpenIDUrl=function(q){this.openidUrl=q;return this;};p.prototype.setSuccessHandler=function(q){this.successResponseHandler=q;return this;};p.prototype.setErrorHandler=function(q){this.errorHandler=q;return this;};p.prototype.setCancelHandler=function(q){this.cancelHandler=q;return this;};p.prototype.setImmediateMode=function(q){this.immediateMode=q;return this;};p.prototype.setUseExtensions=function(q){this.useExtensions=q;return this;};p.prototype.setIntermediateHandler=function(q){this.intermediateHandler=q;return this;};p.prototype.setThirdPartyLogin=function(q){this.thirdPartyLogin=q;return this;};p.prototype.send=function(){if(!this.openidUrl)throw "openidUrl is a required parameter. Call setOpenIDUrl()";var q=this.calculateRedirectUrl();if(!q){this.logMetrics('redirectUrlNotFound');return;}if(this.immediateMode){this.createHiddenIframe(q);}else{if(this.popupWindow)throw "OpenID popup is already in progress";this.showPopup(q);}this.logMetrics('requestSent');};p.prototype.calculateRedirectUrl=function(q){var r=this.immediateMode?'checkid_immediate':'checkid_setup',s={'openid.mode':r},t;if(!p.cache[this.openidUrl])return null;t=p.cache[this.openidUrl].url;var u=new j(new j(t).getQueryData()['openid.return_to']);u.addQueryData({context:p.context,request_id:this.requestId});s['openid.return_to']=u.toString();s.third_party_login=this.thirdPartyLogin;return new j(t).addQueryData(s).getQualifiedURI();};p.prototype.createHiddenIframe=function(q){var r='openid_request_'+this.requestId,s=document.body.appendChild(document.createElement('div')),t=function(){s.innerHTML='<iframe name="'+r+'"'+' src="'+q.toString()+'"'+' scrolling="no" '+' frameborder="0" class="hidden_elem"></iframe>';};if(k.ie()){s.innerHTML='<iframe src="javascript:false"></iframe>';setTimeout(t,0);}else t();};p.prototype.showPopup=function(q){var r;if(p.cache[this.openidUrl])r=p.cache[this.openidUrl].popup_dimensions;if(!r||!r.height||!r.width)r={height:'580',width:'790'};var s={x:m(window.screenX,window.screenLeft),y:m(window.screenY,window.screenTop),width:m(window.outerWidth,document.body.clientWidth),height:m(window.outerHeight,document.body.clientHeight)},t=s.x+(s.width-r.width)/2,u=s.y+(s.height-r.height)/2,v=["location=yes","scrollbars=1","left="+t,"top="+u,"resizable=yes","height="+r.height,"width="+r.width].join(",");this.popupWindow=window.open(q.toString(),'_blank',v);this.popupPollInterval=setInterval(this.pollPopupWindow.bind(this),100);this.popupWindow.focus();};p.prototype.pollPopupWindow=function(){if(!(this.popupPollInterval&&this.popupWindow))return;if(this.popupWindow.closed){clearInterval(this.popupPollInterval);this.cancel();}};p.prototype.closePopupIfOpen=function(){if(this.popupWindow){if(this.popupPollInterval)clearInterval(this.popupPollInterval);this.popupWindow.close();}this.popupWindow=null;};p.prototype.cancel=function(){this.closePopupIfOpen();if(this.cancelHandler)this.cancelHandler();this.logMetrics('requestCanceled');};p.prototype.logMetrics=function(q){new i('/ajax/openid/metrics.php',{metric:q,immediate:this.immediateMode,context:p.context,openid_url:this.openidUrl}).send();};p.prototype.triggerCompleteAuthAsync=function(q){if(q.charAt(0)=='?'||q.charAt(0)=='&')q=q.substr(1);var r=l.deserialize(q);this.closePopupIfOpen();if(r['openid.mode']=='cancel'){this.cancel();return;}if(this.intermediateHandler)this.intermediateHandler();this.asyncRequest.setData({openid_params:r}).send();};p.prototype.asyncResponseHandler=function(q){var r=q.getPayload();if(this.successResponseHandler)this.successResponseHandler(r);this.closePopupIfOpen();};p.prototype.cleanHandleResponse=function(q){if(q.css)q.css=n(q.css);this.asyncRequest.handleResponse(q);};p.prototype.asyncErrorHandler=function(q){this.closePopupIfOpen();if(q.error==1428010||q.error==1428011){this.cancel();return;}if(this.errorHandler)this.errorHandler(q);};p.prototype.retry=function(){++this.retryCount;this.requestId=p.maxRequestId++;this.send();};p.prototype.setProviderCache=function(q){p.cache=q;return this;};p.cache={};p.requests=[];p.maxRequestId=0;p.context='default';f.exports=p;},null);
__d('WidgetArbiter',['createArrayFromMixed'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i={_findSiblings:function(){if(i._siblings)return;i._siblings=[];for(var j=parent.frames.length-1;j>=0;j--)try{if(parent.frames[j]&&parent.frames[j].Arbiter&&parent.frames[j].Arbiter.inform)i._siblings.push(parent.frames[j].Arbiter);}catch(k){}},inform:function(){i._findSiblings();var j=h(arguments);i._siblings.forEach(function(k){k.inform.apply(k,j);});}};f.exports=i;},null);
__d('CommentAdminPanelController',['Arbiter','AsyncRequest','Button','ChannelConstants','CSS','DOM','Event','Toggler','URI','Vector','$','ge','XD','MultiLoginPopup'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){if(c.__markCompiled)c.__markCompiled();var t=Object.assign||function(w){for(var x=1;x<arguments.length;x++){var y=arguments[x];for(var z in y)if(Object.prototype.hasOwnProperty.call(y,z))w[z]=y[z];}return w;},u=c('XD').UnverifiedXD,v=function(w){Object.assign(this,{locale:w.locale,channel:w.channel,controllerID:w.controllerID,commentIDs:w.commentIDs,domIDs:w.domIDs,duplicateComments:[],fetchMoreCommentsIsPending:{},blacklistedActors:w.blacklistedActors,actorToCommentInfoMap:w.actorToCommentIDMap,commentInfoMap:w.commentInfoMap,inAggregatedView:w.inAggregatedView,inModerationQueue:w.inModerationQueue,inContextualDialog:w.inContextualDialog,isTopLevelCommentPollingEnabled:false,loggedIn:w.loggedIn,newestCommentTimestamp:w.newestCommentTimestamp,realTimePollingParams:{},userOwnsPages:w.userOwnsPages,recentlyBlacklistedActors:w.blacklistedActors});h.subscribe(k.getArbiterType('comments_plugin_new_post'),(function(x,y){if(y.obj.target===this.realTimePollingParams.target){if(s(y.obj.comment_element_id))return;var z=t({},this.realTimePollingParams);z.post_fbid=y.obj.post_fbid;var aa=y.obj.parent_comment_id;if(aa){var ba=s(aa);if(!ba)return;var ca=m.scry(ba,'.fbFeedbackPager.uiMorePager');if(ca.length>0)return;z.parent_comment_id=aa;z.is_reply_thread=true;}else{if(!this.isTopLevelCommentPollingEnabled)return;z.is_reply_thread=false;}this.pollForComments(z);}}).bind(this));this.controlledRegion=r(this.controllerID);this.attachClickHandlers();if(this.inModerationQueue)this.registerModeratorQueueHandlers(true);};Object.assign(v,{allControllers:{},mainController:null,contextualControllers:{},initController:function(w){var x=new v(w),y=w.controllerID;v.allControllers[y]=x;if(x.inContextualDialog){v.contextualControllers[y]=x;}else v.mainController=x;},syncController:function(w,x){var y=v.allControllers[w];y.attachClickHandlers();if(!y.isControllingModerationQueue())return;y.deselectComments(x);y.registerModeratorQueueHandlers(false);y.synchronizeModeratorQueueUI();},resetController:function(w){var x=v.allControllers[w];x.resetController();},appendComments:function(w,x,y){var z=v.allControllers[w];z.appendComments(x,y);},prependComments:function(w,x,y){var z=v.allControllers[w];z.prependComments(x,y);},updateController:function(w,x,y,z,aa,ba,ca){var da=v.allControllers[w];da.updateController(x,y,z,aa,ba,ca);if(!v.mainController.loggedIn)c('MultiLoginPopup').reattachLoginInterceptors();if(!da.isControllingModerationQueue())return;da.registerModeratorQueueHandlers(false);da.synchronizeModeratorQueueUI();},updatePollingParamsCommentas:function(w,x){var y=v.allControllers[w];y.updatePollingParamsCommentas(x);},registerMoreCommentsLinkHandler:function(w,x){var y=v.allControllers[w];y.registerMoreCommentsLinkHandler(x);},replaceContentMaybe:function(w,x){var y=m.scry(document.documentElement,w)[0];if(y)m.replace(y,x);},notifyCommentCreated:function(w){if(!v.mainController.channel)return;u.send({type:'commentCreated',href:w.href,parentCommentID:w.parentCommentID,commentID:w.commentID,message:w.message});},notifyCommentRemoved:function(w){if(!v.mainController.channel)return;u.send({type:'commentRemoved',href:w.href,commentID:w.commentID});},markAsShowingAllReplies:function(w){var x=w+' a.fbUpDownVoteOption',y=m.scry(document.documentElement,x),z=w+' li.fbUpDownVoteOption a.itemAnchor',aa=m.scry(document.documentElement,z),ba=y.concat(aa);for(var ca=0;ca<ba.length;ca++){var da=ba[ca],ea=new p(da.getAttribute('ajaxify'));ea.addQueryData({show_all_replies:1});da.setAttribute('ajaxify',ea.toString());}},setLoggedIn:function(w){v.mainController.loggedIn=w;},blacklistChangeListener:function(w,x,y){var z=r(x);n.listen(w,'change',function(){if(w.options[w.selectedIndex].value==y){l.show(z);}else l.hide(z);});}});Object.assign(v.prototype,{isControllingModerationQueue:function(){var w=this==v.mainController&&this.inModerationQueue;return w;},resetController:function(){this.commentIDs=[];this.domIDs=[];},updateController:function(w,x,y,z,aa,ba){w.forEach(function(da){this.commentIDs.push(da);},this);x.forEach(function(da){this.domIDs.push(da);},this);Object.assign(this.blacklistedActors,z);for(var ca in aa){if(!this.actorToCommentInfoMap[ca])this.actorToCommentInfoMap[ca]=[];aa[ca].forEach(function(da){this.actorToCommentInfoMap[ca].push(da);},this);}this.newestCommentTimestamp=Math.max(this.newestCommentTimestamp,y);Object.assign(this.commentInfoMap,ba);this.attachClickHandlers();},updatePollingParamsCommentas:function(w){this.realTimePollingParams.commentas=w;},attachClickHandlers:function(){for(var w=0;w<this.domIDs.length;w++){var x='li[id="'+this.domIDs[w]+'"]',y=m.scry(this.controlledRegion,x);if(y.length===0)continue;var z=y[0],aa=m.scry(z,'a.uiCloseButton');n.listen(z,'mouseleave',this.closeStickyMenuFlyouts.bind(this,aa));var ba=m.scry(z,'.fbModerateDropdownContainer');if(ba.length>0){var ca=ba[0],da=m.find(ca,'.fbModerateDropdownLink');n.listen(da,'mouseover',(function(ma,event){l.addClass(ma,'fbUnderlineText');}).bind(null,da));n.listen(da,'mouseout',(function(ma,event){l.removeClass(ma,'fbUnderlineText');}).bind(null,da));var ea=m.find(ca,'.fbModerationDropdownList');n.listen(da,'click',this.exposeDropDownMenu.bind(this,da,ea));n.listen(ea.parentNode,'mouseleave',this.concealDropDownMenu.bind(this,da,ea));this.attachDropDownHandlers(z,this.commentIDs[w],ea);}var fa=this.commentInfoMap[this.commentIDs[w]].actor,ga=!!this.recentlyBlacklistedActors[fa];if(ga){var ha=m.scry(z,'.fbUndoBlacklistLink');if(ha.length>0){var ia=ha[0];n.listen(ia,'click',this.toggleBlackListAndSync.bind(this,this.commentIDs[w]));}}}var ja=m.scry(this.controlledRegion,'.fbReplyButton'),ka=m.scry(this.controlledRegion,'.fbReplyAfterLoginButton');for(var la=0;la<ja.length;la++)if(this.loggedIn){l.show(ja[la]);l.hide(ka[la]);}else{l.hide(ja[la]);l.show(ka[la]);}},closeStickyMenuFlyouts:function(w,event){o.hide();for(var x=0;x<w.length;x++)w[x].blur();},attachDropDownHandlers:function(w,x,y){var z=m.scry(y,'.fbBanUser');if(z.length>0){var aa=z[0],ba=m.find(aa,'^.fbFeedbackPost');if(ba.id.startsWith(x))n.listen(aa,'click',this.toggleBlackListAndSync.bind(this,x));}},exposeDropDownMenu:function(w,x,event){if(l.shown(x))return this.concealDropDownMenu(w,x,event);n.stop(event);l.show(x);x.focus();w.blur();var y=m.find(document.documentElement,'.commentContent'),z=q.getElementPosition(x).y+q.getElementDimensions(x).y-q.getElementDimensions(y).y;if(z>0){z=z+2;this.menuBuffer=m.create('div',{className:'menuBuffer',style:{height:z+'px'}});m.appendContent(y,this.menuBuffer);}return false;},concealDropDownMenu:function(w,x,event){n.stop(event);l.removeClass(w,'fbUnderlineText');l.hide(x);w.blur();if(this.menuBuffer){m.remove(this.menuBuffer);delete this.menuBuffer;}return false;},registerMoreCommentsLinkHandler:function(w){var x=w.pager_id;if(!s(x))return;var y=r(x);n.listen(y,'click',this.fetchMoreComments.bind(this,w,y));},deselectComments:function(w){for(var x=0;x<w.length;x++)delete this.selectedCommentsMap[w[x]];},registerModeratorQueueHandlers:function(w){if(w)this.selectedCommentsMap={};this.selectableComments=this.findSelectableComments();this.selectableCheckboxes=[];this.selectAllCheckBoxes=m.scry(this.controlledRegion,'.fbSelectAllCheckbox');this.approveButtons=m.scry(this.controlledRegion,'.fbApproveButton');this.removeButtons=m.scry(this.controlledRegion,'.fbRemoveButton');for(var x=0;x<this.selectableComments.length;x++){var y=this.selectableComments[x].id,z=!!this.selectedCommentsMap[y];this.setCommentSelection(this.selectableComments[x],z);var aa=m.find(this.selectableComments[x],'.fbCommentCheckbox');n.listen(aa,'click',this.toggleCommentSelection.bind(this));n.listen(this.selectableComments[x],'click',this.toggleCommentSelection.bind(this));aa.checked=z;this.selectableCheckboxes.push(aa);}for(var ba=0;ba<this.selectAllCheckBoxes.length;ba++){this.selectAllCheckBoxes[ba].checked=false;this.selectAllCheckBoxes[ba].disabled=this.selectableComments.length===0;n.listen(this.selectAllCheckBoxes[ba],'click',this.toggleSelectAllCheckbox.bind(this,this.selectAllCheckBoxes[ba]));}for(var ca=0;ca<this.approveButtons.length;ca++)n.listen(this.approveButtons[ca],'click',this.setBulkPrivacy.bind(this,false));for(var da=0;da<this.removeButtons.length;da++)n.listen(this.removeButtons[da],'click',this.setBulkPrivacy.bind(this,true));},findSelectableComments:function(){var w=m.scry(this.controlledRegion,'.fbTopLevelComment'),x=[];for(var y=0;y<w.length;y++)if(m.scry(w[y],'.fbCommentCheckbox').length===1&&m.scry(w[y],'.fbCommentOverlay').length===0)x.push(w[y]);return x;},toggleCommentSelection:function(event){var w={a:true},x=event.getTarget(),y=x.tagName.toLowerCase(),z=x.parentNode.tagName.toLowerCase();if(w[y]||w[z])return;var aa=l.hasClass(x,'fbFeedbackPost')?x:m.find(x,'^.fbFeedbackPost'),ba=this.commentIsSelected(aa),ca=!ba;this.setCommentSelection(aa,ca);this.synchronizeModeratorQueueUI();if(l.hasClass(x,'fbCommentCheckbox'))n.stop(event);},commentIsSelected:function(w){return l.hasClass(w,'fbCommentSelected');},setCommentSelection:function(w,x){if(x){this.selectComment(w);}else this.deselectComment(w);},selectComment:function(w){l.addClass(w,'fbCommentSelected');this.selectedCommentsMap[w.id]=true;m.find(w,'.fbCommentCheckbox').checked=true;},deselectComment:function(w){l.removeClass(w,'fbCommentSelected');delete this.selectedCommentsMap[w.id];m.find(w,'.fbCommentCheckbox').checked=false;},toggleSelectAllCheckbox:function(w,event){n.stop(event);var x=w.checked;for(var y=0;y<this.selectableComments.length;y++){this.setCommentSelection(this.selectableComments[y],w.checked);this.selectableCheckboxes[y].checked=x;}this.synchronizeBulkModerationCheckboxes(x);this.synchronizeBulkModerationButtons(x);},synchronizeModeratorQueueUI:function(){var w=0;for(var x=0;x<this.selectableCheckboxes.length;x++)if(this.selectableCheckboxes[x].checked)w++;var y=this.selectableCheckboxes.length>0&&w==this.selectableCheckboxes.length;this.synchronizeBulkModerationCheckboxes(y);this.synchronizeBulkModerationButtons(w>0);},synchronizeBulkModerationCheckboxes:function(w){for(var x=0;x<this.selectAllCheckBoxes.length;x++)this.selectAllCheckBoxes[x].checked=w;},synchronizeBulkModerationButtons:function(w){for(var x=0;x<this.approveButtons.length;x++)j.setEnabled(this.approveButtons[x],w);for(var y=0;y<this.removeButtons.length;y++)j.setEnabled(this.removeButtons[y],w);},setBulkPrivacy:function(w,event){n.stop(event);this.synchronizeBulkModerationButtons(false);var x=[];for(var y in this.selectedCommentsMap)x.push(y);var z={is_private:w,in_moderation_queue:true,comment_ids:x,uniqids:x,controller_id:this.controllerID,locale:this.locale,owns_pages:this.userOwnsPages,in_aggregated_view:this.inAggregatedView,in_contextual_dialog:this.inContextualDialog};new i().setURI('/ajax/connect/comments/set_bulk_private.php').setData(z).send();return false;},toggleBlackListAndSync:function(w,event){n.stop(event);var x=this.commentInfoMap[w].actor,y={blacklist:!this.blacklistedActors[x],in_moderation_queue:this.inModerationQueue,comment_id:w,other_comment_ids:this.getOtherCommentsByActor(x,w),uniqid:w,controller_id:this.controllerID,locale:this.locale,owns_pages:this.userOwnsPages,in_aggregated_view:this.inAggregatedView,in_contextual_dialog:this.inContextualDialog};new i().setURI('/ajax/connect/comments/set_blacklist.php').setData(y).setHandler((function(z){this.blacklistedActors[x]=!this.blacklistedActors[x];if(this.blacklistedActors[x]){this.recentlyBlacklistedActors[x]=true;}else delete this.recentlyBlacklistedActors[x];}).bind(this)).send();return false;},getOtherCommentsByActor:function(w,x){return this.actorToCommentInfoMap[w].filter(function(y){return y!=x;});},fetchMoreComments:function(w,x,event){n.kill(event);l.addClass(x,'async_saving');if(this.fetchMoreCommentsIsPending[w.pager_id]===true)return;this.fetchMoreCommentsIsPending[w.pager_id]=true;var y={is_reply_thread:false,in_moderation_queue:false,view_as_moderator:false};Object.assign(y,w);var z=m.scry(r(y.controller_id),this.getCommentsSelector(y));z=z.concat(m.scry(r(y.controller_id),this.getCollapsedCommentsSelector(y)));var aa=0,ba=0;for(var ca=0;ca<z.length;ca++)if(!l.hasClass(z[ca],'fbCommentIgnored'))if(l.hasClass(z[ca],'fbCommentHidden')){ba++;}else aa++;if(y.is_reply_thread)y.offset=aa;y.hidden_offset=ba;if(!y.aggregate_view)delete y.aggregate_view;if(!y.comment_id)delete y.comment_id;if(!y.is_reply_thread)y.comment_ids=this.commentIDs;if(!y.commentas){var da=v.allControllers[y.controller_id];y.commentas=da.realTimePollingParams.commentas;}new i().setURI('/ajax/connect/feedback.php').setReadOnly(true).setData(y).setHandler((function(ea){this.fetchMoreCommentsIsPending[w.pager_id]=false;}).bind(this)).send();},getCommentsSelector:function(w){var x=w.is_reply_thread?'li.fbCommentReply':'li.fbTopLevelComment';if(w.controller_id!=w.uniqid)x='div[id="'+w.uniqid+'"] '+x;return x;},getCollapsedCommentsSelector:function(w){var x=w.is_reply_thread?'div.fbCommentReply':'div.fbTopLevelComment';if(w.controller_id!=w.uniqid)x='div[id="'+w.uniqid+'"] '+x;return x;},getRecentlyBlacklistedActors:function(){var w=[];for(var x in this.recentlyBlacklistedActors)w.push(x);return w;},appendComments:function(w,x){var y=s(w);if(!y)return;var z=m.scry(y,'.fbFeedbackReplies')[0];if(!z)return;m.appendContent(z,x);},prependComments:function(w,x){var y=m.scry(document.documentElement,w)[0];if(!y)return;var z=x.getNodes(),aa=[];for(var ba=z.length;(ba--)>0;){var ca={id:m.getID(z[ba]),element:z[ba]};aa.push(ca);var da=s(ca.id);if(da){l.hide(ca.element);this.duplicateComments.push(ca.element);for(var ea=0;ea<aa.length;++ea)m.insertAfter(da,aa[ea].element);aa=[];}}for(ba=0;ba<aa.length;++ba)m.prependContent(y,aa[ba].element);setTimeout(this.removeDuplicateComments.bind(this),0);},removeDuplicateComments:function(){for(var w=0;w<this.duplicateComments.length;++w)m.remove(this.duplicateComments[w]);this.duplicateComments=[];},pollForComments:function(w){var x={locale:this.locale};Object.assign(x,w);if(!x.is_reply_thread)x.comment_ids=this.commentIDs;x.newest_comment_timestamp=this.newestCommentTimestamp;var y=this.handlePollResponse.bind(this),z=this.handlePollError.bind(this),aa=this.handlePollFinally.bind(this);new i().setURI('/plugins/comments/poll').setReadOnly(true).setData(x).setMethod('GET').setHandler(y).setErrorHandler(z).setFinallyHandler(aa).send();},handlePollResponse:function(w){},handlePollError:function(w){},handlePollFinally:function(w){}});f.exports=window.CommentAdminPanelController||v;},null);
__d('SelectionState',['immutable'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i,j;'use strict';var k=h.Record,l={anchorKey:'',anchorOffset:0,focusKey:'',focusOffset:0,isBackward:false,hasFocus:false},m=k(l);i=m;j=i&&i.prototype;Object.assign(n,i);n.prototype=Object.create(i.prototype);n.prototype.constructor=n;n.__superConstructor__=i;n.prototype.serialize=function(){return ('Anchor: '+this.getAnchorKey()+':'+this.getAnchorOffset()+', '+'Focus: '+this.getFocusKey()+':'+this.getFocusOffset()+', '+'Is Backward: '+String(this.getIsBackward())+', '+'Has Focus: '+String(this.getHasFocus()));};n.prototype.getAnchorKey=function(){return this.anchorKey;};n.prototype.getAnchorOffset=function(){return this.anchorOffset;};n.prototype.getFocusKey=function(){return this.focusKey;};n.prototype.getFocusOffset=function(){return this.focusOffset;};n.prototype.getIsBackward=function(){return this.isBackward;};n.prototype.getHasFocus=function(){return this.hasFocus;};n.prototype.hasEdgeWithin=function(o,p,q){var r=this.getAnchorKey(),s=this.getFocusKey();if(r===s&&r===o){var t=this.getStartOffset(),u=this.getEndOffset();return p<=u&&t<=q;}if(o!==r&&o!==s)return false;var v=o===r?this.getAnchorOffset():this.getFocusOffset();return p<=v&&q>=v;};n.prototype.isCollapsed=function(){return (this.getAnchorKey()===this.getFocusKey()&&this.getAnchorOffset()===this.getFocusOffset());};n.prototype.getStartKey=function(){return this.getIsBackward()?this.getFocusKey():this.getAnchorKey();};n.prototype.getStartOffset=function(){return this.getIsBackward()?this.getFocusOffset():this.getAnchorOffset();};n.prototype.getEndKey=function(){return this.getIsBackward()?this.getAnchorKey():this.getFocusKey();};n.prototype.getEndOffset=function(){return this.getIsBackward()?this.getAnchorOffset():this.getFocusOffset();};function n(){i.apply(this,arguments);}f.exports=n;},null);
__d('MentionResultsPropTypes',['React','SearchableEntry','SelectionState'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=h.PropTypes,l={viewID:k.string.isRequired,selection:k.instanceOf(j).isRequired,contextComponent:k.object.isRequired,mentionableEntries:k.array.isRequired,highlightedMentionable:k.instanceOf(i),onMentionSelect:k.func.isRequired,onMentionHighlight:k.func.isRequired,onMentionRenderHighlight:k.func.isRequired};f.exports=l;},null);
__d('MentionsLayer.react',['Bootloader','Locale','MentionResultsPropTypes','React','areEqual'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m=Object.assign||function(x){for(var y=1;y<arguments.length;y++){var z=arguments[y];for(var aa in z)if(Object.prototype.hasOwnProperty.call(z,aa))x[aa]=z[aa];}return x;},n=k.PropTypes,o=false,p=i.isRTL(),q,r,s,t,u=5,v=k.createClass({displayName:'MentionsLayer',propTypes:m({},j,{typeaheadView:n.func.isRequired,typeaheadViewProps:n.object,autoflip:n.bool,position:n.oneOf(['above','below'])}),getInitialState:function(){return {bootloaded:o};},componentWillMount:function(){if(!this.state.bootloaded)w((function(){this.isMounted()&&this.setState({bootloaded:true});}).bind(this));},_onMentionSelect:function(x,y){y.preventDefault();this.props.onMentionSelect(x,y);},shouldComponentUpdate:function(x,y){return (this.state.bootloaded!==y.bootloaded||!l(this.props.mentionableEntries,x.mentionableEntries)||this.props.highlightedMentionable!==x.highlightedMentionable||this.props.characterOffset!==x.characterOffset);},render:function(){if(!this.state.bootloaded)return null;var x=this.props.mentionableEntries,y=this.props.selection,z=y.isCollapsed()&&y.getHasFocus()&&x&&x.length,aa=null,ba=this.props.typeaheadViewProps,ca=false,da=false;if(ba&&ba.positionAtContext){ca=true;da=true;}else if(z)aa=t(this.props.characterOffset,p);var ea={};if(this.props.autoflip){ea.ContextualLayerAutoFlip=r;ea.ContextualLayerUpdateOnScroll=s;}var fa=this.props.typeaheadView;return (k.createElement(q,{shown:z,context:this.props.contextComponent,contextBounds:aa,containerWidthMatchContext:da,offsetY:u,position:this.props.position||'below',behaviors:ea},k.createElement(fa,{id:this.props.viewID,viewProps:this.props.typeaheadViewProps,highlightedEntry:this.props.highlightedMentionable,entries:x||[],onSelect:this._onMentionSelect,onHighlight:this.props.onMentionHighlight,onRenderHighlight:this.props.onMentionRenderHighlight})));}});function w(x){h.loadModules(["ContextualLayer.react","ContextualLayerAutoFlip","ContextualLayerUpdateOnScroll","getMentionableRect"],function(y,z,aa,ba){q=y;r=z;s=aa;t=ba;o=true;x();});}f.exports=v;},null);
__d('ActorBio.react',['React','fbt'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();'use strict';var j=Object.assign||function(m){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var p in o)if(Object.prototype.hasOwnProperty.call(o,p))m[p]=o[p];}return m;},k=h.PropTypes,l=h.createClass({displayName:'ActorBio',propTypes:{stats:k.object.isRequired,preferredTypes:k.array.isRequired},renderLink:function(m){return 'url' in m?h.createElement('a',j({},this.props,{href:m.url}),m.name):h.createElement('span',null,m.name);},renderItem:function(m,n){var o;switch(m){case 'employer':if('position' in n){o=i._("{position} at {employer}",[i.param("position",this.renderLink(n.position)),i.param("employer",this.renderLink(n))]);}else o=i._("Works at {employer}",[i.param("employer",this.renderLink(n))]);break;case 'mutual_friend':o=i._("Friends with {user}",[i.param("user",this.renderLink(n))]);break;default:return this.renderLink(n);}return h.createElement('span',null,o);},render:function(){var m=this.props.stats,n=this.props.preferredTypes;for(var o=0;o<n.length;o++)for(var p=0;p<n[o].length;p++){var q=n[o][p];if(q in m)return this.renderItem(q,m[q]);}return h.createElement('span',null);}});f.exports=l;},null);
__d("fillArray",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j){var k=new Array(i);for(var l=0;l<i;l++)k[l]=j;return k;}f.exports=h;},null);
__d('DocumentCompositeDecorator',['immutable','fillArray'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();'use strict';var j=h.List,k='.';function l(o){this.$DocumentCompositeDecorator1=o.slice();}l.prototype.getDecorations=function(o){var p=i(o.getText().length,null);this.$DocumentCompositeDecorator1.forEach(function(q,r){var s=0,t=q.getStrategy();t(o,function(u,v){if(m(p,u,v)){n(p,u,v,r+k+s);s++;}});});return j(p);};l.prototype.getComponentForKey=function(o){var p=parseInt(o.split(k)[0],10);return this.$DocumentCompositeDecorator1[p].getComponent();};l.prototype.getPropsForKey=function(o){var p=parseInt(o.split(k)[0],10);return this.$DocumentCompositeDecorator1[p].getProps();};function m(o,p,q){for(var r=p;r<q;r++)if(o[r]!=null)return false;return true;}function n(o,p,q,r){for(var s=p;s<q;s++)o[s]=r;}f.exports=l;},null);
__d('DocumentDecorator',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j,k){'use strict';this.$DocumentDecorator1=i;this.$DocumentDecorator2=j;this.$DocumentDecorator3=k||{};}h.prototype.getStrategy=function(){'use strict';return this.$DocumentDecorator1;};h.prototype.getComponent=function(){'use strict';return this.$DocumentDecorator2;};h.prototype.getProps=function(){'use strict';return this.$DocumentDecorator3;};f.exports=h;},null);
__d('DocumentEntityInstance',['ComposedEntityMutability','ComposedEntityType','arrayContains','getObjectValues','invariant'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m=k(i),n=k(h);function o(p,q,r){'use strict';!j(m,p)?l(0):undefined;!j(n,q)?l(0):undefined;this.$DocumentEntityInstance1=p;this.$DocumentEntityInstance2=q;this.$DocumentEntityInstance3=r||{};}o.prototype.getType=function(){'use strict';return this.$DocumentEntityInstance1;};o.prototype.getMutability=function(){'use strict';return this.$DocumentEntityInstance2;};o.prototype.getData=function(){'use strict';return this.$DocumentEntityInstance3;};o.prototype.replaceData=function(p){'use strict';this.$DocumentEntityInstance3=p;};f.exports=o;},null);
__d('DocumentEntity',['DocumentEntityInstance','invariant'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j={},k=0,l={create:function(m,n,o){return l.add(new h(m,n,o));},add:function(m){j[++k]=m;return k.toString();},get:function(m){var n=j[m];!!!n?i(0):undefined;return n;}};f.exports=l;},null);
__d('EmoticonSpan.react',['DocumentEntity','React','cx','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l=i.createClass({displayName:'EmoticonSpan',render:function(){var m=h.get(this.props.entityKey),n=m.getData(),o=n.type,p=k("_1ty6",'emoticon_'+o);return (i.createElement('span',{className:p,title:o,'data-offset-key':this.props.offsetKey},i.createElement('span',{className:"_5ukz"},this.props.children)));}});f.exports=l;},null);
__d('HashtagSpan.react',['React','cx'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=h.createClass({displayName:'HashtagSpan',render:function(){return (h.createElement('span',{'data-offset-key':this.props.offsetKey,className:"_5u8n",spellCheck:false},this.props.children));}});f.exports=j;},null);
__d('MentionSpan.react',['React','cx'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=h.createClass({displayName:'MentionSpan',render:function(){return (h.createElement('span',{'data-offset-key':this.props.offsetKey,className:"_5u8u",spellCheck:false},this.props.children));}});f.exports=j;},null);
__d('WeakMentionSpan.react',['React','cx'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=h.createClass({displayName:'WeakMentionSpan',render:function(){return (h.createElement('span',{'data-offset-key':this.props.offsetKey,className:"_whq",spellCheck:false},this.props.children));}});f.exports=j;},null);
__d('getEntityMatcher',['DocumentEntity'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=h.get;function j(k,l){var m=l||i;return function(n,o){n.findEntityRanges(function(p){var q=p.getEntity();return typeof q==='string'&&k(m(q));},o);};}f.exports=j;},null);
__d('getHashtagMatches',['getHashtagRegex'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=h();function j(k,l){var m=k.getText(),n,o,p,q;while((n=i.exec(m))!==null){o=n.index+n[1].length;p=n[2];q=n[3];l(o,o+p.length+q.length);}}f.exports=j;},null);
__d('getMentionsInputDecorator',['ComposedEntityType','DocumentCompositeDecorator','DocumentDecorator','EmoticonSpan.react','HashtagSpan.react','MentionSpan.react','WeakMentionSpan.react','getEntityMatcher','getHashtagMatches'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){if(c.__markCompiled)c.__markCompiled();var q=h.EMOTICON,r=h.MENTION,s;function t(){if(!s)s=new i([new j(o(function(u){var v=u.getData();return u.getType()===r&&v&&v.isWeak;}),n),new j(o(function(u){return u.getType()===r;}),m),new j(o(function(u){return u.getType()===q;}),k),new j(p,l)]);return s;}f.exports=t;},null);
__d('findRangesImmutable',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j,k,l){if(!i.size)return;var m=0;i.reduce(function(n,o,p){if(!j(n,o)){if(k(n))l(m,p);m=p;}return o;});k(i.last())&&l(m,i.count());}f.exports=h;},null);
__d('BlockTree',['immutable','emptyFunction','findRangesImmutable'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();'use strict';var k=h.List,l=h.Repeat,m=h.Record,n=i.thatReturnsTrue,o='-',p={start:null,end:null},q=m(p),r={start:null,end:null,decoratorKey:null,leaves:null},s=m(r),t={generate:function(w,x){var y=w.getLength();if(!y)return k.of(new s({start:0,end:0,decoratorKey:null,leaves:k.of(new q({start:0,end:0}))}));var z=[],aa=x?x.getDecorations(w):k(l(null,y)),ba=w.getCharacterList();j(aa,v,n,function(ca,da){z.push(new s({start:ca,end:da,decoratorKey:aa.get(ca),leaves:u(ba.slice(ca,da).toList(),ca)}));});return k(z);},getFingerprint:function(w){return w.map(function(x){var y=x.get('decoratorKey'),z=y!==null?y+'.'+(x.get('end')-x.get('start')):'';return ''+z+'.'+x.get('leaves').size;}).join(o);}};function u(w,x){var y=[],z=w.map(function(aa){return aa.getStyle();});j(z,v,n,function(aa,ba){y.push(new q({start:aa+x,end:ba+x}));});return k(y);}function v(w,x){return w===x;}f.exports=t;},null);
__d('UnicodeBidiService',['UnicodeBidi','UnicodeBidiDirection','invariant'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();'use strict';function k(l){if(!l)l=i.getGlobalDir();!i.isStrong(l)?j(0):undefined;this.defaultDir=l;this.reset();}k.prototype.reset=function(){this.lastDir=this.defaultDir;};k.prototype.getDirection=function(l){this.lastDir=h.getDirection(l,this.lastDir);return this.lastDir;};f.exports=k;},null);
__d('EditorBidiService',['immutable','UnicodeBidiService','nullthrows'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();'use strict';var k=h.OrderedMap,l,m={getDirectionMap:function(n,o){if(!l){l=new i();}else l.reset();var p=n.getBlockMap(),q=p.valueSeq().map(function(s){return j(l).getDirection(s.getText());}),r=k(p.keySeq().zip(q));return h.is(o,r)?o:r;}};f.exports=m;},null);
__d('EditorChangeType',['keyMirror'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();'use strict';var i=h({UNDO:true,REDO:true,CHANGE_SELECTION:true,INSERT_CHARACTERS:true,BACKSPACE_CHARACTER:true,DELETE_CHARACTER:true,REMOVE_RANGE:true,SPLIT_BLOCK:true,INSERT_FRAGMENT:true,CHANGE_INLINE_STYLE:true,CHANGE_BLOCK_TYPE:true,APPLY_ENTITY:true,RESET_BLOCK:true,ADJUST_DEPTH:true});f.exports=i;},null);
__d('EditorState',['BlockTree','ComposedInlineStyle','EditorBidiService','EditorChangeType','immutable','SelectionState'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();'use strict';var n=l.Record,o=l.Stack,p={allowUndo:true,currentContent:null,decorator:null,directionMap:null,forceSelection:false,inCompositionMode:false,inlineStyleOverride:null,lastChangeType:null,nativelyRenderedContent:null,redoStack:o(),selection:null,treeMap:null,undoStack:o()},q=n(p);r.create=function(aa){aa.treeMap=t(aa.currentContent,aa.decorator);aa.directionMap=j.getDirectionMap(aa.currentContent);return new r(new q(aa));};r.set=function(aa,ba){var ca=aa.getImmutable().withMutations(function(da){var ea=da.get('decorator'),fa=ea;if(ba.decorator===null){fa=null;}else if(ba.decorator)fa=ba.decorator;var ga=ba.currentContent||aa.getCurrentContent();if(fa!==ea){var ha=da.get('treeMap'),ia;if(fa&&ea){ia=v(ga.getBlockMap(),ha,fa,ea);}else ia=t(ga,fa);da.merge({decorator:fa,treeMap:ia,nativelyRenderedContent:null});return;}var ja=aa.getCurrentContent();if(ga!==ja)da.set('treeMap',u(aa,ga.getBlockMap(),fa));da.merge(ba);});return new r(ca);};r.prototype.toJS=function(){return this.getImmutable().toJS();};r.prototype.getAllowUndo=function(){return this.getImmutable().get('allowUndo');};r.prototype.getCurrentContent=function(){return this.getImmutable().get('currentContent');};r.prototype.getUndoStack=function(){return this.getImmutable().get('undoStack');};r.prototype.getRedoStack=function(){return this.getImmutable().get('redoStack');};r.prototype.getSelection=function(){return this.getImmutable().get('selection');};r.prototype.getDecorator=function(){return this.getImmutable().get('decorator');};r.prototype.isInCompositionMode=function(){return this.getImmutable().get('inCompositionMode');};r.prototype.mustForceSelection=function(){return this.getImmutable().get('forceSelection');};r.prototype.getNativelyRenderedContent=function(){return this.getImmutable().get('nativelyRenderedContent');};r.prototype.getLastChangeType=function(){return this.getImmutable().get('lastChangeType');};r.prototype.getInlineStyleOverride=function(){return this.getImmutable().get('inlineStyleOverride');};r.prototype.getCurrentInlineStyle=function(){var aa=this.getInlineStyleOverride();if(aa!=null)return aa;var ba=this.getCurrentContent(),ca=this.getSelection();if(ca.isCollapsed())return x(ba,ca);return y(ba,ca);};r.prototype.getBlockTree=function(aa){return this.getImmutable().getIn(['treeMap',aa]);};r.prototype.isAtDocumentStart=function(){var aa=this.getCurrentContent().getBlockMap().first().getKey();return this.getSelection().hasEdgeWithin(aa,0,0);};r.prototype.isAtDocumentEnd=function(){var aa=this.getCurrentContent(),ba=aa.getBlockMap(),ca=ba.last(),da=ca.getLength();return this.getSelection().hasEdgeWithin(ca.getKey(),da,da);};r.prototype.getDirectionMap=function(){return this.getImmutable().get('directionMap');};r.acceptSelection=function(aa,ba){return s(aa,ba,false);};r.forceSelection=function(aa,ba){if(!ba.getHasFocus())ba=ba.set('hasFocus',true);return s(aa,ba,true);};r.moveSelectionToEnd=function(aa){var ba=aa.getCurrentContent(),ca=ba.getLastBlock(),da=ca.getKey(),ea=ca.getLength();return r.acceptSelection(aa,new m({anchorKey:da,anchorOffset:ea,focusKey:da,focusOffset:ea,isBackward:false}));};r.moveFocusToEnd=function(aa){var ba=r.moveSelectionToEnd(aa);return r.forceSelection(ba,ba.getSelection());};r.push=function(aa,ba,ca){if(aa.getCurrentContent()===ba)return aa;var da=ca!==k.INSERT_CHARACTERS,ea=j.getDirectionMap(ba,aa.getDirectionMap());if(!aa.getAllowUndo())return r.set(aa,{currentContent:ba,directionMap:ea,lastChangeType:ca,selection:ba.getSelectionAfter(),forceSelection:da,inlineStyleOverride:null});var fa=aa.getSelection(),ga=aa.getCurrentContent(),ha=aa.getUndoStack(),ia=ba;if(fa!==ga.getSelectionAfter()||w(aa,ca)){ha=ha.push(ga);ia=ia.set('selectionBefore',fa);}else if(ca===k.INSERT_CHARACTERS||ca===k.BACKSPACE_CHARACTER||ca===k.DELETE_CHARACTER)ia=ia.set('selectionBefore',ga.getSelectionBefore());return r.set(aa,{currentContent:ia,directionMap:ea,undoStack:ha,redoStack:o(),lastChangeType:ca,selection:ba.getSelectionAfter(),forceSelection:da,inlineStyleOverride:null});};r.undo=function(aa){if(!aa.getAllowUndo())return aa;var ba=aa.getUndoStack(),ca=ba.peek();if(!ca)return aa;var da=aa.getCurrentContent(),ea=j.getDirectionMap(ca,aa.getDirectionMap());return r.set(aa,{currentContent:ca,directionMap:ea,undoStack:ba.shift(),redoStack:aa.getRedoStack().push(da),forceSelection:true,inlineStyleOverride:null,lastChangeType:k.UNDO,nativelyRenderedContent:null,selection:da.getSelectionBefore()});};r.redo=function(aa){if(!aa.getAllowUndo())return aa;var ba=aa.getRedoStack(),ca=ba.peek();if(!ca)return aa;var da=aa.getCurrentContent(),ea=j.getDirectionMap(ca,aa.getDirectionMap());return r.set(aa,{currentContent:ca,directionMap:ea,undoStack:aa.getUndoStack().push(da),redoStack:ba.shift(),forceSelection:true,inlineStyleOverride:null,lastChangeType:k.REDO,nativelyRenderedContent:null,selection:ca.getSelectionAfter()});};function r(aa){this.$EditorState1=aa;}r.prototype.getImmutable=function(){return this.$EditorState1;};function s(aa,ba,ca){return r.set(aa,{selection:ba,forceSelection:ca,nativelyRenderedContent:null,inlineStyleOverride:null});}function t(aa,ba){return aa.getBlockMap().map(function(ca){return h.generate(ca,ba);});}function u(aa,ba,ca){var da=aa.getCurrentContent().getBlockMap(),ea=aa.getImmutable().get('treeMap');return ea.merge(ba.toSeq().filter(function(fa,ga){return fa!==da.get(ga);}).map(function(fa){return h.generate(fa,ca);}));}function v(aa,ba,ca,da){return ba.merge(aa.toSeq().filter(function(ea){return (ca.getDecorations(ea)!==da.getDecorations(ea));}).map(function(ea){return h.generate(ea,ca);}));}function w(aa,ba){var ca=aa.getLastChangeType();return (ba!==ca||ba!==k.INSERT_CHARACTERS&&ba!==k.BACKSPACE_CHARACTER&&ba!==k.DELETE_CHARACTER);}function x(aa,ba){var ca=ba.getStartKey(),da=ba.getStartOffset(),ea=aa.getBlockForKey(ca);if(da>0)return ea.getInlineStyleAt(da-1);if(ea.getLength())return ea.getInlineStyleAt(0);return z(aa,ca);}function y(aa,ba){var ca=ba.getStartKey(),da=ba.getStartOffset(),ea=aa.getBlockForKey(ca);if(da<ea.getLength())return ea.getInlineStyleAt(da);if(da>0)return ea.getInlineStyleAt(da-1);return z(aa,ca);}function z(aa,ba){var ca=aa.getBlockBefore(ba),da;while(ca){da=ca.getLength();if(da)return ca.getInlineStyleAt(da-1);ca=aa.getBlockBefore(ca.getKey());}return i.NONE;}f.exports=r;},null);
__d('AbstractTextEditorPlaceholder.react',['EditorState','React','cx'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=i.PropTypes,l=i.createClass({displayName:'AbstractTextEditorPlaceholder',propTypes:{editorState:k.instanceOf(h).isRequired,text:k.string.isRequired},shouldComponentUpdate:function(m,n){if(this.props.text!==m.text)return true;var o=this.props.editorState,p=m.editorState,q=o.getSelection(),r=p.getSelection();return (q.getHasFocus()!==r.getHasFocus());},render:function(){var m=this.props.editorState.getSelection().getHasFocus(),n=' '+"_5ywb"+(m?' '+"_5ywc":'');return (i.createElement('div',{className:n},i.createElement('div',{className:"_3br6"},this.props.text)));}});f.exports=l;},null);
__d('DocumentCommands',['keyMirror'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=h({UNDO:true,REDO:true,DELETE:true,DELETE_WORD:true,BACKSPACE:true,BACKSPACE_WORD:true,BACKSPACE_TO_END_OF_BLOCK:true,BOLD:true,ITALIC:true,UNDERLINE:true,CODE:true,INSERT_BLOCK_DELIMITER:true,TRANSPOSE_CHARACTERS:true,MOVE_SELECTION_TO_START_OF_BLOCK:true,MOVE_SELECTION_TO_END_OF_BLOCK:true,SECONDARY_CUT:true,SECONDARY_PASTE:true});f.exports=i;},null);
__d('KeyBindingUtil',['UserAgent'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=h.isPlatform('Mac OS X'),j={isCtrlKeyCommand:function(k){return !!k.ctrlKey&&!k.altKey;},hasCommandModifier:function(k){return i?!!k.metaKey&&!k.altKey:j.isCtrlKeyCommand(k);}};f.exports=j;},null);
__d('getDefaultKeyBinding',['DocumentCommands','KeyBindingUtil','Keys','UserAgent'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();'use strict';var l=k.isPlatform('Mac OS X'),m=k.isPlatform('Windows'),n=k.isBrowser('Firefox'),o=l&&n&&n<29,p=i.hasCommandModifier,q=i.isCtrlKeyCommand;function r(w){return l&&!!w.altKey||q(w);}function s(w){if(p(w))return w.shiftKey?h.REDO:h.UNDO;}function t(w){if(m&&w.shiftKey)return null;return r(w)?h.DELETE_WORD:h.DELETE;}function u(w){if(p(w)&&l)return h.BACKSPACE_TO_END_OF_BLOCK;return r(w)?h.BACKSPACE_WORD:h.BACKSPACE;}function v(w){switch(w.keyCode){case 66:return p(w)?h.BOLD:null;case 68:return q(w)?h.DELETE:null;case 72:return q(w)?h.BACKSPACE:null;case 73:return p(w)?h.ITALIC:null;case 74:return p(w)?h.CODE:null;case 75:if(!m&&q(w))return h.SECONDARY_CUT;return null;case 79:return q(w)?h.INSERT_BLOCK_DELIMITER:null;case 84:return l&&q(w)?h.TRANSPOSE_CHARACTERS:null;case 85:if(l&&q(w))return h.BACKSPACE_TO_END_OF_BLOCK;return p(w)?h.UNDERLINE:null;case 87:return l&&q(w)?h.BACKSPACE_WORD:null;case 89:if(q(w))return m?h.REDO:h.SECONDARY_PASTE;return null;case 90:return s(w)||null;case j.DELETE:return t(w);case j.BACKSPACE:return u(w);case j.LEFT:return (o&&p(w)?h.MOVE_SELECTION_TO_START_OF_BLOCK:null);case j.RIGHT:return (o&&p(w)?h.MOVE_SELECTION_TO_END_OF_BLOCK:null);default:return null;}}f.exports=v;},null);
__d('AbstractTextEditorProps',['EditorState','React','emptyFunction','getDefaultKeyBinding'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l=i.PropTypes,m=j.thatReturns(''),n=j.thatReturns(null),o={propTypes:{editorState:l.instanceOf(h).isRequired,placeholder:l.string,textAlignment:l.oneOf(['left','center','right']),blockRendererFn:l.func,blockStyleFn:l.func,inlineStyleFn:l.func,keyBindingFn:l.func,readOnly:l.bool,spellCheck:l.bool,stripPastedStyles:l.bool,handleReturn:l.func,handleKeyCommand:l.func,handleBeforeInput:l.func,handlePastedFiles:l.func,onEscape:l.func,onTab:l.func,onUpArrow:l.func,onDownArrow:l.func,onPasteRawText:l.func,onBlur:l.func,onFocus:l.func},getDefaultProps:function(){return {blockRendererFn:n,blockStyleFn:m,inlineStyleFn:m,keyBindingFn:k,readOnly:false,spellCheck:false,stripPastedStyles:false};}};f.exports=o;},null);
__d('CharacterMetadata',['ComposedInlineStyle','immutable'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j,k;'use strict';var l=h.NONE,m=i.Record,n=i.is,o={style:l,entity:null},p=m(o);j=p;k=j&&j.prototype;Object.assign(q,j);q.prototype=Object.create(j.prototype);q.prototype.constructor=q;q.__superConstructor__=j;q.prototype.getStyle=function(){return this.get('style');};q.prototype.getEntity=function(){return this.get('entity');};q.prototype.hasStyle=function(s){return !!(this.getStyle()&s);};q.applyStyle=function(s,t){return s.set('style',s.getStyle()|t);};q.removeStyle=function(s,t){var u=s.set('style',s.getStyle()&~t);return n(u,r)?r:u;};q.applyEntity=function(s,t){var u=s.getEntity()===t?s:s.set('entity',t);return n(u,r)?r:u;};function q(){j.apply(this,arguments);}var r=new q();q.EMPTY=r;f.exports=q;},null);
__d('ContentStateInlineStyle',['CharacterMetadata','immutable'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();'use strict';var j={add:function(l,m,n){return k(l,m,n,true);},remove:function(l,m,n){return k(l,m,n,false);}};function k(l,m,n,o){var p=l.getBlockMap(),q=m.getStartKey(),r=m.getStartOffset(),s=m.getEndKey(),t=m.getEndOffset(),u=p.skipUntil(function(v,w){return w===q;}).takeUntil(function(v,w){return w===s;}).concat(i.Map([[s,p.get(s)]])).map(function(v,w){var x,y;if(q===s){x=r;y=t;}else{x=w===q?r:0;y=w===s?t:v.getLength();}var z=v.getCharacterList(),aa;while(x<y){aa=z.get(x);z=z.set(x,o?h.applyStyle(aa,n):h.removeStyle(aa,n));x++;}return v.set('characterList',z);});return l.merge({blockMap:p.merge(u),selectionBefore:m,selectionAfter:m});}f.exports=j;},null);
__d("DocumentRemovalDirection",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={BACKWARD:0,FORWARD:1};f.exports=h;},null);
__d('applyEntityToContentBlock',['CharacterMetadata'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();'use strict';function i(j,k,l,m){var n=j.getCharacterList();while(k<l){n=n.set(k,h.applyEntity(n.get(k),m));k++;}return j.set('characterList',n);}f.exports=i;},null);
__d('applyEntityToContentState',['immutable','applyEntityToContentBlock'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();'use strict';function j(k,l,m){var n=k.getBlockMap(),o=l.getStartKey(),p=l.getStartOffset(),q=l.getEndKey(),r=l.getEndOffset(),s=n.skipUntil(function(t,u){return u===o;}).takeUntil(function(t,u){return u===q;}).merge(h.OrderedMap([[q,n.get(q)]])).map(function(t,u){var v,w;if(o===q){v=p;w=r;}else{v=u===o?p:0;w=u===q?0:t.getLength();}return i(t,v,w,m);});return k.merge({blockMap:n.merge(s),selectionBefore:l,selectionAfter:l});}f.exports=j;},null);
__d('DocumentEntitySegments',['DocumentRemovalDirection'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=h.FORWARD,j={getRemovalRange:function(k,l,m,n,o){var p=m.split(' ');p=p.map(function(z,aa){if(o===i){if(aa>0)return ' '+z;}else if(aa<p.length-1)return z+' ';return z;});var q=n,r,s,t=null,u=null;for(var v=0;v<p.length;v++){s=p[v];r=q+s.length;if(k<r&&q<l){if(t!==null){u=r;}else{t=q;u=r;}}else if(t!==null)break;q=r;}var w=n+m.length,x=t===n,y=u===w;if(!x&&y||x&&!y)if(o===i){if(u!==w)u++;}else if(t!==n)t--;return {start:t,end:u};}};f.exports=j;},null);
__d('checkRangeOverlap',['invariant'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();function i(j,k,l,m){!(j<=k&&l<=m)?h(0):undefined;return j<m&&k>l;}f.exports=i;},null);
__d('getRangesForDocumentEntity',['invariant'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();function i(j,k){var l=[];j.findEntityRanges(function(m){return m.getEntity()===k;},function(m,n){l.push({start:m,end:n});});!!!l.length?h(0):undefined;return l;}f.exports=i;},null);
__d('getCharacterRemovalRange',['ComposedEntityMutability','DocumentEntity','DocumentEntitySegments','checkRangeOverlap','getRangesForDocumentEntity','invariant'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n=h.MUTABLE,o=h.IMMUTABLE;function p(q,r,s){var t=r.getStartOffset(),u=r.getEndOffset(),v=q.getEntityAt(t);if(!v)return r;var w=i.get(v),x=w.getMutability();if(x===n)return r;var y=l(q,v).filter(function(ba){return k(t,u,ba.start,ba.end);});!(y.length==1)?m(0):undefined;var z=y[0];if(x===o)return r.merge({anchorOffset:z.start,focusOffset:z.end,isBackward:false});var aa=j.getRemovalRange(t,u,q.getText().slice(z.start,z.end),z.start,s);return r.merge({anchorOffset:aa.start,focusOffset:aa.end,isBackward:false});}f.exports=p;},null);
__d("generateBlockKey",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={},i=Math.pow(2,24);function j(){var k;while(k===undefined||h.hasOwnProperty(k)||!isNaN(+k))k=Math.floor(Math.random()*i).toString(32);h[k]=true;return k;}f.exports=j;},null);
__d('removeEntitiesAtEdges',['CharacterMetadata','ComposedEntityMutability','DocumentEntity','findRangesImmutable','invariant'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();'use strict';var m=i.MUTABLE;function n(q,r){var s=q.getBlockMap(),t={},u=r.getStartKey(),v=r.getStartOffset(),w=s.get(u),x=p(w,v);if(x!==w)t[u]=x;var y=r.getEndKey(),z=r.getEndOffset(),aa=s.get(y);if(u===y)aa=x;var ba=p(aa,z);if(ba!==aa)t[y]=ba;if(!Object.keys(t).length)return q.set('selectionAfter',r);return q.merge({blockMap:s.merge(t),selectionAfter:r});}function o(q,r,s){var t;k(q,function(u,v){return u.getEntity()===v.getEntity();},function(u){return u.getEntity()===r;},function(u,v){if(u<=s&&v>=s)t={start:u,end:v};});!(typeof t==='object')?l(0):undefined;return t;}function p(q,r){var s=q.getCharacterList(),t=r>0?s.get(r-1):undefined,u=r<s.count()?s.get(r):undefined,v=t?t.getEntity():undefined,w=u?u.getEntity():undefined;if(w&&w===v){var x=j.get(w);if(x.getMutability()!==m){var y=o(s,w,r),z=y.start,aa=y.end,ba;while(z<aa){ba=s.get(z);s=s.set(z,h.applyEntity(ba,null));z++;}return q.set('characterList',s);}}return q;}f.exports=n;},null);
__d('getContentStateFragment',['generateBlockKey','removeEntitiesAtEdges'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();'use strict';function j(k,l){var m=l.getStartKey(),n=l.getStartOffset(),o=l.getEndKey(),p=l.getEndOffset(),q=i(k,l),r=q.getBlockMap(),s=r.keySeq(),t=s.indexOf(m),u=s.indexOf(o)+1;return r.slice(t,u).map(function(v,w){var x=h(),y=v.getText(),z=v.getCharacterList();if(m===o)return v.merge({key:x,text:y.slice(n,p),characterList:z.slice(n,p)});if(w===m)return v.merge({key:x,text:y.slice(n),characterList:z.slice(n)});if(w===o)return v.merge({key:x,text:y.slice(0,p),characterList:z.slice(0,p)});return v.set('key',x);});}f.exports=j;},null);
__d('createOrderedMapFromBlockArray',['immutable'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=h.OrderedMap;function j(k){return i(k.map(function(l){return [l.getKey(),l];}));}f.exports=j;},null);
__d('insertIntoList',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();'use strict';function h(i,j,k){if(k===i.count()){j.forEach(function(l){i=i.push(l);});}else if(k===0){j.reverse().forEach(function(l){i=i.unshift(l);});}else i=i.slice(0,k).concat(j,i.slice(k));return i;}f.exports=h;},null);
__d('insertFragmentIntoContentState',['createOrderedMapFromBlockArray','generateBlockKey','insertIntoList','invariant'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();'use strict';function l(m,n,o){!n.isCollapsed()?k(0):undefined;var p=n.getStartKey(),q=n.getStartOffset(),r=m.getBlockMap(),s=o.size,t,u;if(s===1){var v=r.get(p),w=o.first(),x=v.getText(),y=v.getCharacterList(),z=v.merge({text:x.slice(0,q)+w.getText()+x.slice(q),characterList:j(y,w.getCharacterList(),q)});r=r.set(p,z);t=p;u=q+w.getText().length;return m.merge({blockMap:r.set(p,z),selectionBefore:n,selectionAfter:n.merge({anchorKey:t,anchorOffset:u,focusKey:t,focusOffset:u,isBackward:false})});}var aa=[];m.getBlockMap().forEach(function(ba,ca){if(ca!==p){aa.push(ba);return;}var da=ba.getText(),ea=ba.getCharacterList(),fa=da.length,ga=da.slice(0,q),ha=ea.slice(0,q),ia=o.first(),ja=ba.merge({text:ga+ia.getText(),characterList:ha.concat(ia.getCharacterList())});aa.push(ja);o.slice(1,s-1).forEach(function(oa){aa.push(oa.set('key',i()));});var ka=da.slice(q,fa),la=ea.slice(q,fa),ma=o.last();t=i();var na=ma.merge({key:t,text:ma.getText()+ka,characterList:ma.getCharacterList().concat(la)});aa.push(na);});u=o.last().getLength();return m.merge({blockMap:h(aa),selectionBefore:n,selectionAfter:n.merge({anchorKey:t,anchorOffset:u,focusKey:t,focusOffset:u,isBackward:false})});}f.exports=l;},null);
__d('insertTextIntoContentState',['immutable','insertIntoList','invariant'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();'use strict';var k=h.Repeat;function l(m,n,o,p){!n.isCollapsed()?j(0):undefined;var q=o.length;if(!q)return m;var r=m.getBlockMap(),s=n.getStartKey(),t=n.getStartOffset(),u=r.get(s),v=u.getText(),w=u.merge({text:v.slice(0,t)+o+v.slice(t,u.getLength()),characterList:i(u.getCharacterList(),k(p,q),t)}),x=t+q;return m.merge({blockMap:r.set(s,w),selectionAfter:n.merge({anchorOffset:x,focusOffset:x})});}f.exports=l;},null);
__d('removeRangeFromContentState',['immutable'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();'use strict';function i(k,l){if(l.isCollapsed())return k;var m=k.getBlockMap(),n=l.getStartKey(),o=l.getStartOffset(),p=l.getEndKey(),q=l.getEndOffset(),r=m.get(n),s=m.get(p),t;if(r===s){t=j(r.getCharacterList(),o,q);}else t=r.getCharacterList().slice(0,o).concat(s.getCharacterList().slice(q));var u=r.merge({text:r.getText().slice(0,o)+s.getText().slice(q),characterList:t}),v=m.toSeq().skipUntil(function(w,x){return x===n;}).takeUntil(function(w,x){return x===p;}).concat(h.Map([[p,null]])).map(function(w,x){return x===n?u:null;});m=m.merge(v).filter(function(w){return !!w;});return k.merge({blockMap:m,selectionBefore:l,selectionAfter:l.merge({anchorKey:n,anchorOffset:o,focusKey:n,focusOffset:o,isBackward:false})});}function j(k,l,m){if(l===0){while(l<m){k=k.shift();l++;}}else if(m===k.count()){while(m>l){k=k.pop();m--;}}else k=k.slice(0,l).concat(k.slice(m));return k;}f.exports=i;},null);
__d('setBlockTypeForContentState',['immutable'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();'use strict';function i(j,k,l){var m=k.getStartKey(),n=k.getEndKey(),o=j.getBlockMap(),p=o.toSeq().skipUntil(function(q,r){return r===m;}).takeUntil(function(q,r){return r===n;}).concat(h.Map([[n,o.get(n)]])).map(function(q){return q.merge({type:l,depth:0});});return j.merge({blockMap:o.merge(p),selectionBefore:k,selectionAfter:k});}f.exports=i;},null);
__d('splitBlockInContentState',['generateBlockKey','invariant'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();'use strict';function j(k,l){!l.isCollapsed()?i(0):undefined;var m=l.getAnchorKey(),n=l.getAnchorOffset(),o=k.getBlockMap(),p=o.get(m),q=p.getText(),r=p.getCharacterList(),s=p.merge({text:q.slice(0,n),characterList:r.slice(0,n)}),t=h(),u=s.merge({key:t,text:q.slice(n),characterList:r.slice(n)}),v=o.toSeq().takeUntil(function(y){return y===p;}),w=o.toSeq().skipUntil(function(y){return y===p;}).rest(),x=v.concat([[s.getKey(),s],[u.getKey(),u]],w).toOrderedMap();return k.merge({blockMap:x,selectionBefore:l,selectionAfter:l.merge({anchorKey:t,anchorOffset:0,focusKey:t,focusOffset:0,isBackward:false})});}f.exports=j;},null);
__d('DocumentModifier',['CharacterMetadata','ComposedInlineStyle','ContentStateInlineStyle','DocumentRemovalDirection','applyEntityToContentState','getCharacterRemovalRange','getContentStateFragment','insertFragmentIntoContentState','insertTextIntoContentState','invariant','removeEntitiesAtEdges','removeRangeFromContentState','setBlockTypeForContentState','splitBlockInContentState'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){if(c.__markCompiled)c.__markCompiled();'use strict';var v=i.NONE,w={replaceText:function(x,y,z,aa,ba){if(aa===undefined)aa=v;if(ba===undefined)ba=null;var ca=r(x,y),da=s(ca,y),ea;if(aa===v&&ba===null){ea=h.EMPTY;}else ea=new h({style:aa,entity:ba});return p(da,da.getSelectionAfter(),z,ea);},insertText:function(x,y,z,aa,ba){!y.isCollapsed()?q(0):undefined;if(aa===undefined)aa=v;if(ba===undefined)ba=null;var ca;if(aa===v&&ba===null){ca=h.EMPTY;}else ca=new h({style:aa,entity:ba});var da=r(x,y);return p(da,da.getSelectionAfter(),z,ca);},moveText:function(x,y,z){var aa=n(x,y),ba=w.removeRange(x,y,k.BACKWARD);return w.replaceWithFragment(ba,z,aa);},replaceWithFragment:function(x,y,z){var aa=r(x,y),ba=s(aa,y);return o(ba,ba.getSelectionAfter(),z);},removeRange:function(x,y,z){if(y.getAnchorKey()===y.getFocusKey()){var aa=y.getAnchorKey(),ba=y.getStartOffset(),ca=y.getEndOffset(),da=x.getBlockForKey(aa),ea=da.getEntityAt(ba),fa=da.getEntityAt(ca-1);if(ea&&ea===fa){var ga=m(da,y,z);return s(x,ga);}}var ha=r(x,y);return s(ha,y);},splitBlock:function(x,y){var z=r(x,y),aa=s(z,y);return u(aa,aa.getSelectionAfter());},applyInlineStyle:function(x,y,z){return j.add(x,y,z);},removeInlineStyle:function(x,y,z){return j.remove(x,y,z);},setBlockType:function(x,y,z){return t(x,y,z);},applyEntity:function(x,y,z){var aa=r(x,y);return l(aa,y,z);}};f.exports=w;},null);
__d('isSelectionAtLeafStart',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();'use strict';function h(i){var j=i.getSelection(),k=j.getAnchorKey(),l=i.getBlockTree(k),m=j.getStartOffset(),n=false;l.some(function(o){if(m===o.get('start')){n=true;return true;}if(m<o.get('end'))return o.get('leaves').some(function(p){var q=p.get('start');if(m===q){n=true;return true;}if(m<q)return false;});});return n;}f.exports=h;},null);
__d('TextEditorCompositionHandler',['ComposedInlineStyle','DocumentModifier','EditorChangeType','EditorState','Keys','isSelectionAtLeafStart'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n=h.NONE,o=20,p={onBeforeInput:function(q){this._textInputData=(this._textInputData||'')+q.data;},onCompositionStart:function(){this._stillComposing=true;},onCompositionEnd:function(q){this._resolved=false;this._stillComposing=false;setTimeout((function(){if(!this._resolved)p.resolveComposition.call(this);}).bind(this),o);},onKeyDown:function(q){if(q.which===l.RIGHT||q.which===l.LEFT)q.preventDefault();},onKeyPress:function(q){if(q.which===l.RETURN)q.preventDefault();},resolveComposition:function(){if(this._stillComposing)return;this._resolved=true;var q=this._textInputData;this._textInputData='';var r=k.set(this.props.editorState,{inCompositionMode:false}),s=!q||m(r);if(s)this.restoreEditorDOM();this.exitCurrentMode();this.removeRenderGuard();if(q){var t=i.replaceText(r.getCurrentContent(),r.getSelection(),q,n,null);this.update(k.push(r,t,j.INSERT_CHARACTERS));return;}if(s)this.update(k.set(r,{nativelyRenderedContent:null,forceSelection:true}));}};f.exports=p;},null);
__d('DocumentOffsetKey',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h='-',i={encode:function(j,k,l){return j+h+k+h+l;},decode:function(j){var k=j.split(h),l=k[0],m=k[1],n=k[2];return {blockKey:l,decoratorKey:parseInt(m,10),leafKey:parseInt(n,10)};}};f.exports=i;},null);
__d('ElementForBlockType',['ComposedBlockType'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i={getElement:function(j){switch(j){case h.HEADER_ONE:return 'h2';case h.HEADER_TWO:return 'h3';case h.UNORDERED_LIST_ITEM:case h.ORDERED_LIST_ITEM:return 'li';case h.BLOCKQUOTE:return 'blockquote';case h.MEDIA:return 'figure';default:return 'div';}},getWrapperElement:function(j){switch(j){case h.UNORDERED_LIST_ITEM:case h.ORDERED_LIST_ITEM:return 'ul';case h.CODE:return 'pre';default:return null;}}};f.exports=i;},null);
__d('ContentBlock',['ComposedBlockType','ComposedInlineStyle','immutable','findRangesImmutable'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l,m;'use strict';var n=h.UNSTYLED,o=i.NONE,p=j.List,q=j.Record,r={key:'',type:n,text:'',characterList:p(),depth:0},s=q(r);l=s;m=l&&l.prototype;Object.assign(t,l);t.prototype=Object.create(l.prototype);t.prototype.constructor=t;t.__superConstructor__=l;t.prototype.getKey=function(){return this.get('key');};t.prototype.getType=function(){return this.get('type');};t.prototype.getText=function(){return this.get('text');};t.prototype.getCharacterList=function(){return this.get('characterList');};t.prototype.getLength=function(){return this.getText().length;};t.prototype.getDepth=function(){return this.get('depth');};t.prototype.getInlineStyleAt=function(w){var x=this.getCharacterList().get(w);return x?x.getStyle():o;};t.prototype.getEntityAt=function(w){var x=this.getCharacterList().get(w);return x?x.getEntity():null;};t.prototype.findStyleRanges=function(w,x){k(this.getCharacterList(),u,w,x);};t.prototype.findEntityRanges=function(w,x){k(this.getCharacterList(),v,w,x);};function t(){l.apply(this,arguments);}function u(w,x){return w.getStyle()===x.getStyle();}function v(w,x){return w.getEntity()===x.getEntity();}f.exports=t;},null);
__d('DocumentCharacters',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={BLOCK_DELIMITER:'\u000D',SOFT_NEWLINE:'\u000A',PHOTO:'\ud83d\udcf7',VIDEO:'\ud83d\udcf9'};f.exports=h;},null);
__d('TextEditorTextNode.react',['React','UserAgent','getTextContentAccessor'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();'use strict';var k=i.isBrowser('IE <= 11'),l=j();function m(q){return k?q[l]==='\n':q.tagName==='BR';}var n=k?h.createElement('span',{key:"A"},'\n'):h.createElement('br',{key:"A"}),o=k?h.createElement('span',{key:"B"},'\n'):h.createElement('br',{key:"B"}),p=h.createClass({displayName:'TextEditorTextNode',shouldComponentUpdate:function(q){var r=h.findDOMNode(this),s=q.children==='';if(s)return !m(r);return r[l]!==q.children;},componentWillUpdate:function(){this.forceFlag=!this.forceFlag;},render:function(){if(this.props.children==='')return this.forceFlag?n:o;return h.createElement('span',{key:this.forceFlag?'A':'B'},this.props.children);}});f.exports=p;},null);
__d('DocumentStringKey',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();'use strict';var h={stringify:function(i){return '_'+String(i);},unstringify:function(i){return i.slice(1);}};f.exports=h;},null);
__d('encodeEntityRanges',['DocumentStringKey','UnicodeUtils'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();'use strict';var j=i.strlen;function k(l,m){var n=[];l.findEntityRanges(function(o){return !!o.getEntity();},function(o,p){var q=l.getText(),r=l.getEntityAt(o);n.push({offset:j(q.slice(0,o)),length:j(q.slice(o,p)),key:Number(m[h.stringify(r)])});});return n;}f.exports=k;},null);
__d('encodeInlineStyleRanges',['ComposedInlineStyle','UnicodeUtils','findRangesImmutable','getObjectValues'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();'use strict';var l=function(q,r){return q===r;},m=function(q){return !!q;},n=[];function o(q,r,s){var t=[],u=r.map(function(v){return v&s;});j(u,l,m,function(v,w){var x=q.getText();t.push({offset:i.strlen(x.slice(0,v)),length:i.strlen(x.slice(v,w)),style:s});});return t;}function p(q){var r=q.getCharacterList().map(function(t){return t.getStyle();}),s=k(h).filter(function(t){return !!t;});return Array.prototype.concat.apply(n,s.map(function(t){return o(q,r,t);}));}f.exports=p;},null);
__d('encodeBlocks',['ComposedBlockType','DocumentEntity','DocumentStringKey','encodeEntityRanges','encodeInlineStyleRanges','mapObject'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();'use strict';var n=h.ORDERED_LIST_ITEM,o=h.UNORDERED_LIST_ITEM;function p(r){var s=r.getBlockMap(),t=0,u={},v=[];s.forEach(function(y,z){y.findEntityRanges(function(aa){return aa.getEntity()!==null;},function(aa,ba){var ca=j.stringify(y.getEntityAt(aa));if(!u.hasOwnProperty(ca))u[ca]=''+(t++);});v.push({key:z,text:y.getText(),type:y.getType(),depth:q(y)?y.getDepth():0,inlineStyleRanges:l(y),entityRanges:k(y,u)});});var w=Object.keys(u),x={};w.forEach(function(y,z){var aa=i.get(j.unstringify(y)),ba=null,ca=null,da=aa.getData();if(da){ba=da.id||null;ca=m(da,function(ea){return ''+ea;});delete ca.id;}x[z]={id:ba,type:aa.getType(),data:ca&&Object.keys(ca).length?ca:undefined};});return {entityMap:x,blocks:v};}function q(r){var s=r.getType();return s===n||s===o;}f.exports=p;},null);
__d('TextEditorBanzai',['BanzaiScuba','ReactMount','containsNode','encodeBlocks','invariant'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m=Object.assign||function(v){for(var w=1;w<arguments.length;w++){var x=arguments[w];for(var y in x)if(Object.prototype.hasOwnProperty.call(x,y))v[y]=x[y];}return v;};function n(v,w){var x={};for(var y in v){if(w.indexOf(y)>=0)continue;if(!Object.prototype.hasOwnProperty.call(v,y))continue;x[y]=v[y];}return x;}var o=3,p={logSetSelectionError:function(v,w){var x=s();x.addNormal('error_type','setSelection');var y=w[0],z=w[1],aa=w[2],ba=w[3],ca=w[4];x.addNormal('selection_state',y.serialize());var da=q(z);x.addNormal('node_html',da);x.addNormal('selection_params','Key: '+aa+', Start: '+ba+', End: '+ca);x.addNormal('error_text',v.message);x.post();},logGetSelectionError:function(v,w){var x=s();x.addNormal('error_type','getSelection');var y=w[0],z=w[1],aa=y.getCurrentContent(),ba=k(aa),ca=ba.blocks;ca=ca.map(function(ga){var ha=ga.text,ia=n(ga,['text']);return m({},ia,{length:ha.length});});var da=y.getSelection();x.addNormal('content_state',JSON.stringify(ca));x.addNormal('selection_state',da.serialize());x.addNormal('error_text',v.message);var ea=q(z);x.addNormal('node_html',ea);var fa=t(z);x.addNormal('dom_selection',fa);x.post();}};function q(v){if(!v)return '[empty]';var w=r(v);if(w.nodeType===o)return w.textContent;!(w instanceof Element)?l(0):undefined;return w.innerHTML;}function r(v){if(v.nodeType===o){var w=v.textContent.length;return document.createTextNode('[text '+w+']');}var x=v.cloneNode(),y=v.childNodes;for(var z=0;z<y.length;z++)x.appendChild(r(y[z]));return x;}function s(){return new h('text_editor_error_log',null,{addBrowserFields:true});}function t(v){if(!b.getSelection)return '[not available]';var w=b.getSelection(),x=w.anchorNode,y=w.anchorOffset,z=w.focusNode,aa=w.focusOffset;x=u(x,v);z=u(z,v);return JSON.stringify({anchorNode:x,anchorOffset:y,focusNode:z,focusOffset:aa});}function u(v,w){if(!v)return '[none]';if(v===window)return '[window]';if(v===document.documentElement)return '[document]';if(v===document.body)return '[body]';if(!j(w,v)){var x=i.getID(v);if(x)return '[outside root: '+x+']';var y=v.id;return y?'[outside root: '+y+']':'[outside root]';}return q(v);}f.exports=p;},null);
__d('setDocumentSelection',['ErrorUtils','TextEditorBanzai','containsNode'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();'use strict';function k(o,p,q,r,s){var t=[o,p,q,r,s];return h.applyWithGuard(l,null,t,function(u){return i.logSetSelectionError(u,t);},'TextEditor:setSelection');}function l(o,p,q,r,s){if(!j(document.documentElement,p))return;var t=b.getSelection(),u=o.getAnchorKey(),v=o.getAnchorOffset(),w=o.getFocusKey(),x=o.getFocusOffset(),y=o.getIsBackward();if(!t.extend&&y){var z=u,aa=v;u=w;v=x;w=z;x=aa;y=false;}var ba=u===q&&r<=v&&s>=v,ca=w===q&&r<=x&&s>=x;if(ba&&ca){t.removeAllRanges();n(t,p,v-r);m(t,p,x-r);return;}if(!y){if(ba){t.removeAllRanges();n(t,p,v-r);}if(ca)m(t,p,x-r);}else{if(ca){t.removeAllRanges();n(t,p,x-r);}if(ba){var da=t.focusNode,ea=t.focusOffset;t.removeAllRanges();n(t,p,v-r);m(t,da,ea);}}}function m(o,p,q){if(o.extend){o.extend(p,q);}else{var r=o.getRangeAt(0);r.setEnd(p,q);o.addRange(r.cloneRange());}}function n(o,p,q){var r=document.createRange();r.setStart(p,q);o.addRange(r);}f.exports=k;},null);
__d('TextEditorLeaf.react',['DocumentCharacters','React','SelectionState','TextEditorTextNode.react','setDocumentSelection'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();'use strict';var m=i.PropTypes,n=h.SOFT_NEWLINE,o=3,p=i.createClass({displayName:'TextEditorLeaf',propTypes:{selection:m.instanceOf(j),start:m.number.isRequired,blockKey:m.string.isRequired,text:m.string.isRequired,style:m.number,inlineStyleFn:m.func.isRequired,isLast:m.bool.isRequired},_setSelection:function(){var q=this.props.selection;if(q==null||!q.getHasFocus())return;var r=this.props.start,s=r+this.props.text.length,t=this.props.blockKey;if(!q.hasEdgeWithin(t,r,s))return;var u=i.findDOMNode(this),v=u.firstChild,w;if(v.nodeType===o){w=v;}else if(v.tagName==='BR'){w=u;}else w=v.firstChild;l(q,w,t,r,s);},shouldComponentUpdate:function(q){return (i.findDOMNode(this.refs.leaf).textContent!==q.text||q.forceSelection);},componentDidUpdate:function(){this._setSelection();},componentDidMount:function(){this._setSelection();},render:function(){var q=this.props.text;if(q.endsWith(n)&&this.props.isLast)q+=n;var r;if(this.props.style)r=this.props.inlineStyleFn(this.props.style);return (i.createElement('span',{'data-offset-key':this.props.offsetKey,className:r,ref:"leaf"},i.createElement(k,null,q)));}});f.exports=p;},null);
__d('TextEditorBlock.react',['ContentBlock','DocumentOffsetKey','ElementForBlockType','React','Scroll','SelectionState','Style','TextEditorLeaf.react','UnicodeBidiDirection','cx','getElementPosition','getScrollPosition','getViewportDimensions','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){if(c.__markCompiled)c.__markCompiled();var v=Object.assign||function(ca){for(var da=1;da<arguments.length;da++){var ea=arguments[da];for(var fa in ea)if(Object.prototype.hasOwnProperty.call(ea,fa))ca[fa]=ea[fa];}return ca;},w=k.PropTypes,x=p.LTR,y=p.RTL,z=10,aa=k.createClass({displayName:'TextEditorBlock',propTypes:{block:w.instanceOf(h).isRequired,tree:w.object.isRequired,selection:w.instanceOf(m).isRequired,decorator:w.object,forceSelection:w.bool.isRequired,direction:w.string.isRequired,blockProps:w.object,startIndent:w.bool,blockStyleFn:w.func.isRequired,inlineStyleFn:w.func.isRequired},shouldComponentUpdate:function(ca){return (this.props.block!==ca.block||this.props.tree!==ca.tree||this.props.direction!==ca.direction||ba(ca.selection,ca.block.getKey())&&ca.forceSelection);},componentDidMount:function(){var ca=this.props.selection,da=ca.getEndKey();if(!ca.getHasFocus()||da!==this.props.block.getKey())return;var ea=k.findDOMNode(this),fa=n.getScrollParent(ea),ga=s(fa),ha;if(fa===window){var ia=r(ea),ja=ia.y+ia.height,ka=t().height;ha=ja-ka;if(ha>0)window.scrollTo(ga.x,ga.y+ha+z);}else{var la=ea.offsetHeight+ea.offsetTop,ma=fa.offsetHeight+ga.y;ha=la-ma;if(ha>0)l.setTop(fa,l.getTop(fa)+ha+z);}},_renderChildren:function(){var ca=this.props.block,da=ca.getKey(),ea=ca.getText(),fa=this.props.tree.size-1,ga=ba(this.props.selection,da);return this.props.tree.map((function(ha,ia){var ja=ha.get('leaves'),ka=ja.size-1,la=ja.map((function(qa,ra){var sa=i.encode(da,ia,ra),ta=qa.get('start'),ua=qa.get('end');return (k.createElement(o,{key:sa,offsetKey:sa,blockKey:da,start:ta,selection:ga?this.props.selection:null,forceSelection:this.props.forceSelection,text:ea.slice(ta,ua),style:ca.getInlineStyleAt(ta),inlineStyleFn:this.props.inlineStyleFn,isLast:ia===fa&&ra===ka}));}).bind(this)).toArray(),ma=ha.get('decoratorKey');if(ma==null)return la;var na=this.props.decorator.getComponentForKey(ma);if(!na)return la;var oa=this.props.decorator.getPropsForKey(ma),pa=i.encode(da,ia,0);return (k.createElement(na,v({},oa,{key:pa,entityKey:ca.getEntityAt(ha.get('start')),offsetKey:pa}),la));}).bind(this)).toArray();},render:function(){var ca=this.props.block,da=ca.getKey(),ea=ca.getDepth(),fa=j.getElement(ca.getType()),ga=u(this.props.blockStyleFn(ca.getType()),' '+"_209g"+(this.props.direction===x?' '+"_2vxa":'')+(this.props.direction===y?' '+"_2vxb":''));if(fa==='li'){var ha=this.props.startIndent;ga=u(ga,(ha&&ea===0?' '+"_2yj9":'')+(ha&&ea===1?' '+"_2yja":'')+(ha&&ea===2?' '+"_2yjb":'')+(ha&&ea===3?' '+"_2yje":'')+(ha&&ea===4?' '+"_2yjf":'')+(ea===0?' '+"_2yjg":'')+(ea===1?' '+"_2yjh":'')+(ea===2?' '+"_2yji":'')+(ea===3?' '+"_2yjj":'')+(ea===4?' '+"_2yjn":''));}var ia=v({'data-block':true,'data-offset-key':i.encode(da,0,0),className:ga},this.props.blockProps);return (k.createElement(fa,ia,this._renderChildren()));}});function ba(ca,da){return (ca.getAnchorKey()===da||ca.getFocusKey()===da);}f.exports=aa;},null);
__d('TextEditorContents.react',['DocumentOffsetKey','EditorState','ElementForBlockType','React','TextEditorBlock.react','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();'use strict';var n=k.PropTypes,o=k.createClass({displayName:'TextEditorContents',propTypes:{blockRendererFn:n.func,blockStyleFn:n.func.isRequired,editorState:n.instanceOf(i).isRequired,inlineStyleFn:n.func.isRequired},shouldComponentUpdate:function(q){var r=this.props.editorState,s=q.editorState,t=r.getDirectionMap(),u=s.getDirectionMap();if(t!==u)return true;var v=r.getSelection().getHasFocus(),w=s.getSelection().getHasFocus();if(v!==w)return true;var x=s.getNativelyRenderedContent(),y=r.isInCompositionMode(),z=s.isInCompositionMode();if(r===s||x!==null&&s.getCurrentContent()===x||y&&z)return false;var aa=r.getCurrentContent(),ba=s.getCurrentContent(),ca=r.getDecorator(),da=s.getDecorator();return (y!==z||aa!==ba||ca!==da||s.mustForceSelection());},render:function(){var q=this.props.editorState,r=q.getCurrentContent(),s=q.getSelection(),t=q.mustForceSelection(),u=q.getDirectionMap(),v=r.getBlocksAsArray(),w=[],x=null,y=null,z=null,aa,ba,ca,da,ea,fa,ga,ha;for(var ia=0;ia<v.length;ia++){ca=v[ia];da=ca.getKey();ea=ca.getText();fa=ca.getType();var ja=this.props.blockRendererFn(ca)||p,ka=ja.component,la=ja.props;aa=ka;ga=k.createElement(aa,{key:da,tree:q.getBlockTree(da),decorator:q.getDecorator(),block:ca,selection:s,forceSelection:t,direction:u.get(da),blockProps:la,startIndent:z===null||ca.getDepth()>z,blockStyleFn:this.props.blockStyleFn,inlineStyleFn:this.props.inlineStyleFn});ha=j.getWrapperElement(fa);if(ha){if(y!==ha){ba=[];x=k.createElement(ha,{className:"_4noe",key:da+'-wrap','data-offset-key':h.encode(da,0,0)},ba);y=ha;w.push(x);}z=ca.getDepth();ba.push(ga);}else{ba=null;x=null;y=null;z=null;w.push(ga);}}return k.createElement('div',{'data-contents':"true"},w);}}),p={component:l,props:null};f.exports=o;},null);
__d('DocumentRemovableWord',['TokenizeUtil'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();'use strict';var i=h.getPunctuation();i=i.replace(/[_']/g,'').slice(1,-1);var j='\\s'+i,k='^('+'['+j+']*'+'[^'+j+']+'+'|['+j+']+'+')',l=new RegExp(k),m='('+'[^'+j+']+'+'['+j+']*'+'|['+j+']+'+')$',n=new RegExp(m);function o(q,r){var s=r?n.exec(q):l.exec(q);return s?s[0]:null;}var p={getBackward:function(q){return o(q,true);},getForward:function(q){return o(q,false);}};f.exports=p;},null);
__d("TextEditorModes",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={EDIT:0,COMPOSITE:1,DRAG:2,RENDER:3,CUT:4};f.exports=h;},null);
__d('TextEditorPasteHandler',['CharacterMetadata','ComposedBlockType','ComposedEntityMutability','ComposedLinkEntityProperties','ComposedEntityType','ComposedInlineStyle','ContentBlock','DocumentCharacters','DocumentEntity','immutable','URI','arrayContains','fillArray','generateBlockKey','getSafeBodyFromHTML'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){if(c.__markCompiled)c.__markCompiled();var w=i.HEADER_ONE,x=i.HEADER_TWO,y=i.ORDERED_LIST_ITEM,z=i.UNORDERED_LIST_ITEM,aa=i.BLOCKQUOTE,ba=i.UNSTYLED,ca=m.BOLD,da=m.ITALIC,ea=m.UNDERLINE,fa=m.CODE,ga=m.STRIKETHROUGH,ha=m.NONE,ia=h.EMPTY,ja=j.MUTABLE,ka=k.URL,la=l.LINK,ma=o.BLOCK_DELIMITER,na=o.SOFT_NEWLINE,oa=q.List,pa=q.Repeat,qa='&nbsp;',ra=' ',sa=4,ta=new RegExp(ma,'g'),ua=new RegExp(na,'g'),va=new RegExp(qa,'g'),wa=['p','h1','h2','h3','li','blockquote','pre'],xa={b:ca,code:fa,del:ga,em:da,i:da,s:ga,strike:ga,strong:ca,u:ea};function ya(){return {text:'',inlines:[],entities:[],blocks:[]};}function za(kb){var lb=new Array(1);if(kb)lb[0]=kb;return {text:ra,inlines:[ha],entities:lb,blocks:[]};}function ab(){return {text:na,inlines:[ha],entities:new Array(1),blocks:[]};}function bb(kb,lb){return {text:ma,inlines:[ha],entities:new Array(1),blocks:[{type:kb,depth:Math.max(0,Math.min(sa,lb))}]};}function cb(kb,lb){switch(kb){case 'h1':return w;case 'h2':return x;case 'li':if(lb==='ol')return y;return z;case 'blockquote':return aa;case 'pre':return i.CODE;default:return ba;}}function db(kb,lb,mb){var nb=xa[kb];if(nb){mb|=nb;}else if(lb.style){mb|=lb.style.fontWeight==='bold'?ca:0;mb|=lb.style.fontStyle==='italic'?da:0;mb|=lb.style.textDecoration==='underline'?ea:0;mb|=lb.style.textDecoration==='line-through'?ga:0;}return mb;}function eb(kb,lb){if(kb.text.slice(-1)===ma&&lb.text.slice(0,1)===ma){kb.text=kb.text.slice(0,-1);kb.inlines.pop();kb.entities.pop();kb.blocks.pop();}if(kb.text.slice(-1)===ma&&(lb.text===ra||lb.text===na))return kb;return {text:kb.text+lb.text,inlines:kb.inlines.concat(lb.inlines),entities:kb.entities.concat(lb.entities),blocks:kb.blocks.concat(lb.blocks)};}function fb(kb){return wa.some(function(lb){return kb.indexOf('<'+lb)!==-1;});}function gb(kb){var lb=new r(kb),mb=lb.getProtocol();return mb==='http'||mb==='https';}function hb(kb,lb,mb,nb,ob,pb,qb){var rb=kb.nodeName.toLowerCase(),sb=false,tb=ba;if(rb==='#text'){var ub=kb.textContent;if(ub.trim()===''&&nb!=='pre')return za(qb);if(nb!=='pre')ub=ub.replace(ua,ra);return {text:ub,inlines:t(ub.length,lb),entities:t(ub.length,qb),blocks:[]};}if(rb==='br')return ab();var vb=ya(),wb;lb=db(rb,kb,lb);if(rb==='ul'||rb==='ol'){if(mb)pb+=1;mb=rb;}if(!nb&&s(ob,rb)){vb=bb(cb(rb,mb),pb);nb=rb;sb=true;}else if(mb&&nb==='li'&&rb==='li'){vb=bb(cb(rb,mb),pb);nb=rb;sb=true;tb=mb==='ul'?z:y;}kb=kb.firstChild;rb=kb&&kb.nodeName.toLowerCase();var xb,yb,zb;while(kb){if(rb==='a'&&kb.href&&gb(kb.href)){yb=new r(kb.href).toString();zb={};zb[ka]=yb;xb=p.create(la,ja,zb);}else xb=undefined;wb=hb(kb,lb,mb,nb,ob,pb,xb||qb);vb=eb(vb,wb);kb=kb.nextSibling;if(kb&&ob.indexOf(rb)>=0&&nb)vb=eb(vb,ab());rb=kb&&kb.nodeName.toLowerCase();}if(sb)vb=eb(vb,bb(tb,pb));return vb;}function ib(kb){kb=kb.trim().replace(ta,'').replace(va,ra);var lb=v(kb);if(!lb)return null;var mb=fb(kb)?wa:['div'],nb=hb(lb,ha,'ul',null,mb,-1);if(nb.text.indexOf(ma)===0)nb={text:nb.text.slice(1),inlines:nb.inlines.slice(1),entities:nb.entities.slice(1),blocks:nb.blocks};if(nb.text.slice(-1)===ma){nb.text=nb.text.slice(0,-1);nb.inlines=nb.inlines.slice(0,-1);nb.entities=nb.entities.slice(0,-1);nb.blocks.pop();}if(nb.blocks.length===0)nb.blocks.push({type:ba,depth:0});if(nb.text.split(ma).length===nb.blocks.length+1)nb.blocks.unshift({type:ba,depth:0});return nb;}var jb={processHTML:function(kb){var lb=ib(kb);if(!lb)return null;var mb=0;return lb.text.split(ma).map(function(nb,ob){var pb=mb+nb.length,qb=lb.inlines.slice(mb,pb),rb=lb.entities.slice(mb,pb),sb=oa(qb.map(function(tb,ub){var vb={style:tb};if(rb[ub])vb.entity=rb[ub];return new h(vb);}));mb=pb+1;return new n({key:u(),type:lb.blocks[ob].type,depth:lb.blocks[ob].depth,text:nb,characterList:sb});});},processText:function(kb){return kb.map(function(lb){return new n({key:u(),type:ba,text:lb,characterList:oa(pa(ia,lb.length))});});}};f.exports=jb;},null);
__d('getSelectionOffsetKeyForNode',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();'use strict';function h(i){return i instanceof Element?i.getAttribute('data-offset-key'):null;}f.exports=h;},null);
__d('findAncestorOffsetKey',['getSelectionOffsetKeyForNode'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();'use strict';function i(j){while(j&&j!==document.documentElement){var k=h(j);if(k!=null)return k;j=j.parentNode;}return null;}f.exports=i;},null);
__d('getUpdatedSelectionState',['DocumentOffsetKey'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();function i(j,k,l,m,n){var o=j.getSelection(),p=h.decode(k),q=p.blockKey,r=j.getBlockTree(q).getIn([p.decoratorKey,'leaves',p.leafKey]),s=h.decode(m),t=s.blockKey,u=j.getBlockTree(t).getIn([s.decoratorKey,'leaves',s.leafKey]),v=r.get('start'),w=u.get('start'),x=r?v+l:null,y=u?w+n:null,z=o.getAnchorKey()===q&&o.getAnchorOffset()===x&&o.getFocusKey()===t&&o.getFocusOffset()===y;if(z)return o;var aa=false;if(q===t){var ba=r.get('end'),ca=u.get('end');if(w===v&&ca===ba){aa=n<l;}else aa=w<v;}else{var da=j.getCurrentContent().getBlockMap().keySeq().skipUntil(function(ea){return ea===q||ea===t;}).first();aa=da===t;}return o.merge({anchorKey:q,anchorOffset:x,focusKey:t,focusOffset:y,isBackward:aa});}f.exports=i;},null);
__d('getDocumentSelection',['DocumentCharacters','ErrorUtils','TextEditorBanzai','findAncestorOffsetKey','getSelectionOffsetKeyForNode','getUpdatedSelectionState','invariant','nullthrows'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();'use strict';var p=h.SOFT_NEWLINE;function q(w,x){var y=[w,x];return i.applyWithGuard(r,null,y,function(z){return j.logGetSelectionError(z,y);},'TextEditor:getSelection');}function r(w,x){var y=b.getSelection();if(y.rangeCount===0)return {selectionState:w.getSelection().set('hasFocus',false),needsRecovery:false};var z=y.anchorNode,aa=y.focusNode,ba=y.anchorOffset,ca=y.focusOffset,da=z.nodeType===Node.TEXT_NODE,ea=aa.nodeType===Node.TEXT_NODE;if(da&&ea)return {selectionState:m(w,o(k(z)),ba,o(k(aa)),ca),needsRecovery:false};var fa=null,ga=null;if(da){fa={key:o(k(z)),offset:ba};ga=u(x,aa,ca);}else if(ea){ga={key:o(k(aa)),offset:ca};fa=u(x,z,ba);}else{fa=u(x,z,ba);ga=u(x,aa,ca);}return {selectionState:m(w,fa.key,fa.offset,ga.key,ga.offset),needsRecovery:true};}function s(w){while(w.firstChild&&l(w.firstChild))w=w.firstChild;return w;}function t(w){while(w.lastChild&&l(w.lastChild))w=w.lastChild;return w;}function u(w,x,y){var z=k(x);!(z!=null||w===x||w.firstChild===x)?n(0):undefined;if(w===x){x=x.firstChild;!(x instanceof Element&&x.getAttribute('data-contents')==='true')?n(0):undefined;if(y>0)y=x.childNodes.length;}if(y===0)return {key:z||l(s(x)),offset:0};var aa=x.childNodes[y-1],ba,ca;if(!l(aa)){ba=z;ca=v(aa);}else{var da=t(aa);ba=l(da);ca=v(da);}return {key:ba,offset:ca};}function v(w){var x=w.textContent;return x===p?0:x.length;}f.exports=q;},null);
__d('getEntityKeyForSelection',['ComposedEntityMutability','DocumentEntity'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=h.MUTABLE;function k(m,n){var o;if(n.isCollapsed()){var p=n.getAnchorKey(),q=n.getAnchorOffset();if(q>0){o=m.getBlockForKey(p).getEntityAt(q-1);return l(o);}return null;}var r=n.getStartKey(),s=n.getStartOffset(),t=m.getBlockForKey(r);o=s===t.getLength()?null:t.getEntityAt(s);return l(o);}function l(m){if(m){var n=i.get(m);return n.getMutability()===j?m:null;}return null;}f.exports=k;},null);
__d('getTextContentFromFiles',['DocumentCharacters'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=h.BLOCK_DELIMITER,j=/\.textClipping$/,k={'text/plain':true,'text/html':true,'text/rtf':true};function l(n,o){var p=0,q=[];n.forEach(function(r){m(r,function(s){p++;s&&q.push(s);if(p==n.length)o(q.join(i));});});}function m(n,o){if(!b.FileReader||n.type&&!(n.type in k)){o('');return;}if(n.type===''&&j.test(n.name)){o(n.name.replace(j,''));return;}var p=new FileReader();p.onload=function(){o(p.result);};p.onerror=function(){o('');};p.readAsText(n);}f.exports=l;},null);
__d('TextEditorEditHandler',['BlockTree','DataTransfer','DocumentCharacters','DocumentCommands','DocumentModifier','DocumentOffsetKey','DocumentRemovableWord','DocumentRemovalDirection','EditorChangeType','EditorState','Keys','React','TextEditorModes','TextEditorPasteHandler','UnicodeUtils','UserAgent','areEqual','createOrderedMapFromBlockArray','findAncestorOffsetKey','getActiveElement','getContentStateFragment','getDocumentSelection','getEntityKeyForSelection','getTextContentFromFiles','isSelectionAtLeafStart'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa){if(c.__markCompiled)c.__markCompiled();'use strict';var ga=j.SOFT_NEWLINE,ha=w.isEngine('WebKit'),ia=null,ja={onFocus:function(kb){var lb=this.props.editorState,mb=lb.getSelection();if(mb.getHasFocus())return;var nb=mb.set('hasFocus',true);this.props.onFocus&&this.props.onFocus(kb);this.update(q.acceptSelection(lb,nb));},onBlur:function(kb){if(ha&&aa()===document.body)b.getSelection().removeAllRanges();var lb=this.props.editorState,mb=lb.getSelection();if(!mb.getHasFocus())return;var nb=mb.set('hasFocus',false);this.props.onBlur&&this.props.onBlur(kb);this.update(q.acceptSelection(lb,nb));},onBeforeInput:function(kb){var lb=kb.data;if(!lb)return;if(this.props.handleBeforeInput&&this.props.handleBeforeInput(lb)){kb.preventDefault();return;}var mb=this.props.editorState,nb=mb.getSelection();if(!nb.isCollapsed()){kb.preventDefault();this.update(na(mb,lb,mb.getCurrentInlineStyle(),da(mb.getCurrentContent(),mb.getSelection())));return;}var ob=!fa(mb),pb=na(mb,lb,mb.getCurrentInlineStyle(),da(mb.getCurrentContent(),mb.getSelection()));if(!ob){kb.preventDefault();this.update(pb);return;}var qb=nb.getAnchorKey(),rb=mb.getBlockTree(qb),sb=h.getFingerprint(rb),tb=h.getFingerprint(pb.getBlockTree(qb));if(jb(lb)||sb!==tb||pb.getDirectionMap().get(qb)!==mb.getDirectionMap().get(qb)){kb.preventDefault();}else pb=q.set(pb,{nativelyRenderedContent:pb.getCurrentContent()});this.update(pb);},onSelect:function(kb){if(this._blockSelectEvents)return;var lb=this.props.editorState,mb=ca(lb,s.findDOMNode(this.refs.editorContainer).firstChild),nb=mb.selectionState;if(nb!==lb.getSelection()){if(!!mb.needsRecovery){lb=q.forceSelection(lb,nb);}else lb=q.acceptSelection(lb,nb);this.update(lb);}},onKeyDown:function(kb){var lb=kb.which,mb=this.props.editorState;switch(lb){case r.RETURN:kb.preventDefault();if(!this.props.handleReturn||!this.props.handleReturn(kb))this.update(ya(mb));return;case r.ESC:kb.preventDefault();this.props.onEscape&&this.props.onEscape(kb);return;case r.TAB:this.props.onTab&&this.props.onTab(kb);return;case r.UP:this.props.onUpArrow&&this.props.onUpArrow(kb);return;case r.DOWN:this.props.onDownArrow&&this.props.onDownArrow(kb);return;}var nb=this.props.keyBindingFn(kb);if(!nb)return;kb.preventDefault();if(this.props.handleKeyCommand&&this.props.handleKeyCommand(nb))return;if(nb===k.UNDO){la(mb,this.update);return;}var ob=ka(nb,mb);if(ob!==mb)this.update(ob);},onCharacterData:function(kb){var lb=z(kb),mb=this.props.editorState,nb=mb.getSelection(),ob=mb.getCurrentContent(),pb=m.decode(lb),qb=pb.blockKey,rb=mb.getBlockTree(qb),sb=rb.getIn([pb.decoratorKey,'leaves',pb.leafKey]),tb=ob.getBlockForKey(qb);if(tb.getText().slice(sb.start,sb.end)===kb.textContent)return;var ub=mb.getSelection().merge({anchorOffset:sb.start,focusOffset:sb.end,isBackward:false}),vb=l.replaceText(ob,ub,kb.textContent,tb.getInlineStyleAt(sb.start),null),wb=ca(this.props.editorState,s.findDOMNode(this.refs.editorContainer).firstChild),xb=vb.merge({selectionBefore:nb,selectionAfter:wb.selectionState});this.update(q.push(mb,xb,p.INSERT_FRAGMENT));},onDragStart:function(kb){this._internalDrag=true;this.setMode(t.DRAG);},onDragOver:function(kb){this._internalDrag=false;this.setMode(t.DRAG);kb.preventDefault();},onCompositionStart:function(kb){this.setRenderGuard();this.setMode(t.COMPOSITE);this.update(q.set(this.props.editorState,{inCompositionMode:true}));},onCut:function(kb){var lb=this.props.editorState,mb=lb.getSelection();if(mb.isCollapsed()){kb.preventDefault();return;}this.setRenderGuard();fb(lb,(function(nb){this._clipboard=nb;this.setMode(t.CUT);setTimeout((function(){this.restoreEditorDOM();this.removeRenderGuard();this.exitCurrentMode();this.update(eb(lb));}).bind(this),0);}).bind(this));},onCopy:function(){fb(this.props.editorState,(function(kb){this._clipboard=kb;}).bind(this));},onPaste:function(kb){kb.preventDefault();var lb=new i(kb.clipboardData);if(!lb.isRichText()){var mb=lb.getFiles(),nb=lb.getText();if(mb.length>0){if(this.props.handlePastedFiles&&this.props.handlePastedFiles(mb))return;ea(mb,(function(yb){yb=yb||nb;if(!yb)return;var zb=yb.split(ga),ac=u.processText(zb),bc=this.props.editorState,cc=y(ac),dc=l.replaceWithFragment(bc.getCurrentContent(),bc.getSelection(),cc);this.update(q.push(bc,dc,p.INSERT_FRAGMENT));}).bind(this));return;}}var ob,pb=lb.getText();this.props.onPasteRawText&&this.props.onPasteRawText(pb);if(pb)ob=pb.split(ga);if(!this.props.stripPastedStyles){if(this._clipboard){var qb=ob.filter(cb),rb=this._clipboard.toSeq().map(function(yb){return yb.getText();}).filter(cb).toArray(),sb=x(qb,rb);if(sb){this.update(db(this.props.editorState,this._clipboard));return;}}var tb=lb.getHTML();if(tb){var ub=u.processHTML(tb);if(ub){var vb=y(ub);this.update(db(this.props.editorState,vb));return;}}this._clipboard=null;}if(ob){var wb=u.processText(ob),xb=y(wb);this.update(db(this.props.editorState,xb));}}};function ka(kb,lb){switch(kb){case k.UNDO:return la(lb);case k.REDO:return ma(lb);case k.DELETE:return pa(lb);case k.DELETE_WORD:return qa(lb);case k.BACKSPACE:return ta(lb);case k.BACKSPACE_WORD:return wa(lb);case k.BACKSPACE_TO_END_OF_BLOCK:return xa(lb);case k.INSERT_BLOCK_DELIMITER:return ya(lb);case k.TRANSPOSE_CHARACTERS:return za(lb);case k.MOVE_SELECTION_TO_START_OF_BLOCK:return ab(lb);case k.MOVE_SELECTION_TO_END_OF_BLOCK:return bb(lb);case k.SECONDARY_CUT:return ra(lb);case k.SECONDARY_PASTE:return sa(lb);default:return lb;}}function la(kb,lb){var mb=q.undo(kb);if(!kb.getNativelyRenderedContent()){lb(mb);return;}lb(q.set(kb,{nativelyRenderedContent:null}));setTimeout(function(){lb(mb);});}function ma(kb){return q.redo(kb);}function na(kb,lb,mb,nb){var ob=l.replaceText(kb.getCurrentContent(),kb.getSelection(),lb,mb,nb||null);return q.push(kb,ob,p.INSERT_CHARACTERS);}function oa(kb,lb,mb){var nb=kb.getSelection(),ob=kb.getCurrentContent(),pb=nb;if(nb.isCollapsed()){if(mb===o.FORWARD){if(kb.isAtDocumentEnd())return ob;}else if(kb.isAtDocumentStart())return ob;pb=lb(kb);if(pb===nb)return ob;}return l.removeRange(ob,pb,mb);}function pa(kb){var lb=oa(kb,function(nb){var ob=nb.getSelection(),pb=nb.getCurrentContent(),qb=ob.getAnchorKey(),rb=ob.getAnchorOffset(),sb=pb.getBlockForKey(qb).getText()[rb];return va(nb,sb?v.getUTF16Length(sb,0):1);},o.FORWARD);if(lb===kb.getCurrentContent())return kb;lb=lb.set('selectionBefore',kb.getSelection());var mb=kb.getSelection().isCollapsed()?p.DELETE_CHARACTER:p.REMOVE_RANGE;return q.push(kb,lb,mb);}function qa(kb){var lb=oa(kb,function(mb){var nb=mb.getSelection(),ob=nb.getStartOffset(),pb=nb.getStartKey(),qb=mb.getCurrentContent(),rb=qb.getBlockForKey(pb).getText().slice(ob),sb=n.getForward(rb)||'';return va(mb,sb.length||1);},o.FORWARD);if(lb===kb.getCurrentContent())return kb;return q.push(kb,lb,p.REMOVE_RANGE);}function ra(kb){var lb=kb.getCurrentContent(),mb=kb.getSelection(),nb;if(mb.isCollapsed()){var ob=mb.getAnchorKey(),pb=lb.getBlockForKey(ob).getLength();if(pb===mb.getAnchorOffset())return kb;nb=mb.set('focusOffset',pb);}else nb=mb;ia=ba(lb,nb);var qb=l.removeRange(lb,nb,o.FORWARD);if(qb===lb)return kb;return q.push(kb,qb,p.REMOVE_RANGE);}function sa(kb){return (ia?db(kb,ia):kb);}function ta(kb){var lb=oa(kb,function(nb){var ob=nb.getSelection(),pb=nb.getCurrentContent(),qb=ob.getAnchorKey(),rb=ob.getAnchorOffset(),sb=pb.getBlockForKey(qb).getText()[rb-1];return ua(nb,sb?v.getUTF16Length(sb,0):1);},o.BACKWARD);if(lb===kb.getCurrentContent())return kb;lb=lb.set('selectionBefore',kb.getSelection());var mb=kb.getSelection().isCollapsed()?p.BACKSPACE_CHARACTER:p.REMOVE_RANGE;return q.push(kb,lb,mb);}function ua(kb,lb){var mb=kb.getSelection(),nb=kb.getCurrentContent(),ob=mb.getStartKey(),pb=mb.getStartOffset(),qb=ob,rb;if(lb>pb){var sb=nb.getKeyBefore(ob);qb=sb;var tb=nb.getBlockForKey(sb);rb=tb.getText().length;}else rb=pb-lb;return mb.merge({focusKey:qb,focusOffset:rb,isBackward:true});}function va(kb,lb){var mb=kb.getSelection(),nb=mb.getStartKey(),ob=mb.getStartOffset(),pb=kb.getCurrentContent(),qb=nb,rb,sb=pb.getBlockForKey(nb);if(lb>sb.getText().length-ob){qb=pb.getKeyAfter(nb);rb=0;}else rb=ob+lb;return mb.merge({focusKey:qb,focusOffset:rb});}function wa(kb){var lb=oa(kb,function(mb){var nb=mb.getSelection(),ob=nb.getStartOffset();if(ob===0)return ua(mb,1);var pb=nb.getStartKey(),qb=mb.getCurrentContent(),rb=qb.getBlockForKey(pb).getText().slice(0,ob),sb=n.getBackward(rb)||'';return ua(mb,sb.length||1);},o.BACKWARD);if(lb===kb.getCurrentContent())return kb;return q.push(kb,lb,p.REMOVE_RANGE);}function xa(kb){var lb=oa(kb,function(mb){var nb=mb.getSelection();if(nb.getStartOffset()===0)return ua(mb,1);return nb.merge({focusOffset:0,isBackward:true});},o.BACKWARD);if(lb===kb.getCurrentContent())return kb;return q.push(kb,lb,p.REMOVE_RANGE);}function ya(kb){var lb=l.splitBlock(kb.getCurrentContent(),kb.getSelection());return q.push(kb,lb,p.SPLIT_BLOCK);}function za(kb){var lb=kb.getSelection();if(!lb.isCollapsed())return kb;var mb=lb.getAnchorOffset();if(mb===0)return kb;var nb=lb.getAnchorKey(),ob=kb.getCurrentContent(),pb=ob.getBlockForKey(nb),qb=pb.getLength();if(qb<=1)return kb;var rb,sb;if(mb===qb){rb=lb.set('anchorOffset',mb-1);sb=lb;}else{rb=lb.set('focusOffset',mb+1);sb=rb.set('anchorOffset',mb+1);}var tb=ba(ob,rb),ub=l.removeRange(ob,rb,o.BACKWARD),vb=ub.getSelectionAfter(),wb=vb.getAnchorOffset()-1,xb=vb.merge({anchorOffset:wb,focusOffset:wb}),yb=l.replaceWithFragment(ub,xb,tb),zb=q.push(kb,yb,p.INSERT_FRAGMENT);return q.acceptSelection(zb,sb);}function ab(kb){var lb=kb.getSelection(),mb=lb.getStartKey();return q.set(kb,{selection:lb.merge({anchorKey:mb,anchorOffset:0,focusKey:mb,focusOffset:0,isBackward:false}),forceSelection:true});}function bb(kb){var lb=kb.getSelection(),mb=lb.getEndKey(),nb=kb.getCurrentContent(),ob=nb.getBlockForKey(mb).getLength();return q.set(kb,{selection:lb.merge({anchorKey:mb,anchorOffset:ob,focusKey:mb,focusOffset:ob,isBackward:false}),forceSelection:true});}function cb(kb){return kb.length>0;}function db(kb,lb){var mb=l.replaceWithFragment(kb.getCurrentContent(),kb.getSelection(),lb);return q.push(kb,mb,p.INSERT_FRAGMENT);}function eb(kb){var lb=l.removeRange(kb.getCurrentContent(),kb.getSelection(),o.FORWARD);return q.push(kb,lb,p.REMOVE_RANGE);}function fb(kb,lb){var mb=kb.getSelection();if(!mb.isCollapsed())lb(ba(kb.getCurrentContent(),mb));}var gb='\'',hb='\/',ib=w.isBrowser('Firefox');function jb(kb){return (ib&&(kb==gb||kb==hb));}f.exports=ja;},null);
__d('TextEditorDragHandler',['DataTransfer','DocumentModifier','EditorState','EditorChangeType','ex','findAncestorOffsetKey','getTextContentFromFiles','getUpdatedSelectionState'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();'use strict';function p(event,t){var u,v;if(document.caretRangeFromPoint){var w=document.caretRangeFromPoint(event.x,event.y);u=w.startContainer;v=w.startOffset;}else if(event.rangeParent){u=event.rangeParent;v=event.rangeOffset;}else return null;var x=m(u);if(x===null){var y='';if(u.dataset&&u.dataset.reactid)y=' Node ID: '+u.dataset.reactid;throw new Error(l('Invalid range for drop event.'+y+' Offset: '+v));}return o(t,x,v,x,v);}var q={onDragEnd:function(){this.exitCurrentMode();},onDrop:function(t){var u=new h(t.nativeEvent.dataTransfer),v=this.props.editorState,w=p(t.nativeEvent,v);t.preventDefault();this.exitCurrentMode();if(w===null)return;var x=u.getFiles();if(x.length>0){if(this.props.handleDroppedFiles&&this.props.handleDroppedFiles(w,x))return;n(x,(function(y){y&&this.update(s(v,w,y));}).bind(this));return;}if(this._internalDrag){this.update(r(v,w));return;}this.update(s(v,w,u.getText()));}};function r(t,u){var v=i.moveText(t.getCurrentContent(),t.getSelection(),u);return j.push(t,v,k.INSERT_FRAGMENT);}function s(t,u,v){var w=i.insertText(t.getCurrentContent(),u,v,t.getCurrentInlineStyle());return j.push(t,w,k.INSERT_FRAGMENT);}f.exports=q;},null);
__d('AbstractTextEditor.react',['AbstractTextEditorPlaceholder.react','AbstractTextEditorProps','DOMVector','EditorState','React','TextEditorCompositionHandler','TextEditorContents.react','TextEditorEditHandler','TextEditorDragHandler','TextEditorModes','UserAgent','cx','requestAnimationFrame','setImmediate'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){if(c.__markCompiled)c.__markCompiled();'use strict';var v=b.MutationObserver||b.WebKitMutationObserver,w=r.isBrowser('Safari')||r.isBrowser('Mobile Safari'),x=r.isBrowser('IE'),y=!!v;function z(ca){return function(da){if(!this.props.readOnly){var ea=this._handler&&this._handler[ca];ea&&ea.call(this,da);}};}function aa(ca){switch(ca){case q.EDIT:return o;case q.COMPOSITE:return m;case q.DRAG:return p;case q.CUT:case q.RENDER:return null;}}var ba=l.createClass({displayName:'AbstractTextEditor',getDefaultProps:i.getDefaultProps,_onBlur:z('onBlur'),_onFocus:z('onFocus'),_onSelect:z('onSelect'),_onKeyDown:z('onKeyDown'),_onKeyUp:z('onKeyUp'),_onKeyPress:z('onKeyPress'),_onMouseDown:z('onMouseDown'),_onMouseUp:z('onMouseUp'),_onCharacterData:z('onCharacterData'),_onCompositionStart:z('onCompositionStart'),_onCompositionEnd:z('onCompositionEnd'),_onDragStart:z('onDragStart'),_onDragOver:z('onDragOver'),_onDragEnd:z('onDragEnd'),_onDrop:z('onDrop'),_onCut:z('onCut'),_onCopy:z('onCopy'),_onPaste:z('onPaste'),_onBeforeInput:z('onBeforeInput'),_attachMutationObserver:function(){if(!v)return;var ca=[],da=(function(){if(ca.length>1){var ea=ca[0],fa=ea.target;u((function(){if(this.isMounted()&&fa.parentNode)this._onCharacterData(fa);}).bind(this));}ca.length=0;}).bind(this);this._mutationObserver=new v((function(ea){if(this._guardAgainstRender)return;if(w){var fa;if(ca.length===0)t(da);(fa=ca).push.apply(fa,ea);}else{ca=ea;da();}}).bind(this));this._mutationObserver.observe(l.findDOMNode(this.refs.editorContainer),{characterDataOldValue:true,characterData:true,subtree:true});},_disableIELinkDetection:function(){if(x)document.execCommand('AutoUrlDetect',false,false);},_renderPlaceholder:function(){var ca=this.props.editorState.getCurrentContent(),da=this.props.placeholder&&!this.props.editorState.isInCompositionMode()&&!ca.hasText();if(da)return (l.createElement(h,{text:this.props.placeholder,editorState:this.props.editorState,textAlignment:this.props.textAlignment}));},getInitialState:function(){return {containerKey:0};},render:function(){var ca=this.props.textAlignment,da=' '+"_5yw9"+(ca==='left'?' '+"_48yc":'')+(ca==='right'?' '+"_48yd":'')+(ca==='center'?' '+"_48ye":''),ea=this.props.editorState.getCurrentContent().hasText();return (l.createElement('div',{className:da},this._renderPlaceholder(),l.createElement('div',{className:"_5ywa",ref:"editorContainer",key:'editor'+this.state.containerKey},l.createElement('div',{ref:"editor",title:ea?null:this.props.placeholder,role:this.props.readOnly?null:this.props.role||"textbox",'aria-label':this.props.ariaLabel,'aria-activedescendant':this.props.readOnly?null:this.props.ariaActiveDescendantID,'aria-autocomplete':this.props.readOnly?null:this.props.ariaAutoComplete,'aria-expanded':this.props.readOnly?null:this.props.ariaExpanded,'aria-owns':this.props.readOnly?null:this.props.ariaOwneeID,'aria-haspopup':this.props.readOnly?null:this.props.ariaHasPopup,className:"_54-z",'data-testid':this.props.webDriverTestID,onBlur:this._onBlur,onFocus:this._onFocus,onSelect:this._onSelect,onMouseUp:this._onMouseUp,onKeyDown:this._onKeyDown,onKeyUp:this._onKeyUp,onKeyPress:this._onKeyPress,onCut:this._onCut,onCopy:this._onCopy,onPaste:this._onPaste,onDragStart:this._onDragStart,onDragOver:this._onDragOver,onDragEnd:this._onDragEnd,onDrop:this._onDrop,onCompositionStart:this._onCompositionStart,onCompositionEnd:this._onCompositionEnd,onBeforeInput:this._onBeforeInput,spellCheck:y&&this.props.spellCheck,tabIndex:this.props.tabIndex,contentEditable:!this.props.readOnly},l.createElement(n,{blockRendererFn:this.props.blockRendererFn,blockStyleFn:this.props.blockStyleFn,editorState:this.props.editorState,inlineStyleFn:this.props.inlineStyleFn})))));},focus:function(){var ca=this.props.editorState,da=ca.getSelection().getHasFocus(),ea=j.getScrollPosition();this.refs.editor.focus();window.scrollTo(ea.x,ea.y);if(da)return;this.update(k.forceSelection(ca,ca.getSelection()));},blur:function(){l.findDOMNode(this.refs.editor).blur();},componentDidMount:function(){this._clipboard=null;this._guardAgainstRender=false;this._handler=o;this._attachMutationObserver();this._disableIELinkDetection();},componentWillUpdate:function(ca){this._blockSelectEvents=true;},componentDidUpdate:function(){this._blockSelectEvents=false;},componentWillUnmount:function(){if(this._mutationObserver){this._mutationObserver.disconnect();this._mutationObserver=null;}},setMode:function(ca){this._handler=aa(ca);},exitCurrentMode:function(){this.setMode(q.EDIT);},restoreEditorDOM:function(){this.setState({containerKey:this.state.containerKey+1},this.focus);},setRenderGuard:function(){this._guardAgainstRender=true;},removeRenderGuard:function(){this._guardAgainstRender=false;},update:function(ca){this.props.onChange(ca);}});f.exports=ba;},null);
__d('AbstractMentionsTextEditor.react',['AbstractTextEditor.react','AbstractTextEditorProps','DocumentModifier','EditorChangeType','EditorState','React','TypeaheadNavigation','clearImmediate','getOrCreateDOMID','setImmediate','uniqueID'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){if(c.__markCompiled)c.__markCompiled();var s=Object.assign||function(x){for(var y=1;y<arguments.length;y++){var z=arguments[y];for(var aa in z)if(Object.prototype.hasOwnProperty.call(z,aa))x[aa]=z[aa];}return x;},t=m.PropTypes,u=5,v=m.createClass({displayName:'AbstractMentionsTextEditor',propTypes:s({},i.propTypes,{mentionsSource:t.object,mentionCreationFn:t.func.isRequired,mentionResultsComponent:t.func.isRequired,mentionResultsProps:t.object,excludedEntries:t.object,handleContentReturn:t.func,onAddMention:t.func,onShowMentions:t.func,maxResults:t.number}),getDefaultProps:function(){var x=h.getDefaultProps();return s({},x,{maxResults:u});},componentWillMount:function(){this._viewID=r();this._searchTimeouts=[];},componentWillUnmount:function(){this._searchTimeouts.forEach(function(x){return o(x);});this._searchTimeouts=null;},getInitialState:function(){return {highlightedMentionable:null,ariaActiveDescendantID:null,mentionableEntries:null,characterOffset:0};},_onShowMentions:function(x,y){if(!this.isMounted())return;var z=x&&x.length;if(!z){this.setState({highlightedMentionable:null,activeDescendantID:null,mentionableEntries:null,characterOffset:0});return;}var aa=x.slice(0,this.props.maxResults),ba=this.props.typeaheadViewProps;if(ba&&ba.mentionSortFn)aa.sort(ba.mentionSortFn);this.setState({highlightedMentionable:x[0],mentionableEntries:aa,characterOffset:y});if(this.props.onShowMentions)this.props.onShowMentions(aa,y);},_onBlur:function(x){this.setState(this.getInitialState());this.props.onBlur&&this.props.onBlur(x);},_onFocus:function(x){this.props.mentionsSource&&this.props.mentionsSource.bootstrap();this.props.onFocus&&this.props.onFocus(x);},_handleReturn:function(x){if(this.state.highlightedMentionable){this._onMentionSelect(this.state.highlightedMentionable,x);return true;}else if(this.props.handleContentReturn&&this.props.handleContentReturn(x))return true;return false;},_onTab:function(x){if(this.state.highlightedMentionable){x.preventDefault();this._onMentionSelect(this.state.highlightedMentionable,x);}else if(this.props.onTab)this.props.onTab(x);},_onEscape:function(x){if(this.props.onEscape)this.props.onEscape(x);if(this.state.mentionableEntries){x.stopPropagation();this.setState(this.getInitialState());}},_onUpArrow:function(x){if(this.state.mentionableEntries){x.preventDefault();n.moveUp(this.state.mentionableEntries,this.state.highlightedMentionable,this._onMentionHighlight);}else this.props.onUpArrow&&this.props.onUpArrow(x);},_onDownArrow:function(x){if(this.state.mentionableEntries){x.preventDefault();n.moveDown(this.state.mentionableEntries,this.state.highlightedMentionable,this._onMentionHighlight);}else this.props.onDownArrow&&this.props.onDownArrow(x);},_onMentionHighlight:function(x){this.setState({highlightedMentionable:x});},_onMentionRenderHighlight:function(x){var y=p(x);this.setState({ariaActiveDescendantID:y});},_onMentionSelect:function(x,y){var z=this.props.editorState,aa=z.getSelection(),ba=z.getCurrentContent(),ca=aa.getAnchorKey(),da=aa.getAnchorOffset(),ea=ba.getBlockMap().get(ca),fa=da-w(ea.getText().substr(0,da),x.getTitle(),this.state.characterOffset),ga=j.replaceText(ba,aa.set('anchorOffset',fa),x.getTitle(),z.getCurrentInlineStyle(),this.props.mentionCreationFn(x)),ha=l.push(z,ga,k.INSERT_FRAGMENT);this.props.onChange(ha);this.setState(this.getInitialState());if(this.props.onAddMention){var ia=this.state.mentionableEntries.indexOf(x);this.props.onAddMention(x,ia,y);}},shouldComponentUpdate:function(x,y){return (this.props.editorState!==x.editorState||this.props.placeholder!==x.placeholder||this.props.readOnly!==x.readOnly||this.state.mentionableEntries!==y.mentionableEntries||this.state.highlightedMentionable!==y.highlightedMentionable||this.state.ariaActiveDescendantID!==y.ariaActiveDescendantID);},componentDidUpdate:function(x){var y=this.props.editorState;if(y===x.editorState)return;var z=y.getSelection();if(z.getHasFocus()&&z.isCollapsed()){var aa=y.getCurrentContent();if(this.props.mentionsSource)this._searchTimeouts.push(q((function(){this.props.mentionsSource.search(aa,z,this._onShowMentions);}).bind(this)));}},blur:function(){this.refs.abstractTextEditor.blur();},focus:function(){this.refs.abstractTextEditor.focus();},_renderMentionables:function(){var x=this.state.mentionableEntries;if(!x||!x.length)return null;var y=this.props.mentionResultsComponent;return (m.createElement(y,s({},this.props.mentionResultsProps,{viewID:this._viewID,selection:this.props.editorState.getSelection(),contextComponent:this,characterOffset:this.state.characterOffset,mentionableEntries:x||[],highlightedMentionable:this.state.highlightedMentionable,onMentionSelect:this._onMentionSelect,onMentionHighlight:this._onMentionHighlight,onMentionRenderHighlight:this._onMentionRenderHighlight})));},render:function(){var x=this.state.mentionableEntries,y=!!(x&&x.length),z=this.props.readOnly?null:'-2';return (m.createElement('div',{ref:"container",className:this.props.className,tabIndex:z},m.createElement(h,s({},this.props,{ref:"abstractTextEditor",role:"combobox",ariaActiveDescendantID:this.state.ariaActiveDescendantID,ariaAutoComplete:"list",ariaOwneeID:this._viewID,ariaExpanded:y,ariaHasPopup:y,onBlur:this._onBlur,onFocus:this._onFocus,onTab:this._onTab,onEscape:this._onEscape,onDownArrow:this._onDownArrow,onUpArrow:this._onUpArrow,handleReturn:this._handleReturn})),this._renderMentionables()));}});function w(x,y,z){for(var aa=z;aa<=y.length;aa++)if(x.substr(-aa)==y.substr(0,aa))z=aa;return z;}f.exports=v;},null);
__d('createMentionEntity',['ComposedEntityMutability','ComposedEntityType','DocumentEntity'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();function k(l){if(l.getType().toLowerCase()==='hashtag')return j.create(i.HASHTAG,h.IMMUTABLE);var m=l.getType().toLowerCase()==='user'?h.SEGMENTED:h.IMMUTABLE,n=l.getAuxiliaryData();return j.create(i.MENTION,m,{id:l.getUniqueID(),isWeak:n&&n.renderType==='non_member',type:l.getType()});}f.exports=k;},null);
__d('MentionsInput.react',['AbstractMentionsTextEditor.react','EditorState','MentionsLayer.react','React','createMentionEntity','cx','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();var o=Object.assign||function(r){for(var s=1;s<arguments.length;s++){var t=arguments[s];for(var u in t)if(Object.prototype.hasOwnProperty.call(t,u))r[u]=t[u];}return r;},p=k.PropTypes,q=k.createClass({displayName:'MentionsInput',propTypes:{editorState:p.instanceOf(i).isRequired,mentionsSource:p.object,typeaheadView:p.func.isRequired,typeaheadViewPropTypes:p.object,spellCheck:p.bool,placeholder:p.string,className:p.string,autoflip:p.bool,position:p.oneOf(['above','below']),handleContentReturn:p.func,handleDroppedFiles:p.func,handlePastedFiles:p.func,onAddMention:p.func,onShowMentions:p.func,onChange:p.func,onInputFocus:p.func,onInputBlur:p.func},blur:function(){this.refs.textEditor.blur();},focus:function(){clearTimeout(this._focusTimer);this._focusTimer=setTimeout((function(){this.refs.textEditor.focus();}).bind(this),0);},componentWillUnmount:function(){clearTimeout(this._focusTimer);},render:function(){var r=n(this.props.className,"_5yk1");return (k.createElement('div',{className:r,onClick:this.focus,onFocus:this.focus},k.createElement(h,o({},this.props,{mentionResultsComponent:j,mentionResultsProps:{typeaheadView:this.props.typeaheadView,typeaheadViewProps:this.props.typeaheadViewProps,autoflip:this.props.autoflip,position:this.props.position},mentionCreationFn:l,ref:"textEditor",className:"_5yk2",stripPastedStyles:true}))));}});f.exports=q;},null);
__d('DevxFluxDispatcher',['Dispatcher'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=Object.assign||function(m){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var p in o)if(Object.prototype.hasOwnProperty.call(o,p))m[p]=o[p];}return m;},j,k;'use strict';j=h;k=j&&j.prototype;Object.assign(l,j);l.prototype=Object.create(j.prototype);l.prototype.constructor=l;l.__superConstructor__=j;l.prototype.handleServerAction=function(m){this.$DevxFluxDispatcher1('serverAction',m);};l.prototype.handleViewAction=function(m){this.$DevxFluxDispatcher1('viewAction',m);};l.prototype.$DevxFluxDispatcher1=function(m,n){this.dispatch(i({source:m},n));};function l(){j.apply(this,arguments);}f.exports=new l();},null);
__d('DevxProxyActions',['DevxFluxDispatcher'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();'use strict';function i(j){Object.keys(j.ActionHandler).forEach((function(k){this[k]=function(){for(var l=arguments.length,m=Array(l),n=0;n<l;n++)m[n]=arguments[n];h.handleViewAction({action:k,args:m});};}).bind(this));}f.exports=i;},null);
__d('ContentState',['DocumentCharacters','immutable'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j,k;'use strict';var l=i.Record,m=h.SOFT_NEWLINE,n={blockMap:null,selectionBefore:null,selectionAfter:null},o=l(n);j=o;k=j&&j.prototype;Object.assign(p,j);p.prototype=Object.create(j.prototype);p.prototype.constructor=p;p.__superConstructor__=j;p.prototype.getBlockMap=function(){return this.blockMap;};p.prototype.getSelectionBefore=function(){return this.selectionBefore;};p.prototype.getSelectionAfter=function(){return this.selectionAfter;};p.prototype.getBlockForKey=function(q){var r=this.getBlockMap().get(q);return r;};p.prototype.getKeyBefore=function(q){return this.getBlockMap().reverse().keySeq().skipUntil(function(r){return r===q;}).skip(1).first();};p.prototype.getKeyAfter=function(q){return this.getBlockMap().keySeq().skipUntil(function(r){return r===q;}).skip(1).first();};p.prototype.getBlockAfter=function(q){return this.getBlockMap().skipUntil(function(r,s){return s===q;}).skip(1).first();};p.prototype.getBlockBefore=function(q){return this.getBlockMap().reverse().skipUntil(function(r,s){return s===q;}).skip(1).first();};p.prototype.getBlocksAsArray=function(){return this.getBlockMap().toArray();};p.prototype.getLastBlock=function(){return this.getBlockMap().last();};p.prototype.getPlainText=function(q){return this.getBlockMap().map(function(r){return r?r.getText():'';}).join(q||m);};p.prototype.hasText=function(){var q=this.getBlockMap();return (q.size>1||q.first().getLength()>0);};function p(){j.apply(this,arguments);}f.exports=p;},null);
__d('createEmptySelectionState',['SelectionState'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();'use strict';function i(j){return new h({anchorKey:j,anchorOffset:0,focusKey:j,focusOffset:0,isBackward:false,hasFocus:false});}f.exports=i;},null);
__d('createContentStateFromBlocks',['ContentState','createEmptySelectionState','createOrderedMapFromBlockArray'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();'use strict';function k(l){var m=j(l),n=i(m.first().getKey());return new h({blockMap:m,selectionBefore:n,selectionAfter:n});}f.exports=k;},null);
__d('createInitialEditorState',['EditorState','immutable','createEmptySelectionState'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();'use strict';var k=i.Stack;function l(m,n){var o=m.getBlockMap().first().getKey();return h.create({currentContent:m,undoStack:k(),redoStack:k(),decorator:n||null,selection:j(o)});}f.exports=l;},null);
__d('createPlainBlocksFromText',['CharacterMetadata','ComposedBlockType','ContentBlock','immutable','generateBlockKey'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m=k.List,n=k.Repeat,o=h.EMPTY,p=i.UNSTYLED;function q(r){return r.map(function(s){var t=s.length;return new j({key:l(),text:s,type:p,characterList:m(n(o,t))});});}f.exports=q;},null);
__d('createEditorStateWithEntities',['DocumentCharacters','EditorState','applyEntityToContentBlock','createContentStateFromBlocks','createInitialEditorState','createPlainBlocksFromText'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n=new RegExp(h.SOFT_NEWLINE,'ig');function o(p){var q=p.text,r=p.ranges,s=p.decorator,t=p.entityCreationFn,u=p.splitIntoBlocks,v=p.allowUndo,w,x;if(u===undefined)u=true;if(q){w=u?q.split(n):[q];x=[];var y=0;w.forEach(function(ba){x.push(y);y+=ba.length+1;});}else w=[''];var z=m(w);if(r&&r.length&&t)r.forEach(function(ba){var ca=t(ba.entity);if(ca===null)return;var da=ba.offset,ea,fa;for(var ga=0;ga<x.length;ga++){var ha=x[ga],ia=x[ga+1];if(ia===undefined||da>=ha&&da<ia){ea=z[ga];fa=da-ha;break;}}z[ga]=j(ea,fa,fa+ba.length,ca);});var aa=l(k(z),s);if(v===false)aa=i.set(aa,{allowUndo:false});return aa;}f.exports=o;},null);
__d('createEmptyEditorState',['createContentStateFromBlocks','createInitialEditorState','createPlainBlocksFromText'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();'use strict';function k(l){var m=j(['']),n=h(m);return i(n,l);}f.exports=k;},null);
__d('getVisibleValueForContentState',['ComposedEntityType','DocumentCharacters','DocumentEntity','emptyFunction'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l=h.EMOTICON,m=i.SOFT_NEWLINE;function n(o){var p=o.getBlockMap().map(function(q){var r=q.getText(),s='';q.findEntityRanges(k.thatReturnsTrue,function(t,u){var v=q.getEntityAt(t);if(v===null){s+=r.slice(t,u);}else{var w=j.get(v);if(w.getType()===l){s+=w.getData().originalEmoticon;}else s+=r.slice(t,u);}});return s;});return p.join(m);}f.exports=n;},null);
__d('DocumentMentionsRegex',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();'use strict';var h='\\.,\\+\\*\\?\\$\\@\\|#{}\\(\\)\\^\\-\\[\\]\\\\\/!%\'"~=<>_:;',i='\\b[A-Z][^\\s'+h+']',j={PUNCTUATION:h,NAME:i};f.exports=j;},null);
__d('AtSignMentionsStrategy',['DocumentMentionsRegex'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=h.PUNCTUATION,j=['@','\\uff20'].join(''),k='[^'+j+i+'\\s]',l='(?:'+'\\.[ |$]|'+' |'+'['+i+']|'+')',m=new RegExp('(?:^|\\s)('+'['+j+']'+'((?:'+k+l+'){0,20})'+')$'),n={name:'AtSignMentionsStrategy',findMentionableString:function(o){var p=m.exec(o);if(p!==null){var q=p[2];if(q.length)return {matchingString:q,leadOffset:p[1].length};}return null;}};f.exports=n;},null);
__d('CapitalizedNameMentionsStrategy',['DocumentMentionsRegex'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();'use strict';var i=1,j=new RegExp('(^|[^#])((?:'+h.NAME+'{'+i+',})$)'),k={name:'CapitalizedNameMentionsStrategy',findMentionableString:function(l){var m=j.exec(l);if(m!==null)return {matchingString:m[2],leadOffset:m[2].length};return null;}};f.exports=k;},null);
__d('DocumentCompositeMentionsSource',['emptyFunction','invariant','nullthrows'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();'use strict';function k(m,n){var o=m.getCharacterList().toSeq().slice(0,n).reverse().takeWhile(function(p){return p.getEntity()===null;}).count();return m.getText().slice(n-o,n);}function l(m){!(m.length>0)?i(0):undefined;this.$DocumentCompositeMentionsSource1=m;this.$DocumentCompositeMentionsSource2=false;this.$DocumentCompositeMentionsSource3=null;}l.prototype.bootstrap=function(m){if(this.$DocumentCompositeMentionsSource2)return;this.$DocumentCompositeMentionsSource2=true;m=m||h;var n=this.$DocumentCompositeMentionsSource1.length;function o(){n--;if(!n)m&&m();}this.$DocumentCompositeMentionsSource1.forEach(function(p){p.bootstrap(o);});};l.prototype.search=function(m,n,o){var p=n.getAnchorKey(),q=m.getBlockForKey(p);this.$DocumentCompositeMentionsSource4(k(q,n.getAnchorOffset()),o);};l.prototype.$DocumentCompositeMentionsSource4=function(m,n){var o=this.$DocumentCompositeMentionsSource1.length,p,q;for(var r=0;r<o;r++){p=this.$DocumentCompositeMentionsSource1[r];q=p.findMatch(m);if(q===null){continue;}else{var s=j(q).matchingString;this.$DocumentCompositeMentionsSource3=s;p.search(s,(function(t,u){if(this.$DocumentCompositeMentionsSource3===u)n(t,q.leadOffset);}).bind(this));return;}}this.$DocumentCompositeMentionsSource3=null;n(null,null);};f.exports=l;},null);
__d('DocumentMentionsSource',['invariant'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();'use strict';function i(j,k){!(typeof j.findMentionableString==='function')?h(0):undefined;this.$DocumentMentionsSource1=j;this.$DocumentMentionsSource2=k;this.$DocumentMentionsSource3=false;}i.prototype.findMatch=function(j){return this.$DocumentMentionsSource1.findMentionableString(j);};i.prototype.bootstrap=function(j){if(!this.$DocumentMentionsSource3){this.$DocumentMentionsSource3=true;this.$DocumentMentionsSource2.bootstrap(j);}};i.prototype.search=function(j,k){this.$DocumentMentionsSource2.search(j,k,{strategyName:this.$DocumentMentionsSource1.name});};f.exports=i;},null);
__d('getMentionsTextForContentState',['ComposedEntityType','DocumentCharacters','DocumentEntity','emptyFunction'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();'use strict';var l=h.EMOTICON,m=h.MENTION,n=i.SOFT_NEWLINE,o=k.thatReturnsTrue,p=/[\\\]:]/g;function q(s){var t=s.getBlockMap().map(function(u){var v=u.getText(),w=[];u.findEntityRanges(o,function(x,y){w.push(r(v.slice(x,y),u.getEntityAt(x)));});return w.join('');});return t.join(n);}function r(s,t){if(t){var u=j.get(t);if(u.getType()===m){s=s.replace(p,function(v){return '\\'+v;});return '@['+u.getData().id+':'+s+']';}else if(u.getType()===l)return u.getData().originalEmoticon;}return s.replace('@[','@ [');}f.exports=q;},null);
__d('FilteredSearchSource',['AbstractSearchSource'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i,j;i=h;j=i&&i.prototype;Object.assign(k,i);k.prototype=Object.create(i.prototype);k.prototype.constructor=k;k.__superConstructor__=i;function k(l,m){'use strict';j.constructor.call(this);this.$FilteredSearchSource1=l;this.$FilteredSearchSource2=m;}k.prototype.bootstrapImpl=function(l){'use strict';this.$FilteredSearchSource2.bootstrap(l);};k.prototype.searchImpl=function(l,m,n){'use strict';var o=(function(p,q){p=this.$FilteredSearchSource3(p,q);m(p,q);}).bind(this);this.$FilteredSearchSource2.search(l,o,n);};k.prototype.$FilteredSearchSource3=function(l,m){'use strict';var n=this.$FilteredSearchSource1;return l.filter(function(o){return n(o,m);});};f.exports=k;},null);
__d('filterCapitalizedNames',['TokenizeUtil'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();function i(m,n){return j(m)&&(n.length>=5||k(m,n));}function j(m){var n=m.getAuxiliaryData()||l;return !n.disableAutosuggest&&!!(m.getType()==='user'||n.connectedPage);}function k(m,n){return h.isExactMatch(n,m.getTitle());}var l={};f.exports=i;},null);
__d("XDeveloperDocumentationController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/docs\/{?path1}\/{?path2}\/{?path3}\/{?path4}\/{?path5}\/{?path6}\/",{path:{type:"String"},preview:{type:"Exists",defaultValue:false},revisionid:{type:"Int"},locale:{type:"String"},path1:{type:"String"},path2:{type:"String"},path3:{type:"String"},path4:{type:"String"},path5:{type:"String"},path6:{type:"String"}});},null,{});
__d('CommentsPluginFooter.react',['ImageBlock.react','React','XDeveloperDocumentationController','cx'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l,m;'use strict';l=i.Component;m=l&&l.prototype;Object.assign(n,l);n.prototype=Object.create(l.prototype);n.prototype.constructor=n;n.__superConstructor__=l;n.prototype.render=function(){return (i.createElement('div',{className:"_5lm5 _2pi3 _3-8y"},i.createElement(h,null,i.createElement('img',{src:"/images/like/icons/fav.png"}),i.createElement('a',{target:"_blank",href:j.getURIBuilder().setString('path1','plugins').setString('path2','comments').getURI().setSubdomain('developers')},'Facebook Comments Plugin'))));};function n(){l.apply(this,arguments);}f.exports=n;},null);
__d("XPluginCommentsBanAuthorAsyncController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/plugins\/comments\/moderate\/ban\/{comment_id}\/",{comment_id:{type:"String",required:true}});},null,{});
__d("XPluginCommentsCreateCommentAsyncController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/plugins\/comments\/async\/createComment\/{target_id}\/",{target_id:{type:"Int",required:true}});},null,{});
__d("XPluginCommentsCreateReplyAsyncController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/plugins\/comments\/async\/createReply\/{parent_comment_id}\/",{parent_comment_id:{type:"String",required:true}});},null,{});
__d("XPluginCommentsDeleteCommentAsyncController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/plugins\/comments\/async\/delete\/",{});},null,{});
__d("XPluginCommentsEditCommentAsyncController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/plugins\/comments\/async\/edit\/",{});},null,{});
__d("XPluginCommentsFlagCommentAsyncController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/plugins\/comments\/async\/flag\/",{});},null,{});
__d("XPluginCommentsLikeCommentAsyncController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/plugins\/comments\/async\/like\/",{action_like:{type:"Bool",defaultValue:false}});},null,{});
__d("XPluginCommentsHideCommentAsyncController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/plugins\/comments\/moderate\/hide\/{url_id}\/",{url_id:{type:"Int",required:true},action:{type:"Enum",required:true,enumType:1},type:{type:"Enum",required:true,enumType:1}});},null,{});
__d("XPluginCommentsPagerAsyncController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/plugins\/comments\/async\/{target_id}\/pager\/{ordering}\/",{target_id:{type:"Int",required:true},ordering:{type:"Enum",required:true,enumType:1}});},null,{});
__d("XPluginCommentsRepliesPagerAsyncController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/plugins\/comments\/async\/comment\/{comment_id}\/pager\/",{comment_id:{type:"String",required:true}});},null,{});
__d('CommentsPluginStore',['AsyncRequest','XPluginCommentsBanAuthorAsyncController','XPluginCommentsCreateCommentAsyncController','XPluginCommentsCreateReplyAsyncController','XPluginCommentsDeleteCommentAsyncController','DeveloperCommentsModerationAction','DeveloperCommentsModerationSource','DeveloperCommentsModerationType','DevxFluxDispatcher','DTSG','XPluginCommentsEditCommentAsyncController','XPluginCommentsFlagCommentAsyncController','XPluginCommentsLikeCommentAsyncController','XPluginCommentsHideCommentAsyncController','MultiLoginPopup','XPluginCommentsPagerAsyncController','XPluginCommentsRepliesPagerAsyncController','UnverifiedXD','fbt','getMentionsTextForContentState','getVisibleValueForContentState','invariant','mixInEventEmitter','nullthrows','uniqueID'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa){if(c.__markCompiled)c.__markCompiled();'use strict';var ga=10,ha='__DEVX__',ia={visibleValue:'',encodedValue:''},ja={change:true,composerChange:true,composerCommentAdded:true,login:true,moreCommentsCompleted:true,moreRepliesCompleted:true,postError:true,sortingCompleted:true,sentryAction:true},ka={maxLines:10,maxLength:1000},la=[],ma={},na={userID:null,actors:{},appID:null,afterCursor:null,beforeCursor:null,channelURL:null,composerSearchSource:{},deeplinkedCommentID:null,href:'',iframeReferer:null,isMobile:false,isModerator:false,mirroredPage:null,moderateURL:null,targetFBID:null,totalCount:0,user:{}},oa=false,pa=null,qa={ordering:null},ra={},sa={},ta={setPostToFeed:true,sort:true,showMoreComments:true,showMoreReplies:true,toggleVisibility:true},ua={addComment:true};function va(db){!cb.hasOwnProperty(db)?ca(0):undefined;}function wa(){!Array.isArray(la)?ca(0):undefined;!(ma instanceof Object)?ca(0):undefined;}function xa(db,eb){if(!ta[db]&&!bb.isLoggedIn()){var fb=ua[db]?null:eb;v.login(null,null,z._("Please Login to Comment"),{},ya.bind(null,fb));return;}eb.call();}function ya(db,eb){na.user.id=eb.user;na.user.uri=eb.profileUrl;na.user.thumbSrc=eb.profilePic;na.user.actorIDs=eb.actorIDs;if(eb.fbDtsg)q.setToken(eb.fbDtsg);db&&db.call();bb.emit('change');bb.emit('login');}function za(db,eb,fb){return fb.indexOf(db)===eb;}function ab(db,eb){if(!na.channelURL)return;Object.assign(eb,{type:db,href:na.href});y.send(eb,na.channelURL);}var bb={LOGGED_OUT_USER:"0",getCommentIDs:function(){return la;},getByID:function(db){wa();return ea(ma)[db];},isOptimisticComment:function(db){return db.id.startsWith(ha);},getCurrentSorting:function(){return ea(qa.ordering);},getTargetFBID:function(){return ea(na.targetFBID);},getCommentsCount:function(){wa();return na.totalCount;},getUser:function(){return na.user;},getIframeReferer:function(){return na.iframeReferer;},getAuthor:function(db){return this.getByID(this.getByID(db).authorID);},getPageSize:function(){return ga;},getCommentBodyTruncationLimits:function(){return ka;},getComposerSearchSource:function(){return na.composerSearchSource;},getMirroredPage:function(){return na.mirroredPage;},isMirrored:function(){return this.getMirroredPage()!=null;},isReply:function(db){var eb=this.getByID(db);return eb.targetID!==this.getTargetFBID();},setActor:function(db){na.user=na.actors[db];},getPostToFeed:function(){return oa;},setPostToFeed:function(db){oa=db;},setAttachedphoto:function(db){pa=db;},setCreateComposerState:function(db,eb){ra[eb||ha]=db;this.emit('composerChange');},getCreateComposerState:function(db){return ra[db||ha];},getCreateComposerContent:function(db){return this._editorStateToComposerPayload(this.getCreateComposerState(db));},isEmptyCreateComposer:function(db){return this.getCreateComposerContent(db).visibleValue.trim()==='';},setEditComposerState:function(db,eb){sa[eb]=db;this.emit('composerChange');},getEditComposerState:function(db){return sa[db];},getEditComposerContent:function(db){return this._editorStateToComposerPayload(this.getEditComposerState(db));},isEmptyEditComposer:function(db){return this.getEditComposerContent(db).visibleValue.trim()==='';},_editorStateToComposerPayload:function(db){if(!db)return ia;var eb=db.getCurrentContent(),fb=ba(eb),gb=aa(eb);return {visibleValue:fb,encodedValue:gb};},getActorIDs:function(){return Object.keys(na.actors);},getModerateURL:function(){return na.moderateURL;},isLoggedIn:function(){return na.user.id!==bb.LOGGED_OUT_USER;},isMobile:function(){return na.isMobile;},isViewerModerator:function(){return na.isModerator;},hasUnloadedComments:function(){return !!na.afterCursor;},hasUnloadedReplies:function(db){var eb=this.getByID(db).public_replies;if(!eb)return false;if(eb.afterCursor)return true;if((!eb.commentIDs||eb.commentIDs.length===0)&&eb.totalCount>0)return true;return false;},getUnloadedCommentsCount:function(){return na.totalCount-la.length;},dispatcherIndex:p.register(function(db){var eb;va(db.action);xa(db.action,(eb=cb[db.action]).bind.apply(eb,[cb].concat(db.args)));}),init:function(db,eb,fb){na=eb;this.updateCommentData(db,fb);Object.keys(na.actors).forEach(function(gb){return ma[gb]=na.actors[gb];});this.setActor(na.userID);},updateCommentData:function(db,eb){la=db.commentIDs;ma=this.initComments(la,db.idMap);qa.ordering=eb;},initComment:function(db){db.collapsed=false;db.editor=false;db.composer=false;db.deleted=false;db.flagged=false;return db;},initComments:function(db,eb){db.forEach((function(fb){return eb[fb]=this.initComment(eb[fb]);}).bind(this));return eb;},emit:undefined,addListener:undefined,removeCurrentListener:undefined,ActionHandler:undefined};da(bb,ja);var cb={ban:function(db){var eb=bb.getByID(db);eb.deleted=true;bb.emit('change');var fb=i.getURIBuilder().setString('comment_id',db).getURI();new h(fb).setMethod('POST').setData({ban:true,source:n.URL}).send();},hide:function(db){var eb=bb.getByID(db);eb.deleted=true;bb.emit('change');var fb=u.getURIBuilder().setInt('url_id',na.targetFBID).setEnum('action',m.DELETE).setEnum('type',o.APPROVED).getURI();new h(fb).setData({comment_ids:[db]}).setMethod('POST').send();},addComment:function(){var db=bb.getCreateComposerContent(),eb=j.getURIBuilder().setInt('target_id',na.targetFBID).getURI();new h(eb).setData({app_id:na.appID,av:bb.getUser().id,text:db.encodedValue,attached_photo_fbid:pa?ea(pa.fbid):0,post_to_feed:bb.getPostToFeed(),iframe_referer:na.iframeReferer}).setMethod('POST').setHandler((function(fb){var gb=fb.payload,hb=gb.commentID;this._prependComment(gb.idMap[hb]);delete ra[ha];bb.emit('composerCommentAdded',{});ab('commentCreated',{commentID:hb,message:db.visibleValue});if(gb.sentryAction)bb.emit('sentryAction',gb.sentryAction,hb);}).bind(this)).setErrorHandler(function(fb){delete ma[ha];la.shift();bb.emit('change');bb.emit('postError',fb);}).send();this._prependComment({authorID:na.user.id,targetID:na.targetFBID,body:{text:db.visibleValue}});},addReply:function(db){var eb=bb.getCreateComposerContent(db),fb=k.getURIBuilder().setString('parent_comment_id',db).getURI(),gb=ha+fa();new h(fb).setData({app_id:na.appID,av:bb.getUser().id,text:eb.encodedValue,attached_photo_fbid:pa?ea(pa.fbid):0,iframe_referer:na.iframeReferer,replied_to:bb.getByID(db).replyToCommentID}).setMethod('POST').setHandler(function(jb){var kb=bb.getByID(db),lb=Object.assign({},kb.public_replies);Object.assign(ma,jb.payload.idMap);kb=bb.getByID(db);kb.public_replies=lb;delete ma[gb];delete ra[db];la.splice(la.indexOf(gb),1);kb.composer=false;delete kb.replyToCommentID;kb.public_replies.commentIDs.pop();kb.public_replies.commentIDs.push(jb.payload.commentID);ab('commentCreated',{commentID:jb.payload.commentID,parentCommentID:db,message:eb.visibleValue});bb.emit('change');}).setErrorHandler(function(jb){delete ma[gb];la.splice(la.indexOf(gb),1);hb=bb.getByID(db);hb.public_replies.commentIDs.pop();hb.public_replies.totalCount--;hb.composer=false;delete hb.replyToCommentID;bb.emit('change');bb.emit('postError',jb);}).send();var hb=bb.getByID(db),ib=Object.assign({},hb.public_replies);if(!ib.commentIDs)ib.commentIDs=[];if(!ib.totalCount)ib.totalCount=0;ib.totalCount++;ib.commentIDs.push(gb);hb.public_replies=ib;ma[gb]={authorID:na.user.id,body:{text:eb.visibleValue},targetID:db,id:gb};la.push(gb);bb.emit('change');},_prependComment:function(db){if(!db.id){db.id=ha;}else{la.shift();delete ma[ha];}la.unshift(db.id);ma[db.id]=bb.initComment(db);bb.emit('change');},edit:function(db){bb.getByID(db).editor=true;bb.emit('change');},saveEdit:function(db){var eb=JSON.parse(JSON.stringify(bb.getByID(db))),fb=r.getURIBuilder().getURI(),gb=bb.getEditComposerContent(db);new h(fb).setMethod('POST').setData({app_id:na.appID,text:gb.encodedValue,comment_id:db,av:bb.getAuthor(db).id,iframe_referer:na.iframeReferer}).setHandler(function(ib){var jb=ib.payload;ma[jb.commentID]=bb.initComment(jb.idMap[jb.commentID]);delete sa[db];bb.emit('change');}).setErrorHandler(function(ib){eb.editor=false;Object.assign(bb.getByID(db),eb);bb.emit('change');bb.emit('postError',ib);}).send();var hb=bb.getByID(db);hb.editor=false;hb.body.text=gb.visibleValue;delete hb.ranges;bb.emit('change');},cancelEdit:function(db){var eb=bb.getByID(db);eb.editor=false;bb.emit('change');},'delete':function(db){var eb=bb.getByID(db);eb.deleted=true;var fb=l.getURIBuilder().getURI();new h(fb).setData({app_id:na.appID,comment_id:db,av:bb.getAuthor(db).id,iframe_referer:na.iframeReferer}).setMethod('POST').setHandler(function(){return (ab('commentRemoved',{commentID:db}));}).setErrorHandler(function(gb){var hb=bb.getByID(db);hb.deleted=false;bb.emit('change');}).send();bb.emit('change');},like:function(db){var eb=bb.getByID(db),fb=t.getURIBuilder().setBool('action_like',!eb.hasLiked).getURI();new h(fb).setData({app_id:na.appID,comment_id:eb.id,iframe_referer:na.iframeReferer}).setMethod('POST').setHandler(function(gb){var hb=gb.payload;Object.assign(ma[hb.commentID],bb.initComment(hb.idMap[hb.commentID]));bb.emit('change');}).setErrorHandler(function(gb){eb.likeCount--;eb.hasLiked=false;bb.emit('postError',gb);}).send();eb.hasLiked=!eb.hasLiked;if(eb.hasLiked){eb.likeCount++;}else if(eb.likeCount>0)eb.likeCount--;ma[eb.id]=eb;bb.emit('change');},sort:function(db){var eb=w.getURIBuilder().setInt('target_id',na.targetFBID).setEnum('ordering',db).getURI();new h(eb).setMethod('POST').setData({app_id:na.appID,limit:bb.getPageSize(),iframe_referer:na.iframeReferer}).setHandler(function(fb){var gb=fb.payload;na.afterCursor=gb.afterCursor;bb.updateCommentData(gb,db);bb.emit('sortingCompleted');bb.emit('change');}).send();},showMoreComments:function(){var db=w.getURIBuilder().setInt('target_id',na.targetFBID).setEnum('ordering',bb.getCurrentSorting()).getURI();new h(db).setMethod('POST').setData({app_id:na.appID,after_cursor:na.afterCursor,limit:bb.getPageSize(),deeplinked_comment_id:na.deeplinkedCommentID,iframe_referer:na.iframeReferer}).setHandler(function(eb){var fb=eb.payload;na.afterCursor=fb.afterCursor;la=la.concat(fb.commentIDs).filter(za);ma=Object.assign(ma,bb.initComments(fb.commentIDs,fb.idMap));bb.emit('moreCommentsCompleted');bb.emit('change');}).setErrorHandler(function(eb){bb.emit('postError',eb);bb.emit('moreCommentsCompleted');}).send();},setUser:function(db){bb.setActor(db);bb.emit('composerChange');},setPostToFeed:function(db){bb.setPostToFeed(db);},showMoreReplies:function(db){var eb=x.getURIBuilder().setString('comment_id',db).getURI(),fb=bb.getByID(db).public_replies;new h(eb).setMethod('POST').setData({app_id:na.appID,after_cursor:fb.afterCursor,limit:bb.getPageSize(),iframe_referer:na.iframeReferer}).setHandler(function(gb){var hb=gb.payload;ma=Object.assign(bb.initComments(hb.commentIDs,hb.idMap),ma);fb.afterCursor=hb.afterCursor;fb.commentIDs=fb.commentIDs.concat(hb.commentIDs).filter(za);bb.emit('moreRepliesCompleted',{commentID:db});bb.emit('change');}).setErrorHandler(function(gb){bb.emit('postError',gb);bb.emit('moreRepliesCompleted',{commentID:db});}).send();},toggleVisibility:function(db){var eb=bb.getByID(db);eb.collapsed=!eb.collapsed;bb.emit('change');},flag:function(db){ma[db].flagged=true;this._sendFlagOrUnflagRequest(db,'flag');bb.emit('change');},unflag:function(db){ma[db].flagged=false;this._sendFlagOrUnflagRequest(db,'unflag');bb.emit('change');},_sendFlagOrUnflagRequest:function(db,eb){var fb=s.getURIBuilder().getURI();new h(fb).setData({app_id:na.appID,comment_id:db,iframe_referer:na.iframeReferer,unflag:eb==='unflag'}).setMethod('POST').setErrorHandler(function(gb){ma[db].flagged=!ma[db].flagged;bb.emit('postError',gb);}).send();},report:function(db){window.open(bb.getByID(db).reportURI,'_blank');},showReplyComposer:function(db){var eb=bb.getByID(db);if(bb.isReply(db)){var fb=db;eb=bb.getByID(eb.targetID);eb.replyToCommentID=fb;}eb.composer=true;bb.emit('change');},cancelReply:function(db){var eb=bb.getByID(db);eb.composer=false;delete eb.replyToCommentID;bb.emit('change');}};bb.ActionHandler=cb;f.exports=bb;},null);
__d('CommentsPluginActions',['CommentsPluginStore','DevxProxyActions'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();'use strict';f.exports=new i(h);},null);
__d('CommentsPluginHeader.react',['CommentsPluginActions','CommentsPluginStore','DeveloperCommentsPluginOrdering','LeftRight.react','Link.react','React','XUISelector.react','XUISpinner.react','XUIText.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){if(c.__markCompiled)c.__markCompiled();var s,t;'use strict';var u=n.Option;s=m.Component;t=s&&s.prototype;Object.assign(v,s);v.prototype=Object.create(s.prototype);v.prototype.constructor=v;v.__superConstructor__=s;function v(w){t.constructor.call(this,w);this.state={sorting:false};var x=this;x.$CommentsPluginHeader1=this.$CommentsPluginHeader1.bind(this);}v.prototype.$CommentsPluginHeader1=function(event){this.setState({sorting:true});i.addListener('sortingCompleted',(function(){this.setState({sorting:false});i.removeCurrentListener();}).bind(this));h.sort(event.value);};v.prototype.render=function(){var w=null;if(i.getModerateURL())w=m.createElement('span',null,m.createElement('span',{className:"_52bm"},'|'),m.createElement(l,{href:i.getModerateURL(),target:"_blank"},r._("Moderation Tool")));return (m.createElement(k,{className:"_491z"},m.createElement('span',null,m.createElement(p,{weight:"bold"},i.getCommentsCount()!==1?r._("{count} Comments",[r.param("count",i.getCommentsCount())]):r._("1 Comment")),w),m.createElement('div',null,this.state.sorting?m.createElement(o,{size:"small",className:"_3-90"}):null,m.createElement('span',{className:"_pup"},r._("Sort by")),' ',m.createElement(n,{alignh:"right",className:"_3-8_",initialValue:i.getCurrentSorting(),onChange:this.$CommentsPluginHeader1},j.__types.map(function(x){return (m.createElement(u,{value:x,key:x},j.__labels[x]));})))));};f.exports=v;},null);
__d('CommentsPluginAction',['fbt'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();'use strict';var i={EDIT:'edit',DELETE:'delete',FLAG:'flag',UNFLAG:'unflag',BAN:'ban',HIDE:'hide',REPORT:'report',COLLAPSE:'collapse',SHOW:'show',getLabel:function(j){switch(j){case i.COLLAPSE:return h._("Collapse comment");case i.SHOW:return h._("Show comment");case i.EDIT:return h._("Edit comment");case i.DELETE:return h._("Delete comment");case i.FLAG:return h._("Flag comment");case i.UNFLAG:return h._("Unflag comment");case i.BAN:return h._("Ban user");case i.HIDE:return h._("Hide comment");case i.REPORT:return h._("Report to Facebook");}},getMenuActions:function(){return [i.COLLAPSE,i.SHOW,i.EDIT,i.DELETE,i.FLAG,i.UNFLAG,i.BAN,i.HIDE,i.REPORT];}};f.exports=i;},null);
__d('MixinCommentsPluginConfirmAction',['CommentsPluginAction','CommentsPluginActions','React','Set','XUIDialog.react','XUIDialogBody.react','XUIDialogButton.react','XUIDialogCancelButton.react','XUIDialogFooter.react','XUIDialogTitle.react','fbt','invariant'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){if(c.__markCompiled)c.__markCompiled();'use strict';var t={requiresConfirmation:function(u){var v=new k([h.DELETE,h.BAN,h.HIDE]);return v.has(u);},confirmAction:function(u){this.setState({actionConfirmationShown:true,action:u});},_onActionConfirmed:function(){i[this.state.action](this.props.commentID);this.setState({actionConfirmationShown:false});},_onActionCancelled:function(){this.setState({actionConfirmationShown:false});},_getActionMetadata:function(u){switch(u){case h.DELETE:return {body:r._("Are you sure you want to delete this comment?"),button_label:r._("Confirm Delete")};case h.BAN:return {body:r._("Are you sure you want to ban this user?"),button_label:r._("Confirm Ban")};case h.HIDE:return {body:r._("Are you sure you want to hide this comment?"),button_label:r._("Confirm Hide")};default:s(0);}},renderActionConfirmationDialog:function(u){var v=this.state.action;if(!v)return null;var w=this._getActionMetadata(v);return (j.createElement(l,{shown:this.state.actionConfirmationShown,width:u},j.createElement(q,{showCloseButton:false},h.getLabel(v)),j.createElement(m,null,w.body),j.createElement(p,null,j.createElement(o,{onClick:this._onActionCancelled}),j.createElement(n,{use:"confirm",label:w.button_label,onClick:this._onActionConfirmed}))));}};f.exports=t;},null);
__d('CommentsPluginCommentActions.react',['ActionList.react','CommentsPluginAction','CommentsPluginActions','CommentsPluginStore','Image.react','Link.react','MixinCommentsPluginConfirmAction','React','UFICommentMetadata.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){if(c.__markCompiled)c.__markCompiled();'use strict';var s=o.PropTypes,t=o.createClass({displayName:'CommentsPluginCommentActions',mixins:[n],propTypes:{commentID:s.string.isRequired},getInitialState:function(){return {deleteConfirmationShown:false,action:null};},_onLikeAction:function(){j.like(this.props.commentID);},_onReply:function(){j.showReplyComposer(this.props.commentID);},_onFlag:function(){j.flag(this.props.commentID);},_getLikeActionElem:function(u){if(!u.canLike&&k.isLoggedIn())return null;return (o.createElement(m,{onClick:this._onLikeAction},u.hasLiked?r._("Unlike"):r._("Like")));},render:function(){var u=k.getByID(this.props.commentID);return (o.createElement(h,{className:"_2vq9"},this._getLikeActionElem(u),o.createElement(m,{onClick:this._onReply},r._("Reply")),k.isMobile()?u.canEdit?o.createElement(m,{onClick:this.confirmAction.bind(this,i.DELETE)},r._("Delete")):o.createElement(m,{onClick:this._onFlag},r._("Flag")):null,u.likeCount?o.createElement('span',null,o.createElement(l,{src:"/images/ufi/fbfeed/like.png",className:"_3-8_ _4iy4"}),u.likeCount):null,o.createElement(p,{comment:u,permalink:u.permalink,shortenTimestamp:true,showPermalink:!k.isReply(this.props.commentID),permalinkTarget:"_parent"}),k.isMobile()?this.renderActionConfirmationDialog(320):null));}});f.exports=t;},null);
__d('CommentsPluginComposerMirroringNotice.react',['CommentsPluginStore','React','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l,m;'use strict';var n=i.PropTypes;l=i.Component;m=l&&l.prototype;Object.assign(o,l);o.prototype=Object.create(l.prototype);o.prototype.constructor=o;o.__superConstructor__=l;o.prototype.render=function(){var p=h.getMirroredPage();if(!p)return null;return (i.createElement('div',{className:"_5sge _2ph-"},p.name?this.props.isReply?k._("Your reply may also appear on {page name}'s Facebook Page.",[k.param("page name",i.createElement('a',{href:p.uri,target:"blank"},p.name))]):k._("Your comment may also appear on {page name}'s Facebook Page.",[k.param("page name",i.createElement('a',{href:p.uri,target:"blank"},p.name))]):this.props.isReply?k._("Your reply may also appear on Facebook."):k._("Your comment may also appear on Facebook.")));};function o(){l.apply(this,arguments);}o.propTypes={isReply:n.bool};f.exports=o;},null);
__d('CommentsPluginProfilePicture.react',['React','cx'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=Object.assign||function(o){for(var p=1;p<arguments.length;p++){var q=arguments[p];for(var r in q)if(Object.prototype.hasOwnProperty.call(q,r))o[r]=q[r];}return o;},k,l;'use strict';var m=h.PropTypes;k=h.Component;l=k&&k.prototype;Object.assign(n,k);n.prototype=Object.create(k.prototype);n.prototype.constructor=n;n.__superConstructor__=k;n.prototype.render=function(){return (h.createElement('a',j({},this.props,{href:this.props.href}),h.createElement('img',{className:(!this.props.isReply?' '+"_1ci":'')+(this.props.isReply?' '+"_1cj":''),src:this.props.src})));};function n(){k.apply(this,arguments);}n.propTypes={href:m.string.isRequired,src:m.string.isRequired,isReply:m.bool};f.exports=n;},null);
__d('CommentsPluginComposer.react',['ActorURI','CommentsPluginStore','CommentsPluginComposerMirroringNotice.react','CommentsPluginConfig','CommentsPluginProfilePicture.react','ComposedEntityMutability','ComposedEntityType','DocumentEntity','EditorState','MentionsInput.react','React','UFIAttachPhotoSection.react','UFIAttachedPhotoPreview.react','UFIImageBlock.react','UFICommentUtils.react','XUITypeaheadView.react','createEditorStateWithEntities','createEmptyEditorState','cx','fbt','getMentionsInputDecorator','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca){if(c.__markCompiled)c.__markCompiled();var da,ea;'use strict';var fa=r.PropTypes,ga=19;function ha(ja){return o.create(n.MENTION,m.IMMUTABLE,{id:ja.id});}da=r.Component;ea=da&&da.prototype;Object.assign(ia,da);ia.prototype=Object.create(da.prototype);ia.prototype.constructor=ia;ia.__superConstructor__=da;function ia(ja,ka){ea.constructor.call(this,ja,ka);this.state=this.$CommentsPluginComposer1();var la=this;la.$CommentsPluginComposer2=this.$CommentsPluginComposer2.bind(this);la.$CommentsPluginComposer3=this.$CommentsPluginComposer3.bind(this);}ia.prototype.$CommentsPluginComposer1=function(){var ja=null,ka=null;if(this.props.editCommentID){ka=i.getByID(this.props.editCommentID);ja=x({text:ka.body.text,ranges:v.shallowCopyRanges(ka.ranges).filter(function(na){return !na.entity.external;}),decorator:ba(),entityCreationFn:ha});}else if(this.props.parentCommentIDOfNewReply){ka=i.getByID(this.props.parentCommentIDOfNewReply);if(ka.replyToCommentID&&i.getAuthor(ka.replyToCommentID).id!==i.getUser().id){var la=i.getAuthor(ka.replyToCommentID),ma={id:la.id,text:la.name,offset:0,length:la.name.length,entity:{id:la.id}};ja=p.moveFocusToEnd(x({text:la.name+' ',ranges:[ma],decorator:ba(),entityCreationFn:ha}));}}if(!ja)ja=y(ba());return {editorState:ja,expanded:!!this.props.alwaysExpanded};};ia.prototype.$CommentsPluginComposer4=function(){return !this.props.editCommentID&&!this.props.parentCommentIDOfNewReply;};ia.prototype.getPhotoUploadData=function(){var ja=i.getUser().id,ka={profile_id:ja,target_id:this.props.targetID,source:ga};ka[h.PARAMETER_ACTOR]=ja;return ka;};ia.prototype.onPhotoUploadComplete=function(ja){if(!this.state.isLoadingPhoto)return;var ka=ja.getPayload();if(ka&&ka.fbid){i.setAttachedphoto(ka);this.setState({attachedPhoto:ka,isLoadingPhoto:false});}else this.onRemoveAttachedPhotoPreviewClicked(null);};ia.prototype.resetAttachedPhoto=function(){i.setAttachedphoto(undefined);this.setState({attachedPhoto:null,isLoadingPhoto:false});};ia.prototype.onRemoveAttachedPhotoPreviewClicked=function(event){this.resetAttachedPhoto();};ia.prototype.prepareForAttachedPhotoPreview=function(){i.setAttachedphoto(undefined);this.setState({attachedPhoto:null,isLoadingPhoto:true});};ia.prototype.componentDidMount=function(){i.addListener('composerCommentAdded',(function(event){if(this.$CommentsPluginComposer4()){var ja=this.$CommentsPluginComposer1();ja.expanded=true;this.setState(ja);}}).bind(this));if(!this.$CommentsPluginComposer4())this.refs.composer.focus();};ia.prototype.$CommentsPluginComposer2=function(ja){this.setState({editorState:ja});if(this.props.editCommentID){i.setEditComposerState(ja,this.props.editCommentID);}else i.setCreateComposerState(ja,this.props.parentCommentIDOfNewReply);};ia.prototype.$CommentsPluginComposer5=function(){if(this.props.editCommentID)return i.isReply(this.props.editCommentID);return !!this.props.parentCommentIDOfNewReply;};ia.prototype.$CommentsPluginComposer3=function(){this.setState({expanded:true});};ia.prototype.setFileInput=function(ja,ka){this.setState({fileInput:ja,fileUploader:ka});};ia.prototype.render=function(){var ja=this.props.editCommentID?i.getAuthor(this.props.editCommentID):ja=i.getUser(),ka=this.props.placeholder||aa._("Add a comment..."),la=this.$CommentsPluginComposer5();return (r.createElement(u,{spacing:"medium",className:ca(' '+"_4uyl"+(la?' '+"_1zz6":'')+(!this.state.expanded?' '+"_1zz7":'')+(!!this.state.expanded?' '+"_1zz8":''),this.props.className)},i.isMobile()?r.createElement('div',null):r.createElement(l,{href:ja.uri,src:ja.thumbSrc,isReply:la,target:"_blank"}),r.createElement('div',null,r.createElement('div',{className:"UFIInputContainer"},r.createElement(q,{className:' '+"_1cb"+(this.props.readOnly?' '+"_5pu_":''),editorState:this.state.editorState,mentionsSource:i.getComposerSearchSource(),onChange:this.$CommentsPluginComposer2,onFocus:this.$CommentsPluginComposer3,placeholder:ka,readOnly:this.props.readOnly,typeaheadView:w,ref:"composer"}),r.createElement('div',{className:' '+"UFICommentAttachmentButtons"+(' '+"clearfix")+(!k.commentsPluginZemeckisAttachments||!this.props.allowPhotoAttachments?' '+"hidden_elem":'')},r.createElement(s,{onPhotoUploadComplete:this.onPhotoUploadComplete.bind(this),getPhotoUploadData:this.getPhotoUploadData.bind(this),prepareForAttachedPhotoPreview:this.prepareForAttachedPhotoPreview.bind(this),setFileInput:this.setFileInput.bind(this),attachment:this.state.attachedPhoto}))),r.createElement(t,{attachedPhoto:this.state.attachedPhoto,onRemoveAttachedPhotoPreview:this.onRemoveAttachedPhotoPreviewClicked.bind(this),isLoadingPhoto:this.state.isLoadingPhoto}),this.state.expanded?r.createElement('div',{className:"_4uym"},r.createElement(j,{isReply:la}),this.props.children):null)));};ia.propTypes={editCommentID:fa.string,parentCommentIDOfNewReply:fa.string,readOnly:fa.bool,placeholder:fa.node,alwaysExpanded:fa.bool};f.exports=ia;},null);
__d('CommentsPluginComposerEdit.react',['CommentsPluginActions','CommentsPluginComposer.react','CommentsPluginStore','React','XUIButton.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();var o,p;'use strict';var q=k.PropTypes;o=k.Component;p=o&&o.prototype;Object.assign(r,o);r.prototype=Object.create(o.prototype);r.prototype.constructor=r;r.__superConstructor__=o;function r(s,t){p.constructor.call(this,s,t);this.state={waitingAsyncResponse:false};var u=this;u.$CommentsPluginComposerEdit1=this.$CommentsPluginComposerEdit1.bind(this);u.$CommentsPluginComposerEdit2=this.$CommentsPluginComposerEdit2.bind(this);this.$CommentsPluginComposerEdit3=null;}r.prototype.componentDidMount=function(){this.$CommentsPluginComposerEdit3=j.addListener('composerChange',(function(){return this.forceUpdate();}).bind(this));};r.prototype.componentWillUnmount=function(){if(this.$CommentsPluginComposerEdit3)this.$CommentsPluginComposerEdit3.remove();};r.prototype.$CommentsPluginComposerEdit1=function(){this.setState({waitingAsyncResponse:true});h.saveEdit(this.props.commentID);};r.prototype.$CommentsPluginComposerEdit2=function(){h.cancelEdit(this.props.commentID);};r.prototype.$CommentsPluginComposerEdit4=function(){return (this.state.waitingAsyncResponse||j.isEmptyEditComposer(this.props.commentID));};r.prototype.render=function(){return (k.createElement(i,{alwaysExpanded:true,readOnly:this.state.waitingAsyncResponse,editCommentID:this.props.commentID},k.createElement('div',{className:"_5tr6 clearfix _2ph_"},k.createElement(l,{disabled:this.$CommentsPluginComposerEdit4(),label:n._("Save"),use:"confirm",className:"rfloat _3-99",onClick:this.$CommentsPluginComposerEdit1}),k.createElement(l,{disabled:this.state.waitingAsyncResponse,label:n._("Cancel"),use:"default",className:"rfloat _3-99",onClick:this.$CommentsPluginComposerEdit2})),this.props.children));};r.propTypes={commentID:q.string.isRequired};f.exports=r;},null);
__d('CommentsPluginMenu.react',['CommentsPluginAction','CommentsPluginActions','CommentsPluginStore','Image.react','MixinCommentsPluginConfirmAction','ReactXUIMenu','PopoverMenu.react','React','Tooltip','fbt','ix'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){if(c.__markCompiled)c.__markCompiled();'use strict';var s=Object.assign||function(w){for(var x=1;x<arguments.length;x++){var y=arguments[x];for(var z in y)if(Object.prototype.hasOwnProperty.call(y,z))w[z]=y[z];}return w;},t=o.PropTypes,u=m.Item,v=o.createClass({displayName:'CommentsPluginMenu',mixins:[l],propTypes:{commentID:t.string.isRequired},getInitialState:function(){return {opened:false,actionConfirmationShown:false,action:null};},_onMenuShow:function(){this.setState({opened:true});},_onMenuHide:function(){this.setState({opened:false});},_toggleVisibility:function(){i.toggleVisibility(this.props.commentID);},_onAction:function(w,event){var x=event.item.getValue();if(this.requiresConfirmation(x)){this.confirmAction(x);}else if(x===h.SHOW||x===h.COLLAPSE){this._toggleVisibility();}else i[x](this.props.commentID);},_getMenuItem:function(w,x){var y=j.isReply(x.id);switch(w){case h.DELETE:case h.EDIT:if(!x.canEdit)return null;break;case h.FLAG:if(x.canEdit||x.collapsed||x.flagged)return null;break;case h.UNFLAG:if(x.canEdit||!x.flagged)return null;break;case h.SHOW:if(y||!x.collapsed)return null;break;case h.COLLAPSE:if(y||x.collapsed||x.flagged)return null;break;case h.BAN:case h.HIDE:if(!j.isViewerModerator())return null;break;case h.REPORT:if(!x.reportURI)return null;break;default:break;}return (o.createElement(u,{value:w,key:w},h.getLabel(w)));},render:function(){var w=j.getByID(this.props.commentID);return (o.createElement('div',null,o.createElement(n,{alignh:"right",onShow:this._onMenuShow,onHide:this._onMenuHide,menu:o.createElement(m,{onItemClick:this._onAction},h.getMenuActions().map((function(x){return this._getMenuItem(x,w);}).bind(this)))},o.createElement('a',null,o.createElement(k,s({},p.propsFor(q._("Menu")),{src:r('/images/plugins/comments/chevron-down.png')})))),this.renderActionConfirmationDialog(400)));},isOpen:function(){return this.state.opened;}});f.exports=v;},null);
__d('CommentsPluginAuthorSelector.react',['ActorSelector.react','CommentsPluginActions','CommentsPluginStore','React','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m,n;'use strict';m=k.Component;n=m&&m.prototype;Object.assign(o,m);o.prototype=Object.create(m.prototype);o.prototype.constructor=o;o.__superConstructor__=m;function o(p){n.constructor.call(this,p);this.state={selectedActorID:j.getUser().id};var q=this;q.$CommentsPluginAuthorSelector1=this.$CommentsPluginAuthorSelector1.bind(this);}o.prototype.$CommentsPluginAuthorSelector1=function(p){this.setState({selectedActorID:p.value});i.setUser(p.value);};o.prototype.$CommentsPluginAuthorSelector2=function(p){return l._("Commenting as {actorName}",[l.param("actorName",p)]);};o.prototype.render=function(){var p=j.getActorIDs();return (p.length>1?k.createElement('div',{className:this.props.className},k.createElement(h,{actorIDs:p,coverEnabled:false,selectedActorID:this.state.selectedActorID,onChange:this.$CommentsPluginAuthorSelector1,tooltipConstructor:this.$CommentsPluginAuthorSelector2})):null);};f.exports=o;},null);
__d('CommentsPluginComposerReply.react',['CommentsPluginActions','CommentsPluginAuthorSelector.react','CommentsPluginComposer.react','CommentsPluginStore','React','XUIButton.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();var p,q;'use strict';var r=l.PropTypes;p=l.Component;q=p&&p.prototype;Object.assign(s,p);s.prototype=Object.create(p.prototype);s.prototype.constructor=s;s.__superConstructor__=p;function s(t,u){q.constructor.call(this,t,u);this.state={waitingAsyncResponse:false};var v=this;v.$CommentsPluginComposerReply1=this.$CommentsPluginComposerReply1.bind(this);v.$CommentsPluginComposerReply2=this.$CommentsPluginComposerReply2.bind(this);this.$CommentsPluginComposerReply3=null;}s.prototype.componentDidMount=function(){this.$CommentsPluginComposerReply3=k.addListener('composerChange',(function(){return this.forceUpdate();}).bind(this));};s.prototype.componentWillUnmount=function(){if(this.$CommentsPluginComposerReply3)this.$CommentsPluginComposerReply3.remove();};s.prototype.$CommentsPluginComposerReply1=function(){this.setState({waitingAsyncResponse:true});h.addReply(this.props.commentID);this.refs.composer.resetAttachedPhoto();};s.prototype.$CommentsPluginComposerReply2=function(){h.cancelReply(this.props.commentID);};s.prototype.$CommentsPluginComposerReply4=function(){return (this.state.waitingAsyncResponse||k.isEmptyCreateComposer(this.props.commentID));};s.prototype.render=function(){return (l.createElement(j,{allowPhotoAttachments:true,ref:"composer",alwaysExpanded:true,readOnly:this.state.waitingAsyncResponse,parentCommentIDOfNewReply:this.props.commentID,placeholder:o._("Add a reply...")},l.createElement('div',{className:"_5tr6 clearfix _2ph_"},l.createElement(m,{disabled:this.$CommentsPluginComposerReply4(),label:o._("Reply"),use:"confirm",className:"rfloat _3-99",onClick:this.$CommentsPluginComposerReply1}),l.createElement(m,{disabled:this.state.waitingAsyncResponse,label:o._("Cancel"),use:"default",className:"rfloat _3-99",onClick:this.$CommentsPluginComposerReply2}),l.createElement(i,{className:"rfloat"}))));};s.propTypes={commentID:r.string.isRequired};f.exports=s;},null);
__d('CommentsPluginComment.react',['ActorBio.react','CenteredContainer.react','CommentsPluginActions','CommentsPluginCommentActions.react','CommentsPluginComposerEdit.react','CommentsPluginConfig','CommentsPluginProfilePicture.react','CommentsPluginMenu.react','CommentsPluginComposerReply.react','CommentsPluginStore','HovercardLinkInterpolator','Link.react','Image.react','React','TruncatedTextWithEntities.react','UFIActor.react','UFICommentAttachment.react','UFICommentUtils.react','UFIImageBlock.react','XUIGrayText.react','XUISpinner.react','XUIText.react','cx','fbt','joinClasses','nullthrows','xuiglyph'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha){if(c.__markCompiled)c.__markCompiled();var ia=Object.assign||function(qa){for(var ra=1;ra<arguments.length;ra++){var sa=arguments[ra];for(var ta in sa)if(Object.prototype.hasOwnProperty.call(sa,ta))qa[ta]=sa[ta];}return qa;},ja,ka,la,ma;'use strict';var na=u.PropTypes;ja=u.Component;ka=ja&&ja.prototype;Object.assign(oa,ja);oa.prototype=Object.create(ja.prototype);oa.prototype.constructor=oa;oa.__superConstructor__=ja;function oa(qa,ra){ka.constructor.call(this,qa,ra);this.state={showMenu:false};var sa=this;sa.$CommentsPluginComment1=this.$CommentsPluginComment1.bind(this);sa.$CommentsPluginComment2=this.$CommentsPluginComment2.bind(this);}oa.prototype.$CommentsPluginComment1=function(){this.setState({showMenu:true});};oa.prototype.$CommentsPluginComment2=function(){if(!this.refs.menu||!this.refs.menu.isOpen())this.setState({showMenu:false});};oa.prototype.render=function(){var qa=ga(q.getByID(this.props.commentID));if(qa.deleted)return null;if(qa.editor)return (u.createElement('div',{className:"_3-8y"},u.createElement(l,{commentID:this.props.commentID}),u.createElement(pa,{commentID:this.props.commentID,className:"_3j_p"})));var ra=y.shallowCopyRanges(qa.ranges),sa=y.getCommentTextWithTruncatedURIs(ra,qa.body.text),ta=null;if(qa.collapsed||qa.flagged){ta=u.createElement('div',{className:"_5mlf"},u.createElement(aa,{shade:"light"},ea._("This comment is {action}",[ea.param("action",qa.collapsed?'collapsed':'flagged')])));}else{if(qa.photoComment&&m.commentsPluginZemeckisAttachments)qa.photo_comment=qa.photoComment.photo_comment;ta=sa?u.createElement('div',{className:"UFICommentContent"},u.createElement(v,ia({className:"_5mdd",text:sa,ranges:ra,interpolator:function(ya,za){return (r(ya,za,'_blank'));}},q.getCommentBodyTruncationLimits(),{renderEmoticons:true,renderEmoji:true})),u.createElement(x,{comment:qa,disableTheater:true})):null;}var ua=ga(q.getByID(qa.authorID)),va=q.isOptimisticComment(qa),wa=q.isReply(this.props.commentID),xa=q.isMobile();return (u.createElement(z,{className:' '+"_3-8y"+(!wa?' '+"_5nz1":''),spacing:"medium",onMouseEnter:this.$CommentsPluginComment1,onMouseLeave:this.$CommentsPluginComment2},u.createElement(n,{href:ua.uri,src:ua.thumbSrc,isReply:wa,target:"_blank"}),u.createElement('div',null,u.createElement(w,{author:ua,delimiter:xa?' ':undefined,key:"author",showHovercard:!xa,target:"_blank"},ua.bio?u.createElement('div',{className:"_4q1v"},u.createElement(h,{target:"_blank",preferredTypes:ua.bio.preferredTypes,stats:ua.bio.stats})):null),u.createElement('div',{className:"_3-8m"},ta),va||qa.collapsed||qa.flagged?null:u.createElement(k,{commentID:this.props.commentID}),u.createElement(pa,{commentID:this.props.commentID})),u.createElement('div',null,this.state.showMenu&&!va&&!xa?u.createElement(o,{ref:"menu",commentID:this.props.commentID}):null)));};oa.propTypes={commentID:na.string.isRequired};la=u.Component;ma=la&&la.prototype;Object.assign(pa,la);pa.prototype=Object.create(la.prototype);pa.prototype.constructor=pa;pa.__superConstructor__=la;function pa(qa,ra){'use strict';ma.constructor.call(this,qa,ra);this.state={loading:false};var sa=this;sa.$CommentsPluginCommentReplies1=this.$CommentsPluginCommentReplies1.bind(this);}pa.prototype.$CommentsPluginCommentReplies1=function(){'use strict';this.setState({loading:true});q.addListener('moreRepliesCompleted',(function(event){if(this.props.commentID===event.commentID){this.setState({loading:false});q.removeCurrentListener();}}).bind(this));j.showMoreReplies(this.props.commentID);};pa.prototype.render=function(){'use strict';var qa=q.getByID(this.props.commentID),ra=qa.public_replies;if(ra===undefined||qa.collapsed===true||qa.flagged)return qa.composer?u.createElement('div',{className:fa("_44ri _2pis _3-8y",this.props.className)},u.createElement(p,{commentID:this.props.commentID})):null;if(!ra.commentIDs)ra.commentIDs=[];var sa=ra.totalCount-ra.commentIDs.length,ta=q.getPageSize(),ua=sa<ta?sa:ta;return (u.createElement('div',{className:fa("_44ri _2pis",this.props.className)},ra.commentIDs.map((function(va){if(va===this.props.commentID)return null;return u.createElement(oa,{commentID:va,key:va});}).bind(this)),q.hasUnloadedReplies(this.props.commentID)&&sa>0?u.createElement('div',{className:"_5yct _3-8y _3-96 _2ph-"},this.state.loading?u.createElement(i,null,u.createElement(ba,{size:"small"})):u.createElement(s,{onClick:this.$CommentsPluginCommentReplies1},u.createElement(ca,{size:"small",weight:"bold"},ua===1?ea._("Show 1 more reply in this thread"):ea._("Show {number of replies} more replies in this thread",[ea.param("number of replies",ua)])),u.createElement(t,{src:ha({name:'triangle-down'})}))):null,qa.composer?u.createElement('div',{className:"_3-8y"},u.createElement(p,{commentID:this.props.commentID})):null));};pa.propTypes={commentID:na.string.isRequired};f.exports=oa;},null);
__d('CommentsPluginLoadMore.react',['CenteredContainer.react','CommentsPluginActions','CommentsPluginStore','React','XUIButton.react','XUISpinner.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();var p,q;'use strict';p=k.Component;q=p&&p.prototype;Object.assign(r,p);r.prototype=Object.create(p.prototype);r.prototype.constructor=r;r.__superConstructor__=p;function r(s,t){q.constructor.call(this,s,t);this.state={loading:false};var u=this;u.$CommentsPluginLoadMore1=this.$CommentsPluginLoadMore1.bind(this);}r.prototype.$CommentsPluginLoadMore1=function(){i.showMoreComments();this.setState({loading:true});j.addListener('moreCommentsCompleted',(function(){this.setState({loading:false});j.removeCurrentListener();}).bind(this));};r.prototype.render=function(){var s=j.getUnloadedCommentsCount();if(!j.hasUnloadedComments()||s<1)return null;if(this.state.loading)return (k.createElement(h,{className:"_ndl"},k.createElement(m,{size:"large"})));var t=j.getPageSize(),u=s<t?s:t;return (k.createElement('div',{className:"_5o4h"},k.createElement(l,{className:"_1gl3",role:"button",onClick:this.$CommentsPluginLoadMore1,label:u===1?o._("Load 1 more comment"):o._("Load {pagesize} more comments",[o.param("pagesize",u)])})));};f.exports=r;},null);
__d('CommentsPluginListing.react',['CommentsPluginComment.react','CommentsPluginLoadMore.react','CommentsPluginStore','React','cx'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m,n;'use strict';m=k.Component;n=m&&m.prototype;Object.assign(o,m);o.prototype=Object.create(m.prototype);o.prototype.constructor=o;o.__superConstructor__=m;o.prototype.render=function(){var p=j.getCommentIDs(),q=p.map(function(r){return k.createElement(h,{commentID:r,key:r});});return (k.createElement('div',{className:"_4k-6"},q,k.createElement(i,null)));};function o(){m.apply(this,arguments);}f.exports=o;},null);
__d('CommentsPluginComposerComment.react',['CommentsPluginActions','CommentsPluginAuthorSelector.react','CommentsPluginComposer.react','CommentsPluginStore','InputLabel.react','LeftRight.react','React','XUIButton.react','XUICheckboxInput.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){if(c.__markCompiled)c.__markCompiled();var s,t;'use strict';s=n.Component;t=s&&s.prototype;Object.assign(u,s);u.prototype=Object.create(s.prototype);u.prototype.constructor=u;u.__superConstructor__=s;function u(v){t.constructor.call(this,v);this.state={selectedActorID:k.getUser().id,postToFeed:false,waitingAsyncResponse:false};var w=this;w.$CommentsPluginComposerComment1=this.$CommentsPluginComposerComment1.bind(this);w.$CommentsPluginComposerComment2=this.$CommentsPluginComposerComment2.bind(this);}u.prototype.componentDidMount=function(){k.addListener('composerChange',(function(){return (this.forceUpdate());}).bind(this));k.addListener('composerCommentAdded',(function(){this.setState({waitingAsyncResponse:false});this.refs.composer.resetAttachedPhoto();}).bind(this));k.addListener('login',(function(){this.setState({waitingAsyncResponse:false});}).bind(this));};u.prototype.$CommentsPluginComposerComment2=function(event){var v=!this.state.postToFeed;this.setState({postToFeed:v});h.setPostToFeed(v);};u.prototype.$CommentsPluginComposerComment3=function(){var v=this.state.selectedActorID;if(v!==k.LOGGED_OUT_USER)return v;return k.getUser().id;};u.prototype.$CommentsPluginComposerComment1=function(){this.setState({waitingAsyncResponse:true});h.setPostToFeed(this.state.postToFeed);h.addComment();};u.prototype.$CommentsPluginComposerComment4=function(){return (this.state.waitingAsyncResponse||k.isEmptyCreateComposer());};u.prototype.render=function(){var v=k.isLoggedIn()?r._("Post"):r._("Log In to Post");return (n.createElement(j,{allowPhotoAttachments:true,ref:"composer",className:"_2392",readOnly:this.state.waitingAsyncResponse},n.createElement(m,{className:"_5tr6 clearfix _2ph-"},!k.isMirrored()?n.createElement(l,{className:"_1u0n"},n.createElement(p,{checked:this.state.postToFeed,onChange:this.$CommentsPluginComposerComment2}),n.createElement('label',{className:"_3-99 _2ern _50f8 _5kx5"},r._("Also post on Facebook"))):n.createElement('span',null),n.createElement('span',null,n.createElement(o,{disabled:this.$CommentsPluginComposerComment4(),label:v,use:"confirm",className:"rfloat _3-99",onClick:this.$CommentsPluginComposerComment1}),n.createElement(i,{className:"rfloat"})))));};f.exports=u;},null);
__d("XPluginCommentsConfirmPostToFacebookAsyncDialogController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/plugins\/comments\/{comment_id}\/async\/confirm\/publish\/dialog\/",{comment_id:{type:"String",required:true},__asyncDialog:{type:"Int"}});},null,{});
__d('CommentsPlugin.react',['AsyncDialog','AsyncRequest','CommentsPluginFooter.react','CommentsPluginHeader.react','CommentsPluginListing.react','CommentsPluginComposerComment.react','CommentsPluginStore','XPluginCommentsConfirmPostToFacebookAsyncDialogController','DOMQuery','PluginResize','React','CommentsPluginSentryAction','SimpleXUIDialog','cx','fbt','getElementPosition','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x){if(c.__markCompiled)c.__markCompiled();var y,z;'use strict';var aa=r.PropTypes;y=r.Component;z=y&&y.prototype;Object.assign(ba,y);ba.prototype=Object.create(y.prototype);ba.prototype.constructor=ba;ba.__superConstructor__=y;ba.prototype.componentWillMount=function(){n.init(this.props.comments,this.props.meta,this.props.initialOrdering);n.addListener('postError',function(ca){t.show(!!ca.errorSummary?ca.errorSummary:v._("Sorry, something went wrong. Please try again later."));});n.addListener('sentryAction',function(ca,da){switch(ca){case s.CONFIRM_POST_TO_PROFILE:var ea=o.getURIBuilder().setString('comment_id',da).getURI();h.send(new i(ea).setData({iframe_referer:n.getIframeReferer()}));break;default:break;}});};ba.prototype.componentDidMount=function(){q.auto(r.findDOMNode(this));var ca=r.findDOMNode(this);new q(function(){return ca.offsetWidth;},function(){var da=ca.offsetHeight;if(n.getCommentsCount()>1)return da;var ea=p.scry(document.body,'.uiLayer:not(.hidden_elem) .uiContextualLayer');if(ea.length===0)return da;var fa=w(ea[0]);return Math.max(da,fa.y+fa.height+1);},'resize.iframe',false).resize().auto();n.addListener('change',(function(){this.forceUpdate();}).bind(this));};ba.prototype.render=function(){return (r.createElement('div',{className:x("_56q9",this.props.className)},r.createElement('div',{className:"_2pi8"},r.createElement(k,null),r.createElement(m,null),r.createElement(l,null),r.createElement(j,null))));};function ba(){y.apply(this,arguments);}ba.propTypes={comments:aa.object.isRequired,meta:aa.object.isRequired,initialOrdering:aa.string.isRequired};f.exports=ba;},null);