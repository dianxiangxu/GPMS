/* Copyright (C) YOOtheme GmbH, http://www.gnu.org/licenses/gpl.html GNU/GPL */

!function(t){var e=function(){};t.extend(e.prototype,{name:"accordionMenu",options:{mode:"default",display:null,collapseall:!1,toggler:"span.level1.parent",content:"ul.level2",onaction:function(){}},initialize:function(e,a){var a=t.extend({},this.options,a),i=e.find(a.toggler);i.each(function(e){var i=t(this),o=i.next(a.content).wrap("<div>").parent();o.data("height",o.height()),i.hasClass("active")||e==a.display?o.show():o.hide().css("height",0),i.bind("click",function(){n(e)})});var n=function(e){var n=t(i.get(e)),o=t([]);switch(n.hasClass("active")&&(o=n,n=t([])),a.collapseall&&(o=i.filter(".active")),a.mode){case"slide":n.next().stop().show().animate({height:n.next().data("height")},400),o.next().stop().animate({height:0},400,function(){o.next().hide()}),setTimeout(function(){a.onaction.apply(this,[n,o])},401);break;default:n.next().show().css("height",n.next().data("height")),o.next().hide().css("height",0),a.onaction.apply(this,[n,o])}n.addClass("active").parent().addClass("active"),o.removeClass("active").parent().removeClass("active")}}}),t.fn[e.prototype.name]=function(){var a=arguments,i=a[0]?a[0]:null;return this.each(function(){var n=t(this);if(e.prototype[i]&&n.data(e.prototype.name)&&"initialize"!=i)n.data(e.prototype.name)[i].apply(n.data(e.prototype.name),Array.prototype.slice.call(a,1));else if(!i||t.isPlainObject(i)){var o=new e;e.prototype.initialize&&o.initialize.apply(o,t.merge([n],a)),n.data(e.prototype.name,o)}else t.error("Method "+i+" does not exist on jQuery."+e.name)})}}(jQuery);