<!DOCTYPE html>
<!-- saved from url=(0254)http://www.toptal.com/ios/simplifying-restful-api-use-and-data-persistence-on-ios-with-mantle-and-realm?utm_source=Engineering+Blog+Subscribers&utm_campaign=f7d88d76ad-blog_post_realm_mantle_ios&utm_medium=email&utm_term=0_af8c2cde60-f7d88d76ad-111539357 -->
<html class="layout-wrapper js flexbox flexboxlegacy canvas canvastext webgl no-touch geolocation postmessage websqldatabase indexeddb hashchange history draganddrop websockets rgba hsla multiplebgs backgroundsize borderimage borderradius boxshadow textshadow opacity cssanimations csscolumns cssgradients cssreflections csstransforms csstransforms3d csstransitions fontface generatedcontent video audio localstorage sessionstorage webworkers applicationcache svg inlinesvg smil svgclippaths wf-active"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>Simple Guide to Using Realm and Mantle on iOS | Toptal</title><style type="text/css"></style><meta content="A large number of modern mobile applications interact with web services in one way or another, and iOS applications are no different. Mantle (a model framework) and Realm (a mobile database) come with the promise of simplifying some of the hurdles in consuming web services through RESTful APIs and persisting data locally. In this article, Toptal engineer Marcin Kmiec shows how to build a simple iOS application using Mantle and Realm and demonstrates how this approach helps to eliminate a large amount of boilerplate code." name="description"><meta charset="utf-8"><meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
<script type="text/javascript" src="./Simple Guide to Using Realm and Mantle on iOS _ Toptal_files/e3359cee6b"></script><script src="./Simple Guide to Using Realm and Mantle on iOS _ Toptal_files/rollbar.min.js" async=""></script><script src="./Simple Guide to Using Realm and Mantle on iOS _ Toptal_files/nr-632.min.js"></script><script type="text/javascript" async="" src="http://a.adroll.com/j/roundtrip.js"></script><script type="text/javascript" async="" src="./Simple Guide to Using Realm and Mantle on iOS _ Toptal_files/mixpanel-2-latest.min.js"></script><script type="text/javascript" async="" src="./Simple Guide to Using Realm and Mantle on iOS _ Toptal_files/o7s7w5gj"></script><script type="text/javascript" async="" src="./Simple Guide to Using Realm and Mantle on iOS _ Toptal_files/fbds.js"></script><script type="text/javascript" async="" src="./Simple Guide to Using Realm and Mantle on iOS _ Toptal_files/fbds.js"></script><script type="text/javascript" async="" src="./Simple Guide to Using Realm and Mantle on iOS _ Toptal_files/conversion_async.js"></script><script src="./Simple Guide to Using Realm and Mantle on iOS _ Toptal_files/cb=gapi.loaded_1" async=""></script><script src="./Simple Guide to Using Realm and Mantle on iOS _ Toptal_files/cb=gapi.loaded_0" async=""></script><script src="./Simple Guide to Using Realm and Mantle on iOS _ Toptal_files/5977.js" async="" type="text/javascript"></script><script type="text/javascript" async="" src="./Simple Guide to Using Realm and Mantle on iOS _ Toptal_files/analytics.min.js"></script><script async="" src="./Simple Guide to Using Realm and Mantle on iOS _ Toptal_files/analytics.js"></script><script async="" src="./Simple Guide to Using Realm and Mantle on iOS _ Toptal_files/plusone.js" id="undefined" gapi_processed="true"></script><script async="" src="./Simple Guide to Using Realm and Mantle on iOS _ Toptal_files/sdk.js" id="facebook-jssdk"></script><script async="" src="./Simple Guide to Using Realm and Mantle on iOS _ Toptal_files/widgets.js" id="undefined"></script><script async="" src="./Simple Guide to Using Realm and Mantle on iOS _ Toptal_files/in.js" id="linkedin"></script><script async="" src="./Simple Guide to Using Realm and Mantle on iOS _ Toptal_files/hn-button.js" id="hn-button.js"></script><script type="text/javascript">window.NREUM||(NREUM={});NREUM.info={"beacon":"bam.nr-data.net","errorBeacon":"bam.nr-data.net","licenseKey":"e3359cee6b","applicationID":"2530279","transactionName":"JV0NEUYJCQkARxgVEwReCgYbFgoWEUYYFg4JRQ==","queueTime":0,"applicationTime":91,"agent":"js-agent.newrelic.com/nr-632.min.js"}</script>
<script type="text/javascript">(window.NREUM||(NREUM={})).loader_config={xpid:"VgcEVlJaGwEFV1FQAAg="};window.NREUM||(NREUM={}),__nr_require=function(t,e,n){function r(n){if(!e[n]){var o=e[n]={exports:{}};t[n][0].call(o.exports,function(e){var o=t[n][1][e];return r(o?o:e)},o,o.exports)}return e[n].exports}if("function"==typeof __nr_require)return __nr_require;for(var o=0;o<n.length;o++)r(n[o]);return r}({QJf3ax:[function(t,e){function n(t){function e(e,n,a){t&&t(e,n,a),a||(a={});for(var c=s(e),f=c.length,u=i(a,o,r),d=0;f>d;d++)c[d].apply(u,n);return u}function a(t,e){f[t]=s(t).concat(e)}function s(t){return f[t]||[]}function c(){return n(e)}var f={};return{on:a,emit:e,create:c,listeners:s,_events:f}}function r(){return{}}var o="nr@context",i=t("gos");e.exports=n()},{gos:"7eSDFh"}],ee:[function(t,e){e.exports=t("QJf3ax")},{}],3:[function(t){function e(t){try{i.console&&console.log(t)}catch(e){}}var n,r=t("ee"),o=t(1),i={};try{n=localStorage.getItem("__nr_flags").split(","),console&&"function"==typeof console.log&&(i.console=!0,-1!==n.indexOf("dev")&&(i.dev=!0),-1!==n.indexOf("nr_dev")&&(i.nrDev=!0))}catch(a){}i.nrDev&&r.on("internal-error",function(t){e(t.stack)}),i.dev&&r.on("fn-err",function(t,n,r){e(r.stack)}),i.dev&&(e("NR AGENT IN DEVELOPMENT MODE"),e("flags: "+o(i,function(t){return t}).join(", ")))},{1:23,ee:"QJf3ax"}],4:[function(t){function e(t,e,n,i,s){try{c?c-=1:r("err",[s||new UncaughtException(t,e,n)])}catch(f){try{r("ierr",[f,(new Date).getTime(),!0])}catch(u){}}return"function"==typeof a?a.apply(this,o(arguments)):!1}function UncaughtException(t,e,n){this.message=t||"Uncaught error with no additional information",this.sourceURL=e,this.line=n}function n(t){r("err",[t,(new Date).getTime()])}var r=t("handle"),o=t(6),i=t("ee"),a=window.onerror,s=!1,c=0;t("loader").features.err=!0,t(5),window.onerror=e;try{throw new Error}catch(f){"stack"in f&&(t(1),t(2),"addEventListener"in window&&t(3),window.XMLHttpRequest&&XMLHttpRequest.prototype&&XMLHttpRequest.prototype.addEventListener&&window.XMLHttpRequest&&XMLHttpRequest.prototype&&XMLHttpRequest.prototype.addEventListener&&!/CriOS/.test(navigator.userAgent)&&t(4),s=!0)}i.on("fn-start",function(){s&&(c+=1)}),i.on("fn-err",function(t,e,r){s&&(this.thrown=!0,n(r))}),i.on("fn-end",function(){s&&!this.thrown&&c>0&&(c-=1)}),i.on("internal-error",function(t){r("ierr",[t,(new Date).getTime(),!0])})},{1:10,2:9,3:7,4:11,5:3,6:24,ee:"QJf3ax",handle:"D5DuLP",loader:"G9z0Bl"}],5:[function(t){t("loader").features.ins=!0},{loader:"G9z0Bl"}],6:[function(t){function e(){}if(window.performance&&window.performance.timing&&window.performance.getEntriesByType){var n=t("ee"),r=t("handle"),o=t(1),i=t(2);t("loader").features.stn=!0,t(3),n.on("fn-start",function(t){var e=t[0];e instanceof Event&&(this.bstStart=Date.now())}),n.on("fn-end",function(t,e){var n=t[0];n instanceof Event&&r("bst",[n,e,this.bstStart,Date.now()])}),o.on("fn-start",function(t,e,n){this.bstStart=Date.now(),this.bstType=n}),o.on("fn-end",function(t,e){r("bstTimer",[e,this.bstStart,Date.now(),this.bstType])}),i.on("fn-start",function(){this.bstStart=Date.now()}),i.on("fn-end",function(t,e){r("bstTimer",[e,this.bstStart,Date.now(),"requestAnimationFrame"])}),n.on("pushState-start",function(){this.time=Date.now(),this.startPath=location.pathname+location.hash}),n.on("pushState-end",function(){r("bstHist",[location.pathname+location.hash,this.startPath,this.time])}),"addEventListener"in window.performance&&(window.performance.addEventListener("webkitresourcetimingbufferfull",function(){r("bstResource",[window.performance.getEntriesByType("resource")]),window.performance.webkitClearResourceTimings()},!1),window.performance.addEventListener("resourcetimingbufferfull",function(){r("bstResource",[window.performance.getEntriesByType("resource")]),window.performance.clearResourceTimings()},!1)),document.addEventListener("scroll",e,!1),document.addEventListener("keypress",e,!1),document.addEventListener("click",e,!1)}},{1:10,2:9,3:8,ee:"QJf3ax",handle:"D5DuLP",loader:"G9z0Bl"}],7:[function(t,e){function n(t){i.inPlace(t,["addEventListener","removeEventListener"],"-",r)}function r(t){return t[1]}var o=(t(1),t("ee").create()),i=t(2)(o),a=t("gos");if(e.exports=o,n(window),"getPrototypeOf"in Object){for(var s=document;s&&!s.hasOwnProperty("addEventListener");)s=Object.getPrototypeOf(s);s&&n(s);for(var c=XMLHttpRequest.prototype;c&&!c.hasOwnProperty("addEventListener");)c=Object.getPrototypeOf(c);c&&n(c)}else XMLHttpRequest.prototype.hasOwnProperty("addEventListener")&&n(XMLHttpRequest.prototype);o.on("addEventListener-start",function(t){if(t[1]){var e=t[1];"function"==typeof e?this.wrapped=t[1]=a(e,"nr@wrapped",function(){return i(e,"fn-",null,e.name||"anonymous")}):"function"==typeof e.handleEvent&&i.inPlace(e,["handleEvent"],"fn-")}}),o.on("removeEventListener-start",function(t){var e=this.wrapped;e&&(t[1]=e)})},{1:24,2:25,ee:"QJf3ax",gos:"7eSDFh"}],8:[function(t,e){var n=(t(2),t("ee").create()),r=t(1)(n);e.exports=n,r.inPlace(window.history,["pushState"],"-")},{1:25,2:24,ee:"QJf3ax"}],9:[function(t,e){var n=(t(2),t("ee").create()),r=t(1)(n);e.exports=n,r.inPlace(window,["requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame"],"raf-"),n.on("raf-start",function(t){t[0]=r(t[0],"fn-")})},{1:25,2:24,ee:"QJf3ax"}],10:[function(t,e){function n(t,e,n){t[0]=o(t[0],"fn-",null,n)}var r=(t(2),t("ee").create()),o=t(1)(r);e.exports=r,o.inPlace(window,["setTimeout","setInterval","setImmediate"],"setTimer-"),r.on("setTimer-start",n)},{1:25,2:24,ee:"QJf3ax"}],11:[function(t,e){function n(){f.inPlace(this,p,"fn-")}function r(t,e){f.inPlace(e,["onreadystatechange"],"fn-")}function o(t,e){return e}function i(t,e){for(var n in t)e[n]=t[n];return e}var a=t("ee").create(),s=t(1),c=t(2),f=c(a),u=c(s),d=window.XMLHttpRequest,p=["onload","onerror","onabort","onloadstart","onloadend","onprogress","ontimeout"];e.exports=a,window.XMLHttpRequest=function(t){var e=new d(t);try{a.emit("new-xhr",[],e),u.inPlace(e,["addEventListener","removeEventListener"],"-",o),e.addEventListener("readystatechange",n,!1)}catch(r){try{a.emit("internal-error",[r])}catch(i){}}return e},i(d,XMLHttpRequest),XMLHttpRequest.prototype=d.prototype,f.inPlace(XMLHttpRequest.prototype,["open","send"],"-xhr-",o),a.on("send-xhr-start",r),a.on("open-xhr-start",r)},{1:7,2:25,ee:"QJf3ax"}],12:[function(t){function e(t){var e=this.params,r=this.metrics;if(!this.ended){this.ended=!0;for(var i=0;c>i;i++)t.removeEventListener(s[i],this.listener,!1);if(!e.aborted){if(r.duration=(new Date).getTime()-this.startTime,4===t.readyState){e.status=t.status;var a=t.responseType,f="arraybuffer"===a||"blob"===a||"json"===a?t.response:t.responseText,u=n(f);if(u&&(r.rxSize=u),this.sameOrigin){var d=t.getResponseHeader("X-NewRelic-App-Data");d&&(e.cat=d.split(", ").pop())}}else e.status=0;r.cbTime=this.cbTime,o("xhr",[e,r,this.startTime])}}}function n(t){if("string"==typeof t&&t.length)return t.length;if("object"!=typeof t)return void 0;if("undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer&&t.byteLength)return t.byteLength;if("undefined"!=typeof Blob&&t instanceof Blob&&t.size)return t.size;if("undefined"!=typeof FormData&&t instanceof FormData)return void 0;try{return JSON.stringify(t).length}catch(e){return void 0}}function r(t,e){var n=i(e),r=t.params;r.host=n.hostname+":"+n.port,r.pathname=n.pathname,t.sameOrigin=n.sameOrigin}if(window.XMLHttpRequest&&XMLHttpRequest.prototype&&XMLHttpRequest.prototype.addEventListener&&!/CriOS/.test(navigator.userAgent)){t("loader").features.xhr=!0;var o=t("handle"),i=t(2),a=t("ee"),s=["load","error","abort","timeout"],c=s.length,f=t(1);t(4),t(3),a.on("new-xhr",function(){this.totalCbs=0,this.called=0,this.cbTime=0,this.end=e,this.ended=!1,this.xhrGuids={}}),a.on("open-xhr-start",function(t){this.params={method:t[0]},r(this,t[1]),this.metrics={}}),a.on("open-xhr-end",function(t,e){"loader_config"in NREUM&&"xpid"in NREUM.loader_config&&this.sameOrigin&&e.setRequestHeader("X-NewRelic-ID",NREUM.loader_config.xpid)}),a.on("send-xhr-start",function(t,e){var r=this.metrics,o=t[0],i=this;if(r&&o){var f=n(o);f&&(r.txSize=f)}this.startTime=(new Date).getTime(),this.listener=function(t){try{"abort"===t.type&&(i.params.aborted=!0),("load"!==t.type||i.called===i.totalCbs&&(i.onloadCalled||"function"!=typeof e.onload))&&i.end(e)}catch(n){try{a.emit("internal-error",[n])}catch(r){}}};for(var u=0;c>u;u++)e.addEventListener(s[u],this.listener,!1)}),a.on("xhr-cb-time",function(t,e,n){this.cbTime+=t,e?this.onloadCalled=!0:this.called+=1,this.called!==this.totalCbs||!this.onloadCalled&&"function"==typeof n.onload||this.end(n)}),a.on("xhr-load-added",function(t,e){var n=""+f(t)+!!e;this.xhrGuids&&!this.xhrGuids[n]&&(this.xhrGuids[n]=!0,this.totalCbs+=1)}),a.on("xhr-load-removed",function(t,e){var n=""+f(t)+!!e;this.xhrGuids&&this.xhrGuids[n]&&(delete this.xhrGuids[n],this.totalCbs-=1)}),a.on("addEventListener-end",function(t,e){e instanceof XMLHttpRequest&&"load"===t[0]&&a.emit("xhr-load-added",[t[1],t[2]],e)}),a.on("removeEventListener-end",function(t,e){e instanceof XMLHttpRequest&&"load"===t[0]&&a.emit("xhr-load-removed",[t[1],t[2]],e)}),a.on("fn-start",function(t,e,n){e instanceof XMLHttpRequest&&("onload"===n&&(this.onload=!0),("load"===(t[0]&&t[0].type)||this.onload)&&(this.xhrCbStart=(new Date).getTime()))}),a.on("fn-end",function(t,e){this.xhrCbStart&&a.emit("xhr-cb-time",[(new Date).getTime()-this.xhrCbStart,this.onload,e],e)})}},{1:"XL7HBI",2:13,3:11,4:7,ee:"QJf3ax",handle:"D5DuLP",loader:"G9z0Bl"}],13:[function(t,e){e.exports=function(t){var e=document.createElement("a"),n=window.location,r={};e.href=t,r.port=e.port;var o=e.href.split("://");return!r.port&&o[1]&&(r.port=o[1].split("/")[0].split("@").pop().split(":")[1]),r.port&&"0"!==r.port||(r.port="https"===o[0]?"443":"80"),r.hostname=e.hostname||n.hostname,r.pathname=e.pathname,r.protocol=o[0],"/"!==r.pathname.charAt(0)&&(r.pathname="/"+r.pathname),r.sameOrigin=!e.hostname||e.hostname===document.domain&&e.port===n.port&&e.protocol===n.protocol,r}},{}],14:[function(t,e){function n(t){return function(){r(t,[(new Date).getTime()].concat(i(arguments)))}}var r=t("handle"),o=t(1),i=t(2);"undefined"==typeof window.newrelic&&(newrelic=window.NREUM);var a=["setPageViewName","addPageAction","setCustomAttribute","finished","addToTrace","inlineHit","noticeError"];o(a,function(t,e){window.NREUM[e]=n("api-"+e)}),e.exports=window.NREUM},{1:23,2:24,handle:"D5DuLP"}],"7eSDFh":[function(t,e){function n(t,e,n){if(r.call(t,e))return t[e];var o=n();if(Object.defineProperty&&Object.keys)try{return Object.defineProperty(t,e,{value:o,writable:!0,enumerable:!1}),o}catch(i){}return t[e]=o,o}var r=Object.prototype.hasOwnProperty;e.exports=n},{}],gos:[function(t,e){e.exports=t("7eSDFh")},{}],handle:[function(t,e){e.exports=t("D5DuLP")},{}],D5DuLP:[function(t,e){function n(t,e,n){return r.listeners(t).length?r.emit(t,e,n):(o[t]||(o[t]=[]),void o[t].push(e))}var r=t("ee").create(),o={};e.exports=n,n.ee=r,r.q=o},{ee:"QJf3ax"}],id:[function(t,e){e.exports=t("XL7HBI")},{}],XL7HBI:[function(t,e){function n(t){var e=typeof t;return!t||"object"!==e&&"function"!==e?-1:t===window?0:i(t,o,function(){return r++})}var r=1,o="nr@id",i=t("gos");e.exports=n},{gos:"7eSDFh"}],G9z0Bl:[function(t,e){function n(){var t=p.info=NREUM.info,e=f.getElementsByTagName("script")[0];if(t&&t.licenseKey&&t.applicationID&&e){s(d,function(e,n){e in t||(t[e]=n)});var n="https"===u.split(":")[0]||t.sslForHttp;p.proto=n?"https://":"http://",a("mark",["onload",i()]);var r=f.createElement("script");r.src=p.proto+t.agent,e.parentNode.insertBefore(r,e)}}function r(){"complete"===f.readyState&&o()}function o(){a("mark",["domContent",i()])}function i(){return(new Date).getTime()}var a=t("handle"),s=t(1),c=(t(2),window),f=c.document,u=(""+location).split("?")[0],d={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net",agent:"js-agent.newrelic.com/nr-632.min.js"},p=e.exports={offset:i(),origin:u,features:{}};f.addEventListener?(f.addEventListener("DOMContentLoaded",o,!1),c.addEventListener("load",n,!1)):(f.attachEvent("onreadystatechange",r),c.attachEvent("onload",n)),a("mark",["firstbyte",i()])},{1:23,2:14,handle:"D5DuLP"}],loader:[function(t,e){e.exports=t("G9z0Bl")},{}],23:[function(t,e){function n(t,e){var n=[],o="",i=0;for(o in t)r.call(t,o)&&(n[i]=e(o,t[o]),i+=1);return n}var r=Object.prototype.hasOwnProperty;e.exports=n},{}],24:[function(t,e){function n(t,e,n){e||(e=0),"undefined"==typeof n&&(n=t?t.length:0);for(var r=-1,o=n-e||0,i=Array(0>o?0:o);++r<o;)i[r]=t[e+r];return i}e.exports=n},{}],25:[function(t,e){function n(t){return!(t&&"function"==typeof t&&t.apply&&!t[i])}var r=t("ee"),o=t(1),i="nr@wrapper",a=Object.prototype.hasOwnProperty;e.exports=function(t){function e(t,e,r,a){function nrWrapper(){var n,i,s,f;try{i=this,n=o(arguments),s=r&&r(n,i)||{}}catch(d){u([d,"",[n,i,a],s])}c(e+"start",[n,i,a],s);try{return f=t.apply(i,n)}catch(p){throw c(e+"err",[n,i,p],s),p}finally{c(e+"end",[n,i,f],s)}}return n(t)?t:(e||(e=""),nrWrapper[i]=!0,f(t,nrWrapper),nrWrapper)}function s(t,r,o,i){o||(o="");var a,s,c,f="-"===o.charAt(0);for(c=0;c<r.length;c++)s=r[c],a=t[s],n(a)||(t[s]=e(a,f?s+o:o,i,s))}function c(e,n,r){try{t.emit(e,n,r)}catch(o){u([o,e,n,r])}}function f(t,e){if(Object.defineProperty&&Object.keys)try{var n=Object.keys(t);return n.forEach(function(n){Object.defineProperty(e,n,{get:function(){return t[n]},set:function(e){return t[n]=e,e}})}),e}catch(r){u([r])}for(var o in t)a.call(t,o)&&(e[o]=t[o]);return e}function u(e){try{t.emit("internal-error",e)}catch(n){}}return t||(t=r),e.inPlace=s,e.flag=i,e}},{1:24,ee:"QJf3ax"}]},{},["G9z0Bl",4,12,6,5]);</script><meta content="width=device-width, initial-scale=1.0" name="viewport"><script>
  var _rollbarConfig = {
    accessToken: "cc4cbdcfde904714a4fb77535e3229ae",
    captureUncaught: true,
    payload: {
      environment: "production"
    }
  };
  !function(a,b){function c(b){this.shimId=++h,this.notifier=null,this.parentShim=b,this.logger=function(){},a.console&&void 0===a.console.shimId&&(this.logger=a.console.log)}function d(b,c,d){a._rollbarWrappedError&&(d[4]||(d[4]=a._rollbarWrappedError),d[5]||(d[5]=a._rollbarWrappedError._rollbarContext),a._rollbarWrappedError=null),b.uncaughtError.apply(b,d),c&&c.apply(a,d)}function e(b){var d=c;return g(function(){if(this.notifier)return this.notifier[b].apply(this.notifier,arguments);var c=this,e="scope"===b;e&&(c=new d(this));var f=Array.prototype.slice.call(arguments,0),g={shim:c,method:b,args:f,ts:new Date};return a._rollbarShimQueue.push(g),e?c:void 0})}function f(a,b){if(b.hasOwnProperty&&b.hasOwnProperty("addEventListener")){var c=b.addEventListener;b.addEventListener=function(b,d,e){c.call(this,b,a.wrap(d),e)};var d=b.removeEventListener;b.removeEventListener=function(a,b,c){d.call(this,a,b&&b._wrapped?b._wrapped:b,c)}}}function g(a,b){return b=b||this.logger,function(){try{return a.apply(this,arguments)}catch(c){b("Rollbar internal error:",c)}}}var h=0;c.init=function(a,b){var e=b.globalAlias||"Rollbar";if("object"==typeof a[e])return a[e];a._rollbarShimQueue=[],a._rollbarWrappedError=null,b=b||{};var h=new c;return g(function(){if(h.configure(b),b.captureUncaught){var c=a.onerror;a.onerror=function(){var a=Array.prototype.slice.call(arguments,0);d(h,c,a)};var g,i,j="EventTarget,Window,Node,ApplicationCache,AudioTrackList,ChannelMergerNode,CryptoOperation,EventSource,FileReader,HTMLUnknownElement,IDBDatabase,IDBRequest,IDBTransaction,KeyOperation,MediaController,MessagePort,ModalWindow,Notification,SVGElementInstance,Screen,TextTrack,TextTrackCue,TextTrackList,WebSocket,WebSocketWorker,Worker,XMLHttpRequest,XMLHttpRequestEventTarget,XMLHttpRequestUpload".split(",");for(g=0;g<j.length;++g)i=j[g],a[i]&&a[i].prototype&&f(h,a[i].prototype)}return a[e]=h,h},h.logger)()},c.prototype.loadFull=function(a,b,c,d,e){var f=g(function(){var a=b.createElement("script"),e=b.getElementsByTagName("script")[0];a.src=d.rollbarJsUrl,a.async=!c,a.onload=h,e.parentNode.insertBefore(a,e)},this.logger),h=g(function(){var b;if(void 0===a._rollbarPayloadQueue){var c,d,f,g;for(b=new Error("rollbar.js did not load");c=a._rollbarShimQueue.shift();)for(f=c.args,g=0;g<f.length;++g)if(d=f[g],"function"==typeof d){d(b);break}}"function"==typeof e&&e(b)},this.logger);g(function(){c?f():a.addEventListener?a.addEventListener("load",f,!1):a.attachEvent("onload",f)},this.logger)()},c.prototype.wrap=function(b,c){try{var d;if(d="function"==typeof c?c:function(){return c||{}},"function"!=typeof b)return b;if(b._isWrap)return b;if(!b._wrapped){b._wrapped=function(){try{return b.apply(this,arguments)}catch(c){throw c._rollbarContext=d(),c._rollbarContext._wrappedSource=b.toString(),a._rollbarWrappedError=c,c}},b._wrapped._isWrap=!0;for(var e in b)b.hasOwnProperty(e)&&(b._wrapped[e]=b[e])}return b._wrapped}catch(f){return b}};for(var i="log,debug,info,warn,warning,error,critical,global,configure,scope,uncaughtError".split(","),j=0;j<i.length;++j)c.prototype[i[j]]=e(i[j]);var k="//d37gvrvc0wt4s1.cloudfront.net/js/v1.1/rollbar.min.js";_rollbarConfig.rollbarJsUrl=_rollbarConfig.rollbarJsUrl||k;var l=c.init(a,_rollbarConfig);l.loadFull(a,b,!1,_rollbarConfig)}(window,document);
</script>
<meta content="Simplifying RESTful API Use and Data Persistence on iOS with Mantle and Realm" property="og:title"><meta content="http://assets.toptal.io/uploads/blog/post_image/90208/722mahmud-0111-ca5e285f1ddbfda16c6acc136b154862.jpg" property="og:image"><meta content="Toptal Engineering Blog" property="og:site_name"><meta content="A large number of modern mobile applications interact with web services in one way or another, and iOS applications are no different. Mantle (a model framework) and Realm (a mobile database) come with the promise of simplifying some of the hurdles in consuming web services through RESTful APIs and persisting data locally. In this article, Toptal engineer Marcin Kmiec shows how to build a simple iOS application using Mantle and Realm and demonstrates how this approach helps to eliminate a large amount of boilerplate code." property="og:description"><meta content="2015-07-24" name="DC.date.issued"><link href="http://assets.toptal.io/assets/favicons/favicon-d558cf88252445f9769bd4ea06734470.png" rel="icon"><!--[if IE]><link href="http://assets.toptal.io/assets/favicons/favicon-c831ef6da1505ca2a8437ee85c3f660f.ico" rel="shortcut icon" /><![endif]--><link href="http://assets.toptal.io/assets/favicons/touch_x57-722fff7ec79aeeb1ca671648da3d429e.png" rel="apple-touch-icon-precomposed" sizes="57x57"><link href="http://assets.toptal.io/assets/favicons/touch_x72-7d75babc0c8239a30cb967abd45c9bce.png" rel="apple-touch-icon-precomposed" sizes="72x72"><link href="http://assets.toptal.io/assets/favicons/touch_x114-1dc6a6de08c4c4cefff8b6eebb9dce3f.png" rel="apple-touch-icon-precomposed" sizes="114x114"><link href="http://assets.toptal.io/assets/favicons/touch_x57-722fff7ec79aeeb1ca671648da3d429e.png" rel="apple-touch-icon-precomposed"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" name="viewport"><link href="http://www.toptal.com/blog.rss" rel="alternate" title="Toptal Engineering Blog" type="application/rss+xml"><link href="http://www.toptal.com/ios/simplifying-restful-api-use-and-data-persistence-on-ios-with-mantle-and-realm" rel="canonical"><script src="./Simple Guide to Using Realm and Mantle on iOS _ Toptal_files/modernizr-88368b74e83fad3ed9b4cf8a9607710f.js"></script><script type="text/javascript">// TODO: Figure out how to override Modernizr test
(function () {
  var isIE, noFlexboxClassName;
  isIE = /MSIE/.test(navigator.userAgent) && !/Opera/.test(navigator.userAgent);
  isIE11 = !!window.MSInputMethodContext
  if (window.Modernizr && (window.Modernizr.flexbox && (isIE || isIE11))) {
    noFlexboxClassName = document.documentElement.className.replace('flexbox', 'no-flexbox');
    document.documentElement.className = noFlexboxClassName;
  }
})();</script><!--[if (lte IE 8)]><script src="http://assets.toptal.io/assets/html5shiv-cf3f156f36ffd376df0c920345f2c459.js"></script><![endif]--><script type="text/javascript">
//<![CDATA[
window.gon={};gon.flash={};gon.check_session_url="https:\/\/www.toptal.com\/signed_in";gon.shorten_url="https:\/\/www.toptal.com\/shorten_url";gon.geo_target_url="https:\/\/www.toptal.com\/api\/geo_target";gon.google_api_browser_key="AIzaSyDED9v55b-c1opDYMEDYBkOgDFGlBMICGY";gon.ga_settings={"group":"Blog posts"};gon.bounce_modal_settings={"blogDataUrl":"http:\/\/www.toptal.com\/blog\/subscribe","leadsDataUrl":"http:\/\/www.toptal.com\/api\/leads","companyEmailValidationUrl":"https:\/\/www.toptal.com\/api\/company_email_validations","show":true,"type":"skype","skill":"iOS"};
//]]>
</script><link rel="stylesheet" media="all" href="http://assets.toptal.io/assets/public/fonts-89f6a537db147f78080cc4532578e3e4.css" debug="false"><link rel="stylesheet" media="all" href="http://assets.toptal.io/assets/public-11cc457719729c6005ae0b2ceefc9ba7.css" debug="false"><link rel="stylesheet" media="all" href="http://assets.toptal.io/assets/portal-d129c44abd9a607984fbda9f0c06616d.css" debug="false"><link rel="stylesheet" media="all" href="http://assets.toptal.io/assets/blog-0678826193aa32669f8ce65b092d7acf.css" debug="false"><!--[if (lte IE 8)]><script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js" debug="false"></script><![endif]--><!--[if (gte IE 9)|(!IE)]><!--><script src="./Simple Guide to Using Realm and Mantle on iOS _ Toptal_files/jquery.min.js" debug="false"></script><!--[endif]----><script type="text/javascript">window.bounceModalSettings = gon['bounce_modal_settings'] || {show: false};</script><script src="./Simple Guide to Using Realm and Mantle on iOS _ Toptal_files/186204918.js"></script><script type="text/javascript">window.optimizely = window.optimizely || [];</script><script type="text/javascript" async="" src="./Simple Guide to Using Realm and Mantle on iOS _ Toptal_files/embed.js"></script><style type="text/css"></style><style type="text/css"></style><style type="text/css"></style><script src="./Simple Guide to Using Realm and Mantle on iOS _ Toptal_files/secureAnonymousFramework"></script><style type="text/css">* html #li_ui_li_gen_1437777474597_0 a#li_ui_li_gen_1437777474597_0-link{height:1% !important;}#li_ui_li_gen_1437777474597_0{position:relative !important;overflow:visible !important;display:block !important;}#li_ui_li_gen_1437777474597_0 span{-webkit-box-sizing:content-box !important;-moz-box-sizing:content-box !important;box-sizing:content-box !important;}#li_ui_li_gen_1437777474597_0 a#li_ui_li_gen_1437777474597_0-link{border:0 !important;height:20px !important;text-decoration:none !important;padding:0 !important;margin:0 !important;display:inline-block !important;}#li_ui_li_gen_1437777474597_0 a#li_ui_li_gen_1437777474597_0-link:link, #li_ui_li_gen_1437777474597_0 a#li_ui_li_gen_1437777474597_0-link:visited, #li_ui_li_gen_1437777474597_0 a#li_ui_li_gen_1437777474597_0-link:hover, #li_ui_li_gen_1437777474597_0 a#li_ui_li_gen_1437777474597_0-link:active{border:0 !important;text-decoration:none !important;}#li_ui_li_gen_1437777474597_0 a#li_ui_li_gen_1437777474597_0-link:after{content:"." !important;display:block !important;clear:both !important;visibility:hidden !important;line-height:0 !important;height:0 !important;}#li_ui_li_gen_1437777474597_0 #li_ui_li_gen_1437777474597_0-logo{background-image:url(https://static.licdn.com/scds/common/u/images/apps/connect/sprites/sprite_connect_v14.png) !important;background-position:0px -593px !important;background-repeat:no-repeat !important;background-color:#0077b5 !important;background-size:initial !important;cursor:pointer !important;border:0 !important;border-right:1px solid #066094 !important;text-indent:-9999em !important;overflow:hidden !important;padding:0 !important;margin:0 !important;position:absolute !important;left:0px !important;top:0px !important;display:block !important;width:20px !important;height:20px !important;float:right !important;border-radius:2px !important;-webkit-border-radius:2px !important;border-top-right-radius:2px !important;border-bottom-right-radius:2px !important;-webkit-border-top-right-radius:2px !important;-webkit-border-bottom-right-radius:2px !important;}#li_ui_li_gen_1437777474597_0 #li_ui_li_gen_1437777474597_0-title{color:#fff !important;cursor:pointer !important;display:block !important;white-space:nowrap !important;float:left !important;margin-left:1px !important;vertical-align:top !important;overflow:hidden !important;text-align:center !important;height:18px !important;padding:0 4px 0 23px !important;border:1px solid #000 !important;border-top-color:#0077b5 !important;border-right-color:#0077b5 !important;border-bottom-color:#0077b5 !important;border-left-color:#0077b5 !important;text-shadow:0 -1px #005887 !important;line-height:20px !important;border-radius:2px !important;-webkit-border-radius:2px !important;border-top-right-radius:2px !important;border-bottom-right-radius:2px !important;-webkit-border-top-right-radius:2px !important;-webkit-border-bottom-right-radius:2px !important;background-color:#0077b5 !important;background-image:-webkit-gradient(linear, left top, left bottom, color-stop(0%,#0077b5), color-stop(100%,#0077b5)) !important; background-image: -webkit-linear-gradient(top, #0077b5 0%, #0077b5 100%) !important;}#li_ui_li_gen_1437777474597_0.hovered #li_ui_li_gen_1437777474597_0-title{border:1px solid #000 !important;border-top-color:#0369a0 !important;border-right-color:#0369a0 !important;border-bottom-color:#0369a0 !important;border-left-color:#0369a0 !important;background-color:#0369a0 !important;background-image:-webkit-gradient(linear, left top, left bottom, color-stop(0%,#0369a0), color-stop(100%,#0369a0)) !important; background-image: -webkit-linear-gradient(top, #0369a0 0%, #0369a0 100%) !important;}#li_ui_li_gen_1437777474597_0.clicked #li_ui_li_gen_1437777474597_0-title, #li_ui_li_gen_1437777474597_0.down #li_ui_li_gen_1437777474597_0-title{color:#fff !important;border:1px solid #000 !important;border-top-color:#066094 !important;border-right-color:#066094 !important;border-bottom-color:#066094 !important;border-left-color:#066094 !important;background-color:#066094 !important;background-image:-webkit-gradient(linear, left top, left bottom, color-stop(0%,#066094), color-stop(100%,#066094)) !important; background-image: -webkit-linear-gradient(top, #066094 0%, #066094 100%) !important;}.IN-shadowed #li_ui_li_gen_1437777474597_0 #li_ui_li_gen_1437777474597_0-title{}.IN-shadowed #li_ui_li_gen_1437777474597_0.hovered #li_ui_li_gen_1437777474597_0-title{}.IN-shadowed #li_ui_li_gen_1437777474597_0.clicked #li_ui_li_gen_1437777474597_0-title, .IN-shadowed #li_ui_li_gen_1437777474597_0.down #li_ui_li_gen_1437777474597_0-title{}#li_ui_li_gen_1437777474597_0 #li_ui_li_gen_1437777474597_0-title-text, #li_ui_li_gen_1437777474597_0 #li_ui_li_gen_1437777474597_0-title-text *{color:#fff !important;font-size:11px !important;font-family:Arial, sans-serif !important;font-weight:bold !important;font-style:normal !important;-webkit-font-smoothing:antialiased !important;display:inline-block !important;background:transparent none !important;vertical-align:top !important;height:18px !important;line-height:20px !important;float:none !important;}#li_ui_li_gen_1437777474597_0 #li_ui_li_gen_1437777474597_0-title-text strong{font-weight:bold !important;}#li_ui_li_gen_1437777474597_0 #li_ui_li_gen_1437777474597_0-title-text em{font-style:italic !important;}#li_ui_li_gen_1437777474597_0.hovered #li_ui_li_gen_1437777474597_0-title-text, #li_ui_li_gen_1437777474597_0.hovered #li_ui_li_gen_1437777474597_0-title-text *{color:#fff !important;}#li_ui_li_gen_1437777474597_0.clicked #li_ui_li_gen_1437777474597_0-title-text, #li_ui_li_gen_1437777474597_0.down #li_ui_li_gen_1437777474597_0-title-text, #li_ui_li_gen_1437777474597_0.clicked #li_ui_li_gen_1437777474597_0-title-text *, #li_ui_li_gen_1437777474597_0.down #li_ui_li_gen_1437777474597_0-title-text *{color:#fff !important;}#li_ui_li_gen_1437777474597_0 #li_ui_li_gen_1437777474597_0-title #li_ui_li_gen_1437777474597_0-mark{display:inline-block !important;width:0px !important;overflow:hidden !important;}.success #li_ui_li_gen_1437777474597_0 #li_ui_li_gen_1437777474597_0-title{color:#fff !important;border-top-color:#0077b5 !important;border-right-color:#0077b5 !important;border-bottom-color:#0077b5 !important;border-left-color:#0077b5 !important;background-color:#0077b5 !important;background-image:-webkit-gradient(linear, left top, left bottom, color-stop(0%,#0077b5), color-stop(100%,#0077b5)) !important; background-image: -webkit-linear-gradient(top, #0077b5 0%, #0077b5 100%) !important;}.success #li_ui_li_gen_1437777474597_0 #li_ui_li_gen_1437777474597_0-title-text, .success #li_ui_li_gen_1437777474597_0 #li_ui_li_gen_1437777474597_0-title-text *{color:#fff !important;}.IN-shadowed .success #li_ui_li_gen_1437777474597_0 #li_ui_li_gen_1437777474597_0-title{}.success #li_ui_li_gen_1437777474597_0.hovered #li_ui_li_gen_1437777474597_0-title{color:#fff !important;border-top-color:#0369a0 !important;border-right-color:#0369a0 !important;border-bottom-color:#0369a0 !important;border-left-color:#0369a0 !important;background-color:#0369a0 !important;background-image:-webkit-gradient(linear, left top, left bottom, color-stop(0%,#0369a0), color-stop(100%,#0369a0)) !important; background-image: -webkit-linear-gradient(top, #0369a0 0%, #0369a0 100%) !important;}.success #li_ui_li_gen_1437777474597_0.hovered #li_ui_li_gen_1437777474597_0-title-text, .success #li_ui_li_gen_1437777474597_0.hovered #li_ui_li_gen_1437777474597_0-title-text *{color:#fff !important;}.success #li_ui_li_gen_1437777474597_0.clicked #li_ui_li_gen_1437777474597_0-title, .success #li_ui_li_gen_1437777474597_0.down #li_ui_li_gen_1437777474597_0-title{color:#fff !important;border-top-color:#066094 !important;border-right-color:#066094 !important;border-bottom-color:#066094 !important;border-left-color:#066094 !important;background-color:#066094 !important;background-image:-webkit-gradient(linear, left top, left bottom, color-stop(0%,#066094), color-stop(100%,#066094)) !important; background-image: -webkit-linear-gradient(top, #066094 0%, #066094 100%) !important;}.success #li_ui_li_gen_1437777474597_0.clicked #li_ui_li_gen_1437777474597_0-title-text, .success #li_ui_li_gen_1437777474597_0.down #li_ui_li_gen_1437777474597_0-title-text, .success #li_ui_li_gen_1437777474597_0.clicked #li_ui_li_gen_1437777474597_0-title-text *, .success #li_ui_li_gen_1437777474597_0.down #li_ui_li_gen_1437777474597_0-title-text *{color:#fff !important;}.IN-shadowed .success #li_ui_li_gen_1437777474597_0.clicked #li_ui_li_gen_1437777474597_0-title, .IN-shadowed .success #li_ui_li_gen_1437777474597_0.down #li_ui_li_gen_1437777474597_0-title{}#li_ui_li_gen_1437777474614_1-container.IN-right {display:inline-block !important;float:left !important;overflow:visible !important;position:relative !important;height:20px !important;padding-left:2px !important;line-height:1px !important;cursor:pointer !important;}#li_ui_li_gen_1437777474614_1.IN-right {display:block !important;float:left !important;height:20px !important;margin-right:4px !important;padding-right:4px !important;background-image:url(https://static.licdn.com/scds/common/u/images/apps/connect/sprites/sprite_connect_v14.png) !important;background-color:transparent !important;background-repeat:no-repeat !important;background-position:right -447px !important;}#li_ui_li_gen_1437777474614_1-inner.IN-right {display:block !important;float:left !important;padding-left:8px !important;text-align:center !important;background-image:url(https://static.licdn.com/scds/common/u/images/apps/connect/sprites/sprite_connect_v14.png) !important;background-color:transparent !important;background-repeat:no-repeat !important;background-position:0px -426px !important;}#li_ui_li_gen_1437777474614_1-content.IN-right {display:inline !important;font-size:11px !important;color:#4e4e4e !important;font-weight:bold !important;font-family:Arial, sans-serif !important;line-height:20px !important;padding:0 5px 0 5px !important;}#li_ui_li_gen_1437777474614_1-container.IN-empty {display:none !important;}#li_ui_li_gen_1437777474614_1-container.IN-hidden #li_ui_li_gen_1437777474614_1 {display:none !important;}</style><style type="text/css">.fb_hidden{position:absolute;top:-10000px;z-index:10001}.fb_invisible{display:none}.fb_reset{background:none;border:0;border-spacing:0;color:#000;cursor:auto;direction:ltr;font-family:"lucida grande", tahoma, verdana, arial, sans-serif;font-size:11px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:1;margin:0;overflow:visible;padding:0;text-align:left;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;visibility:visible;white-space:normal;word-spacing:normal}.fb_reset>div{overflow:hidden}.fb_link img{border:none}
.fb_dialog{background:rgba(82, 82, 82, .7);position:absolute;top:-10000px;z-index:10001}.fb_reset .fb_dialog_legacy{overflow:visible}.fb_dialog_advanced{padding:10px;-moz-border-radius:8px;-webkit-border-radius:8px;border-radius:8px}.fb_dialog_content{background:#fff;color:#333}.fb_dialog_close_icon{background:url(https://fbstatic-a.akamaihd.net/rsrc.php/v2/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 0 transparent;_background-image:url(https://fbstatic-a.akamaihd.net/rsrc.php/v2/yL/r/s816eWC-2sl.gif);cursor:pointer;display:block;height:15px;position:absolute;right:18px;top:17px;width:15px}.fb_dialog_mobile .fb_dialog_close_icon{top:5px;left:5px;right:auto}.fb_dialog_padding{background-color:transparent;position:absolute;width:1px;z-index:-1}.fb_dialog_close_icon:hover{background:url(https://fbstatic-a.akamaihd.net/rsrc.php/v2/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -15px transparent;_background-image:url(https://fbstatic-a.akamaihd.net/rsrc.php/v2/yL/r/s816eWC-2sl.gif)}.fb_dialog_close_icon:active{background:url(https://fbstatic-a.akamaihd.net/rsrc.php/v2/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -30px transparent;_background-image:url(https://fbstatic-a.akamaihd.net/rsrc.php/v2/yL/r/s816eWC-2sl.gif)}.fb_dialog_loader{background-color:#f6f7f8;border:1px solid #606060;font-size:24px;padding:20px}.fb_dialog_top_left,.fb_dialog_top_right,.fb_dialog_bottom_left,.fb_dialog_bottom_right{height:10px;width:10px;overflow:hidden;position:absolute}.fb_dialog_top_left{background:url(https://fbstatic-a.akamaihd.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 0;left:-10px;top:-10px}.fb_dialog_top_right{background:url(https://fbstatic-a.akamaihd.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 -10px;right:-10px;top:-10px}.fb_dialog_bottom_left{background:url(https://fbstatic-a.akamaihd.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 -20px;bottom:-10px;left:-10px}.fb_dialog_bottom_right{background:url(https://fbstatic-a.akamaihd.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 -30px;right:-10px;bottom:-10px}.fb_dialog_vert_left,.fb_dialog_vert_right,.fb_dialog_horiz_top,.fb_dialog_horiz_bottom{position:absolute;background:#525252;filter:alpha(opacity=70);opacity:.7}.fb_dialog_vert_left,.fb_dialog_vert_right{width:10px;height:100%}.fb_dialog_vert_left{margin-left:-10px}.fb_dialog_vert_right{right:0;margin-right:-10px}.fb_dialog_horiz_top,.fb_dialog_horiz_bottom{width:100%;height:10px}.fb_dialog_horiz_top{margin-top:-10px}.fb_dialog_horiz_bottom{bottom:0;margin-bottom:-10px}.fb_dialog_iframe{line-height:0}.fb_dialog_content .dialog_title{background:#6d84b4;border:1px solid #3a5795;color:#fff;font-size:14px;font-weight:bold;margin:0}.fb_dialog_content .dialog_title>span{background:url(https://fbstatic-a.akamaihd.net/rsrc.php/v2/yd/r/Cou7n-nqK52.gif) no-repeat 5px 50%;float:left;padding:5px 0 7px 26px}body.fb_hidden{-webkit-transform:none;height:100%;margin:0;overflow:visible;position:absolute;top:-10000px;left:0;width:100%}.fb_dialog.fb_dialog_mobile.loading{background:url(https://fbstatic-a.akamaihd.net/rsrc.php/v2/ya/r/3rhSv5V8j3o.gif) white no-repeat 50% 50%;min-height:100%;min-width:100%;overflow:hidden;position:absolute;top:0;z-index:10001}.fb_dialog.fb_dialog_mobile.loading.centered{max-height:590px;min-height:590px;max-width:500px;min-width:500px}#fb-root #fb_dialog_ipad_overlay{background:rgba(0, 0, 0, .45);position:absolute;left:0;top:0;width:100%;min-height:100%;z-index:10000}#fb-root #fb_dialog_ipad_overlay.hidden{display:none}.fb_dialog.fb_dialog_mobile.loading iframe{visibility:hidden}.fb_dialog_content .dialog_header{-webkit-box-shadow:white 0 1px 1px -1px inset;background:-webkit-gradient(linear, 0% 0%, 0% 100%, from(#738ABA), to(#2C4987));border-bottom:1px solid;border-color:#1d4088;color:#fff;font:14px Helvetica, sans-serif;font-weight:bold;text-overflow:ellipsis;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0;vertical-align:middle;white-space:nowrap}.fb_dialog_content .dialog_header table{-webkit-font-smoothing:subpixel-antialiased;height:43px;width:100%}.fb_dialog_content .dialog_header td.header_left{font-size:12px;padding-left:5px;vertical-align:middle;width:60px}.fb_dialog_content .dialog_header td.header_right{font-size:12px;padding-right:5px;vertical-align:middle;width:60px}.fb_dialog_content .touchable_button{background:-webkit-gradient(linear, 0% 0%, 0% 100%, from(#4966A6), color-stop(.5, #355492), to(#2A4887));border:1px solid #2f477a;-webkit-background-clip:padding-box;-webkit-border-radius:3px;-webkit-box-shadow:rgba(0, 0, 0, .117188) 0 1px 1px inset, rgba(255, 255, 255, .167969) 0 1px 0;display:inline-block;margin-top:3px;max-width:85px;line-height:18px;padding:4px 12px;position:relative}.fb_dialog_content .dialog_header .touchable_button input{border:none;background:none;color:#fff;font:12px Helvetica, sans-serif;font-weight:bold;margin:2px -12px;padding:2px 6px 3px 6px;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}.fb_dialog_content .dialog_header .header_center{color:#fff;font-size:16px;font-weight:bold;line-height:18px;text-align:center;vertical-align:middle}.fb_dialog_content .dialog_content{background:url(https://fbstatic-a.akamaihd.net/rsrc.php/v2/y9/r/jKEcVPZFk-2.gif) no-repeat 50% 50%;border:1px solid #555;border-bottom:0;border-top:0;height:150px}.fb_dialog_content .dialog_footer{background:#f6f7f8;border:1px solid #555;border-top-color:#ccc;height:40px}#fb_dialog_loader_close{float:left}.fb_dialog.fb_dialog_mobile .fb_dialog_close_button{text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}.fb_dialog.fb_dialog_mobile .fb_dialog_close_icon{visibility:hidden}
.fb_iframe_widget{display:inline-block;position:relative}.fb_iframe_widget span{display:inline-block;position:relative;text-align:justify}.fb_iframe_widget iframe{position:absolute}.fb_iframe_widget_fluid_desktop,.fb_iframe_widget_fluid_desktop span,.fb_iframe_widget_fluid_desktop iframe{max-width:100%}.fb_iframe_widget_fluid_desktop iframe{min-width:220px;position:relative}.fb_iframe_widget_lift{z-index:1}.fb_hide_iframes iframe{position:relative;left:-10000px}.fb_iframe_widget_loader{position:relative;display:inline-block}.fb_iframe_widget_fluid{display:inline}.fb_iframe_widget_fluid span{width:100%}.fb_iframe_widget_loader iframe{min-height:32px;z-index:2;zoom:1}.fb_iframe_widget_loader .FB_Loader{background:url(https://fbstatic-a.akamaihd.net/rsrc.php/v2/y9/r/jKEcVPZFk-2.gif) no-repeat;height:32px;width:32px;margin-left:-16px;position:absolute;left:50%;z-index:4}</style><style type="text/css">.fancybox-margin{margin-right:0px;}</style><script async="true" type="text/javascript" src="http://a.adroll.com/j/roundtrip.js"></script></head><body class="layout" id="top" data-gclp-initialized="true" data-gistbox-initialized="true" style="overflow-y: auto;"><div class="layout_layer" data-view="layout#layout" style="margin-right: 0px;"><header class="page_header" data-role="fixed-header"><div class="page_header_line"></div><div class="page_header" data-view="layout#menu"><div class="grid-row is-light_gray"><div class="grid-row-inner is-wide has-padding page_header_top"><div class="page_header_top-logotype_wrapper"><div class="page_header_top-logotype"><a class="logo is-big is-link" href="http://www.toptal.com/">Toptal: Top Developers, Custom Software Development</a></div></div><a class="page_header_top-expand" data-role="expand_menu" href="http://www.toptal.com/ios/simplifying-restful-api-use-and-data-persistence-on-ios-with-mantle-and-realm?utm_source=Engineering+Blog+Subscribers&utm_campaign=f7d88d76ad-blog_post_realm_mantle_ios&utm_medium=email&utm_term=0_af8c2cde60-f7d88d76ad-111539357#"><span class="page_header_top-expand_icon"></span></a><nav class="page_header_top-nav_wrapper"><ul class="page_header_top-nav"><li class="page_header_top-nav_item" data-role="session_based" data-visible-when="sessionless" style=""><a class="button is-green_candy is-small page_header_top-nav_link is-button" href="https://www.toptal.com/companies/apply">Hire a Developer</a></li><li class="page_header_top-nav_item has-right_border" data-role="session_based" data-visible-when="sessionless" style=""><a class="button is-green_candy is-small page_header_top-nav_link is-button" href="http://www.toptal.com/developers">Apply as a Developer</a></li><li class="page_header_top-nav_item" data-role="session_based" data-visible-when="sessionless" style=""><a class="button is-small is-light page_header_top-nav_link is-button" href="https://www.toptal.com/users/login">Login</a></li></ul></nav></div></div><nav class="grid-row has-top_border is-light_gray page_header_menu-wrapper" data-role="menu_wrapper"><div class="grid-row-inner is-wide has-small_padding page_header_menu"><div class="page_header_menu-items-wrapper"><ul class="page_header_menu-items" data-role="menu"><li class="page_header_menu-item is-home"><a class="page_header_menu-link" href="http://www.toptal.com/"></a></li><li class="page_header_menu-item is-top-3-percent"><a class="page_header_menu-link" href="http://www.toptal.com/top-3-percent">Top 3%</a></li><li class="page_header_menu-item is-why"><a class="page_header_menu-link" href="http://www.toptal.com/why">Why</a></li><li class="page_header_menu-item is-how"><a class="page_header_menu-link" href="http://www.toptal.com/how">How</a></li><li class="page_header_menu-item is-what"><a class="page_header_menu-link" href="http://www.toptal.com/what">What</a></li><li class="page_header_menu-item is-clients"><a class="page_header_menu-link" href="http://www.toptal.com/clients">Clients</a></li><li class="page_header_menu-item is-about"><a class="page_header_menu-link" href="http://www.toptal.com/about">About Us</a></li><li class="page_header_menu-item is-community"><a class="page_header_menu-link" href="http://www.toptal.com/community">Community</a></li><li class="page_header_menu-item is-blog"><a class="page_header_menu-link" href="http://www.toptal.com/blog">Blog</a></li><li class="page_header_menu-item is-contact"><a class="page_header_menu-link" href="http://www.toptal.com/contact">Contact</a></li><li class="page_header_menu-item is-faq"><a class="page_header_menu-link" href="http://www.toptal.com/faq">FAQ</a></li><li class="page_header_menu-item is-join" data-leave-it-invisible="" data-role="session_based" data-visible-when="sessionless"><a class="button is-green_candy is-small page_hader_menu-button" href="https://www.toptal.com/companies/apply">Hire a developer</a></li><li class="page_header_menu-item is-join" data-leave-it-invisible="" data-role="session_based" data-visible-when="sessionless"><a class="button is-green_candy is-small page_hader_menu-button" href="http://www.toptal.com/developers">Apply as a developer</a></li><li class="page_header_menu-item is-login" data-leave-it-invisible="" data-role="session_based" data-visible-when="sessionless"><a class="button is-light is-small page_hader_menu-button is-login" href="https://www.toptal.com/users/login">Login</a></li><li class="page_header_menu-item is-contacts"><ul class="page_header_menu-contact-items"><li class="page_header_menu-contact-item">Call us:</li><li class="page_header_menu-contact-item"><a class="link is-dark page_header_menu-contact-link" href="tel:+18886043188">+1.888.604.3188</a></li><li class="page_header_menu-contact-item"><a class="page_header_menu-contact-link is-social is-facebook" href="https://www.facebook.com/pages/toptal/141928212544793" target="_blank"><span class="page_header_menu-contact-link-icon"></span></a></li><li class="page_header_menu-contact-item"><a class="page_header_menu-contact-link is-social is-twitter" href="https://twitter.com/toptalllc" target="_blank"><span class="page_header_menu-contact-link-icon"></span></a></li><li class="page_header_menu-contact-item"><a class="page_header_menu-contact-link is-social is-google_plus" href="https://plus.google.com/+Toptalllc/" target="_blank"><span class="page_header_menu-contact-link-icon"></span></a></li></ul></li></ul></div><a class="button is-green_candy is-tiny page_header_menu-hire" href="https://www.toptal.com/companies/apply">Hire a developer</a><ul class="page_header_menu-contact-items"><li class="page_header_menu-contact-item">Call us:</li><li class="page_header_menu-contact-item"><a class="link is-dark page_header_menu-contact-link" href="tel:+18886043188">+1.888.604.3188</a></li><li class="page_header_menu-contact-item"><a class="page_header_menu-contact-link is-social is-facebook" href="https://www.facebook.com/pages/toptal/141928212544793" target="_blank"><span class="page_header_menu-contact-link-icon"></span></a></li><li class="page_header_menu-contact-item"><a class="page_header_menu-contact-link is-social is-twitter" href="https://twitter.com/toptalllc" target="_blank"><span class="page_header_menu-contact-link-icon"></span></a></li><li class="page_header_menu-contact-item"><a class="page_header_menu-contact-link is-social is-google_plus" href="https://plus.google.com/+Toptalllc/" target="_blank"><span class="page_header_menu-contact-link-icon"></span></a></li></ul></div></nav></div></header><main class="layout-main"><header class="grid-row has-top_border has-bottom_border post_cover is-post"><div class="grid-row-inner is-wide has-big_padding blog_title for-show"></div></header><article class="grid-row is-transparent"><div class="grid-row-inner is-wide"><div class="post_title"><h1 class="post_title-text">Simplifying RESTful API Use and Data Persistence on iOS with Mantle and Realm</h1><a class="post_title-back" href="http://www.toptal.com/blog">View all articles</a></div></div></article><section class="grid-row has-top_border is-transparent has-no_border" data-view="" id="main_content"><div class="grid-row-inner has-medium_padding two_columns_layout is-wide"><div class="two_columns_layout-content"><div class="post is-full"><div class="post_meta-wrapper post_header"><div class="post_header-triangle"></div><div class="post_avatar post_meta-avatar"><img width="50" class="post_avatar-image" src="./Simple Guide to Using Realm and Mantle on iOS _ Toptal_files/small_daed9e5bac827d646035b42211ae66b9.jpg" alt="Small daed9e5bac827d646035b42211ae66b9"></div><div class="post_meta is-full"><div class="post_meta-author"><p>by <strong><a class="link is-blue" target="_blank" href="http://www.toptal.com/resume/marcin-kmiec">Marcin Kmiec</a></strong> - Freelance Software Engineer
@ <a class="link is-blue" target="_blank" href="http://www.toptal.com/">Toptal</a>
</p>
</div><div class="post_meta-tags"><a href="http://www.toptal.com/blog#ios-posts">#iOS</a> <a href="http://www.toptal.com/blog#realm-posts">#Realm</a> <a href="http://www.toptal.com/blog#mantle-posts">#Mantle</a> <a href="http://www.toptal.com/blog#database-posts">#Database</a> <a href="http://www.toptal.com/blog#restful-posts">#RESTful</a> </div></div><div class="post_meta-extra"><div class="post_meta-extra_row"><div class="post_meta-extra_icon"><div class="post_meta-extra_icon_image is-share"></div></div><div class="post_share"><ul class="social_share"><li class="social_share-item is-hackernews"><iframe src="./Simple Guide to Using Realm and Mantle on iOS _ Toptal_files/saved_resource(1).html" name="hn-button-59qfh9l" id="hn-button-59qfh9l" class="hn-button" data-title="Simple Guide to Using Realm and Mantle on iOS | Toptal" data-url="http://www.toptal.com/ios/simplifying-restful-api-use-and-data-persistence-on-ios-with-mantle-and-realm" data-style="twitter" data-count="horizontal" title="Hacker News Button" height="20" width="81" frameborder="0"></iframe>
</li><li class="social_share-item is-facebook"><div class="fb-like fb_iframe_widget" data-href="http://www.toptal.com/ios/simplifying-restful-api-use-and-data-persistence-on-ios-with-mantle-and-realm" data-send="false" data-layout="button_count" data-width="450" data-show-faces="false" fb-xfbml-state="rendered" fb-iframe-plugin-query="app_id=565054136848482&amp;container_width=0&amp;href=http%3A%2F%2Fwww.toptal.com%2Fios%2Fsimplifying-restful-api-use-and-data-persistence-on-ios-with-mantle-and-realm&amp;layout=button_count&amp;locale=en_US&amp;sdk=joey&amp;send=false&amp;show_faces=false&amp;width=450"><span style="vertical-align: bottom; width: 76px; height: 20px;"><iframe name="f2780fa138" width="450px" height="1000px" frameborder="0" allowtransparency="true" allowfullscreen="true" scrolling="no" title="fb:like Facebook Social Plugin" src="./Simple Guide to Using Realm and Mantle on iOS _ Toptal_files/like.html" style="border: none; visibility: visible; width: 76px; height: 20px;" class=""></iframe></span></div>
</li><li class="social_share-item is-google_plus"><div id="___plus_0" style="text-indent: 0px; margin: 0px; padding: 0px; border-style: none; float: none; line-height: normal; font-size: 1px; vertical-align: baseline; display: inline-block; width: 84px; height: 20px; background: transparent;"><iframe frameborder="0" hspace="0" marginheight="0" marginwidth="0" scrolling="no" style="position: static; top: 0px; width: 84px; margin: 0px; border-style: none; left: 0px; visibility: visible; height: 20px;" tabindex="0" vspace="0" width="100%" id="I0_1437777473120" name="I0_1437777473120" src="./Simple Guide to Using Realm and Mantle on iOS _ Toptal_files/sharebutton.html" data-gapiattached="true" title="+Share"></iframe></div>
</li><li class="social_share-item is-linkedin"><span class="IN-widget" style="line-height: 1; vertical-align: baseline; display: inline-block; text-align: center;"><span style="padding: 0px !important; margin: 0px !important; text-indent: 0px !important; display: inline-block !important; vertical-align: baseline !important; font-size: 1px !important;"><span id="li_ui_li_gen_1437777474597_0"><a id="li_ui_li_gen_1437777474597_0-link" href="javascript:void(0);"><span id="li_ui_li_gen_1437777474597_0-logo">in</span><span id="li_ui_li_gen_1437777474597_0-title"><span id="li_ui_li_gen_1437777474597_0-mark"></span><span id="li_ui_li_gen_1437777474597_0-title-text">Share</span></span></a></span></span><span style="padding: 0px !important; margin: 0px !important; text-indent: 0px !important; display: inline-block !important; vertical-align: baseline !important; font-size: 1px !important;"><span id="li_ui_li_gen_1437777474614_1-container" class="IN-right"><span id="li_ui_li_gen_1437777474614_1" class="IN-right"><span id="li_ui_li_gen_1437777474614_1-inner" class="IN-right"><span id="li_ui_li_gen_1437777474614_1-content" class="IN-right">16</span></span></span></span></span></span><script type="IN/Share+init" data-url="http://www.toptal.com/ios/simplifying-restful-api-use-and-data-persistence-on-ios-with-mantle-and-realm" data-counter="right"></script>
</li><li class="social_share-item is-twitter"><iframe id="twitter-widget-0" scrolling="no" frameborder="0" allowtransparency="true" src="./Simple Guide to Using Realm and Mantle on iOS _ Toptal_files/tweet_button.9b77a1cb4bd14da06dfa5e2f65422c91.en.html" class="twitter-share-button twitter-tweet-button twitter-share-button twitter-count-horizontal" title="Twitter Tweet Button" data-twttr-rendered="true" style="position: static; visibility: visible; width: 81px; height: 20px;"></iframe>
</li></ul></div></div></div></div><div class="content_body" data-subscribe="true" data-view="content#body"><p>Every iOS developer is familiar with Core Data, an object-graph and persistence framework from Apple. Apart from persisting data locally, the framework comes with a host of advanced features, such as object change tracking and undo. These features, although useful in many cases, don’t come for free. It requires a lot of boilerplate code, and the framework as a whole has a steep learning curve.</p>

<p>In 2014, <a href="https://realm.io/" target="_blank">Realm</a>, a mobile database, was released and took the development world by storm. If all we need is to persist data locally, Realm is a good alternative. After all, not all use cases require the advanced features of Core Data. Realm is extremely easy to use and as opposed to Core Data, requires very little boilerplate code. It is also thread safe and is said to be faster than the persistence framework from Apple.</p>

<p>In most modern mobile applications, persisting data solves half the problem. We often need to fetch data from a remote service, usually through a RESTful API. This is where <a href="https://github.com/Mantle/Mantle" target="_blank">Mantle</a> comes into play. It is an open-source model framework for Cocoa and Cocoa Touch. Mantle significantly simplifies writing data models for interacting with APIs that use JSON as their data exchange format.</p>

<p><img src="./Simple Guide to Using Realm and Mantle on iOS _ Toptal_files/toptal-blog-image-1437736381161-4aeb77c375aea3e9e8a9eeb692d2aa01.jpg" alt=""></p>

<p>In this article, we will be building an iOS application that fetches a list of articles along with links to them from the New York Times Article Search API v2. The list is going to be fetched using a standard HTTP GET request, with request and response models created using Mantle. We will get to see how easy it is with Mantle to handle value transformations (eg. from NSDate to string). Once the data is fetched, we will persist it locally using Realm. All this with minimal boilerplate code.</p>

<h2 id="getting-started">Getting Started</h2>

<p>Let’s start by creating a new “Master-Detail Application” Xcode project for iOS named “RealmMantleTutorial”. We will be adding frameworks to it using CocoaPods. The podfile should resemble the following:</p>

<pre data-initialized="true" data-gclp-id="0"><code class=" hljs bash">pod <span class="hljs-string">'Mantle'</span>
pod <span class="hljs-string">'Realm'</span>
pod <span class="hljs-string">'AFNetworking'</span>
</code></pre>

<p>Once the pods are installed we can open the newly created <em>MantleRealmTutorial</em> workspace. As you’ve noticed, the famous AFNetworking framework has been installed too. We will be using it to perform requests to the API.</p>

<p>As mentioned in the introduction, New York Times provides an excellent article search API. In order to use it, one needs to sign up to get an access key to the API. This can be done at <a href="http://developer.nytimes.com/" target="_blank">http://developer.nytimes.com</a>. With the API key in hand we’re ready to get started with coding.</p>

<p>Before we delve into creating Mantle data models, we need to get our network layer up and running. Let’s create a new group in Xcode and call it Network. In this group we’ll be creating two classes.  Let’s call the first one <em>SessionManager</em> and make sure it is derived from <em>AFHTTPSessionManager</em> which is a session manager class from <em>AFNetworking</em>, the delightful networking framework. Our <em>SessionManager</em> class will be a singleton object that will we use to perform get requests to the API. Once the class has been created, please copy the code below into interface and implementation files respectively.</p>

<pre data-initialized="true" data-gclp-id="1"><code class="language-h hljs objectivec"><span class="hljs-preprocessor">#import <span class="hljs-title">"AFHTTPSessionManager.h"</span></span>

<span class="hljs-class"><span class="hljs-keyword">@interface</span> <span class="hljs-title">SessionManager</span> : <span class="hljs-title">AFHTTPSessionManager</span></span>

+ (<span class="hljs-keyword">id</span>)sharedManager;

<span class="hljs-keyword">@end</span>
</code></pre>

<pre data-initialized="true" data-gclp-id="2"><code class="language-m hljs objectivec"><span class="hljs-preprocessor">#import <span class="hljs-title">"SessionManager.h"</span></span>

<span class="hljs-keyword">static</span> <span class="hljs-built_in">NSString</span> *<span class="hljs-keyword">const</span> kBaseURL = @<span class="hljs-string">"http://api.nytimes.com"</span>;

<span class="hljs-class"><span class="hljs-keyword">@implementation</span> <span class="hljs-title">SessionManager</span></span>

- (<span class="hljs-keyword">id</span>)init {
    <span class="hljs-keyword">self</span> = [<span class="hljs-keyword">super</span> initWithBaseURL:[<span class="hljs-built_in">NSURL</span> URLWithString:kBaseURL]];
    <span class="hljs-keyword">if</span>(!<span class="hljs-keyword">self</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>;
    
    <span class="hljs-keyword">self</span><span class="hljs-variable">.responseSerializer</span> = [AFJSONResponseSerializer serializer];
    <span class="hljs-keyword">self</span><span class="hljs-variable">.requestSerializer</span> = [AFJSONRequestSerializer serializer];
    
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">self</span>;
}

+ (<span class="hljs-keyword">id</span>)sharedManager {
    <span class="hljs-keyword">static</span> SessionManager *_sessionManager = <span class="hljs-literal">nil</span>;
    
    <span class="hljs-keyword">static</span> <span class="hljs-built_in">dispatch_once_t</span> onceToken;
    <span class="hljs-built_in">dispatch_once</span>(&amp;onceToken, ^{
        _sessionManager = [[<span class="hljs-keyword">self</span> alloc] init];
    });
    
    <span class="hljs-keyword">return</span> _sessionManager;
}

<span class="hljs-keyword">@end</span>
</code></pre>

<p>The session manager is initialized with the base URL defined in the static <em>kBaseURL</em> variable. It will also use JSON request and response serializers.</p>

<p>Now the second class that we are going to create in the <em>Network</em> group will be called <em>APIManager</em>. It shall be derived from our newly created <em>SessionManager</em> class. Once the necessary data models are created we will add a method to <em>ApiManager</em> that will be used to request a list of articles from the API.</p>

<h2 id="new-york-times-article-search-api-overview">New York Times Article Search API Overview</h2>

<p>The official documentation for this excellent API is available at <a href="http://developer.nytimes.com/docs/read/article_search_api_v2" target="_blank">http://developer.nytimes.com/…/article_search_api_v2</a>. What we are going to do is use the following endpoint:</p>

<pre data-initialized="true" data-gclp-id="3"><code class=" hljs avrasm"><span class="hljs-label">http:</span>//api<span class="hljs-preprocessor">.nytimes</span><span class="hljs-preprocessor">.com</span>/svc/search/v2/articlesearch
</code></pre>

<p>… to fetch articles found using a search query term of our choosing bounded by a date range. For instance, what we could do is ask the API to return a list of all articles that appeared in the New York Times that had anything to do with basketball in the first seven days of July 2015. According to the API <a href="http://developer.nytimes.com/docs/read/article_search_api_v2" target="_blank">documentation</a>, to do that we need to set the following parameters in the get request to that endpoint:</p>

<table class="content_table" width="100%">
	<thead>
    	<tr class="content_table-row">
        	<td style="vertical-align:middle;"><b>Parameter</b></td>
            <td style="vertical-align:middle;"><b>Value</b></td>
		</tr>
	</thead>
    <tbody>
		<tr class="content_table-row">
        	<td style="vertical-align:middle;">q</td>
            <td style="vertical-align:middle;">“basketBall”</td>
        </tr>
        <tr class="content_table-row">
        	<td style="vertical-align:middle;">begin_date</td>
            <td style="vertical-align:middle;">“20150701”</td>
        </tr>
        <tr class="content_table-row">
        	<td style="vertical-align:middle;">end_date</td>
            <td style="vertical-align:middle;">“20150707”</td>
        </tr>
	</tbody>
</table>

<p>The response from the API is quite complex. Below is the response for a request with the above parameters limited to just one article (one item in docs array) with numerous fields omitted for clarity.</p>

<pre data-initialized="true" data-gclp-id="4"><code class="language-json hljs ">{
  "<span class="hljs-attribute">response</span>": <span class="hljs-value">{
    "<span class="hljs-attribute">docs</span>": <span class="hljs-value">[
      {
        "<span class="hljs-attribute">web_url</span>": <span class="hljs-value"><span class="hljs-string">"http://www.nytimes.com/2015/07/04/sports/basketball/robin-lopez-and-knicks-are-close-to-a-deal.html"</span></span>,
        "<span class="hljs-attribute">lead_paragraph</span>": <span class="hljs-value"><span class="hljs-string">"Lopez, a 7-foot center, joined Arron Afflalo, a 6-foot-5 guard, as the Knicks’ key acquisitions in free agency. He is expected to solidify the Knicks’ interior defense."</span></span>,
        "<span class="hljs-attribute">abstract</span>": <span class="hljs-value"><span class="hljs-literal">null</span></span>,
        "<span class="hljs-attribute">print_page</span>": <span class="hljs-value"><span class="hljs-string">"1"</span></span>,
        "<span class="hljs-attribute">source</span>": <span class="hljs-value"><span class="hljs-string">"The New York Times"</span></span>,
        "<span class="hljs-attribute">pub_date</span>": <span class="hljs-value"><span class="hljs-string">"2015-07-04T00:00:00Z"</span></span>,
        "<span class="hljs-attribute">document_type</span>": <span class="hljs-value"><span class="hljs-string">"article"</span></span>,
        "<span class="hljs-attribute">news_desk</span>": <span class="hljs-value"><span class="hljs-string">"Sports"</span></span>,
        "<span class="hljs-attribute">section_name</span>": <span class="hljs-value"><span class="hljs-string">"Sports"</span></span>,
        "<span class="hljs-attribute">subsection_name</span>": <span class="hljs-value"><span class="hljs-string">"Pro Basketball"</span></span>,
        "<span class="hljs-attribute">type_of_material</span>": <span class="hljs-value"><span class="hljs-string">"News"</span></span>,
        "<span class="hljs-attribute">_id</span>": <span class="hljs-value"><span class="hljs-string">"5596e7ac38f0d84c0655cb28"</span></span>,
        "<span class="hljs-attribute">word_count</span>": <span class="hljs-value"><span class="hljs-string">"879"</span>
      </span>}
    ]
  </span>}</span>,
  "<span class="hljs-attribute">status</span>": <span class="hljs-value"><span class="hljs-string">"OK"</span></span>,
  "<span class="hljs-attribute">copyright</span>": <span class="hljs-value"><span class="hljs-string">"Copyright (c) 2013 The New York Times Company.  All Rights Reserved."</span>
</span>}
</code></pre>

<p>What we basically get in response are three fields. The first one called <em>response</em> contains the array <em>docs</em>, which in turn contains items representing articles. The two other fields are <em>status</em> and <em>copyright</em>. Now that we know how the API works, it’s time to create data models using Mantle.</p>

<h2 id="introduction-to-mantle">Introduction to Mantle</h2>

<p>As mentioned earlier, Mantle is an open-source framework that significantly simplifies writing data models. Let’s start by creating an article list request model. Let’s call this class <em>ArticleListRequestModel</em> and make sure it is derived from <em>MTLModel</em>, which is a class that all Mantle models should be derived from. Additionally let’s make it conform to the <em>MTLJSONSerializing</em> protocol. Our request model should have three properties of suitable types: query, <em>articlesFromDate</em>, and <em>articlesToDate</em>. Just to make sure our project is well organized I suggest that this class be placed in <em>Models</em> group.</p>

<div class="pop_out_box is-full_width is-big">Mantle simplifies writing data models, reduces boilerplate code.</div>

<div class="tweet_this">
   <iframe id="twitter-widget-1" scrolling="no" frameborder="0" allowtransparency="true" src="./Simple Guide to Using Realm and Mantle on iOS _ Toptal_files/tweet_button.9b77a1cb4bd14da06dfa5e2f65422c91.en(1).html" class="twitter-share-button twitter-tweet-button twitter-share-button twitter-count-horizontal" title="Twitter Tweet Button" data-twttr-rendered="true" style="position: static; visibility: visible; width: 81px; height: 20px;"></iframe>
</div>

<p>Here’s how the interface file of <em>ArticleListRequestModel</em> should look:</p>

<pre data-initialized="true" data-gclp-id="5"><code class="language-h hljs objectivec"><span class="hljs-preprocessor">#import <span class="hljs-title">"MTLModel.h"</span></span>
<span class="hljs-preprocessor">#import <span class="hljs-title">"Mantle.h"</span></span>

<span class="hljs-class"><span class="hljs-keyword">@interface</span> <span class="hljs-title">ArticleListRequestModel</span> : <span class="hljs-title">MTLModel</span> &lt;<span class="hljs-title">MTLJSONSerializing</span>&gt;</span>

<span class="hljs-keyword">@property</span> (<span class="hljs-keyword">nonatomic</span>, copy) <span class="hljs-built_in">NSString</span> *query;
<span class="hljs-keyword">@property</span> (<span class="hljs-keyword">nonatomic</span>, copy) <span class="hljs-built_in">NSDate</span> *articlesFromDate;
<span class="hljs-keyword">@property</span> (<span class="hljs-keyword">nonatomic</span>, copy) <span class="hljs-built_in">NSDate</span> *articlesToDate;

<span class="hljs-keyword">@end</span>
</code></pre>

<p>Now if we look up the docs for our article search endpoint or have a look at the table with request parameters above, we will notice that the names of the variables in the API request differ from those in our request model. Mantle handles this efficiently using the method:</p>

<pre data-initialized="true" data-gclp-id="6"><code class="language-h hljs diff"><span class="hljs-addition">+ (NSDictionary *)JSONKeyPathsByPropertyKey.</span>
</code></pre>

<p>Here’s how this method should be implemented in the implementation of our request model:</p>

<pre data-initialized="true" data-gclp-id="7"><code class="language-m hljs objectivec"><span class="hljs-preprocessor">#import <span class="hljs-title">"ArticleListRequestModel.h"</span></span>

<span class="hljs-class"><span class="hljs-keyword">@implementation</span> <span class="hljs-title">ArticleListRequestModel</span></span>

<span class="hljs-preprocessor">#pragma mark - Mantle JSONKeyPathsByPropertyKey</span>

+ (<span class="hljs-built_in">NSDictionary</span> *)JSONKeyPathsByPropertyKey {
    <span class="hljs-keyword">return</span> @{
             @<span class="hljs-string">"query"</span>: @<span class="hljs-string">"q"</span>,
             @<span class="hljs-string">"articlesFromDate"</span>: @<span class="hljs-string">"begin_date"</span>,
             @<span class="hljs-string">"articlesToDate"</span>: @<span class="hljs-string">"end_date"</span>
             };
}

<span class="hljs-keyword">@end</span>
</code></pre>

<p>The implementation of this method specifies how the properties of the model are mapped into its JSON representations. Once the method <em>JSONKeyPathsByPropertyKey</em> has been implemented, we can get a JSON dictionary representation of the model with the class method <code>+[MTLJSONAdapter JSONArrayForModels:]</code>.</p>

<p>One thing that is still left, as we know from list of parameters, is that the both date parameters are required to be in the format “YYYYMMDD”. This is where Mantle gets very handy. We can add custom value transformation for any property by implementing the optional method <code>+&lt;propertyName&gt;JSONTransformer</code>. By implementing it we tell Mantle how the value of a specific JSON field should be transformed during JSON deserialization. We can also implement a reversible transformer that will be used when creating a JSON from the model. Since we need to transform an <em>NSDate</em> object into a string, we will also make use of <em>NSDataFormatter</em> class. Here is the complete implementation of <em>ArticleListRequestModel</em> class:</p>

<pre data-initialized="true" data-gclp-id="8"><code class="language-m hljs objectivec"><span class="hljs-preprocessor">#import <span class="hljs-title">"ArticleListRequestModel.h"</span></span>

<span class="hljs-class"><span class="hljs-keyword">@implementation</span> <span class="hljs-title">ArticleListRequestModel</span></span>

+ (NSDateFormatter *)dateFormatter {
    NSDateFormatter *dateFormatter = [[NSDateFormatter alloc] init];
    dateFormatter<span class="hljs-variable">.dateFormat</span> = @<span class="hljs-string">"yyyyMMdd"</span>;
    <span class="hljs-keyword">return</span> dateFormatter;
}

<span class="hljs-preprocessor">#pragma mark - Mantle JSONKeyPathsByPropertyKey</span>

+ (<span class="hljs-built_in">NSDictionary</span> *)JSONKeyPathsByPropertyKey {
    <span class="hljs-keyword">return</span> @{
             @<span class="hljs-string">"query"</span>: @<span class="hljs-string">"q"</span>,
             @<span class="hljs-string">"articlesFromDate"</span>: @<span class="hljs-string">"begin_date"</span>,
             @<span class="hljs-string">"articlesToDate"</span>: @<span class="hljs-string">"end_date"</span>
             };
}

<span class="hljs-preprocessor">#pragma mark - JSON Transformers</span>

+ (NSValueTransformer *)articlesToDateJSONTransformer {
    <span class="hljs-keyword">return</span> [MTLValueTransformer transformerUsingForwardBlock:^<span class="hljs-keyword">id</span>(<span class="hljs-built_in">NSString</span> *dateString, <span class="hljs-built_in">BOOL</span> *success, 
    <span class="hljs-built_in">NSError</span> *__autoreleasing *error) {
        <span class="hljs-keyword">return</span> [<span class="hljs-keyword">self</span><span class="hljs-variable">.dateFormatter</span> dateFromString:dateString];
    } reverseBlock:^<span class="hljs-keyword">id</span>(<span class="hljs-built_in">NSDate</span> *date, <span class="hljs-built_in">BOOL</span> *success, <span class="hljs-built_in">NSError</span> *__autoreleasing *error) {
        <span class="hljs-keyword">return</span> [<span class="hljs-keyword">self</span><span class="hljs-variable">.dateFormatter</span> stringFromDate:date];
    }];
}

+ (NSValueTransformer *)articlesFromDateJSONTransformer {
    <span class="hljs-keyword">return</span> [MTLValueTransformer transformerUsingForwardBlock:^<span class="hljs-keyword">id</span>(<span class="hljs-built_in">NSString</span> *dateString, <span class="hljs-built_in">BOOL</span> *success, 
    <span class="hljs-built_in">NSError</span> *__autoreleasing *error) {
        <span class="hljs-keyword">return</span> [<span class="hljs-keyword">self</span><span class="hljs-variable">.dateFormatter</span> dateFromString:dateString];
    } reverseBlock:^<span class="hljs-keyword">id</span>(<span class="hljs-built_in">NSDate</span> *date, <span class="hljs-built_in">BOOL</span> *success, <span class="hljs-built_in">NSError</span> *__autoreleasing *error) {
        <span class="hljs-keyword">return</span> [<span class="hljs-keyword">self</span><span class="hljs-variable">.dateFormatter</span> stringFromDate:date];
    }];
}

<span class="hljs-keyword">@end</span>
</code></pre>

<p>Another great feature of Mantle is that all of these models conform to the <em>NSCoding</em> protocol, as well as implement <em>isEqual</em> and <em>hash</em> methods.</p>

<p>As we have already seen, the resulting JSON from the API call contains an array of objects that represent articles. If we want to model this response using Mantle, we will have to create two separate data models. One would model objects representing articles (<em>docs</em> array elements), and the other would model the whole JSON response except for the elements of the docs array. Now, we don’t have to map each and every property from the incoming JSON into our data models. Let’s suppose we are only interested in two fields of article objects, and those would be <em>lead_paragraph</em> and <em>web_url</em>. The <em>ArticleModel</em> class is rather straightforward to implement, as we can see below.</p>

<pre data-initialized="true" data-gclp-id="9"><code class="language-h hljs objectivec"><span class="hljs-preprocessor">#import <span class="hljs-title">"MTLModel.h"</span></span>
<span class="hljs-preprocessor">#import <span class="hljs-title">&lt;Mantle/Mantle.h&gt;</span></span>

<span class="hljs-class"><span class="hljs-keyword">@interface</span> <span class="hljs-title">ArticleModel</span> : <span class="hljs-title">MTLModel</span> &lt;<span class="hljs-title">MTLJSONSerializing</span>&gt;</span>

<span class="hljs-keyword">@property</span> (<span class="hljs-keyword">nonatomic</span>, copy) <span class="hljs-built_in">NSString</span> *leadParagraph;
<span class="hljs-keyword">@property</span> (<span class="hljs-keyword">nonatomic</span>, copy) <span class="hljs-built_in">NSString</span> *url;

<span class="hljs-keyword">@end</span>
</code></pre>

<pre data-initialized="true" data-gclp-id="10"><code class="language-m hljs objectivec"><span class="hljs-preprocessor">#import <span class="hljs-title">"ArticleModel.h"</span></span>

<span class="hljs-class"><span class="hljs-keyword">@implementation</span> <span class="hljs-title">ArticleModel</span></span>

<span class="hljs-preprocessor">#pragma mark - Mantle JSONKeyPathsByPropertyKey</span>

+ (<span class="hljs-built_in">NSDictionary</span> *)JSONKeyPathsByPropertyKey {
    <span class="hljs-keyword">return</span> @{
             @<span class="hljs-string">"leadParagraph"</span>: @<span class="hljs-string">"lead_paragraph"</span>,
             @<span class="hljs-string">"url"</span>: @<span class="hljs-string">"web_url"</span>
             };
}

<span class="hljs-keyword">@end</span>
</code></pre>

<p>Now that the article model has been defined, we can finish response model definition by creating a model for the article list. Here’s how the class ArticleList response model is going to look.</p>

<pre data-initialized="true" data-gclp-id="11"><code class="language-h hljs objectivec"><span class="hljs-preprocessor">#import <span class="hljs-title">"MTLModel.h"</span></span>
<span class="hljs-preprocessor">#import <span class="hljs-title">&lt;Mantle/Mantle.h&gt;</span></span>
<span class="hljs-preprocessor">#import <span class="hljs-title">"ArticleModel.h"</span></span>

<span class="hljs-class"><span class="hljs-keyword">@interface</span> <span class="hljs-title">ArticleListResponseModel</span> : <span class="hljs-title">MTLModel</span> &lt;<span class="hljs-title">MTLJSONSerializing</span>&gt;</span>

<span class="hljs-keyword">@property</span> (<span class="hljs-keyword">nonatomic</span>, copy) <span class="hljs-built_in">NSArray</span> *articles;
<span class="hljs-keyword">@property</span> (<span class="hljs-keyword">nonatomic</span>, copy) <span class="hljs-built_in">NSString</span> *status;

<span class="hljs-keyword">@end</span>
</code></pre>

<pre data-initialized="true" data-gclp-id="12"><code class="language-m hljs objectivec"><span class="hljs-preprocessor">#import <span class="hljs-title">"ArticleListResponseModel.h"</span></span>

<span class="hljs-class"><span class="hljs-keyword">@class</span> <span class="hljs-title">ArticleModel</span>;</span>

<span class="hljs-class"><span class="hljs-keyword">@implementation</span> <span class="hljs-title">ArticleListResponseModel</span></span>

<span class="hljs-preprocessor">#pragma mark - Mantle JSONKeyPathsByPropertyKey</span>

+ (<span class="hljs-built_in">NSDictionary</span> *)JSONKeyPathsByPropertyKey {
    <span class="hljs-keyword">return</span> @{
             @<span class="hljs-string">"articles"</span> : @<span class="hljs-string">"response.docs"</span>,
             @<span class="hljs-string">"status"</span> : @<span class="hljs-string">"status"</span>
             };
}

<span class="hljs-preprocessor">#pragma mark - JSON Transformer</span>

+ (NSValueTransformer *)articlesJSONTransformer {
    <span class="hljs-keyword">return</span> [MTLJSONAdapter arrayTransformerWithModelClass:ArticleModel<span class="hljs-variable">.class</span>];
}

<span class="hljs-keyword">@end</span>
</code></pre>

<p>This class has only two properties: <em>status</em> and <em>articles</em>. If we compare it to the response from the endpoint we will see that the third JSON attribute copyright  will not be mapped into the response model. If we look at the <em>articlesJSONTransformer</em> method, we will see that it returns a value transformer for an array containing objects of class <em>ArticleModel</em>.</p>

<p>It is also worth noting that in the method <em>JSONKeyPathsByPropertyKey</em>, the model property <em>articles</em> correspond to the array docs that is nested within JSON attribute <em>response</em>.</p>

<p>By now we should have three model classes implemented: ArticleListRequestModel, ArticleModel, and ArticleListResponseModel.</p>

<h2 id="first-api-request">First API Request</h2>

<p><img src="./Simple Guide to Using Realm and Mantle on iOS _ Toptal_files/toptal-blog-image-1437736761484-e7c512656ff5de52c619c4c71f298898.jpg" alt=""></p>

<p>Now that we have implemented all the data models, it is time to get back to the class <em>APIManager</em> to implement the method that we will use to perform GET requests to the API. The method:</p>

<pre data-initialized="true" data-gclp-id="13"><code class=" hljs erlang"><span class="hljs-pp">- <span class="hljs-params">(<span class="hljs-variable">NSURLSessionDataTask</span> *)</span> getArticlesWithRequestModel:<span class="hljs-params">(<span class="hljs-variable">ArticleListRequestModel</span> *)</span>requestModel success:<span class="hljs-params">(void (^)</span><span class="hljs-params">(<span class="hljs-variable">ArticleListResponseModel</span> *response<span class="hljs-variable">Model</span>)</span>)success failure:<span class="hljs-params">(void (^)</span><span class="hljs-params">(<span class="hljs-variable">NSError</span> *error)</span>)failure
</span></code></pre>

<p>takes an <em>ArticleListRequestModel</em> request model as a parameter and returns an <em>ArticleListResponseModel</em> in case of success or an NSError otherwise. The implementation of this method uses <em>AFNetworking</em> to perform a GET request to the API. Please note that in order to make a successful API request we need to provide a key that can be obtained as mentioned earlier, by registering at <a href="http://developer.nytimes.com/" target="_blank">http://developer.nytimes.com</a>.</p>

<pre data-initialized="true" data-gclp-id="14"><code class="language-h hljs objectivec"><span class="hljs-preprocessor">#import <span class="hljs-title">"SessionManager.h"</span></span>
<span class="hljs-preprocessor">#import <span class="hljs-title">"ArticleListRequestModel.h"</span></span>
<span class="hljs-preprocessor">#import <span class="hljs-title">"ArticleListResponseModel.h"</span></span>

<span class="hljs-class"><span class="hljs-keyword">@interface</span> <span class="hljs-title">APIManager</span> : <span class="hljs-title">SessionManager</span></span>

- (NSURLSessionDataTask *)getArticlesWithRequestModel:(ArticleListRequestModel *)requestModel success:(<span class="hljs-keyword">void</span> (^)(ArticleListResponseModel *responseModel))success failure:(<span class="hljs-keyword">void</span> (^)(<span class="hljs-built_in">NSError</span> *error))failure;

<span class="hljs-keyword">@end</span>
</code></pre>

<pre data-initialized="true" data-gclp-id="15"><code class=" hljs objectivec"><span class="hljs-preprocessor">#import <span class="hljs-title">"APIManager.h"</span></span>
<span class="hljs-preprocessor">#import <span class="hljs-title">"Mantle.h"</span></span>

<span class="hljs-keyword">static</span> <span class="hljs-built_in">NSString</span> *<span class="hljs-keyword">const</span> kArticlesListPath = @<span class="hljs-string">"/svc/search/v2/articlesearch.json"</span>;
<span class="hljs-keyword">static</span> <span class="hljs-built_in">NSString</span> *<span class="hljs-keyword">const</span> kApiKey = @<span class="hljs-string">"replace this with your own key"</span>;

<span class="hljs-class"><span class="hljs-keyword">@implementation</span> <span class="hljs-title">APIManager</span></span>

- (NSURLSessionDataTask *)getArticlesWithRequestModel:(ArticleListRequestModel *)requestModel
                                              success:(<span class="hljs-keyword">void</span> (^)(ArticleListResponseModel *responseModel))success
                                              failure:(<span class="hljs-keyword">void</span> (^)(<span class="hljs-built_in">NSError</span> *error))failure{
    
    <span class="hljs-built_in">NSDictionary</span> *parameters = [MTLJSONAdapter JSONDictionaryFromModel:requestModel error:<span class="hljs-literal">nil</span>];
    <span class="hljs-built_in">NSMutableDictionary</span> *parametersWithKey = [[<span class="hljs-built_in">NSMutableDictionary</span> alloc] initWithDictionary:parameters];
    [parametersWithKey setObject:kApiKey forKey:@<span class="hljs-string">"api-key"</span>];
    
    <span class="hljs-keyword">return</span> [<span class="hljs-keyword">self</span> GET:kArticlesListPath parameters:parametersWithKey
             success:^(NSURLSessionDataTask *task, <span class="hljs-keyword">id</span> responseObject) {
        
        <span class="hljs-built_in">NSDictionary</span> *responseDictionary = (<span class="hljs-built_in">NSDictionary</span> *)responseObject;
        
        <span class="hljs-built_in">NSError</span> *error;
        ArticleListResponseModel *list = [MTLJSONAdapter modelOfClass:ArticleListResponseModel<span class="hljs-variable">.class</span>
                                                   fromJSONDictionary:responseDictionary error:&amp;error];
        success(list);
        
    } failure:^(NSURLSessionDataTask *task, <span class="hljs-built_in">NSError</span> *error) {
        
        failure(error);
        
    }];
}
</code></pre>

<p>There are two very important things happening in the implementation of this method. First let’s take a look at this line:</p>

<pre data-initialized="true" data-gclp-id="16"><code class=" hljs ruby"><span class="hljs-constant">NSDictionary</span> *parameters = [<span class="hljs-constant">MTLJSONAdapter</span> <span class="hljs-constant">JSONDictionaryFromModel</span><span class="hljs-symbol">:requestModel</span> <span class="hljs-symbol">error:</span><span class="hljs-keyword">nil</span>];
</code></pre>

<p>What is happening here is that using the method provided by <em>MTLJSONAdapter</em> class we get a <em>NSDictionary</em> representation of our data model. That representation mirrors the JSON that is going to be sent to the API. This is where the beauty of Mantle lies. Having implemented <em>JSONKeyPathsByPropertyKey</em> and <code>+&lt;propertyName&gt;JSONTransformer</code> methods in the ArticleListRequestModel class, we can get the correct JSON representation of our data model in no time with just a single line of code.</p>

<p>Mantle also allows us to perform transformations in the other direction too. And that’s exactly what’s happening with the data received from the API. The NSDictionary that we receive is mapped into an object of ArticleListResponseModel class using the following class method:</p>

<pre data-initialized="true" data-gclp-id="17"><code class=" hljs applescript">ArticleListResponseModel *<span class="hljs-type">list</span> = [MTLJSONAdapter modelOfClass:ArticleListResponseModel.<span class="hljs-type">class</span> fromJSONDictionary:responseDictionary <span class="hljs-keyword">error</span>:&amp;<span class="hljs-keyword">error</span>];
</code></pre>

<form action="http://www.toptal.com/blog/subscribe" class="embeddable_form for-post" data-placement="post" data-remote="" data-type="text" data-view="blog_subscribe#subscribe" method="post"><div class="embeddable_form-row is-label"><div class="embeddable_form-label_title">Like what you're reading?</div><div class="embeddable_form-label">Get the latest updates first.</div></div><div class="embeddable_form-row"><input autocomplete="off" class="input is-medium" data-role="email" name="email" placeholder="Enter your email address..." type="text"></div><div class="embeddable_form-row_wrapper is-footer"><div class="embeddable_form-row is-submit"><input class="button is-green_candy is-default is-full_width" data-role="submit" type="submit" value="Get Exclusive Updates"></div><div class="embeddable_form-row is-privacy"><div class="embeddable_form-privacy"><div class="embeddable_form-privacy_icon"></div><div class="embeddable_form-privacy_text">No spam. Just great engineering posts.</div></div></div></div><div class="embeddable_form-template" data-role="success_template" data-template="{&quot;html&quot;:&quot;\u003cdiv class=\&quot;embeddable_form-row is-label is-success\&quot;\u003e\u003cdiv class=\&quot;embeddable_form-label_title\&quot;\u003eLike what you\u0026#39;re reading?\u003c/div\u003e\u003cdiv class=\&quot;embeddable_form-label\&quot;\u003eGet the latest updates first.\u003c/div\u003e\u003c/div\u003e\u003cdiv class=\&quot;embeddable_form-row is-success\&quot;\u003e\u003cdiv class=\&quot;embeddable_form-label is-header\&quot;\u003eThank you for subscribing!\u003c/div\u003e\u003c/div\u003e\u003cdiv class=\&quot;embeddable_form-row is-success\&quot;\u003e\u003cdiv class=\&quot;embeddable_form-done\&quot;\u003e\u003cul class=\&quot;blog_follow_us\&quot;\u003e\u003cli class=\&quot;blog_follow_us-source\&quot;\u003e\u003cdiv class=\&quot;fb-like\&quot; data-href=\&quot;http://www.toptal.com/blog\&quot; data-send=\&quot;false\&quot; data-layout=\&quot;button_count\&quot; data-width=\&quot;450\&quot; data-show-faces=\&quot;false\&quot;\u003e\u003c/div\u003e\n\u003c/li\u003e\u003cli class=\&quot;blog_follow_us-source is-twitter\&quot;\u003e\u003ca class=\&quot;twitter-follow-button\&quot; data-show-count=\&quot;true\&quot; href=\&quot;https://twitter.com/toptalllc\&quot;\u003eFollow @toptalllc\u003c/a\u003e\u003c/li\u003e\u003cli class=\&quot;blog_follow_us-source\&quot;\u003e\u003cdiv class=\&quot;g-follow\&quot; data-annotation=\&quot;bubble\&quot; data-height=\&quot;20\&quot; data-href=\&quot;https://plus.google.com/109028009576318848424\&quot; data-rel=\&quot;publisher\&quot;\u003e\u003c/div\u003e\u003cscript type=\&quot;text/javascript\&quot;\u003e(function() {\n  var po = document.createElement(&#39;script&#39;); po.type = &#39;text/javascript&#39;; po.async = true; po.defer = true;\n  po.src = &#39;https://apis.google.com/js/platform.js&#39;; po.text = &#39;{lang: \&quot;en-US\&quot;}&#39;;\n  var s = document.getElementsByTagName(&#39;script&#39;)[0]; s.parentNode.insertBefore(po, s);\n})();\u003c/script\u003e\u003c/li\u003e\u003c/ul\u003e\u003c/div\u003e\u003c/div\u003e&quot;}" style="display: none;"></div></form><h2 id="persisting-data-with-realm">Persisting Data with Realm</h2>

<p>Now that we are able to fetch data from a remote API, it is time to persist it. As mentioned in the introduction, we will do it using Realm. Realm is a mobile database and a replacement for Core Data and SQLite. As we will see below, it is extremely easy to use.</p>

<div class="pop_out_box is-full_width is-big">Realm, the ultimate mobile database, is a perfect replacement for Core Data and SQLite.</div>

<div class="tweet_this">
   <iframe id="twitter-widget-2" scrolling="no" frameborder="0" allowtransparency="true" src="./Simple Guide to Using Realm and Mantle on iOS _ Toptal_files/tweet_button.9b77a1cb4bd14da06dfa5e2f65422c91.en(2).html" class="twitter-share-button twitter-tweet-button twitter-share-button twitter-count-horizontal" title="Twitter Tweet Button" data-twttr-rendered="true" style="position: static; visibility: visible; width: 81px; height: 20px;"></iframe>
</div>

<p>To save a piece of data in Realm we first need to encapsulate an object that is derived from RLMObject class. What we need to do now is to create a model class that will store data for single articles. Here’s how easy it is to create such a class.</p>

<pre data-initialized="true" data-gclp-id="18"><code class=" hljs objectivec"><span class="hljs-preprocessor">#import <span class="hljs-title">"RLMObject.h"</span></span>

<span class="hljs-class"><span class="hljs-keyword">@interface</span> <span class="hljs-title">ArticleRealm</span> : <span class="hljs-title">RLMObject</span></span>

<span class="hljs-keyword">@property</span> <span class="hljs-built_in">NSString</span> *leadParagraph;
<span class="hljs-keyword">@property</span> <span class="hljs-built_in">NSString</span> *url;

<span class="hljs-keyword">@end</span>
</code></pre>

<p>And this could be basically it, the implementation of this class could remain empty. Please note that the properties in the model class have no attributes like nonatomic, strong, or copy. Realm takes care of those and we need not worry about them.</p>

<p>Since the articles that we can get are modelled with the Mante model <em>Article</em> it would be convenient to initialize <em>ArticleRealm</em> objects with objects of class <em>Article</em>. To do that we will add <em>initWithMantleModel</em> method to our Realm model. Here’s the complete implementation of <em>ArticleRealm</em> class.</p>

<pre data-initialized="true" data-gclp-id="19"><code class="language-h hljs objectivec"><span class="hljs-preprocessor">#import <span class="hljs-title">"RLMObject.h"</span></span>
<span class="hljs-preprocessor">#import <span class="hljs-title">"ArticleModel.h"</span></span>

<span class="hljs-class"><span class="hljs-keyword">@interface</span> <span class="hljs-title">ArticleRealm</span> : <span class="hljs-title">RLMObject</span></span>

<span class="hljs-keyword">@property</span> <span class="hljs-built_in">NSString</span> *leadParagraph;
<span class="hljs-keyword">@property</span> <span class="hljs-built_in">NSString</span> *url;

- (<span class="hljs-keyword">id</span>)initWithMantleModel:(ArticleModel *)articleModel;

<span class="hljs-keyword">@end</span>
</code></pre>

<pre data-initialized="true" data-gclp-id="20"><code class="language-m hljs objectivec"><span class="hljs-preprocessor">#import <span class="hljs-title">"ArticleRealm.h"</span></span>

<span class="hljs-class"><span class="hljs-keyword">@implementation</span> <span class="hljs-title">ArticleRealm</span></span>

- (<span class="hljs-keyword">id</span>)initWithMantleModel:(ArticleModel *)articleModel{
    <span class="hljs-keyword">self</span> = [<span class="hljs-keyword">super</span> init];
    <span class="hljs-keyword">if</span>(!<span class="hljs-keyword">self</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>;
    
    <span class="hljs-keyword">self</span><span class="hljs-variable">.leadParagraph</span> = articleModel<span class="hljs-variable">.leadParagraph</span>;
    <span class="hljs-keyword">self</span><span class="hljs-variable">.url</span> = articleModel<span class="hljs-variable">.url</span>;
    
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">self</span>;
}

<span class="hljs-keyword">@end</span>
</code></pre>

<p>We interact with the database using objects of class <em>RLMRealm</em>. We can easily get a <em>RLMRealm</em> object by invoking the method “[RLMRealm defaultRealm]”. It is important to remember that such an object is valid only within the thread it was created on and can not be shared across threads. Writing data to Realm is quite straightforward. A single write, or a series of them, need to be done within a write transaction. Here’s a sample write to the database:</p>

<pre data-initialized="true" data-gclp-id="21"><code class=" hljs avrasm">RLMRealm *realm = [RLMRealm defaultRealm]<span class="hljs-comment">;</span>
    
ArticleRealm *articleRealm = [ArticleRealm new]<span class="hljs-comment">;</span>
articleRealm<span class="hljs-preprocessor">.leadParagraph</span> = @<span class="hljs-string">"abc"</span><span class="hljs-comment">;</span>
articleRealm<span class="hljs-preprocessor">.url</span> = @<span class="hljs-string">"sampleUrl"</span><span class="hljs-comment">;</span>
    
[realm beginWriteTransaction]<span class="hljs-comment">;</span>
[realm addObject:articleRealm]<span class="hljs-comment">;</span>
[realm commitWriteTransaction]<span class="hljs-comment">;</span>
</code></pre>

<p>What happens here is the following. First we create a <em>RLMRealm</em> object to interact with the database. Then an <em>ArticleRealm</em> model object is created (please bear in mind that it is derived from <em>RLMRealm</em> class). Finally to save it, a write transaction begins, the object is added to the database, and once it is saved the write transaction is committed. As we can see, write transactions block the thread on which they are invoked. While Realm is said to be very fast, if we were to add multiple objects to the database within a single transaction on the main thread, that could lead to the UI becoming unresponsive until the transaction is finished. A natural solution to that is to perform such a write transaction on a background thread.</p>

<h2 id="api-request-and-persisting-response-in-realm">API Request and Persisting Response in Realm</h2>

<p>This is all the information we need to persist articles using Realm. Let’s try to perform an API request using the method</p>

<pre data-initialized="true" data-gclp-id="22"><code class=" hljs erlang"><span class="hljs-pp">- <span class="hljs-params">(<span class="hljs-variable">NSURLSessionDataTask</span> *)</span> getArticlesWithRequestModel:<span class="hljs-params">(<span class="hljs-variable">ArticleListRequestModel</span> *)</span>requestModel success:<span class="hljs-params">(void (^)</span><span class="hljs-params">(<span class="hljs-variable">ArticleListResponseModel</span> *response<span class="hljs-variable">Model</span>)</span>)success failure:<span class="hljs-params">(void (^)</span><span class="hljs-params">(<span class="hljs-variable">NSError</span> *error)</span>)failure
</span></code></pre>

<p>and Mantle request and response models in order to get New York Times articles that had anything to do (as in the earlier example) with basketball and were published in the first seven days of June 2015. Once the list of such articles is available, we will persist it in Realm. Below is the code that does that. It’s placed in the <em>viewDidLoad</em> method of the table view controller in our app.</p>

<pre data-initialized="true" data-gclp-id="23"><code class=" hljs makefile">ArticleListRequestModel *requestModel = [ArticleListRequestModel new]; // (1)
requestModel.query = @"Basketball";
requestModel.articlesToDate = [[ArticleListRequestModel dateFormatter] dateFromString:@"20150706"];
requestModel.articlesFromDate = [[ArticleListRequestModel dateFormatter] dateFromString:@"20150701"];

[[APIManager sharedManager] getArticlesWithRequestModel:requestModel   // (2)
												success:^(ArticleListResponseModel *responseModel){
	
	dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^{ // (3)
		@autoreleasepool {
			
		RLMRealm *realm = [RLMRealm defaultRealm];
		[realm beginWriteTransaction];
		[realm deleteAllObjects];
		[realm commitWriteTransaction];
		
		[realm beginWriteTransaction];
		for(ArticleModel *article in responseModel.articles){
			ArticleRealm *articleRealm = [[ArticleRealm alloc] initWithMantleModel:article]; // (4)
			[realm addObject:articleRealm];
		}
		[realm commitWriteTransaction];
	   
			dispatch_async(dispatch_get_main_queue(), ^{ // (5)
				RLMRealm *realmMainThread = [RLMRealm defaultRealm]; // (6)
				RLMResults *articles = [ArticleRealm allObjectsInRealm:realmMainThread];
				self.articles = articles; // (7)
				[self.tableView reloadData];
			});
		}
	});
	
} failure:^(NSError *error) {
	self.articles = [ArticleRealm allObjects];
	[self.tableView reloadData];
}];
</code></pre>

<p>First, an API call is made (2) with a request model (1), which returns a response model that contains a list of articles. In order to persist those articles using Realm we need to create Realm model objects, which takes place in the for loop (4). It is also important to notice that since multiple objects are persisted within a single write transaction, that write transaction is performed on a background thread (3). Now, once all the articles are saved in Realm, we assign them to the class property <em>self.articles</em> (7). Since they’re going to be accessed later on the main thread in TableView datasource methods, it is safe to retrieve them from the Realm database on the main thread too (5). Again, to access the database from a new thread, a new RLMRealm object needs to be created (6) on that thread.</p>

<p><img src="./Simple Guide to Using Realm and Mantle on iOS _ Toptal_files/toptal-blog-image-1437736736973-c122aa01a412250edee995b94ce9628c.jpg" alt=""></p>

<p>If getting new articles from the API fails for whatever reason, the existing ones are retrieved from the local storage in the failure block.</p>

<h2 id="wrapping-up">Wrapping Up</h2>

<p>In this tutorial we learned how to configure Mantle, a model framework for Cocoa and Cocoa Touch, in order to interact with a remote API. We also learned how to locally persist data retrieved in the form of Mantle model objects using Realm mobile database.</p>

<p>In case you want to try out this application, you can retrieve the source code from <a href="https://github.com/bonzoq/RealmMantleTutorial" target="_blank">its GitHub repository</a>. You will need to generate and provide your own API key before running the application.</p>
<div class="blog_author_big_banner is-active" data-ga-action="ClickedOnHireTheAuthor_bottom" data-ga-label="simplifying-restful-api-use-and-data-persistence-on-ios-with-mantle-and-realm" data-role="session_based" data-view="content#bottom_banner" data-visible-when="sessionless"><h2>About the author</h2><div class="skill_developer for-blog_post"><div class="skill_developer-extra"><a class="skill_developer-photo_wrapper" href="http://www.toptal.com/resume/marcin-kmiec"><img class="skill_developer-photo" src="./Simple Guide to Using Realm and Mantle on iOS _ Toptal_files/large_daed9e5bac827d646035b42211ae66b9.jpg"><div class="skill_developer-photo_hint">View full profile →</div></a><div class="blog_author_big_banner-cta" data-role="session_based" data-visible-when="sessionless"><a class="button is-green_candy is-default is-full_width is-fixed skill_developer-hire" data-role="banner_link" href="https://www.toptal.com/companies/apply">Hire the Author</a></div></div><div class="skill_developer-main"><a class="link skill_developer-name" href="http://www.toptal.com/resume/marcin-kmiec">Marcin Kmiec, Poland</a><div class="clearfix"><div class="skill_developer-member_since">member since March 18, 2015</div></div><div class="skill_developer-skills" data-view="skill_developer#tags"><a class="tag skill_developer-skill" data-role="tag" href="http://www.toptal.com/c">C</a><a class="tag skill_developer-skill" data-role="tag" href="http://www.toptal.com/c-plus-plus">C++</a><a class="tag skill_developer-skill" data-role="tag" href="http://www.toptal.com/objective-c">Objective-C</a><a class="tag skill_developer-skill" data-role="tag" href="http://www.toptal.com/ui">UIKit</a><a class="tag skill_developer-skill" data-role="tag" href="http://www.toptal.com/ios">iOS SDK</a><a class="tag skill_developer-skill" data-role="tag" href="http://www.toptal.com/ios">Parse iOS SDK</a><a class="tag skill_developer-skill" data-role="tag" href="http://www.toptal.com/xcode">Xcode</a><a class="tag skill_developer-skill" data-role="tag" href="http://www.toptal.com/ios">iOS</a></div><div class="skill_developer-description">Marcin is a developer with over six years of professional C/C++ and Objective-C programming experience. He has completed numerous successful projects working for a big multinational as well as for small and medium businesses. He holds a PhD in computer vision and has published several important research papers in the field.  <a class="link" href="http://www.toptal.com/resume/marcin-kmiec">[click to continue...]</a></div></div></div></div><div class="post-join"><a class="button is-white_and_green is-default is-full_width" href="http://www.toptal.com/ios">Hiring? Meet the Top 10 iOS Developers for Hire in July 2015</a></div><div class="template" data-role="subscribe_template" data-template="{&quot;html&quot;:&quot;\u003cform action=\&quot;/blog/subscribe\&quot; class=\&quot;embeddable_form for-post\&quot; data-placement=\&quot;post\&quot; data-remote=\&quot;\&quot; data-type=\&quot;text\&quot; data-view=\&quot;blog_subscribe#subscribe\&quot; method=\&quot;post\&quot;\u003e\u003cdiv class=\&quot;embeddable_form-row is-label\&quot;\u003e\u003cdiv class=\&quot;embeddable_form-label_title\&quot;\u003eLike what you\u0026#39;re reading?\u003c/div\u003e\u003cdiv class=\&quot;embeddable_form-label\&quot;\u003eGet the latest updates first.\u003c/div\u003e\u003c/div\u003e\u003cdiv class=\&quot;embeddable_form-row\&quot;\u003e\u003cinput autocomplete=\&quot;off\&quot; class=\&quot;input is-medium\&quot; data-role=\&quot;email\&quot; name=\&quot;email\&quot; placeholder=\&quot;Enter your email address...\&quot; type=\&quot;text\&quot; /\u003e\u003c/div\u003e\u003cdiv class=\&quot;embeddable_form-row_wrapper is-footer\&quot;\u003e\u003cdiv class=\&quot;embeddable_form-row is-submit\&quot;\u003e\u003cinput class=\&quot;button is-green_candy is-default is-full_width\&quot; data-role=\&quot;submit\&quot; type=\&quot;submit\&quot; value=\&quot;Get Exclusive Updates\&quot; /\u003e\u003c/div\u003e\u003cdiv class=\&quot;embeddable_form-row is-privacy\&quot;\u003e\u003cdiv class=\&quot;embeddable_form-privacy\&quot;\u003e\u003cdiv class=\&quot;embeddable_form-privacy_icon\&quot;\u003e\u003c/div\u003e\u003cdiv class=\&quot;embeddable_form-privacy_text\&quot;\u003eNo spam. Just great engineering posts.\u003c/div\u003e\u003c/div\u003e\u003c/div\u003e\u003c/div\u003e\u003cdiv class=\&quot;embeddable_form-template\&quot; data-role=\&quot;success_template\&quot; data-template=\&quot;{\u0026quot;html\u0026quot;:\u0026quot;\\u003cdiv class=\\\u0026quot;embeddable_form-row is-label is-success\\\u0026quot;\\u003e\\u003cdiv class=\\\u0026quot;embeddable_form-label_title\\\u0026quot;\\u003eLike what you\\u0026#39;re reading?\\u003c/div\\u003e\\u003cdiv class=\\\u0026quot;embeddable_form-label\\\u0026quot;\\u003eGet the latest updates first.\\u003c/div\\u003e\\u003c/div\\u003e\\u003cdiv class=\\\u0026quot;embeddable_form-row is-success\\\u0026quot;\\u003e\\u003cdiv class=\\\u0026quot;embeddable_form-label is-header\\\u0026quot;\\u003eThank you for subscribing!\\u003c/div\\u003e\\u003c/div\\u003e\\u003cdiv class=\\\u0026quot;embeddable_form-row is-success\\\u0026quot;\\u003e\\u003cdiv class=\\\u0026quot;embeddable_form-done\\\u0026quot;\\u003e\\u003cul class=\\\u0026quot;blog_follow_us\\\u0026quot;\\u003e\\u003cli class=\\\u0026quot;blog_follow_us-source\\\u0026quot;\\u003e\\u003cdiv class=\\\u0026quot;fb-like\\\u0026quot; data-href=\\\u0026quot;http://www.toptal.com/blog\\\u0026quot; data-send=\\\u0026quot;false\\\u0026quot; data-layout=\\\u0026quot;button_count\\\u0026quot; data-width=\\\u0026quot;450\\\u0026quot; data-show-faces=\\\u0026quot;false\\\u0026quot;\\u003e\\u003c/div\\u003e\\n\\u003c/li\\u003e\\u003cli class=\\\u0026quot;blog_follow_us-source is-twitter\\\u0026quot;\\u003e\\u003ca class=\\\u0026quot;twitter-follow-button\\\u0026quot; data-show-count=\\\u0026quot;true\\\u0026quot; href=\\\u0026quot;https://twitter.com/toptalllc\\\u0026quot;\\u003eFollow @toptalllc\\u003c/a\\u003e\\u003c/li\\u003e\\u003cli class=\\\u0026quot;blog_follow_us-source\\\u0026quot;\\u003e\\u003cdiv class=\\\u0026quot;g-follow\\\u0026quot; data-annotation=\\\u0026quot;bubble\\\u0026quot; data-height=\\\u0026quot;20\\\u0026quot; data-href=\\\u0026quot;https://plus.google.com/109028009576318848424\\\u0026quot; data-rel=\\\u0026quot;publisher\\\u0026quot;\\u003e\\u003c/div\\u003e\\u003cscript type=\\\u0026quot;text/javascript\\\u0026quot;\\u003e(function() {\\n  var po = document.createElement(\u0026#39;script\u0026#39;); po.type = \u0026#39;text/javascript\u0026#39;; po.async = true; po.defer = true;\\n  po.src = \u0026#39;https://apis.google.com/js/platform.js\u0026#39;; po.text = \u0026#39;{lang: \\\u0026quot;en-US\\\u0026quot;}\u0026#39;;\\n  var s = document.getElementsByTagName(\u0026#39;script\u0026#39;)[0]; s.parentNode.insertBefore(po, s);\\n})();\\u003c/script\\u003e\\u003c/li\\u003e\\u003c/ul\\u003e\\u003c/div\\u003e\\u003c/div\\u003e\u0026quot;}\&quot; style=\&quot;display: none;\&quot;\u003e\u003c/div\u003e\u003c/form\u003e&quot;}"></div></div><div class="blog-comments"><div id="disqus_thread_container"><div id="disqus_thread"><iframe id="dsq-1" data-disqus-uid="1" allowtransparency="true" frameborder="0" scrolling="no" tabindex="0" title="Disqus" width="100%" src="./Simple Guide to Using Realm and Mantle on iOS _ Toptal_files/saved_resource.html" style="width: 100% !important; border: none !important; overflow: hidden !important; height: 544px !important;" horizontalscrolling="no" verticalscrolling="no"></iframe><iframe id="dsq-indicator-north" data-disqus-uid="indicator-north" allowtransparency="true" frameborder="0" scrolling="no" tabindex="0" title="Disqus" style="width: 864px !important; border: none !important; overflow: hidden !important; top: 0px !important; min-width: 864px !important; max-width: 864px !important; position: fixed !important; z-index: 2147483646 !important; height: 29px !important; min-height: 29px !important; max-height: 29px !important; display: none !important;"></iframe><iframe id="dsq-indicator-south" data-disqus-uid="indicator-south" allowtransparency="true" frameborder="0" scrolling="no" tabindex="0" title="Disqus" style="width: 864px !important; border: none !important; overflow: hidden !important; bottom: 0px !important; min-width: 864px !important; max-width: 864px !important; position: fixed !important; z-index: 2147483646 !important; height: 29px !important; min-height: 29px !important; max-height: 29px !important; display: none !important;"></iframe></div></div><script type="text/javascript">function isIos() {
  return /(iPad|iPhone|iPod)/g.test(navigator.userAgent);
}

function adjustHeightInIos() {
  if (isIos()) {
    var height = $('#disqus_thread').outerHeight();
    $('#disqus_thread_container').height(height);
  }
}

if (isIos()) {
  var el = document.getElementById('disqus_thread_container');
  el.style.height = '1px';
  el.style.overflow = 'hidden';
  el.style.width = '100%';
}

function disqus_config() {
  this.callbacks.onNewComment = [function() {
    $.post('/blog/comments/on_create');
    adjustHeightInIos();
  }];

  this.callbacks.onReady = [adjustHeightInIos];
}

var disqus_shortname = 'toptal';
var disqus_identifier = 'ios/simplifying-restful-api-use-and-data-persistence-on-ios-with-mantle-and-realm';

(function() {
  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><noscript>Please enable JavaScript to view the &lt;a href="http://disqus.com/?ref_noscript"&gt;comments powered by Disqus.&lt;/a&gt;</noscript></div></div></div><div class="two_columns_layout-extra"><div class="blog-block-wrapper"><div class="blog-block-header">Subscribe</div><div class="blog-block"><div class="blog-block-row"><form action="http://www.toptal.com/blog/subscribe" class="embeddable_form for-extra" data-placement="extra" data-remote="" data-type="text" data-view="blog_subscribe#subscribe" method="post"><div class="embeddable_form-row is-label"><div class="embeddable_form-label_title">Free email updates</div><div class="embeddable_form-label">Get the latest content first.</div></div><div class="embeddable_form-row"><input autocomplete="off" class="input is-medium" data-role="email" name="email" placeholder="Enter your email address..." type="text"></div><div class="embeddable_form-row_wrapper is-footer"><div class="embeddable_form-row is-submit"><input class="button is-green_candy is-default is-full_width" data-role="submit" type="submit" value="Get Exclusive Updates"></div><div class="embeddable_form-row is-privacy"><div class="embeddable_form-privacy"><div class="embeddable_form-privacy_icon"></div><div class="embeddable_form-privacy_text">No spam. Just great engineering posts.</div></div></div></div><div class="embeddable_form-template" data-role="success_template" data-template="{&quot;html&quot;:&quot;\u003cdiv class=\&quot;embeddable_form-row is-label is-success\&quot;\u003e\u003cdiv class=\&quot;embeddable_form-label_title\&quot;\u003eFree email updates\u003c/div\u003e\u003cdiv class=\&quot;embeddable_form-label\&quot;\u003eGet the latest content first.\u003c/div\u003e\u003c/div\u003e\u003cdiv class=\&quot;embeddable_form-row is-success\&quot;\u003e\u003cdiv class=\&quot;embeddable_form-label is-header\&quot;\u003eThank you for subscribing!\u003c/div\u003e\u003c/div\u003e\u003cdiv class=\&quot;embeddable_form-row is-success\&quot;\u003e\u003cdiv class=\&quot;embeddable_form-done\&quot;\u003e\u003cul class=\&quot;blog_follow_us\&quot;\u003e\u003cli class=\&quot;blog_follow_us-source\&quot;\u003e\u003cdiv class=\&quot;fb-like\&quot; data-href=\&quot;http://www.toptal.com/blog\&quot; data-send=\&quot;false\&quot; data-layout=\&quot;button_count\&quot; data-width=\&quot;450\&quot; data-show-faces=\&quot;false\&quot;\u003e\u003c/div\u003e\n\u003c/li\u003e\u003cli class=\&quot;blog_follow_us-source is-twitter\&quot;\u003e\u003ca class=\&quot;twitter-follow-button\&quot; data-show-count=\&quot;true\&quot; href=\&quot;https://twitter.com/toptalllc\&quot;\u003eFollow @toptalllc\u003c/a\u003e\u003c/li\u003e\u003cli class=\&quot;blog_follow_us-source\&quot;\u003e\u003cdiv class=\&quot;g-follow\&quot; data-annotation=\&quot;bubble\&quot; data-height=\&quot;20\&quot; data-href=\&quot;https://plus.google.com/109028009576318848424\&quot; data-rel=\&quot;publisher\&quot;\u003e\u003c/div\u003e\u003cscript type=\&quot;text/javascript\&quot;\u003e(function() {\n  var po = document.createElement(&#39;script&#39;); po.type = &#39;text/javascript&#39;; po.async = true; po.defer = true;\n  po.src = &#39;https://apis.google.com/js/platform.js&#39;; po.text = &#39;{lang: \&quot;en-US\&quot;}&#39;;\n  var s = document.getElementsByTagName(&#39;script&#39;)[0]; s.parentNode.insertBefore(po, s);\n})();\u003c/script\u003e\u003c/li\u003e\u003c/ul\u003e\u003c/div\u003e\u003c/div\u003e&quot;}" style="display: none;"></div></form></div></div><div class="blog-block-header">Trending articles</div><div class="blog-block"><nav class="blog-trending"><a class="post is-preview blog-trending-item" href="http://www.toptal.com/microsoft/eight-reasons-why-microsoft-stack-is-still-a-viable-choice"><span class="post_cover is-preview for-technology"><noscript>&lt;img class="post_cover-image" src="http://assets.toptal.io/uploads/blog/cover_image/90210/side_list_cover-711mahmud-02-a1cbf131c9f75775b38a164cf6ace440.jpg" /&gt;</noscript><img src="./Simple Guide to Using Realm and Mantle on iOS _ Toptal_files/side_list_cover-711mahmud-02-a1cbf131c9f75775b38a164cf6ace440.jpg" class="post_cover-image"></span><span class="post-preview"><span class="post-title">Eight Reasons Why Microsoft Stack Is Still a Viable Choice</span><span class="post_meta"><span class="post_meta-date">10 days ago</span></span></span></a><a class="post is-preview blog-trending-item" href="http://www.toptal.com/voip/choosing-the-best-headphones-for-developers"><span class="post_cover is-preview for-technology"><noscript>&lt;img class="post_cover-image" src="http://assets.toptal.io/uploads/blog/cover_image/90215/side_list_cover-717nermin-02-dde72e0863322600f10fabc614b0515f.jpg" /&gt;</noscript><img src="./Simple Guide to Using Realm and Mantle on iOS _ Toptal_files/side_list_cover-717nermin-02-dde72e0863322600f10fabc614b0515f.jpg" class="post_cover-image"></span><span class="post-preview"><span class="post-title">Choosing The Best Headphones For Developers</span><span class="post_meta"><span class="post_meta-date">1 day ago</span></span></span></a><a class="post is-preview blog-trending-item" href="http://www.toptal.com/c/after-all-these-years-the-world-is-still-powered-by-c-programming"><span class="post_cover is-preview for-technology"><noscript>&lt;img class="post_cover-image" src="http://assets.toptal.io/uploads/blog/cover_image/90213/side_list_cover-nickcover-02-6aef874dad59686023b25954555edad7.jpg" /&gt;</noscript><img src="./Simple Guide to Using Realm and Mantle on iOS _ Toptal_files/side_list_cover-nickcover-02-6aef874dad59686023b25954555edad7.jpg" class="post_cover-image"></span><span class="post-preview"><span class="post-title">After All These Years, the World is Still Powered by C Programming</span><span class="post_meta"><span class="post_meta-date">3 days ago</span></span></span></a><a class="post is-preview blog-trending-item" href="http://www.toptal.com/react/navigating-the-react-ecosystem"><span class="post_cover is-preview for-technology"><noscript>&lt;img class="post_cover-image" src="http://assets.toptal.io/uploads/blog/cover_image/90201/side_list_cover-623nick-02-ffcac4bbd4ea9be3f1b5c19a75c9613f.jpg" /&gt;</noscript><img src="./Simple Guide to Using Realm and Mantle on iOS _ Toptal_files/side_list_cover-623nick-02-ffcac4bbd4ea9be3f1b5c19a75c9613f.jpg" class="post_cover-image"></span><span class="post-preview"><span class="post-title">Navigating the React Ecosystem</span><span class="post_meta"><span class="post_meta-date">29 days ago</span></span></span></a><a class="post is-preview blog-trending-item" href="http://www.toptal.com/ios/simplifying-restful-api-use-and-data-persistence-on-ios-with-mantle-and-realm"><span class="post_cover is-preview for-technology"><noscript>&lt;img class="post_cover-image" src="http://assets.toptal.io/uploads/blog/cover_image/90216/side_list_cover-722mahmud-02-02f52183f325381ffdc6ab5cb06d2bd8.jpg" /&gt;</noscript><img src="./Simple Guide to Using Realm and Mantle on iOS _ Toptal_files/side_list_cover-722mahmud-02-02f52183f325381ffdc6ab5cb06d2bd8.jpg" class="post_cover-image"></span><span class="post-preview"><span class="post-title">Simplifying RESTful API Use and Data Persistence on iOS with Mantle and Realm</span><span class="post_meta"><span class="post_meta-date">about 7 hours ago</span></span></span></a><a class="post is-preview blog-trending-item" href="http://www.toptal.com/git/google-cloud-source-repositories-vs-github-a-worthy-alternative"><span class="post_cover is-preview for-technology"><noscript>&lt;img class="post_cover-image" src="http://assets.toptal.io/uploads/blog/cover_image/90209/side_list_cover-78nermin-02-f7551367d97fa9358c61778a435f00dd.jpg" /&gt;</noscript><img src="./Simple Guide to Using Realm and Mantle on iOS _ Toptal_files/side_list_cover-78nermin-02-f7551367d97fa9358c61778a435f00dd.jpg" class="post_cover-image"></span><span class="post-preview"><span class="post-title">Google Cloud Source Repositories vs. GitHub: A Worthy Alternative?</span><span class="post_meta"><span class="post_meta-date">4 days ago</span></span></span></a><a class="post is-preview blog-trending-item" href="http://www.toptal.com/opengl/opengl-tutorial-for-android-building-a-mandelbrot-set-generator"><span class="post_cover is-preview for-technology"><noscript>&lt;img class="post_cover-image" src="http://assets.toptal.io/uploads/blog/cover_image/90214/side_list_cover-cover-01-887d6fa087dadeeb18cb71ad2d9c7e29.jpg" /&gt;</noscript><img src="./Simple Guide to Using Realm and Mantle on iOS _ Toptal_files/side_list_cover-cover-01-887d6fa087dadeeb18cb71ad2d9c7e29.jpg" class="post_cover-image"></span><span class="post-preview"><span class="post-title">OpenGL Tutorial for Android: Building A Mandelbrot Set Generator</span><span class="post_meta"><span class="post_meta-date">2 days ago</span></span></span></a><a class="post is-preview blog-trending-item" href="http://www.toptal.com/css/css-layout-primer-from-classic-approaches-to-the-latest-techniques"><span class="post_cover is-preview for-technology"><noscript>&lt;img class="post_cover-image" src="http://assets.toptal.io/uploads/blog/cover_image/90211/side_list_cover-cover_image-0aeff84f370360eb22f093e4cc1d4d54.jpg" /&gt;</noscript><img src="./Simple Guide to Using Realm and Mantle on iOS _ Toptal_files/side_list_cover-cover_image-0aeff84f370360eb22f093e4cc1d4d54.jpg" class="post_cover-image"></span><span class="post-preview"><span class="post-title">CSS Layout Primer: From Classic Approaches to the Latest Techniques</span><span class="post_meta"><span class="post_meta-date">9 days ago</span></span></span></a></nav></div><div class="blog-block-header">Relevant technologies</div><div class="blog-block"><div class="blog-block-row"><ul class="blog-relevant"><li class="blog-relevant-item"><a class="link is-blue" href="http://www.toptal.com/mobile">Mobile</a></li><li class="blog-relevant-item"><a class="link is-blue" href="http://www.toptal.com/database">Database</a></li><li class="blog-relevant-item"><a class="link is-blue" href="http://www.toptal.com/ios">iOS</a></li></ul></div></div><div class="blog-block-header">Toptal Authors</div><div class="blog-block"><div class="user_cards_list has-no-bottom_margin has-no_top_border for-blog_sidebar"><div class="user_cards_list-bottom_border"></div><div class="user_card"><div class="user_card-photo_container"><a target="_blank" href="http://www.toptal.com/resume/ahmed-al-amir"><div class="user_card-photo" style="background-image: url(&#39;http://assets.toptal.io/uploads/user/photo/22193/small_892443_10151647943594180_386447531_o.jpg&#39;);"></div></a></div><div class="user_card-info is-center_aligned"><div class="user_card-info_name"><a target="_blank" href="http://www.toptal.com/resume/ahmed-al-amir">Ahmed Al-Amir</a></div><div class="user_card-info_additional">Freelance Software Engineer</div></div></div><div class="user_card"><div class="user_card-photo_container"><a target="_blank" href="http://www.toptal.com/resume/balint-erdi"><div class="user_card-photo" style="background-image: url(&#39;http://assets.toptal.io/uploads/user/photo/10313/small_avatar_cropped.jpeg&#39;);"></div></a></div><div class="user_card-info is-center_aligned"><div class="user_card-info_name"><a target="_blank" href="http://www.toptal.com/resume/balint-erdi">Balint Erdi</a></div><div class="user_card-info_additional">Freelance Software Engineer</div></div></div><div class="user_card"><div class="user_card-photo_container"><a target="_blank" href="http://www.toptal.com/resume/sripal-reddy-vindyala"><div class="user_card-photo" style="background-image: url(&#39;http://assets.toptal.io/uploads/user/photo/3788/small_977d60d67049b222a199dbb4cd35b8b6.jpg&#39;);"></div></a></div><div class="user_card-info is-center_aligned"><div class="user_card-info_name"><a target="_blank" href="http://www.toptal.com/resume/sripal-reddy-vindyala">Sripal Reddy Vindyala</a></div><div class="user_card-info_additional">Freelance Software Engineer</div></div></div><div class="user_card"><div class="user_card-photo_container"><div class="user_card-photo" style="background-image: url(&#39;http://assets.toptal.io/uploads/avatar/external_author_photo/87/alvaro.JPG&#39;);"></div></div><div class="user_card-info is-center_aligned"><div class="user_card-info_name">Alvaro Oliveira</div><div class="user_card-info_additional">Director of Engineering @ Toptal</div></div></div><div class="user_card"><div class="user_card-photo_container"><a target="_blank" href="http://www.toptal.com/resume/alexandre-mondaini-calvao"><div class="user_card-photo" style="background-image: url(&#39;http://assets.toptal.io/uploads/user/photo/1685/small_572869_1272383966_1624117477_n.jpeg&#39;);"></div></a></div><div class="user_card-info is-center_aligned"><div class="user_card-info_name"><a target="_blank" href="http://www.toptal.com/resume/alexandre-mondaini-calvao">Alexandre Mondaini Calvão</a></div><div class="user_card-info_additional">Ruby on Rails Engineer</div></div></div><div class="user_card"><div class="user_card-photo_container"><a target="_blank" href="http://www.toptal.com/resume/bojan-janjanin"><div class="user_card-photo" style="background-image: url(&#39;http://assets.toptal.io/uploads/user/photo/1545/small_47a94252-41de-468e-82c7-9b69158bbf2f.png&#39;);"></div></a></div><div class="user_card-info is-center_aligned"><div class="user_card-info_name"><a target="_blank" href="http://www.toptal.com/resume/bojan-janjanin">Bojan Janjanin</a></div><div class="user_card-info_additional">Freelance Designer</div></div></div></div></div><div class="blog-block-view-wrapper"><a class="blog-block-view" href="http://www.toptal.com/blog/authors">View all authors</a></div><div class="blog-block has-no_background blog_banner for-author blog_author_banner is-active" data-ga-action="ClickedOnHireTheAuthor_lateral" data-ga-label="simplifying-restful-api-use-and-data-persistence-on-ios-with-mantle-and-realm" data-role="session_based" data-view="content#sidebar_banner" data-visible-when="sessionless"><div class="blog-block-header">About the author</div><div class="blog_author_banner-photo_wrapper"><img class="blog_author_banner-photo" src="./Simple Guide to Using Realm and Mantle on iOS _ Toptal_files/large_daed9e5bac827d646035b42211ae66b9.jpg"></div><div class="blog_author_banner-content" data-role="author_content" style="height: 189px;"><div class="blog_author_banner-name"><a href="http://www.toptal.com/resume/marcin-kmiec">Marcin Kmiec</a></div><div class="blog_author_banner-role">C Developer</div><div class="blog_author_banner-about" data-role="author_about">Marcin is a developer with over six years of professional C/C++ and Objective-C programming experience. He has completed numerous successful projects working for a big multinational as well as for small and medium businesses. He holds a PhD in computer vision and has published several important research papers in the field. </div><div class="blog_author_banner-content_footer"></div></div><div class="blog_author_banner-cta" data-role="session_based" data-visible-when="sessionless"><a class="button is-green_candy is-default is-full_width" data-role="banner_link" href="https://www.toptal.com/companies/apply">Hire the Author</a></div></div></div></div></div></section></main><footer><section class="grid-row page_footer_map-wrapper"><div class="grid-row-inner has-huge_padding page_footer_map">Toptal connects the <a href="http://www.toptal.com/top-3-percent">top 3%</a> of freelance developers all over the world.</div></section><section class="grid-row has-top_border page_footer_join-wrapper"><div class="grid-row-inner has-padding page_footer_join"><h2 class="page_footer_join-header">Join the Toptal community.</h2><div class="page_footer_join-spacer"></div><nav class="page_footer_join-actions"><div class="page_footer_join-item"><a class="button is-green_candy is-big is-fixed page_footer_join-button" href="https://www.toptal.com/companies/apply">Hire a Developer</a></div><div class="page_footer_join-item is-or">or</div><div class="page_footer_join-item"><a class="button is-green_candy is-big is-fixed page_footer_join-button" href="http://www.toptal.com/developers">Apply as a Developer</a></div></nav></div></section><section class="grid-row page_footer_links-wrapper"><div class="grid-row-inner is-wide has-big_padding"><nav class="page_footer_links"><section class="page_footer_links-column is-1"><h3 class="page_footer_links-column-header">Trending on blog</h3><ul class="page_footer_links-list is-trending"><li class="page_footer_links-item"><a class="page_footer_links-link" href="http://www.toptal.com/microsoft/eight-reasons-why-microsoft-stack-is-still-a-viable-choice">Eight Reasons Why Microsoft Stack Is Still a Viable Choice</a></li><li class="page_footer_links-item"><a class="page_footer_links-link" href="http://www.toptal.com/voip/choosing-the-best-headphones-for-developers">Choosing The Best Headphones For Developers</a></li><li class="page_footer_links-item"><a class="page_footer_links-link" href="http://www.toptal.com/c/after-all-these-years-the-world-is-still-powered-by-c-programming">After All These Years, the World is Still Powered by C Programming</a></li><li class="page_footer_links-item"><a class="page_footer_links-link" href="http://www.toptal.com/react/navigating-the-react-ecosystem">Navigating the React Ecosystem</a></li><li class="page_footer_links-item"><a class="page_footer_links-link" href="http://www.toptal.com/ios/simplifying-restful-api-use-and-data-persistence-on-ios-with-mantle-and-realm">Simplifying RESTful API Use and Data Persistence on iOS with Mantle and Realm</a></li><li class="page_footer_links-item"><a class="page_footer_links-link" href="http://www.toptal.com/git/google-cloud-source-repositories-vs-github-a-worthy-alternative">Google Cloud Source Repositories vs. GitHub: A Worthy Alternative?</a></li><li class="page_footer_links-item"><a class="page_footer_links-link" href="http://www.toptal.com/opengl/opengl-tutorial-for-android-building-a-mandelbrot-set-generator">OpenGL Tutorial for Android: Building A Mandelbrot Set Generator</a></li><li class="page_footer_links-item"><a class="page_footer_links-link" href="http://www.toptal.com/css/css-layout-primer-from-classic-approaches-to-the-latest-techniques">CSS Layout Primer: From Classic Approaches to the Latest Techniques</a></li></ul></section><section class="page_footer_links-column is-2"><h3 class="page_footer_links-column-header">Navigation</h3><ul class="page_footer_links-list is-main"><li class="page_footer_links-item"><a class="page_footer_links-link" href="http://www.toptal.com/top-3-percent">Top 3%</a></li><li class="page_footer_links-item"><a class="page_footer_links-link" href="http://www.toptal.com/why">Why</a></li><li class="page_footer_links-item"><a class="page_footer_links-link" href="http://www.toptal.com/how">How</a></li><li class="page_footer_links-item"><a class="page_footer_links-link" href="http://www.toptal.com/what">What</a></li><li class="page_footer_links-item"><a class="page_footer_links-link" href="http://www.toptal.com/clients">Clients</a></li><li class="page_footer_links-item"><a class="page_footer_links-link" href="http://www.toptal.com/about">About Us</a></li><li class="page_footer_links-item"><a class="page_footer_links-link" href="http://www.toptal.com/community">Community</a></li><li class="page_footer_links-item"><a class="page_footer_links-link" href="http://www.toptal.com/blog">Blog</a></li><li class="page_footer_links-item"><a class="page_footer_links-link" href="http://www.toptal.com/resources">Resources</a></li><li class="page_footer_links-item"><a class="page_footer_links-link" href="http://www.toptal.com/videos">Videos</a></li><li class="page_footer_links-item"><a class="page_footer_links-link" href="http://www.toptal.com/technology-battles">Technology battles</a></li><li class="page_footer_links-item"><a class="page_footer_links-link" href="http://www.toptal.com/client-reviews">Client reviews</a></li><li class="page_footer_links-item"><a class="page_footer_links-link" href="http://www.toptal.com/developer-reviews">Developer reviews</a></li><li class="page_footer_links-item"><a class="page_footer_links-link" href="http://www.toptal.com/branding">Branding</a></li><li class="page_footer_links-item"><a class="page_footer_links-link" href="http://www.toptal.com/press-center">Press center</a></li><li class="page_footer_links-item"><a class="page_footer_links-link" href="http://www.toptal.com/faq">FAQ</a></li></ul></section><section class="page_footer_links-column is-3"><h3 class="page_footer_links-column-header">Contact</h3><ul class="page_footer_links-list"><li class="page_footer_links-item"><a class="page_footer_links-link" href="http://www.toptal.com/careers">Work at Toptal</a></li><li class="page_footer_links-item"><a class="page_footer_links-link" href="http://www.toptal.com/developers">Apply as a developer</a></li><li class="page_footer_links-item"><a class="page_footer_links-link" href="http://www.toptal.com/talent_partners">Become a partner</a></li><li class="page_footer_links-item"><a class="page_footer_links-link" href="http://www.toptal.com/contact">Send us an email</a></li><li class="page_footer_links-item"><a class="page_footer_links-link" href="tel:+18886043188">Call +1.888.604.3188</a></li></ul></section><section class="page_footer_links-column is-4"><h3 class="page_footer_links-column-header">Social</h3><ul class="page_footer_links-list"><li class="page_footer_links-item"><a class="page_footer_links-link" href="https://www.facebook.com/pages/toptal/141928212544793" target="_blank">Facebook</a></li><li class="page_footer_links-item"><a class="page_footer_links-link" href="https://twitter.com/toptalllc" target="_blank">Twitter</a></li><li class="page_footer_links-item"><a class="page_footer_links-link" href="https://plus.google.com/+Toptalllc/" target="_blank">Google+</a></li><li class="page_footer_links-item"><a class="page_footer_links-link" href="https://github.com/toptal" target="_blank">GitHub</a></li><li class="page_footer_links-item"><a class="page_footer_links-link" href="http://dribbble.com/toptal" target="_blank">Dribbble</a></li></ul></section></nav></div></section><section class="grid-row page_footer_legal-wrapper"><div class="grid-row-inner is-wide has-medium_padding page_footer_legal"><div class="logo-wrapper page_footer_legal-logotype"><a class="logo is-mini is-link" href="http://www.toptal.com/">Toptal</a><p class="logo-motto is-mini">Exclusive access to top developers</p></div><ul class="page_footer_legal-links"><li class="page_footer_legal-links_item is-copyright"><p class="page_footer_legal-copyright">© Copyright 2010 - 2015 Toptal, LLC</p></li><li class="page_footer_legal-links_item"><a class="page_footer_legal-link" href="http://www.toptal.com/privacy">Privacy Policy</a>,</li><li class="page_footer_legal-links_item"><a class="page_footer_legal-link" href="http://www.toptal.com/developers/tos">Terms of Service</a></li></ul></div></section></footer></div><div class="layout_layer-hover_cover" style="display: none;"></div><div class="layout-overlay" data-view="layout#overlay"></div><div class="notification-container" data-view="notifications#service"></div><script type="text/javascript">setTimeout(function () {
  classNameWithFont = document.documentElement.className + ' wf-active'
  document.documentElement.className = classNameWithFont
}, 0);</script><script src="./Simple Guide to Using Realm and Mantle on iOS _ Toptal_files/public-3061e84d04d38b7e159e9b9352a97ec0.js" debug="false"></script><script src="./Simple Guide to Using Realm and Mantle on iOS _ Toptal_files/blog-722df17f39e24bb5df6907aa1ab13652.js" debug="false"></script><script type="text/javascript">if (window.bounceModalSettings.show) {
  window.bounceModals.init(function(settings) {
    if (!settings.country.white_listed) {
      settings.type = 'tshirt';
    }
  });
}</script><div class="layout-counters"><script type="text/javascript">if (typeof(Widgets) !== 'undefined') {
  window.googleAnalytics = new Widgets.GoogleAnalytics('UA-21104039-1', 'auto');
  window.googleAnalytics.bucketRole('', '');
  if (gon['ga_settings']){
    window.googleAnalytics.grouping(gon['ga_settings']['group']);
  }
  window.googleAnalytics.trackPageview();
  window.googleAnalytics.track15secondsRead();

  if (window.optimizely && window.optimizely.data) {
    window.googleAnalytics.trackOptimizelyExperiment(window.optimizely.data.state.variationMap)
  }
}</script><script type="text/javascript">!function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","group","track","ready","alias","page","once","off","on"];analytics.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);analytics.push(e);return analytics}};for(var t=0;t<analytics.methods.length;t++){var e=analytics.methods[t];analytics[e]=analytics.factory(e)}analytics.load=function(t){var e=document.createElement("script");e.type="text/javascript";e.async=!0;e.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)};analytics.SNIPPET_VERSION="3.0.1";
analytics.load('jnS4QsHOCAOeG6XvMDCjD9n9bAcQ53Mb');

analytics.page('posts#show');
}}();</script><script type="text/javascript">
adroll_adv_id = "6ZOMR2QLHZBEFEIMAJHJ4K";
adroll_pix_id = "FBQUGOS3RRAI3PZP2HVOYG";
(function () {
var oldonload = window.onload;
window.onload = function(){
   __adroll_loaded=true;
   var scr = document.createElement("script");
   var host = (("https:" == document.location.protocol) ? "https://s.adroll.com" : "http://a.adroll.com");
   scr.setAttribute('async', 'true');
   scr.type = "text/javascript";
   scr.src = host + "/j/roundtrip.js";
   ((document.getElementsByTagName('head') || [null])[0] ||
    document.getElementsByTagName('script')[0].parentNode).appendChild(scr);
   if(oldonload){oldonload()}};
}());
</script><img src="http://ib.adnxs.com/seg?add=308219&t=2" width="0" height="0" style="display: none !important; visibility: hidden !important; opacity: 0 !important; background-position: 1px 1px;"><script type="text/javascript">setTimeout(function(){var a=document.createElement("script");
var b=document.getElementsByTagName("script")[0];
a.src=document.location.protocol+"//dnn506yrbagrg.cloudfront.net/pages/scripts/0012/5977.js?"+Math.floor(new Date().getTime()/3600000);
a.async=true;a.type="text/javascript";b.parentNode.insertBefore(a,b)}, 1);</script></div><div id="breadcrumbs" class="breadcrumbs"><span itemscope="itemscope" itemtype="http://data-vocabulary.org/Breadcrumb"><a itemprop="url" href="http://www.toptal.com/"><span itemprop="title">Home</span></a></span> › <span itemscope="itemscope" itemtype="http://data-vocabulary.org/Breadcrumb"><a itemprop="url" href="http://www.toptal.com/blog"><span itemprop="title">Blog</span></a></span> › <span itemscope="itemscope" itemtype="http://data-vocabulary.org/Breadcrumb"><a class="current" itemprop="url" href="http://www.toptal.com/ios/simplifying-restful-api-use-and-data-persistence-on-ios-with-mantle-and-realm"><span itemprop="title">Simplifying RESTful API Use and Data Persistence on iOS with Mantle and Realm</span></a></span></div><nav class="grid-row has-top_border is-light_gray page_header_menu-wrapper is-fixed is-visible" data-role="menu_wrapper" style=""><div class="grid-row-inner is-wide has-small_padding page_header_menu"><div class="page_header_menu-items-wrapper"><ul class="page_header_menu-items" data-role="menu"><li class="page_header_menu-item is-home"><a class="page_header_menu-link" href="http://www.toptal.com/"></a></li><li class="page_header_menu-item is-top-3-percent"><a class="page_header_menu-link" href="http://www.toptal.com/top-3-percent">Top 3%</a></li><li class="page_header_menu-item is-why"><a class="page_header_menu-link" href="http://www.toptal.com/why">Why</a></li><li class="page_header_menu-item is-how"><a class="page_header_menu-link" href="http://www.toptal.com/how">How</a></li><li class="page_header_menu-item is-what"><a class="page_header_menu-link" href="http://www.toptal.com/what">What</a></li><li class="page_header_menu-item is-clients"><a class="page_header_menu-link" href="http://www.toptal.com/clients">Clients</a></li><li class="page_header_menu-item is-about"><a class="page_header_menu-link" href="http://www.toptal.com/about">About Us</a></li><li class="page_header_menu-item is-community"><a class="page_header_menu-link" href="http://www.toptal.com/community">Community</a></li><li class="page_header_menu-item is-blog"><a class="page_header_menu-link" href="http://www.toptal.com/blog">Blog</a></li><li class="page_header_menu-item is-contact"><a class="page_header_menu-link" href="http://www.toptal.com/contact">Contact</a></li><li class="page_header_menu-item is-faq"><a class="page_header_menu-link" href="http://www.toptal.com/faq">FAQ</a></li><li class="page_header_menu-item is-login" data="session_based" data-leave-it-invisible="" data-visible-when="signedin"><a class="button is-light is-small page_hader_menu-button is-login" href="https://www.toptal.com/secure_redirect/default">Go to your Profile</a></li><li class="page_header_menu-item is-join" data-leave-it-invisible="" data-role="session_based" data-visible-when="sessionless"><a class="button is-green_candy is-small page_hader_menu-button" href="https://www.toptal.com/companies/apply">Hire a developer</a></li><li class="page_header_menu-item is-join" data-leave-it-invisible="" data-role="session_based" data-visible-when="sessionless"><a class="button is-green_candy is-small page_hader_menu-button" href="http://www.toptal.com/developers">Apply as a developer</a></li><li class="page_header_menu-item is-login" data-leave-it-invisible="" data-role="session_based" data-visible-when="sessionless"><a class="button is-light is-small page_hader_menu-button is-login" href="https://www.toptal.com/users/login">Login</a></li><li class="page_header_menu-item is-contacts"><ul class="page_header_menu-contact-items is-replaceable"><li class="page_header_menu-contact-item">Call us:</li><li class="page_header_menu-contact-item"><a class="link is-dark page_header_menu-contact-link" href="tel:+18886043188">+1.888.604.3188</a></li><li class="page_header_menu-contact-item"><a class="page_header_menu-contact-link is-social is-facebook" href="https://www.facebook.com/pages/toptal/141928212544793" target="_blank"><span class="page_header_menu-contact-link-icon"></span></a></li><li class="page_header_menu-contact-item"><a class="page_header_menu-contact-link is-social is-twitter" href="https://twitter.com/toptalllc" target="_blank"><span class="page_header_menu-contact-link-icon"></span></a></li><li class="page_header_menu-contact-item"><a class="page_header_menu-contact-link is-social is-google_plus" href="https://plus.google.com/+Toptalllc/" target="_blank"><span class="page_header_menu-contact-link-icon"></span></a></li></ul></li></ul></div><a class="button is-green_candy is-tiny page_header_menu-hire" href="https://www.toptal.com/companies/apply" id="ab-header_hire_button" style="display: block;">Hire a developer</a><ul class="page_header_menu-contact-items is-replaceable"><li class="page_header_menu-contact-item">Call us:</li><li class="page_header_menu-contact-item"><a class="link is-dark page_header_menu-contact-link" href="tel:+18886043188">+1.888.604.3188</a></li><li class="page_header_menu-contact-item"><a class="page_header_menu-contact-link is-social is-facebook" href="https://www.facebook.com/pages/toptal/141928212544793" target="_blank"><span class="page_header_menu-contact-link-icon"></span></a></li><li class="page_header_menu-contact-item"><a class="page_header_menu-contact-link is-social is-twitter" href="https://twitter.com/toptalllc" target="_blank"><span class="page_header_menu-contact-link-icon"></span></a></li><li class="page_header_menu-contact-item"><a class="page_header_menu-contact-link is-social is-google_plus" href="https://plus.google.com/+Toptalllc/" target="_blank"><span class="page_header_menu-contact-link-icon"></span></a></li></ul></div></nav><div id="global-zeroclipboard-html-bridge" class="global-zeroclipboard-container" style="position: absolute; left: 0px; top: -9999px; width: 1px; height: 1px; z-index: 999999999;"><object id="global-zeroclipboard-flash-bridge" name="global-zeroclipboard-flash-bridge" width="100%" height="100%" type="application/x-shockwave-flash" data="http://assets.toptal.io/assets/zeroclipboard/dist/ZeroClipboard-b563df7d53989b6958294fe5a78871c2.swf?noCache=1437777472865"><param name="allowScriptAccess" value="always"><param name="allowNetworking" value="all"><param name="menu" value="false"><param name="wmode" value="transparent"><param name="flashvars" value="trustedOrigins=www.toptal.com%2C%2F%2Fwww.toptal.com%2Chttp%3A%2F%2Fwww.toptal.com&amp;forceEnhancedClipboard=true&amp;swfObjectId=global-zeroclipboard-flash-bridge&amp;jsVersion=2.2.0"><div id="global-zeroclipboard-flash-bridge_fallbackContent">&nbsp;</div></object></div><div class="bounce_modal_form"><div class="bounce_modal-overlay" style="display: none;"></div><div class="bounce_modal-wrap" style="display: none;"><div class="bounce_modal-container" style="margin-top: 0px;"><div class="bounce_modal js-bounce_modal"><div class="bounce_modal-content js-bounce_modal-simple_form_content" style="display: none;"><div class="bounce_modal-close_icon js-close_modal"></div><div class="bounce_modal-header"><div class="bounce_modal-header_title js-bounce_modal_header_title">Meet and Hire Top Developers</div></div><div class="bounce_modal-body"><div class="bounce_find_form"><div class="bounce_find_form-title">Sign up, and we'll help you choose from hundreds of rigorously prescreened <span class="js-bounce_modal_skill_title">iOS developers.</span><i> Pay only if satisfied.</i></div><form action="http://www.toptal.com/ios/simplifying-restful-api-use-and-data-persistence-on-ios-with-mantle-and-realm?utm_source=Engineering+Blog+Subscribers&utm_campaign=f7d88d76ad-blog_post_realm_mantle_ios&utm_medium=email&utm_term=0_af8c2cde60-f7d88d76ad-111539357#" class="js-bounce_modal_form"><div class="bounce_find_form-field_wrap"><div class="bounce_find_form-field for-simple_form required"><input class="bounce_find_form-input js-bounce_modal-company_email required" name="email" placeholder="Email" type="text"><input name="modal_type" type="hidden" value="simple_bounce_modal"><span class="bounce_find_form-field_error">Must be a valid email</span><span class="bounce_find_form-field_notice js-bounce_modal-company_email_notice"></span></div><button class="button bounce_find_form-button for-simple_form js-bounce_submit_button" data-button-id="submit_bounce_short_button" type="submit">Learn More </button></div></form><div class="bounce_find_form-phone">Ready to hire today? <b>Call us at <a class="bounce_find_form-phone_number" href="tel:8886043188">888.604.3188</a></b></div><div class="bounce_find_form-companies_wrap"><div class="bounce_find_form-companies_title">Trusted By Top Tech Companies</div><div class="bounce_find_form-companies_logotypes"></div></div></div></div></div><div class="bounce_modal-content is-narrowed js-bounce_modal-rich_form_content" style="display: none;"><div class="bounce_modal-close_icon is-light js-close_modal"></div><div class="bounce_modals_rich js-bounce_modal_modifier"><div class="bounce_modals_rich-title">Let us know how we can get in touch.</div><div class="bounce_modals_rich-subtitle">Sign up, and we'll help you choose from hundreds of rigorously prescreened. <em>Pay only if satisfied.</em></div><div class="bounce_modal-body clearfix" id="bounce_modal-rich_form"><form action="http://www.toptal.com/ios/simplifying-restful-api-use-and-data-persistence-on-ios-with-mantle-and-realm?utm_source=Engineering+Blog+Subscribers&utm_campaign=f7d88d76ad-blog_post_realm_mantle_ios&utm_medium=email&utm_term=0_af8c2cde60-f7d88d76ad-111539357#" class="bounce_find_form js-bounce_modal_form"><div class="bounce_find_form-fields_row"><div class="bounce_find_form-field required has-no_right_padding"><input class="bounce_find_form-input js-bounce_modal-company_email required" name="email" placeholder="Email" type="text"><span class="bounce_find_form-private_label">private</span><span class="bounce_find_form-field_error">Must be a valid email</span><span class="bounce_find_form-field_notice js-bounce_modal-company_email_notice"></span></div></div><div class="bounce_find_form-fields_row"><div class="bounce_find_form-field required has-no_right_padding"><input class="bounce_find_form-input required" name="full_name" placeholder="Company name" type="text"><span class="bounce_find_form-field_error">You can't leave this empty</span></div></div><div class="bounce_find_form-fields_row"><div class="bounce_find_form-field required has-no_right_padding"><input class="bounce_find_form-input required" name="contact_name" placeholder="Your name" type="text"><span class="bounce_find_form-field_error">You can't leave this empty</span></div></div><div class="bounce_find_form-fields_row"><div class="bounce_find_form-field has-no_right_padding"><input class="bounce_find_form-input" name="skype" placeholder="Skype username" type="text"><span class="bounce_find_form-private_label">private</span></div></div><input name="modal_type" type="hidden" value="rich_bounce_modal"><div class="bounce_find_form-skype_required_hint is-white">* required fields</div><button class="button bounce_find_form-button for-skype_form js-bounce_submit_button" data-button-id="submit_bounce_rich_button" type="submit">Join Toptal</button></form></div></div></div><div class="bounce_modal-content js-bounce_modal-skype_form_content"><div class="bounce_modal-close_icon js-close_modal"></div><div class="bounce_modal-header has-paddings"><div class="bounce_modal-header_title has-default_line_height js-bounce_modal_header_title">Meet and Hire Top Developers</div><div class="bounce_modal-header_text">Toptal finds, screens, and deploys the best developers in the world. Less than 3% of the developers that apply to Toptal are accepted. Our screening process evaluates communication, problem solving, and technical skills through interviews, timed algorithm tests, code reviews, and more. Our clients know they can rely on Toptal for their most important projects.</div></div><div class="bounce_modal-body clearfix has-paddings"><form action="http://www.toptal.com/ios/simplifying-restful-api-use-and-data-persistence-on-ios-with-mantle-and-realm?utm_source=Engineering+Blog+Subscribers&utm_campaign=f7d88d76ad-blog_post_realm_mantle_ios&utm_medium=email&utm_term=0_af8c2cde60-f7d88d76ad-111539357#" class="bounce_find_form has-sidebar js-bounce_modal_form"><div class="bounce_find_form-fields_row"><div class="bounce_find_form-field required has-no_right_padding"><input class="bounce_find_form-input js-bounce_modal-company_email required" name="email" placeholder="Email" type="text"><span class="bounce_find_form-private_label">private</span><span class="bounce_find_form-field_error">Must be a valid email</span><span class="bounce_find_form-field_notice js-bounce_modal-company_email_notice"></span></div></div><div class="bounce_find_form-fields_row"><div class="bounce_find_form-field required has-no_right_padding"><input class="bounce_find_form-input required" name="full_name" placeholder="Company name" type="text"><span class="bounce_find_form-field_error">You can't leave this empty</span></div></div><div class="bounce_find_form-fields_row"><div class="bounce_find_form-field required has-no_right_padding"><input class="bounce_find_form-input required" name="contact_name" placeholder="Your name" type="text"><span class="bounce_find_form-field_error">You can't leave this empty</span></div></div><div class="bounce_find_form-fields_row"><div class="bounce_find_form-field has-no_right_padding"><input class="bounce_find_form-input" name="skype" placeholder="Skype username" type="text"><span class="bounce_find_form-private_label">private</span></div></div><input name="modal_type" type="hidden" value="skype_bounce_modal"><div class="bounce_find_form-skype_required_hint">* required fields</div><button class="button bounce_find_form-button for-skype_form js-bounce_submit_button" data-button-id="submit_bounce_skype_button" type="submit">Join Toptal</button></form><div class="bounce_modal-sidebar"><div class="bounce_modal-sidebar_title">Hire like the best</div><div class="bounce_modal-sidebar_clients"></div></div></div></div><div class="bounce_modal-content js-bounce_modal-tshirt_form_content" style="display: none;"><div class="bounce_modal-close_icon js-close_modal"></div><div class="bounce_modal-body"><div class="bounce_find_form"><form action="http://www.toptal.com/ios/simplifying-restful-api-use-and-data-persistence-on-ios-with-mantle-and-realm?utm_source=Engineering+Blog+Subscribers&utm_campaign=f7d88d76ad-blog_post_realm_mantle_ios&utm_medium=email&utm_term=0_af8c2cde60-f7d88d76ad-111539357#" class="js-bounce_modal_form"><div class="bounce_find_form-field_wrap"><div class="bounce_modal-tshirt_info"><div class="bounce_modal-tshirt"></div><div class="bounce_modal-tshirt_logo"></div><div class="bounce_modal-tshirt_text">Subscribe to the Toptal Engineering Blog and be entered to</div><div class="bounce_modal-tshirt_win_text"><b>Win a FREE</b> Toptal SHIRT</div></div><div class="bounce_modal-tshirt_form_fieldset"><div class="bounce_find_form-field for-tshirt_form required"><input class="bounce_find_form-input required" name="email" placeholder="Email" type="text"><input name="modal_type" type="hidden" value="tshirt_bounce_modal"><span class="bounce_find_form-field_error">Must be a valid email</span></div><button class="button bounce_find_form-button for-tshirt_form js-bounce_submit_button" data-button-id="submit_bounce_tshirt_button" type="submit">GET MY FREE T-SHIRT </button></div></div></form><div class="bounce_find_form-spam_notification">We will never spam you. Unsubscribe any time. </div></div></div></div><div class="bounce_modal-content js-bounce_modal-full_form_content" style="display: none;"><div class="bounce_modal-close_icon js-close_modal"></div><div class="bounce_modal-header"><div class="bounce_modal-header_title js-bounce_modal_header_title">Meet and Hire Top Developers</div></div><div class="bounce_modal-body has-paddings"><form action="http://www.toptal.com/ios/simplifying-restful-api-use-and-data-persistence-on-ios-with-mantle-and-realm?utm_source=Engineering+Blog+Subscribers&utm_campaign=f7d88d76ad-blog_post_realm_mantle_ios&utm_medium=email&utm_term=0_af8c2cde60-f7d88d76ad-111539357#" class="clearfix js-bounce_modal_form"><div class="bounce_find_form-fields_row"><div class="bounce_find_form-field_wrap has-no_padding"><div class="bounce_find_form-field is-50w required"><input class="bounce_find_form-input required" name="contact_name" placeholder="Your name" type="text"><span class="bounce_find_form-field_error">You can't leave this empty</span></div><div class="bounce_find_form-field is-50w required has-no_right_padding has-left_margin"><input class="bounce_find_form-input js-bounce_modal-company_email required" name="email" placeholder="Email" type="text"><span class="bounce_find_form-field_error">Must be a valid email</span><span class="bounce_find_form-field_notice js-bounce_modal-company_email_notice"></span></div></div></div><div class="bounce_find_form-fields_row"><div class="bounce_find_form-field required has-no_right_padding"><input class="bounce_find_form-input required" name="phone_number" placeholder="Phone" type="text"><span class="bounce_find_form-field_error">You can't leave this empty</span></div></div><div class="bounce_find_form-fields_row"><div class="bounce_find_form-field required has-no_right_padding"><textarea class="bounce_find_form-textarea required" name="message" placeholder="Your message"></textarea><span class="bounce_find_form-field_error">You can't leave this empty</span></div></div><input name="modal_type" type="hidden" value="full_bounce_modal"><button class="button bounce_find_form-button for-full_form js-bounce_submit_button" data-button-id="submit_bounce_full_button" type="submit">Talk to me today!</button></form></div></div><div class="bounce_modal-content is-hidden js-bounce_modal-thanks_message"><div class="bounce_modal-close_icon js-close_modal"></div><div class="bounce_modal-header"><div class="bounce_modal-header_title">Thank you!</div></div><div class="bounce_modal-body"><div class="bounce_modal-thanks_message"><div class="bounce_thanks_message-text">We are lining up developers for your project. A member of the team will be in touch shortly to answer any questions you may have.</div><div class="bounce_thanks_message-contacts"><div class="bounce_thanks_message-contacts_info"><div class="bounce_thanks_message-contacts_photo"></div><div class="bounce_thanks_message-contacts_text"><strong>Taso Du Val, CEO @ Toptal</strong><br>1.888.604.3188</div></div><div class="bounce_thanks_message-learn_more_button"><a class="bounce_find_form-button is-right_pulled" href="http://www.toptal.com/toptal-fact-sheet.pdf" target="_blank">Learn More about Toptal</a></div></div></div></div></div><div class="bounce_modal-content is-hidden js-bounce_modal-thanks_tshirt_message"><div class="bounce_modal-close_icon js-close_modal"></div><div class="bounce_modal-body has-paddings has-no_bottom_padding"><div class="bounce_modal-thanks_message"><div class="bounce_modal-tshirt_thanks_bubble">You've been entered to win.</div><div class="bounce_modal-tshirt_thanks_text">Want to Double Your Chances?</div><div class="bounce_modal-tshirt_thanks_info_text">Tweet us and automatically get a second entry.</div></div><div class="bounce_find_form"><div class="bounce_modal-tshirt_form_fieldset has-half_width"><a class="button bounce_find_form-button for-tshirt_thanks" data-button-id="submit_bounce_tshirt_tweet_button" href="http://ctt.ec/zEklf" onclick="javascript:window.open(this.href, &#39;&#39;, &#39;menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=300,width=600&#39;);return false;"><b>TWEET NOW<br></b>to Double My Chances to WIN </a></div></div><div class="bounce_find_form-spam_notification">We will never spam you. Unsubscribe any time. </div></div></div><div class="bounce_modal-content js-bounce_modal-minimal_form_content" style="display: none;"><div class="bounce_modal-close_icon js-close_modal"></div><div class="bounce_modal-header"><div class="bounce_modal-header_title js-bounce_modal_header_title">Meet and Hire Top Developers</div><div class="bounce_modal-header_subtitle">Pay only if satisfied.</div></div><div class="bounce_modal-body bounce_modal-steps"><div class="bounce_find_form"><form autocomplete="off" class="bounce_modal-steps_form js-bounce_modal_form" id="bounce_modal-steps_form"><div class="bounce_modal-steps_form_inner"><ol class="questions bounce_modal-steps_form_questions"><li><span><label for="full_name">What's your company name?</label></span><input data-error-empty="Please enter your company name before continuing" id="full_name" name="full_name" type="text"></li><li><span><label for="contact_name">What's your name?</label></span><input data-error-empty="Please enter your name before continuing" id="contact_name" name="contact_name" type="text"></li><li><span><label for="skype">What's your Skype username?</label></span><input data-error-empty="Please enter your skype username before continuing" id="skype" name="skype" type="text"></li><li><span><label for="email">What's your email?</label></span><input data-error-email="Please enter a valid email before continuing" data-error-empty="Please enter your email before continuing" id="email" name="email" type="text"></li></ol><input name="modal_type" type="hidden" value="minimal_bounce_modal"><button class="submit" type="submit">Send answers</button><div class="controls"><button class="next bounce_modal-steps_form_next"></button><div class="progress"></div><span class="number"><span class="number-current"></span><span class="number-total"></span></span><span class="error-message"></span></div><span class="bounce_modal-steps_form_info">Sign up, and we’ll help you choose from hundreds of rigorously prescreened developers.</span><span class="bounce_modal-steps_form_press_enter">Press ENTER to continue.</span></div><span class="final-message"></span></form></div></div></div></div></div></div></div><iframe frameborder="0" scrolling="no" style="border: 0px; display: none; background-color: transparent;"></iframe><div id="GOOGLE_INPUT_CHEXT_FLAG" style="display: none;" input="null" input_stat="{&quot;tlang&quot;:true,&quot;tsbc&quot;:true,&quot;pun&quot;:true,&quot;mk&quot;:false,&quot;ss&quot;:true}"></div><div id="fb-root" class=" fb_reset"><div style="position: absolute; top: -10000px; height: 0px; width: 0px;"><div><iframe name="fb_xdm_frame_http" frameborder="0" allowtransparency="true" allowfullscreen="true" scrolling="no" id="fb_xdm_frame_http" aria-hidden="true" title="Facebook Cross Domain Communication Frame" tabindex="-1" src="./Simple Guide to Using Realm and Mantle on iOS _ Toptal_files/X9pYjJn4xhW.html" style="border: none;"></iframe><iframe name="fb_xdm_frame_https" frameborder="0" allowtransparency="true" allowfullscreen="true" scrolling="no" id="fb_xdm_frame_https" aria-hidden="true" title="Facebook Cross Domain Communication Frame" tabindex="-1" src="./Simple Guide to Using Realm and Mantle on iOS _ Toptal_files/X9pYjJn4xhW(1).html" style="border: none;"></iframe></div></div><div style="position: absolute; top: -10000px; height: 0px; width: 0px;"><div></div></div></div><iframe name="oauth2relay793248691" id="oauth2relay793248691" src="./Simple Guide to Using Realm and Mantle on iOS _ Toptal_files/postmessageRelay.html" tabindex="-1" style="width: 1px; height: 1px; position: absolute; top: -100px;"></iframe><form id="gclp-frame-form" target="gclp-frame" method="post" style="display: none;"></form><div class="gclp-code-grabber" data-gclp-id="0" data-hasqtip="true" style="left: 941.5px; top: 1834.5px; display: none;"></div><div class="gclp-code-grabber" data-gclp-id="1" data-hasqtip="true" style="left: 941.5px; top: 2294.5px; display: none;"></div><div class="gclp-code-grabber" data-gclp-id="2" data-hasqtip="true" style="left: 941.5px; top: 2456.5px; display: none;"></div><div class="gclp-code-grabber" data-gclp-id="3" data-hasqtip="true" style="left: 941.5px; top: 3360px; display: none;"></div><div class="gclp-code-grabber" data-gclp-id="4" data-hasqtip="true" style="left: 941.5px; top: 3748px; display: none;"></div><div class="gclp-code-grabber" data-gclp-id="5" data-hasqtip="true" style="left: 941.5px; top: 4763.5px; display: none;"></div><div class="gclp-code-grabber" data-gclp-id="6" data-hasqtip="true" style="left: 941.5px; top: 5084.5px; display: none;"></div><div class="gclp-code-grabber" data-gclp-id="7" data-hasqtip="true" style="left: 941.5px; top: 5171.5px; display: none;"></div><div class="gclp-code-grabber" data-gclp-id="8" data-hasqtip="true" style="left: 941.5px; top: 5799.5px; display: none;"></div><div class="gclp-code-grabber" data-gclp-id="9" data-hasqtip="true" style="left: 941.5px; top: 6920.5px; display: none;"></div><div class="gclp-code-grabber" data-gclp-id="10" data-hasqtip="true" style="left: 941.5px; top: 7122.5px; display: none;"></div><div class="gclp-code-grabber" data-gclp-id="11" data-hasqtip="true" style="left: 941.5px; top: 7496.5px; display: none;"></div><div class="gclp-code-grabber" data-gclp-id="12" data-hasqtip="true" style="left: 941.5px; top: 7718.5px; display: none;"></div><div class="gclp-code-grabber" data-gclp-id="13" data-hasqtip="true" style="left: 941.5px; top: 9260px; display: none;"></div><div class="gclp-code-grabber" data-gclp-id="14" data-hasqtip="true" style="left: 941.5px; top: 9445px; display: none;"></div><div class="gclp-code-grabber" data-gclp-id="15" data-hasqtip="true" style="left: 941.5px; top: 9664px; display: none;"></div><div class="gclp-code-grabber" data-gclp-id="16" data-hasqtip="true" style="left: 941.5px; top: 10398px; display: none;"></div><div class="gclp-code-grabber" data-gclp-id="17" data-hasqtip="true" style="left: 941.5px; top: 10692px; display: none;"></div><div class="gclp-code-grabber" data-gclp-id="18" data-hasqtip="true" style="left: 941.5px; top: 11358.5px; display: none;"></div><div class="gclp-code-grabber" data-gclp-id="19" data-hasqtip="true" style="left: 941.5px; top: 11738.5px; display: none;"></div><div class="gclp-code-grabber" data-gclp-id="20" data-hasqtip="true" style="left: 941.5px; top: 11980.5px; display: none;"></div><div class="gclp-code-grabber" data-gclp-id="21" data-hasqtip="true" style="left: 941.5px; top: 12455.5px; display: none;"></div><div class="gclp-code-grabber" data-gclp-id="22" data-hasqtip="true" style="left: 941.5px; top: 13015px; display: none;"></div><div class="gclp-code-grabber" data-gclp-id="23" data-hasqtip="true" style="left: 941.5px; top: 13200px; display: none;"></div></body></html>